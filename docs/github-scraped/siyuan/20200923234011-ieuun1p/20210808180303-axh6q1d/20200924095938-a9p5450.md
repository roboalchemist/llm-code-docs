<!-- Source: https://github.com/siyuan-note/user-guide-en_US/blob/master/20200923234011-ieuun1p/20210808180303-axh6q1d/20200924095938-a9p5450.sy -->

# Theme

## Installation

### Manual

1. Get the theme from somewhere and unzip it
2. <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd> - <kbd>Open the theme folder</kbd>
3. Copy the theme to this folder
4. Restart, select the desired theme in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd>

### Community Bazaar

- In <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd> - <kbd>Bazaar</kbd>, browse online themes contributed by community developers
- Choose the required theme to install or update online

## Development

### Step

1. Give your subject a nice name, such as `alice`
2. <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd> - <kbd>Open theme folder</kbd>
3. Create a new folder `alice` in the opened folder, and create new `theme.css` and `theme.json` files in `alice`The `theme.json` file is as follows:
  ```anNvbg==
{
  "name": "midnight",
  "author": "Vanessa",
  "version": "1.0.0",
  "modes": ["dark"]
}
```
  `modes` is the appearance mode, divided into `dark` and `light`. Please modify the other fields as needed.
4. Open the `theme.css` file to start your coding journey
5. Restart, select the installed theme in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd>

### Encoding

- Familiar with [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) basic knowledge
- Modify the color scheme in `:root{...}`. ⚠️ The variable items inherent in the official cannot be deleted
- Continue to modify according to steps 1-4 in the figure

- Copy and paste the modified content into `theme.css` and save
- Check the `Disable cache` in `Network` and run `window.location.reload()` to see the final result


In addition to modifying the style through theme.css, if theme.js exists in the theme folder, it will be automatically loaded when rendering the interface, so that some function-related customizations can be achieved through JavaScript code. Note: Do not modify the editor DOM, the blocks in the editor should pass the [Block API](https://github.com/siyuan-note/siyuan/blob/master/API.md#Blocks) to operate.

## Push to theme bazaar

Please make sure that the root path of your theme repository contains at least the following files before listing ([repo example](https://github.com/88250/Comfortably-Numb)):

- theme.css
- theme.json (please make sure the JSON format is correct)
- preview.png (please compress the image size within 512 KB)
- README.md (please note the case)

After confirmation, please [create a pull request](https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request) to the [Community Bazaar](https://github.com/siyuan-note/bazaar) repository and modify the themes.json file in it. This file is the index of all community theme repositories, the format is:

```anNvbg==
{
   "repos": [
     "username/reponame@commithash"
   ]
}
```

Among them, `commithash`, please fill in the Git commit hash of the latest released version on your theme repository, please use the full hash value instead of the 7-digit short value.

### Update

If the theme you developed has an updated version, please remember:

- Update the version field in your theme.json
- Create a Pull Request to the community bazaar
