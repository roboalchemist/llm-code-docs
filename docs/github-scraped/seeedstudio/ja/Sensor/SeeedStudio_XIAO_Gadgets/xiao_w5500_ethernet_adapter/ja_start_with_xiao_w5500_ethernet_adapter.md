---
description: XIAO W5500 Ethernet Adapter ã®ä½¿ç”¨é–‹å§‹
title: XIAO W5500 Ethernet Adapter ã®ä½¿ç”¨é–‹å§‹
keywords:
  - ethernet
  - w5500
image: https://files.seeedstudio.com/wiki/xiao_w5500_poe/0.webp
sidebar_position: 9
slug: /ja/xiao_w5500_ethernet_adapter
last_update:
  date: 06/04/2025
  author: Citric
---

## ã¯ã˜ã‚ã«

XIAO ESP32S3 Plus ã‚’æ­è¼‰ã—ãŸã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãª PoE é–‹ç™ºãƒœãƒ¼ãƒ‰ã§ã€çµ±åˆã•ã‚ŒãŸçµ¶ç¸å‹ PoE ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ TPS563201 ãƒ™ãƒ¼ã‚¹ã®é›»æºå¤‰æ›ã«ã‚ˆã‚Šã€ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«é›»åŠ›ã‚’ä¾›çµ¦ã™ã‚‹ã‚¯ãƒªãƒ¼ãƒ³ãª 5V é›»æºã‚’æä¾›ã—ã¾ã™ã€‚IoT ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ãƒ‡ãƒã‚¤ã‚¹ã€ç”£æ¥­ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«æœ€é©ã§ã€ä¿¡é ¼æ€§ã®é«˜ã„ Ethernet æ¥ç¶šã¨ä½æ¶ˆè²»é›»åŠ›ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹å‡¦ç†ã®å¤šç”¨é€”ãªçµ„ã¿åˆã‚ã›ã«ã‚ˆã‚Šã€è¨­ç½®ã‚’ç°¡ç´ åŒ–ã—ã€ã‚·ã‚¹ãƒ†ãƒ æ€§èƒ½ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_w5500_poe/0.jpg" style={{width:800, height:'auto'}}/></div>

<div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="https://www.seeedstudio.com/XIAO-W5500-Ethernet-Adapter-p-6472.html" target="_blank" rel="noopener noreferrer">
    <strong><span><font color={'FFFFFF'} size={"4"}> ä»Šã™ãå…¥æ‰‹ ğŸ–±ï¸</font></span></strong>
</a></div>

### ç‰¹å¾´

- **é«˜æ€§èƒ½ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼**: XIAO ESP32S3 Plus ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸Šã«æ§‹ç¯‰ã•ã‚ŒãŸãƒœãƒ¼ãƒ‰ã¯ã€å …ç‰¢ãªå‡¦ç†èƒ½åŠ›ã¨åŠ¹ç‡çš„ãªãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹æ¥ç¶šã‚’æä¾›ã—ã€è¤‡é›‘ãª IoT ãŠã‚ˆã³çµ„ã¿è¾¼ã¿ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«æœ€é©ã§ã™ã€‚

- **çµ¶ç¸ãƒ»é›»æºå¤‰æ›æ©Ÿèƒ½ä»˜ãçµ±åˆ PoE**: å†…è”µçµ¶ç¸æ©Ÿèƒ½ã‚’å‚™ãˆãŸå …ç‰¢ãª PoE ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ­è¼‰ã—ã€12V Ethernet é›»æºå…¥åŠ›ã‚’å®‰å…¨ã«å—ã‘å…¥ã‚Œã¾ã™ã€‚é«˜åŠ¹ç‡ TPS563201 é™åœ§ã‚³ãƒ³ãƒãƒ¼ã‚¿ãƒ¼ãŒ 12V ã‚’å®‰å®šã—ãŸ 5V ãƒ¬ãƒ¼ãƒ«ã«é™åœ§ã—ã€XIAO ESP32S3 Plus ã«æœ€é©ãªé›»åŠ›ã‚’æä¾›ã—ã¾ã™ã€‚

- **ä¿¡é ¼æ€§ã®é«˜ã„ Ethernet æ¥ç¶š**: ã‚ªãƒ³ãƒœãƒ¼ãƒ‰ W5500 Ethernet ãƒãƒƒãƒ—ã¨æ¨™æº– RJ45 ã‚¸ãƒ£ãƒƒã‚¯ã‚’æ­è¼‰ã—ã€ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªãƒ‡ãƒ¼ã‚¿ä¼é€ã¨ãƒªãƒ¢ãƒ¼ãƒˆç®¡ç†ã®ãŸã‚ã®å®‰å®šã—ãŸæœ‰ç·šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç¢ºä¿ã—ã¾ã™ã€‚

- **å¤šç”¨é€” I/O ã‚ªãƒ—ã‚·ãƒ§ãƒ³**: ä¸¡é¢ I/O å‡ºåŠ›ã«ã‚ˆã‚Šã€æ©Ÿèƒ½ã‚’ç°¡å˜ã«æ‹¡å¼µã—ã€ã•ã¾ã–ã¾ãªã‚»ãƒ³ã‚µãƒ¼ã‚„å‘¨è¾ºæ©Ÿå™¨ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ­£ç¢ºãªä»•æ§˜ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚

- **ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã§å³åº§ã«å±•é–‹å¯èƒ½ãªè¨­è¨ˆ**: çµ±åˆ PoEã€çµ¶ç¸å›è·¯ã€Ethernet æ¥ç¶šã‚’å°å‹ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ã«çµ„ã¿åˆã‚ã›ã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚’ç°¡ç´ åŒ–ã—ã€ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ã€ç”£æ¥­ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ©Ÿå™¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®åŠ¹ç‡çš„ãªå±•é–‹ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

### ä»•æ§˜

<div class="table-center">
 <table align="center">
  <tr>
   <th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th>
   <th>èª¬æ˜</th>
  </tr>
  <tr>
   <td>MCU</td>
   <td>XIAO ESP32-S3 Plus</td>
  </tr>
  <tr>
   <td>ã‚¢ãƒ³ãƒ†ãƒŠ</td>
   <td>2.4GHz ãƒ­ãƒƒãƒ‰ã‚¢ãƒ³ãƒ†ãƒŠ (2.81dBi)</td>
  </tr>
  <tr>
   <td>USB Type-C</td>
   <td>å…¥åŠ›é›»åœ§ (Type-C): 5V</td>
  </tr>
  <tr>
   <td>PoE ãƒãƒƒãƒ—</td>
   <td>MQ7813T120</td>
  </tr>
  <tr>
   <td>PoE é›»æº</td>
   <td>PoE IEEE802.3af<br />å‡ºåŠ›é›»æµ: 12V/1.1A<br />é«˜åŠ¹ç‡ 86% (å…¥åŠ› 48Vã€è² è· 12V@1.1A)</td>
  </tr>
  <tr>
   <td>Ethernet ãƒãƒƒãƒ—</td>
   <td>WIZnet W5500</td>
  </tr>
  <tr>
   <td>Ethernet ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</td>
   <td>RJ45<br />10 ã¾ãŸã¯ 100Mbps Ethernet</td>
  </tr>
  <tr>
   <td>TCP/IP ãƒ—ãƒ­ãƒˆã‚³ãƒ«</td>
   <td>TCP, UDP, ICMP, IPv4, ARP, IGMP, PPPoE</td>
  </tr>
  <tr>
   <td>LED ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼</td>
   <td>é›»æº x 1<br />ãƒ¦ãƒ¼ã‚¶ãƒ¼ x 1</td>
  </tr>
  <tr>
   <td>ãƒœã‚¿ãƒ³</td>
   <td>ãƒªã‚»ãƒƒãƒˆ</td>
  </tr>
  <tr>
   <td>I/O ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</td>
   <td></td>
  </tr>
  <tr>
   <td>è£½å“ã‚µã‚¤ã‚º</td>
   <td>83 x 118 x 26 mm</td>
  </tr>
  <tr>
   <td>è£½å“é‡é‡</td>
   <td>75g</td>
  </tr>
  <tr>
   <td>ç­ä½“</td>
   <td>ç™½è‰² 3D ãƒ—ãƒªãƒ³ãƒˆ</td>
  </tr>
 </table>
</div>

## ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢æ¦‚è¦

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="Product Appearance" label="è£½å“å¤–è¦³">

ä»¥ä¸‹ã®ç”»åƒã¯ã€XIAO W5500 Ethernet Adapter ã®å¤–éƒ¨è¨­è¨ˆã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ã€Ethernet ãƒãƒ¼ãƒˆã€XIAO ã‚·ãƒªãƒ¼ã‚ºãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¨ã®æ¥ç¶šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ç¢ºèªã§ãã¾ã™ã€‚ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€ã‚¹ãƒšãƒ¼ã‚¹ã¨ä¿¡é ¼æ€§ãŒé‡è¦ãªã•ã¾ã–ã¾ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ç°¡å˜ãªçµ±åˆãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_w5500_poe/2.jpg" style={{width:800, height:'auto'}}/></div>

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_w5500_poe/3.jpg" style={{width:800, height:'auto'}}/></div>

</TabItem>

<TabItem value="Inside the Product" label="è£½å“å†…éƒ¨">

ä»¥ä¸‹ã®ç”»åƒã¯ã€XIAO W5500 Ethernet Adapter ã®å†…éƒ¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã¯ã€å†…éƒ¨ PCB ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€W5500 Ethernet ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãƒãƒƒãƒ—ã€å®‰å®šã—ãŸ Ethernet é€šä¿¡ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã® Power over Ethernet (PoE) æ©Ÿèƒ½ã‚’å¯èƒ½ã«ã™ã‚‹æ”¯æ´å›è·¯ã‚’è¦³å¯Ÿã§ãã¾ã™ã€‚

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_w5500_poe/1.jpg" style={{width:800, height:'auto'}}/></div>

</TabItem>
</Tabs>

## ä½¿ç”¨é–‹å§‹

### é…ç·šæ‰‹é †

XIAO W5500 Ethernet Adapter ã‚’ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã™ã‚‹æ¨å¥¨æ–¹æ³•ã¯ 2 ã¤ã‚ã‚Šã¾ã™ï¼š

1. **PoE å¯¾å¿œã‚¹ã‚¤ãƒƒãƒã¾ãŸã¯ãƒ«ãƒ¼ã‚¿ãƒ¼ã®ä½¿ç”¨:**
   - æ¨™æº– RJ45 Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‡ãƒã‚¤ã‚¹ã‚’ PoE å¯¾å¿œã‚¹ã‚¤ãƒƒãƒã¾ãŸã¯ãƒ«ãƒ¼ã‚¿ãƒ¼ã«ç›´æ¥æ¥ç¶šã—ã¾ã™ã€‚ã“ã®è¨­å®šã§ã¯ã€ãƒ‡ãƒ¼ã‚¿ã¨é›»åŠ›ã®ä¸¡æ–¹ãŒåŒã˜ã‚±ãƒ¼ãƒ–ãƒ«ã§é…ä¿¡ã•ã‚Œã‚‹ãŸã‚ã€XIAO ãƒœãƒ¼ãƒ‰ã«åˆ¥é€”é›»åŠ›ã‚’ä¾›çµ¦ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚

  <div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_w5500_poe/4.jpg" style={{width:600, height:'auto'}}/></div>

2. **æ¨™æº– Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ã®ä½¿ç”¨:**
   - é€šå¸¸ã® Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ï¼ˆPoE ãªã—ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ä¸€ç«¯ã‚’ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã€ã‚‚ã†ä¸€ç«¯ã‚’ XIAO W5500 Ethernet Adapter ã«æ¥ç¶šã—ã¾ã™ã€‚ã“ã®å ´åˆã€Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ã¯ãƒ‡ãƒ¼ã‚¿æ¥ç¶šã®ã¿ã‚’æä¾›ã™ã‚‹ãŸã‚ã€XIAO ãƒœãƒ¼ãƒ‰ã‚’ USB-C ãƒãƒ¼ãƒˆçµŒç”±ã§å®‰å®šã—ãŸ 5V é›»æºã§åˆ¥é€”é›»åŠ›ä¾›çµ¦ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

   <div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_w5500_poe/6.jpg" style={{width:600, height:'auto'}}/></div>

> **ãƒ’ãƒ³ãƒˆ:** Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ãŒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«ååˆ†ãªé•·ã•ã§ã€è‰¯å¥½ãªçŠ¶æ…‹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã€ä¿¡é ¼æ€§ã®é«˜ã„é€šä¿¡ã‚’ä¿è¨¼ã—ã¦ãã ã•ã„ã€‚

### ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³

XIAO W5500 Ethernet Adapter ã«ã¯ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ãŒè£…å‚™ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ‡ãƒã‚¤ã‚¹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒæœŸå¾…é€šã‚Šã«å‹•ä½œã—ãªã„å ´åˆã‚„ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚’ä¸€åº¦æŠ¼ã™ã ã‘ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šãƒ‡ãƒã‚¤ã‚¹ãŒå†èµ·å‹•ã—ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒå†åˆæœŸåŒ–ã•ã‚Œã€äºˆæœŸã—ãªã„çŠ¶æ…‹ã‚„ã‚¨ãƒ©ãƒ¼ã‹ã‚‰ã®å›å¾©ã«å½¹ç«‹ã¡ã¾ã™ã€‚

## ESP32 Arduino Ethernet ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

XIAO W5500 Ethernet Adapter ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã« ESP32 Arduino Ethernet ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€Ethernet æ¥ç¶šã®ç®¡ç†ã€ã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†ã€ESP32 ãƒ™ãƒ¼ã‚¹ãƒœãƒ¼ãƒ‰ã§ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã®ãŸã‚ã® API ã¨ä¾‹ã‚’æä¾›ã—ã¾ã™ã€‚

è©³ç´°ã€é«˜åº¦ãªä½¿ç”¨æ³•ã€æœ€æ–°ã®æ›´æ–°ã«ã¤ã„ã¦ã¯ã€å…¬å¼ Espressif ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š[ESP32 Arduino Ethernet ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.espressif.com/projects/arduino-esp32/en/latest/api/ethernet.html)

## XIAO ä¾‹

å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€åŸºæœ¬æ©Ÿèƒ½ã‚’ç†è§£ã—ãŸã®ã§ã€XIAO W5500 Ethernet Adapter ã®å®Ÿç”¨çš„ãªä¾‹ã‚’æ¢ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã‚‰ã®ãƒ‡ãƒ¢ã¯ã€é–‹å§‹ã«å½¹ç«‹ã¡ã€ç‹¬è‡ªã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã«ã‚³ãƒ¼ãƒ‰ã‚’é©å¿œã•ã›ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

**ã‚¹ãƒ†ãƒƒãƒ— 1.** Arduino ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã—ã¾ã™ã€‚

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/seeed_logo/arduino.jpg" style={{width:800, height:'auto'}}/></div>

<div class="download_arduino_container" style={{textAlign: 'center'}}>
    <a class="download_arduino_item" href="https://www.arduino.cc/en/software"><strong><span><font color={'FFFFFF'} size={"4"}>Arduino IDE ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</font></span></strong></a>
</div><br />

**ã‚¹ãƒ†ãƒƒãƒ— 2.** é–‹ç™ºãƒœãƒ¼ãƒ‰ãƒ¢ãƒ‡ãƒ«ã‚’é¸æŠã—ã€Arduino IDE ã«è¿½åŠ ã—ã¾ã™ã€‚

- å¾Œã®ãƒ«ãƒ¼ãƒãƒ³ã§ **Seeed Studio XIAO ESP32-S3 Plus** ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€**[ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://wiki.seeedstudio.com/ja/xiao_esp32s3_getting_started#software-preparation)** ã‚’å‚ç…§ã—ã¦è¿½åŠ ã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚

**ã‚¹ãƒ†ãƒƒãƒ— 3.** å¿…è¦ãªææ–™

ä»¥ä¸‹ã®ä¾‹ã‚’å®Œäº†ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãŒå¿…è¦ã§ã™ã€‚XIAO W5500 Ethernet Adapter ã«åŠ ãˆã¦ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«ååˆ†ãªé•·ã•ã® Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚Power over Ethernet (PoE) æ©Ÿèƒ½ä»˜ãã‚±ãƒ¼ãƒ–ãƒ«ã€ã¾ãŸã¯æ¨™æº– Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚æ¨™æº– Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ï¼ˆPoE ãªã—ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€XIAO ãƒœãƒ¼ãƒ‰ãŒå®‰å®šã—ãŸ 5V é›»æºã§åˆ¥é€”é›»åŠ›ä¾›çµ¦ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

<div class="table-center">
 <table align="center">
  <tr>
   <th>XIAO W5500 Ethernet Adapter</th>
  </tr>
  <tr>
   <td><div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_w5500_poe/5.jpg" style={{width:250, height:'auto'}}/></div></td>
  </tr>
  <tr>
   <td><div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="/ja/xiao_w5500_ethernet_adapter" target="_blank" rel="noopener noreferrer">
    <strong><span><font color={'FFFFFF'} size={"4"}> ä»Šã™ãå…¥æ‰‹ ğŸ–±ï¸</font></span></strong>
    </a>
   </div></td>
  </tr>
 </table>
</div>

### ãƒ‡ãƒ¢ 1: Ethernet ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚¬ãƒ¼

**ç›®çš„:**
ã“ã®ãƒ‡ãƒ¢ã¯ã€MAC ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ç¾åœ¨ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆDHCP ã«ã‚ˆã£ã¦å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸï¼‰ã‚’å«ã‚€ Ethernet ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚·ãƒªã‚¢ãƒ«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°å‡ºåŠ›ã—ã¾ã™ã€‚W5500 Ethernet ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦–ã®æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

**å…¸å‹çš„ãªä½¿ç”¨ä¾‹:**
ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®å‡ºç™ºç‚¹ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ‡ãƒãƒƒã‚°ã‚„ã€Ethernet ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç›£è¦–ã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ­ã‚°å‡ºåŠ›ãŒå¿…è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ‰ç”¨ã§ã™ã€‚

```cpp
#include <SPI.h>
#include <ETH.h>
#include <WiFi.h>

static bool eth_connected = false;

#ifndef ETH_PHY_CS
#define ETH_PHY_TYPE ETH_PHY_W5500
#define ETH_PHY_ADDR 1
#define ETH_PHY_CS   D1
#define ETH_PHY_IRQ  -1
#define ETH_PHY_RST  -1
#endif

// SPI pins
#define ETH_SPI_SCK  D8
#define ETH_SPI_MISO D9
#define ETH_SPI_MOSI D10


// React to Ethernet events:
void onEvent(arduino_event_id_t event, arduino_event_info_t info)
{
  switch (event) {

    case ARDUINO_EVENT_ETH_START:
      // This will happen during setup, when the Ethernet service starts
      Serial.println("ETH Started");
      //set eth hostname here
      ETH.setHostname("esp32-ethernet");
      break;

    case ARDUINO_EVENT_ETH_CONNECTED:
      // This will happen when the Ethernet cable is plugged 
      Serial.println("ETH Connected");
      break;

    case ARDUINO_EVENT_ETH_GOT_IP:
    // This will happen when we obtain an IP address through DHCP:
      Serial.print("Got an IP Address for ETH MAC: ");
      Serial.print(ETH.macAddress());
      Serial.print(", IPv4: ");
      Serial.print(ETH.localIP());
      if (ETH.fullDuplex()) {
        Serial.print(", FULL_DUPLEX");
      }
      Serial.print(", ");
      Serial.print(ETH.linkSpeed());
      Serial.println("Mbps");
      eth_connected = true;

      // Uncomment to automatically make a test connection to a server:
      // testClient( "192.168.0.1", 80 );

      break;

    case ARDUINO_EVENT_ETH_DISCONNECTED:
      // This will happen when the Ethernet cable is unplugged 
      Serial.println("ETH Disconnected");
      eth_connected = false;
      break;

    case ARDUINO_EVENT_ETH_STOP:
      // This will happen when the ETH interface is stopped but this never happens
      Serial.println("ETH Stopped");
      eth_connected = false;
      break;

    default:
      break;
  }
}

// Try to read something from a webserver:
void testClient(const char * host, uint16_t port)
{
  Serial.print("\nConnecting to ");
  Serial.print(host);
  Serial.print(":");
  Serial.println(port);

  NetworkClient client;
  if (!client.connect(host, port)) {
    Serial.println("connection failed");
    return;
  }
  client.printf("GET / HTTP/1.1\r\nHost: %s\r\n\r\n", host);
  while (client.connected() && !client.available());
  while (client.available()) {
    Serial.write(client.read());
  }

  Serial.println("closing connection\n");
  client.stop();
}

// Initializing everything at start up / after reset:
void setup()
{
  // Wait for the hardware to initialize:
  delay(500);

  // This sketch will log some information to the serial console:
  Serial.begin(115200); // Assuming computer will be connected to serial port at 115200 bauds
  Serial.println("Setup...");

  Serial.println("Registering event handler for ETH events...");
  Network.onEvent(onEvent);

  // Starth Ethernet (this does NOT start WiFi at the same time)
  Serial.println("Starting ETH interface...");
  SPI.begin(ETH_SPI_SCK, ETH_SPI_MISO, ETH_SPI_MOSI);
  ETH.begin(ETH_PHY_TYPE, ETH_PHY_ADDR, ETH_PHY_CS, ETH_PHY_IRQ, ETH_PHY_RST, SPI);

  Serial.println("Waiting for Ethernet connection");
  while (!eth_connected) {
    delay(500);
    Serial.print(".");
  }
}

void loop()
{
  if (eth_connected) {
    testClient("baidu.com", 80);
  }
  delay(20000);
}
```

115200ãƒœãƒ¼ã§ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’é–‹ãã€ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚¤ãƒ™ãƒ³ãƒˆã¨IPæƒ…å ±ã‚’ç¢ºèªã—ã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã¯æ¥ç¶šãƒ†ã‚¹ãƒˆã¨ã—ã¦20ç§’ã”ã¨ã«ã€Œbaidu.comã€ã¸ã®æ¥ç¶šã‚’è©¦è¡Œã—ã¾ã™ã€‚

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š**

- `testClient("baidu.com", 80);`ã®ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒãƒ¼ã‚’ç‹¬è‡ªã®ã‚µãƒ¼ãƒãƒ¼ã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒã‚¤ã‚¹ã«å¤‰æ›´ã—ã¾ã™ã€‚
- ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã§ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¾ã™ã€‚

### ãƒ‡ãƒ¢2ï¼šã‚·ãƒ³ãƒ—ãƒ«ãªã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆWebã‚µãƒ¼ãƒãƒ¼

**ç›®çš„ï¼š**
ã“ã®ãƒ‡ãƒ¢ã¯ã€W5500ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ã¦XIAO ESP32-S3ä¸Šã«åŸºæœ¬çš„ãªHTTP Webã‚µãƒ¼ãƒãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚ãƒ«ãƒ¼ãƒˆURLã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¿œç­”ã—ã€ä¸æ˜ãªãƒ«ãƒ¼ãƒˆã«å¯¾ã—ã¦ã‚·ãƒ³ãƒ—ãƒ«ãª404ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’æä¾›ã—ã¾ã™ã€‚

**å…¸å‹çš„ãªä½¿ç”¨ä¾‹ï¼š**
æœ‰ç·šã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆæ¥ç¶šã‚’ä»‹ã—ã¦ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ç›´æ¥Webãƒšãƒ¼ã‚¸ã‚„REST APIã‚’æä¾›ã—ãŸã„IoTãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©ã§ã™ã€‚

```cpp
#include <ETH.h>
#include <WebServer.h>
#include <ESPmDNS.h>


#ifndef ETH_PHY_CS
#define ETH_PHY_TYPE ETH_PHY_W5500
#define ETH_PHY_ADDR 1
#define ETH_PHY_CS   D1
#define ETH_PHY_IRQ  -1
#define ETH_PHY_RST  -1
#endif

// SPI pins
#define ETH_SPI_SCK  D8
#define ETH_SPI_MISO D9
#define ETH_SPI_MOSI D10

static bool eth_connected = false;
WebServer server(80);

// ESP32-POE doesn't have an onboard LED so if you want to use a LED you have to attach one to the extended pins on either UEXT or one of the 10 pin extentions.
// in this example the default value is 13 which is UEXT pin 6, or Extention 2 pin 1. If you want to attach the LED to another pin you need to change this value accordingly.
const int led_pin = 21;

// Web Server: handle a request to / (root of the server)
void handleRoot() {
  digitalWrite(led_pin, 1);
  server.send(200, "text/plain", "hello from esp32!");
  delay(100);    // Wait x ms so we have time to see the Led blinking
  digitalWrite(led_pin, 0);
}

// Web Server: handle a request to an unknown URI (unknown "File")
void handleNotFound() {
  digitalWrite(led_pin, 1);
  String message = "File Not Found\n\n";
  message += "URI: ";
  message += server.uri();
  message += "\nMethod: ";
  message += (server.method() == HTTP_GET) ? "GET" : "POST";
  message += "\nArguments: ";
  message += server.args();
  message += "\n";
  for (uint8_t i = 0; i < server.args(); i++) {
    message += " " + server.argName(i) + ": " + server.arg(i) + "\n";
  }
  server.send(404, "text/plain", message);
  // digitalWrite(led_pin, 0);  // If this is commented out, the LED will stay on in case of 404 error
}

// Handle Ethernet Events:
void onEvent(arduino_event_id_t event, arduino_event_info_t info)
{
  switch (event) {

    case ARDUINO_EVENT_ETH_START:
      // This will happen during setup, when the Ethernet service starts
      Serial.println("ETH Started");
      //set eth hostname here
      ETH.setHostname("esp32-ethernet");
      break;

    case ARDUINO_EVENT_ETH_CONNECTED:
      // This will happen when the Ethernet cable is plugged 
      Serial.println("ETH Connected");
      break;

    case ARDUINO_EVENT_ETH_GOT_IP:
    // This will happen when we obtain an IP address through DHCP:
      Serial.print("Got an IP Address for ETH MAC: ");
      Serial.print(ETH.macAddress());
      Serial.print(", IPv4: ");
      Serial.print(ETH.localIP());
      if (ETH.fullDuplex()) {
        Serial.print(", FULL_DUPLEX");
      }
      Serial.print(", ");
      Serial.print(ETH.linkSpeed());
      Serial.println("Mbps");
      eth_connected = true;

      // Uncomment to automatically make a test connection to a server:
      // testClient( "192.168.0.1", 80 );

      break;

    case ARDUINO_EVENT_ETH_DISCONNECTED:
      // This will happen when the Ethernet cable is unplugged 
      Serial.println("ETH Disconnected");
      eth_connected = false;
      break;

    case ARDUINO_EVENT_ETH_STOP:
      // This will happen when the ETH interface is stopped but this never happens
      Serial.println("ETH Stopped");
      eth_connected = false;
      break;

    default:
      break;
  }
}

// Try to read something from a webserver:
void testClient(const char * host, uint16_t port)
{
  Serial.print("\nConnecting to ");
  Serial.print(host);
  Serial.print(":");
  Serial.println(port);

  NetworkClient client;
  if (!client.connect(host, port)) {
    Serial.println("connection failed");
    return;
  }
  client.printf("GET / HTTP/1.1\r\nHost: %s\r\n\r\n", host);
  while (client.connected() && !client.available());
  while (client.available()) {
    Serial.write(client.read());
  }

  Serial.println("closing connection\n");
  client.stop();
}

// Initializing everything at start up / after reset:
void setup()
{
  // Wait for the hardware to initialize:
  delay(500);

  // This sketch will log some information to the serial console:


  Serial.begin(115200); // Assuming computer will be connected to serial port at 115200 bauds
  Serial.print("Setup...");


  Serial.print("Registering event handler for ETH events...");
  Network.onEvent(onEvent);

  // Starth Ethernet (this does NOT start WiFi at the same time)
  Serial.print("Starting ETH interface...");
  SPI.begin(ETH_SPI_SCK, ETH_SPI_MISO, ETH_SPI_MOSI, ETH_PHY_CS);
  ETH.begin(ETH_PHY_TYPE, ETH_PHY_ADDR, ETH_PHY_CS, ETH_PHY_IRQ, ETH_PHY_RST, SPI);


  // multicast DNS (mDNS) allows to resolve hostnames to IP addresses without a DNS server
  if (MDNS.begin("esp32")) {  // using mDNS name "esp32"
    Serial.println("MDNS responder started");
  }

  // Web Server handlers: 
  // Handle a request to / (root of the server)
  server.on("/", handleRoot);
  // Minimalistic handling of another URI (LED will not flash on this one):
  server.on("/inline", []() {
    server.send(200, "text/plain", "this works as well");
  });
  // Handle all other URIs:
  server.onNotFound(handleNotFound);

  server.begin();
  Serial.println("HTTP server started");

  pinMode( led_pin, OUTPUT);  // Initialize the LED pin as a digital output (on/off)
}

void loop ()
{
  server.handleClient();
  delay(2);//allow the cpu to switch to other tasks
}
```

ãƒ‡ãƒã‚¤ã‚¹ãŒIPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã—ãŸã‚‰ï¼ˆã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã¾ã™ï¼‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã„ã¦`http://<your_device_ip>/`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ãƒ«ãƒ¼ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ã€Œhello from esp32!ã€ã§å¿œç­”ã—ã€LEDã‚’ç‚¹æ»…ã•ã›ã¾ã™ã€‚`/inline`ã‚„ä»–ã®ãƒ‘ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç•°ãªã‚‹å¿œç­”ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š**

- `server.on("/yourpath", handlerFunction);`ã‚’ä½¿ç”¨ã—ã¦ã‚ˆã‚Šå¤šãã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚
- ã‚»ãƒ³ã‚µãƒ¼èª­ã¿å–ã‚Šå€¤ã‚„ãƒ‡ãƒã‚¤ã‚¹åˆ¶å¾¡ã‚’Webã‚µãƒ¼ãƒãƒ¼ã®å¿œç­”ã«çµ±åˆã—ã¾ã™ã€‚

### ãƒ‡ãƒ¢3ï¼šã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚«ãƒ¡ãƒ©ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼

> **æ³¨æ„ï¼š**
> ã“ã®ãƒ‡ãƒ¢ã«ã¯[XIAO ESP32-S3 Sense](https://www.seeedstudio.com/Seeed-Studio-XIAO-ESP32S3-Sense-Pre-Soldered-p-6335.html)ãƒœãƒ¼ãƒ‰ã®ã‚«ãƒ¡ãƒ©ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå¿…è¦ã§ã™ã€‚XIAO W5500ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼è‡ªä½“ã«ã¯ã‚«ãƒ¡ãƒ©ã¯å«ã¾ã‚Œã¦ãŠã‚‰ãšã€ã‚«ãƒ¡ãƒ©ã‚½ã‚±ãƒƒãƒˆã¯ç¾åœ¨å˜ä½“ã§è²©å£²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ä»¥å‰ã«XIAO ESP32-S3 Senseãƒœãƒ¼ãƒ‰ã‚’è³¼å…¥ã—ã¦ã„ã‚‹å ´åˆã¯ã€ãã®ã‚«ãƒ¡ãƒ©ã‚’ã“ã®ãƒ‡ãƒ¢ã§ä½¿ç”¨ã§ãã¾ã™ã€‚ãã‚Œã„ãªè¨­ç½®ã®ãŸã‚ã«ã€ã“ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨äº’æ›æ€§ã®ã‚ã‚‹ã‚«ãƒ¡ãƒ©ç©´ä»˜ãã®3Dãƒ—ãƒªãƒ³ãƒˆå¯èƒ½ãªã‚¨ãƒ³ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã¤ã„ã¦ã¯[ãƒªã‚½ãƒ¼ã‚¹](#resources)ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

**ç›®çš„ï¼š**
ã“ã®é«˜åº¦ãªãƒ‡ãƒ¢ã¯ã€XIAO ESP32-S3ã‚«ãƒ¡ãƒ©ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨W5500ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆçµŒç”±ã§ã‚«ãƒ¡ãƒ©ç”»åƒã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã—ã¾ã™ã€‚ã‚«ãƒ¡ãƒ©ã®åˆæœŸåŒ–ã€ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¨­å®šã€ãƒ“ãƒ‡ã‚ªã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ç”¨ã®Webã‚µãƒ¼ãƒãƒ¼ã®é–‹å§‹æ–¹æ³•ã‚’å®Ÿæ¼”ã—ã¾ã™ã€‚

**å…¸å‹çš„ãªä½¿ç”¨ä¾‹ï¼š**
ç›£è¦–ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã€ã¾ãŸã¯ä¿¡é ¼æ€§ã®é«˜ã„æœ‰ç·šæ¥ç¶šã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç”»åƒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãŒå¿…è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©ã§ã™ã€‚

:::tip
ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯.inoãƒ•ã‚¡ã‚¤ãƒ«å°‚ç”¨ã§ã€ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã«ã¯ã„ãã¤ã‹ã®ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã§ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Œå…¨ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰å–å¾—ã§ãã¾ã™ã€‚

<div class="github_container" style={{textAlign: 'center'}}>
    <a class="github_item" href="https://github.com/Seeed-Projects/XIAO_W5500_Ehernet_Adapter_Example/tree/main/XIAO_PoE_CameraWebServer" target="_blank" rel="noopener noreferrer">
    <strong><span><font color={'FFFFFF'} size={"4"}>ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</font></span></strong> <svg aria-hidden="true" focusable="false" role="img" className="mr-2" viewBox="-3 10 9 1" width={16} height={16} fill="currentColor" style={{textAlign: 'center', display: 'inline-block', userSelect: 'none', verticalAlign: 'text-bottom', overflow: 'visible'}}><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z" /></svg>
    </a>
</div><br />
:::

```cpp
#include "esp_camera.h"
#include <ETH.h>
#include <WiFi.h>  // For event handling

// Define the camera model being used
#define CAMERA_MODEL_XIAO_ESP32S3  // Has PSRAM

// Include camera pin definitions
#include "camera_pins.h"

#define USE_TWO_ETH_PORTS 0

// Ethernet PHY and SPI pin definitions (adjust according to your hardware)
#ifndef ETH_PHY_CS
#define ETH_PHY_TYPE ETH_PHY_W5500
#define ETH_PHY_ADDR 1
#define ETH_PHY_CS D1
#define ETH_PHY_IRQ -1
#define ETH_PHY_RST -1
#endif

#define ETH_SPI_SCK D8
#define ETH_SPI_MISO D9
#define ETH_SPI_MOSI D10

// Global variable to track Ethernet connection status
static bool eth_connected = false;

// Function declarations
void startCameraServer();
void setupLedFlash(int pin);
void onEvent(arduino_event_id_t event, arduino_event_info_t info);

void setup() {
  Serial.begin(115200);
  delay(2000);
  // Register Ethernet event handler
  Network.onEvent(onEvent);

  // Initialize SPI and Ethernet
  SPI.begin(ETH_SPI_SCK, ETH_SPI_MISO, ETH_SPI_MOSI, ETH_PHY_CS);
  ETH.begin(ETH_PHY_TYPE, ETH_PHY_ADDR, ETH_PHY_CS, ETH_PHY_IRQ, ETH_PHY_RST, SPI);

  // Wait for Ethernet connection
  Serial.print("Waiting for Ethernet connection");
  while (!eth_connected) {
    delay(500);
    Serial.print(".");
  }

  Serial.println("");
  Serial.println("Ethernet connected");

  Serial.setDebugOutput(true);
  Serial.println();

  // Camera configuration structure
  camera_config_t config;
  config.ledc_channel = LEDC_CHANNEL_0;
  config.ledc_timer = LEDC_TIMER_0;
  config.pin_d0 = Y2_GPIO_NUM;
  config.pin_d1 = Y3_GPIO_NUM;
  config.pin_d2 = Y4_GPIO_NUM;
  config.pin_d3 = Y5_GPIO_NUM;
  config.pin_d4 = Y6_GPIO_NUM;
  config.pin_d5 = Y7_GPIO_NUM;
  config.pin_d6 = Y8_GPIO_NUM;
  config.pin_d7 = Y9_GPIO_NUM;
  config.pin_xclk = XCLK_GPIO_NUM;
  config.pin_pclk = PCLK_GPIO_NUM;
  config.pin_vsync = VSYNC_GPIO_NUM;
  config.pin_href = HREF_GPIO_NUM;
  config.pin_sccb_sda = SIOD_GPIO_NUM;
  config.pin_sccb_scl = SIOC_GPIO_NUM;
  config.pin_pwdn = PWDN_GPIO_NUM;
  config.pin_reset = RESET_GPIO_NUM;
  config.xclk_freq_hz = 20000000;
  config.frame_size = FRAMESIZE_UXGA;
  config.pixel_format = PIXFORMAT_JPEG;  // Use JPEG for streaming
  config.grab_mode = CAMERA_GRAB_WHEN_EMPTY;
  config.fb_location = CAMERA_FB_IN_PSRAM;
  config.jpeg_quality = 12;
  config.fb_count = 1;

  // Adjust configuration based on PSRAM availability
  if (config.pixel_format == PIXFORMAT_JPEG) {
    if (psramFound()) {
      config.jpeg_quality = 10;
      config.fb_count = 2;
      config.grab_mode = CAMERA_GRAB_LATEST;
    } else {
      config.frame_size = FRAMESIZE_SVGA;
      config.fb_location = CAMERA_FB_IN_DRAM;
    }
  } else {
    config.frame_size = FRAMESIZE_240X240;
#if CONFIG_IDF_TARGET_ESP32S3
    config.fb_count = 2;
#endif
  }

#if defined(CAMERA_MODEL_ESP_EYE)
  // Special pin setup for ESP-EYE
  pinMode(13, INPUT_PULLUP);
  pinMode(14, INPUT_PULLUP);
#endif

  // Initialize the camera
  esp_err_t err = esp_camera_init(&config);
  if (err != ESP_OK) {
    Serial.printf("Camera init failed with error 0x%x", err);
    return;
  }

  // Adjust sensor settings for specific camera modules
  sensor_t *s = esp_camera_sensor_get();
  if (s->id.PID == OV3660_PID) {
    s->set_vflip(s, 1);        // Vertical flip
    s->set_brightness(s, 1);   // Increase brightness
    s->set_saturation(s, -2);  // Decrease saturation
  }
  if (config.pixel_format == PIXFORMAT_JPEG) {
    s->set_framesize(s, FRAMESIZE_QVGA);  // Lower initial frame size
  }

#if defined(CAMERA_MODEL_M5STACK_WIDE) || defined(CAMERA_MODEL_M5STACK_ESP32CAM)
  s->set_vflip(s, 1);
  s->set_hmirror(s, 1);
#endif

#if defined(CAMERA_MODEL_ESP32S3_EYE)
  s->set_vflip(s, 1);
#endif

  // Setup LED flash if the pin is defined
#if defined(LED_GPIO_NUM)
  setupLedFlash(LED_GPIO_NUM);
#endif

  // Start the camera web server
  startCameraServer();

  // Print the access URL to the serial monitor
  Serial.print("Camera Ready! Use 'http://");
  Serial.print(ETH.localIP());
  Serial.println("' to connect");
}

void loop() {
  // No additional processing needed; camera server runs in another task
  delay(10000);
}

// Ethernet event handler
void onEvent(arduino_event_id_t event, arduino_event_info_t info) {
  switch (event) {
    case ARDUINO_EVENT_ETH_START:
      Serial.println("ETH Started");
      // Set Ethernet hostname here
      ETH.setHostname("esp32-eth0");
      break;
    case ARDUINO_EVENT_ETH_CONNECTED:
      Serial.println("ETH Connected");
      break;
    case ARDUINO_EVENT_ETH_GOT_IP:
      Serial.printf("ETH Got IP: '%s'\n", esp_netif_get_desc(info.got_ip.esp_netif));
      Serial.println(ETH);
      eth_connected = true;
      break;
    case ARDUINO_EVENT_ETH_LOST_IP:
      Serial.println("ETH Lost IP");
      eth_connected = false;
      break;
    case ARDUINO_EVENT_ETH_DISCONNECTED:
      Serial.println("ETH Disconnected");
      eth_connected = false;
      break;
    case ARDUINO_EVENT_ETH_STOP:
      Serial.println("ETH Stopped");
      eth_connected = false;
      break;
    default:
      break;
  }
}
```

ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã—ãŸå¾Œã€ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’é–‹ã„ã¦ãƒ‡ãƒã‚¤ã‚¹ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã«IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ã‚«ãƒ¡ãƒ©ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š**

- `camera_config_t`æ§‹é€ ä½“ã§ã‚«ãƒ¡ãƒ©è¨­å®šï¼ˆè§£åƒåº¦ã€å“è³ªã€ãƒ•ãƒ¬ãƒ¼ãƒ ã‚µã‚¤ã‚ºï¼‰ã‚’èª¿æ•´ã—ã¾ã™ã€‚
- Webã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦èªè¨¼ã‚„è¿½åŠ ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚
- ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«åˆã‚ã›ã¦Ethernetãƒ”ãƒ³å®šç¾©ã‚’èª¿æ•´ã—ã¾ã™ã€‚

## FAQ

### Q1: W5500ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¿¡å·ãŒå¼±ã„ã®ã¯ãªãœã§ã™ã‹ï¼Ÿè§£æ±ºç­–ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ

WiFiã‚’ä½¿ç”¨ã™ã‚‹ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰å†…ã«é›»åŠ›èª¿æ•´ç”¨ã®ã‚³ãƒ¼ãƒ‰ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã€é€ä¿¡é›»åŠ›ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ã§ä¿¡å·å¼·åº¦ã‚’å¤§å¹…ã«æ”¹å–„ã§ãã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã®ã‚ˆã†ã«ã€`Setup()`å†…ã®é–¢æ•°ã«é›»åŠ›èª¿æ•´ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```cpp
    // 1. Set WiFi to Station mode
    WiFi.mode(WIFI_STA);

    // 2. Adjust WiFi transmit power (Key correction)
    int8_t power_dbm = 15;
    int8_t power_param = (int8_t)(power_dbm / 0.25);
    esp_err_t err = esp_wifi_set_max_tx_power(power_param);

    if (err == ESP_OK) {
        Serial.print("Successfully set WiFi TX Power to: ");
        Serial.print(power_dbm);
        Serial.println(" dBm");
    } else {
        Serial.println("Failed to set WiFi TX Power.");
    }

    // 3. Start connecting to WiFi
    WiFi.begin(ssid, password);

    Serial.print("Connecting to WiFi network: ");
    Serial.println(ssid);
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã«é›»åŠ›ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§æœ€è‰¯ã®çµæœãŒå¾—ã‚‰ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã•ã‚Œã¦ã„ã¾ã™ã€‚

## ãƒªã‚½ãƒ¼ã‚¹

- **[PDF]** [W5500 ãƒ‡ãƒ¼ã‚¿ã‚·ãƒ¼ãƒˆ](https://files.seeedstudio.com/wiki/xiao_w5500_poe/res/W5500_ds_datasheet.pdf)
- **[PDF]** [XIAO W5500 Ethernet ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼å›è·¯å›³](https://files.seeedstudio.com/wiki/xiao_w5500_poe/res/XIAO_POE_RJ45_V20_SCH_20250422B.pdf)
- **[STEP]** [XIAO W5500 Ethernet ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ 3D STEP](https://files.seeedstudio.com/wiki/xiao_w5500_poe/res/XIAO_POE_RJ45_V20.step)
- **[STEP]** [XIAO W5500 Ethernet ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚·ã‚§ãƒ« 3D STEPï¼ˆã‚«ãƒ¡ãƒ©ç©´ã®äº‹å‰ç©´ã‚ã‘ãªã—ï¼‰](https://files.seeedstudio.com/wiki/xiao_w5500_poe/res/xiao_w5500_eth_adapter_shell.stp)
- **[STEP]** [XIAO W5500 Ethernet ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚«ãƒãƒ¼ 3D STEP](https://files.seeedstudio.com/wiki/xiao_w5500_poe/res/xiao_w5500_eth_adapter_covers.stp)
- **[KICAD]** [XIAO W5500 Ethernet ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ PCB](https://files.seeedstudio.com/wiki/xiao_w5500_poe/res/XIAO_POE_RJ45_V20.kicad_pcb)
- **[GITHUB]** [XIAO W5500 Ethernet ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Seeed-Projects/XIAO_W5500_Ehernet_Adapter_Example)

## æŠ€è¡“ã‚µãƒãƒ¼ãƒˆ & è£½å“ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³

å¼Šç¤¾è£½å“ã‚’ãŠé¸ã³ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼å¼Šç¤¾è£½å“ã§ã®ä½“é¨“ãŒå¯èƒ½ãªé™ã‚Šã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚‹ã‚ˆã†ã€ã•ã¾ã–ã¾ãªã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã„ãŸã—ã¾ã™ã€‚ç•°ãªã‚‹å¥½ã¿ã‚„ãƒ‹ãƒ¼ã‚ºã«å¯¾å¿œã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚

<div class="button_tech_support_container">
<a href="https://forum.seeedstudio.com/" class="button_forum"></a>
<a href="https://www.seeedstudio.com/contacts" class="button_email"></a>
</div>

<div class="button_tech_support_container">
<a href="https://discord.gg/eWkprNDMU7" class="button_discord"></a>
<a href="https://github.com/Seeed-Studio/wiki-documents/discussions/69" class="button_discussion"></a>
</div>
