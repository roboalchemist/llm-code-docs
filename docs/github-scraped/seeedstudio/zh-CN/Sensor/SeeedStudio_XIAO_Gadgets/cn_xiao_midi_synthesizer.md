---
description: XIAO MIDI åˆæˆå™¨å…¥é—¨æŒ‡å—
title: XIAO MIDI åˆæˆå™¨å…¥é—¨æŒ‡å—
keywords:
  - XIAO
  - MIDI
  - ESP32-C3
  - SAM2695
  - synthesizer
sidebar_position: 7
image: https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/1.webp
slug: /cn/xiao_midi_synthesizer
last_update:
  date: 05/15/2025
  author: Citric
---

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/1.jpg" style={{width:600, height:'auto'}}/></div><br />

<div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="https://www.seeedstudio.com/XIAO-MIDI-Synthesizer-p-6462.html" target="_blank">
            <strong><span><font color={'FFFFFF'} size={"4"}> ç«‹å³è´­ä¹° ğŸ–±ï¸</font></span></strong>
    </a>
</div>

## ç®€ä»‹

**XIAO MIDI åˆæˆå™¨**æ˜¯ä¸€æ¬¾ç´§å‡‘çš„ä¸€ä½“åŒ–éŸ³ä¹åˆ›ä½œè®¾å¤‡ï¼Œç”± XIAO ESP32-C3 å’Œä¸“ä¸šçº§ SAM2695 MIDI èŠ¯ç‰‡é©±åŠ¨ã€‚å°½ç®¡ä½“ç§¯å°å·§ï¼Œä½†å®ƒèƒ½æä¾›ä¸°å¯Œã€å¯Œæœ‰è¡¨ç°åŠ›çš„å£°éŸ³ï¼Œæ”¯æŒå¤šè¾¾ 64 å£°éƒ¨å¤éŸ³ï¼Œå¹¶æä¾›æ•°ç™¾ç§ä¹å™¨éŸ³è‰²ã€‚æ— è®ºæ‚¨æ˜¯å®éªŒå£°éŸ³çš„å¼€å‘è€…è¿˜æ˜¯åˆ›ä½œæ–°æ›²çš„éŸ³ä¹å®¶ï¼Œè¿™æ¬¾åˆæˆå™¨éƒ½æ—¨åœ¨è®©éŸ³ä¹åˆ›ä½œå˜å¾—æµç•…è€Œå¯Œæœ‰çµæ„Ÿã€‚

## ç‰¹æ€§

- é›¶é—¨æ§›åˆ›ä½œï¼Œéå¸¸é€‚åˆéŸ³ä¹åˆå­¦è€…
- ä¸€ä½“åŒ– MIDI + èŠ‚æ‹å™¨ -- æ›´æ™ºèƒ½ã€æ›´æµç•…çš„å·¥ä½œæµç¨‹
- ä¸“ä¸šçº§æ€§èƒ½ï¼Œé€‚åˆé«˜çº§ç©å®¶
- è¶…ä¾¿æºä¸”å®Œå…¨å¯å®šåˆ¶

## ç¡¬ä»¶æ¦‚è¿°

XIAO MIDI åˆæˆå™¨é›†æˆäº†ä»¥ä¸‹ç»„ä»¶ï¼š

<div class="table-center">
  <table align="center">
    <tr>
      <th colspan="2">æ ¸å¿ƒæ¨¡å—</th>
    </tr>
    <tr>
      <td>MCU</td>
      <td>XIAO ESP32-C3</td>
    </tr>
    <tr>
      <th colspan="2">å£°éŸ³ç”Ÿæˆ</th>
    </tr>
    <tr>
      <td>MIDI èŠ¯ç‰‡</td>
      <td>SAM2695</td>
    </tr>
    <tr>
      <td>å¤éŸ³æ•°</td>
      <td>å¤šè¾¾ 64 å£°éƒ¨</td>
    </tr>
    <tr>
      <td>ä¹å™¨é¢„è®¾</td>
      <td>è¶…è¿‡ 100 ç§ä¸åŒçš„ä¹å™¨å£°éŸ³å¯ç”¨</td>
    </tr>
    <tr>
      <th colspan="2">æ¥å£å’Œè¿æ¥</th>
    </tr>
    <tr>
      <td>3.5mm éŸ³é¢‘æ¥å£</td>
      <td>ç”¨äºè¿æ¥å¤–éƒ¨éŸ³é¢‘è®¾å¤‡ï¼ˆå¦‚æ‰¬å£°å™¨æˆ–è€³æœºï¼‰<br />å…·æœ‰æ’å…¥çº¿ç¼†æ—¶è‡ªåŠ¨ç¦ç”¨ D ç±»æ”¾å¤§å™¨ã€æ‹”å‡ºæ—¶é‡æ–°å¯ç”¨çš„åŠŸèƒ½</td>
    </tr>
    <tr>
      <td>ç‰©ç†æŒ‰é’®</td>
      <td>å››ä¸ªä¾§é¢å®‰è£…çš„ç‰©ç†æŒ‰é’®ç”¨äºç”¨æˆ·äº¤äº’</td>
    </tr>
    <tr>
      <td>XIAO æ’åº§</td>
      <td>ä¸“ä¸º XIAO æ¨¡å—è®¾è®¡çš„ä¸“ç”¨æ’åº§ï¼Œå¯é€šè¿‡é¢å¤–çš„ä¾§é¢è¿æ¥å™¨è¿›è¡Œæ‰©å±•</td>
    </tr>
    <tr>
      <td>D ç±»æ”¾å¤§å™¨</td>
      <td>å†…ç½®æ‰¬å£°å™¨</td>
    </tr>
    <tr>
      <th colspan="2">ç”µæºå’ŒæŒ‡ç¤ºå™¨</th>
    </tr>
    <tr>
      <td>ç”µæºä¾›åº”</td>
      <td>5V Type-C</td>
    </tr>
    <tr>
      <td>æŒ‡ç¤º LED</td>
      <td>å•è‰² LEDï¼Œç”¨äºæŒ‡ç¤ºç”µæºçŠ¶æ€å¹¶æä¾›ç”¨æˆ·åé¦ˆ</td>
    </tr>
  </table>
</div>

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/3.png" style={{width:1000, height:'auto'}}/></div>

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/4.png" style={{width:1000, height:'auto'}}/></div>

## å…¥é—¨æŒ‡å—

æœ¬èŠ‚å°†æŒ‡å¯¼æ‚¨é¦–æ¬¡è®¾ç½® XIAO MIDI åˆæˆå™¨ã€‚

### å‡ºå‚å›ºä»¶ä½¿ç”¨

XIAO MIDI åˆæˆå™¨é¢„è£…äº†å¤šåŠŸèƒ½çš„å‡ºå‚å›ºä»¶ï¼Œè®©æ‚¨å¯ä»¥å¼€ç®±å³ç”¨åœ°æ¢ç´¢å¤šç§å£°éŸ³å’ŒèŠ‚å¥åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯é»˜è®¤åŠŸèƒ½å’Œå…³é”®æ“ä½œçš„å¿«é€ŸæŒ‡å—ã€‚

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/7.png" style={{width:600, height:'auto'}}/></div>

**è¯¦ç»†æŒ‰é”®åŠŸèƒ½**

- **å£°éŸ³æµ‹è¯•ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰ï¼š**
  - **ğŸµ0**ï¼šå¾ªç¯åˆ‡æ¢ 128 ç§é¢„è®¾ä¹å™¨å£°éŸ³ã€‚æ¯æ¬¡æŒ‰ä¸‹åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå£°éŸ³ã€‚
  - **ğŸµ1**ï¼šæé«˜éŸ³ç¬¦éŸ³é«˜ï¼ˆä¾‹å¦‚ä» C4 åˆ° D4ï¼‰ã€‚
  - **ğŸµ2**ï¼šé™ä½éŸ³ç¬¦éŸ³é«˜ï¼ˆä¾‹å¦‚ä» C4 åˆ° B3ï¼‰ã€‚
  - **ğŸµ3**ï¼šç‚¹å‡»å¼€å§‹/åœæ­¢èŠ‚æ‹å™¨ã€‚

- **èŠ‚æ‹ä¿æŒæ¨¡å¼ï¼š**
  - **ğŸµ0**ï¼šï¼ˆæ­¤æ¨¡å¼ä¸‹æ— åŠŸèƒ½ï¼‰
  - **ğŸµ1**ï¼šå¢åŠ  BPMï¼ˆèŠ‚æ‹ï¼‰1 æ­¥ï¼ˆä»…åœ¨èŠ‚æ‹å™¨æ¿€æ´»æ—¶æœ‰æ•ˆï¼‰ã€‚
  - **ğŸµ2**ï¼šå‡å°‘ BPMï¼ˆèŠ‚æ‹ï¼‰1 æ­¥ï¼ˆä»…åœ¨èŠ‚æ‹å™¨æ¿€æ´»æ—¶æœ‰æ•ˆï¼‰ã€‚
  - **ğŸµ3**ï¼šç‚¹å‡»å¼€å§‹/åœæ­¢èŠ‚æ‹å™¨ï¼ˆé»˜è®¤ï¼š120 BPMï¼ŒèŒƒå›´ï¼š40â€“240 BPMï¼‰ã€‚

- **å¤šè½¨æ’­æ”¾æ¨¡å¼ï¼š**
  - **ğŸµ0**ï¼šæ’­æ”¾è½¨é“ 1ï¼ˆé¢„åŠ è½½çš„å£°éŸ³æˆ–åºåˆ—ï¼‰
  - **ğŸµ1**ï¼šæ’­æ”¾è½¨é“ 2
  - **ğŸµ2**ï¼šæ’­æ”¾è½¨é“ 3
  - **ğŸµ3**ï¼šæ’­æ”¾è½¨é“ 4

**é•¿æŒ‰åŠŸèƒ½ï¼ˆä»»ä½•æ¨¡å¼ï¼‰ï¼š**

- **ğŸµ1**ï¼ˆé•¿æŒ‰ 2 ç§’ï¼‰ï¼šéŸ³é‡å¢åŠ 
- **ğŸµ2**ï¼ˆé•¿æŒ‰ 2 ç§’ï¼‰ï¼šéŸ³é‡å‡å°‘
- **ğŸµ3**ï¼ˆé•¿æŒ‰ 2 ç§’ï¼‰ï¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ¨¡å¼ï¼ˆå¾ªç¯åˆ‡æ¢ï¼šå£°éŸ³æµ‹è¯• â†’ èŠ‚æ‹ä¿æŒ â†’ å¤šè½¨æ’­æ”¾ â†’ ...ï¼‰

:::tip
æ‚¨å¯ä»¥åœ¨æ— éœ€ä»»ä½•é¢å¤–è®¾ç½®çš„æƒ…å†µä¸‹ä½“éªŒæ‰€æœ‰åŠŸèƒ½ã€‚å¦‚éœ€é«˜çº§å®šåˆ¶æˆ–é‡æ–°åˆ·å†™å›ºä»¶ï¼Œè¯·å‚é˜… **[StateMachine ç¤ºä¾‹ä»£ç ](https://github.com/Seeed-Studio/Seeed_Arduino_MIDIMaster/blob/main/examples/StateMachine/StateMachine.ino)**ã€‚
:::

### å¼•å¯¼åŠ è½½å™¨æ¨¡å¼

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç° XIAO MIDI åˆæˆå™¨æ— æ³•é€šè¿‡ä¸²å£ç¼–ç¨‹ï¼ˆä¾‹å¦‚ï¼Œè®¾å¤‡æ— æ³•è¯†åˆ«æˆ–ä¸Šä¼ å¤±è´¥ï¼‰ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦è¿›å…¥**å¼•å¯¼åŠ è½½å™¨ï¼ˆBOOTï¼‰æ¨¡å¼**æ¥é‡æ–°åˆ·å†™å›ºä»¶ã€‚

#### ä¸ºä»€ä¹ˆè¦è¿›å…¥ BOOT æ¨¡å¼ï¼Ÿ

- å½“è®¾å¤‡æ— æ³•é€šè¿‡ USB/ä¸²å£æ­£å¸¸ç¼–ç¨‹æ—¶æ¢å¤è®¾å¤‡
- åœ¨ä¸Šä¼ å¤±è´¥æˆ–å›ºä»¶æŸååé‡æ–°åˆ·å†™å›ºä»¶

#### å¦‚ä½•è¿›å…¥ BOOT æ¨¡å¼

é¦–å…ˆï¼Œæ‰“å¼€è¿·ä½ åˆæˆå™¨çš„åç›–ä»¥è®¿é—® XIAO ESP32-C3 æ¨¡å—ä¸Šçš„ BOOT å’Œ RESET æŒ‰é’®ã€‚æœ‰ä¸¤ç§æ–¹æ³•ï¼š

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/5.jpg" style={{width:600, height:'auto'}}/></div>

- **æ–¹æ³• 1ï¼šæŒ‰é’®åºåˆ—**
  1. åœ¨è®¾å¤‡é€šç”µçš„æƒ…å†µä¸‹ï¼ŒæŒ‰ä½ **BOOT** æŒ‰é’®ï¼ˆä¸è¦æ¾å¼€ï¼‰ã€‚
  2. åœ¨æŒ‰ä½ **BOOT** çš„åŒæ—¶ï¼ŒæŒ‰ä¸€æ¬¡ **RESET** æŒ‰é’®ã€‚
  3. æ¾å¼€ **BOOT** æŒ‰é’®ã€‚

- **æ–¹æ³• 2ï¼šç”µæºå¾ªç¯**
  1. æ–­å¼€ç”µæºï¼ˆæ‹”æ‰ USB-C çº¿ç¼†ï¼‰ã€‚
  2. æŒ‰ä½ **BOOT** æŒ‰é’®ã€‚
  3. åœ¨æŒ‰ä½ **BOOT** çš„åŒæ—¶ï¼Œé‡æ–°è¿æ¥ç”µæºï¼ˆæ’å…¥ USB-C çº¿ç¼†ï¼‰ã€‚
  4. æ¾å¼€ **BOOT** æŒ‰é’®ã€‚

è¿›å…¥ BOOT æ¨¡å¼åï¼Œè®¾å¤‡å°†å‡†å¤‡å¥½é€šè¿‡ Arduino IDE æˆ–å…¶ä»–å·¥å…·è¿›è¡Œå›ºä»¶ä¸Šä¼ ã€‚

### å¤ä½

è¦å¤ä½è®¾å¤‡ï¼Œåªéœ€æŒ‰ä¸‹ XIAO ESP32-C3 æ¨¡å—ä¸Šçš„ **RESET** æŒ‰é’®ã€‚è®¾å¤‡å°†é‡æ–°å¯åŠ¨ã€‚

## Arduino åº“æ¦‚è¿°

:::tip
å¦‚æœè¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡ä½¿ç”¨ Arduinoï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨å‚è€ƒ [Arduino å…¥é—¨æŒ‡å—](https://wiki.seeedstudio.com/cn/Getting_Started_with_Arduino/)ã€‚
:::

XIAO MIDI åˆæˆå™¨ç”± [Seeed_Arduino_MIDIMaster](https://github.com/Seeed-Studio/Seeed_Arduino_MIDIMaster) åº“æ”¯æŒï¼Œè¯¥åº“æä¾›å…¨é¢çš„ MIDI æ§åˆ¶å’Œå£°éŸ³åˆæˆåŠŸèƒ½ã€‚

<div class="github_container" style={{textAlign: 'center'}}>
    <a class="github_item" href="ttps://github.com/Seeed-Studio/Seeed_Arduino_MIDIMaster" target="_blank" rel="noopener noreferrer">
    <strong><span><font color={'FFFFFF'} size={"4"}>ä¸‹è½½ä»£ç </font></span></strong> <svg aria-hidden="true" focusable="false" role="img" className="mr-2" viewBox="-3 10 9 1" width={16} height={16} fill="currentColor" style={{textAlign: 'center', display: 'inline-block', userSelect: 'none', verticalAlign: 'text-bottom', overflow: 'visible'}}><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z" /></svg>
    </a>
</div><br />

### åŠŸèƒ½

åœ¨æˆ‘ä»¬å¼€å§‹å¼€å‘è‰å›¾ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹åº“çš„å¯ç”¨åŠŸèƒ½ã€‚

`static SAM2695Synth& getInstance()` â€“ è¿”å› SAM2695Synth ç±»çš„å•ä¾‹å®ä¾‹ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šå¯¹å•ä¾‹ SAM2695Synth å¯¹è±¡çš„å¼•ç”¨ã€‚

`void begin(T& serial, int baud)` â€“ ä½¿ç”¨æŒ‡å®šçš„ä¸²è¡Œæ¥å£å’Œæ³¢ç‰¹ç‡åˆå§‹åŒ–åˆæˆå™¨ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `T& serial`ï¼šç”¨äº MIDI é€šä¿¡çš„ä¸²å£å¯¹è±¡ï¼ˆç¡¬ä»¶æˆ–è½¯ä»¶ä¸²å£ï¼‰ã€‚
  - `int baud`ï¼šMIDI é€šä¿¡çš„æ³¢ç‰¹ç‡ï¼ˆæ ‡å‡† MIDI é€šå¸¸ä¸º 31250ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void setInstrument(uint8_t bank, uint8_t channel, uint8_t value)` â€“ ä¸ºç‰¹å®š MIDI é€šé“å’ŒéŸ³è‰²åº“è®¾ç½®ä¹å™¨ï¼ˆéŸ³è‰²ï¼‰ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `uint8_t bank`ï¼šä¹å™¨éŸ³è‰²åº“ç¼–å·ï¼ˆ0â€“127ï¼‰ã€‚
  - `uint8_t channel`ï¼šMIDI é€šé“ç¼–å·ï¼ˆ0â€“15ï¼‰ã€‚
  - `uint8_t value`ï¼šä¹å™¨ï¼ˆç¨‹åºï¼‰ç¼–å·ï¼ˆ0â€“127ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void setNoteOn(uint8_t channel, uint8_t pitch, uint8_t velocity)` â€“ åœ¨æŒ‡å®šé€šé“ä¸Šè§¦å‘éŸ³ç¬¦å¼€å¯äº‹ä»¶ï¼Œä½¿ç”¨ç»™å®šçš„éŸ³é«˜å’ŒåŠ›åº¦ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `uint8_t channel`ï¼šMIDI é€šé“ç¼–å·ï¼ˆ0â€“15ï¼‰ã€‚
  - `uint8_t pitch`ï¼šMIDI éŸ³ç¬¦ç¼–å·ï¼ˆ0â€“127ï¼‰ã€‚
  - `uint8_t velocity`ï¼šéŸ³ç¬¦çš„åŠ›åº¦ï¼ˆå“åº¦ï¼‰ï¼ˆ0â€“127ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void setNoteOff(uint8_t channel, uint8_t pitch)` â€“ åœ¨æŒ‡å®šé€šé“ä¸Šä¸ºç»™å®šéŸ³é«˜è§¦å‘éŸ³ç¬¦å…³é—­äº‹ä»¶ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `uint8_t channel`ï¼šMIDI é€šé“ç¼–å·ï¼ˆ0â€“15ï¼‰ã€‚
  - `uint8_t pitch`ï¼šMIDI éŸ³ç¬¦ç¼–å·ï¼ˆ0â€“127ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void setAllNotesOff(uint8_t channel)` â€“ å…³é—­æŒ‡å®šé€šé“ä¸Šå½“å‰æ’­æ”¾çš„æ‰€æœ‰éŸ³ç¬¦ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `uint8_t channel`ï¼šMIDI é€šé“ç¼–å·ï¼ˆ0â€“15ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void playChord(const musicData& chord)` â€“ é€šè¿‡ä¸ºæä¾›çš„å’Œå¼¦ç»“æ„ä¸­çš„æ‰€æœ‰éŸ³ç¬¦å‘é€éŸ³ç¬¦å¼€å¯äº‹ä»¶æ¥æ’­æ”¾å’Œå¼¦ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `const musicData& chord`ï¼šåŒ…å«å’Œå¼¦çš„é€šé“ã€éŸ³ç¬¦ã€åŠ›åº¦å’Œæ—¶é—´ä¿¡æ¯çš„ç»“æ„ä½“ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void setPitch(uint8_t pitch)` â€“ è®¾ç½®åç»­éŸ³ç¬¦äº‹ä»¶çš„é»˜è®¤éŸ³é«˜å€¼ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `uint8_t pitch`ï¼šè¦è®¾ç½®ä¸ºé»˜è®¤éŸ³é«˜çš„ MIDI éŸ³ç¬¦ç¼–å·ï¼ˆ0â€“127ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`uint8_t getPitch() const` â€“ è·å–å½“å‰é»˜è®¤éŸ³é«˜å€¼ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šå½“å‰é»˜è®¤ MIDI éŸ³ç¬¦ç¼–å·ï¼ˆ0â€“127ï¼‰ã€‚

`void setVolume(uint8_t channel, uint8_t level)` â€“ è®¾ç½®ç‰¹å®š MIDI é€šé“çš„éŸ³é‡ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `uint8_t channel`ï¼šMIDI é€šé“ç¼–å·ï¼ˆ0â€“15ï¼‰ã€‚
  - `uint8_t level`ï¼šéŸ³é‡çº§åˆ«ï¼ˆ0â€“127ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void increasePitch()` â€“ å°†é»˜è®¤éŸ³é«˜å€¼å¢åŠ ä¸€ä¸ªåŠéŸ³ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void decreasePitch()` â€“ å°†é»˜è®¤éŸ³é«˜å€¼å‡å°‘ä¸€ä¸ªåŠéŸ³ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void increaseVelocity()` â€“ å¢åŠ éŸ³ç¬¦äº‹ä»¶çš„é»˜è®¤åŠ›åº¦ï¼ˆéŸ³é‡ï¼‰ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void decreaseVelocity()` â€“ å‡å°‘éŸ³ç¬¦äº‹ä»¶çš„é»˜è®¤åŠ›åº¦ï¼ˆéŸ³é‡ï¼‰ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void increaseBpm()` â€“ æŒ‰é¢„å®šä¹‰æ­¥é•¿å¢åŠ å½“å‰èŠ‚æ‹ï¼ˆæ¯åˆ†é’ŸèŠ‚æ‹æ•°ï¼‰ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void decreaseBpm()` â€“ æŒ‰é¢„å®šä¹‰æ­¥é•¿å‡å°‘å½“å‰èŠ‚æ‹ï¼ˆæ¯åˆ†é’ŸèŠ‚æ‹æ•°ï¼‰ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`void setBpm(uint8_t bpm)` â€“ å°†èŠ‚æ‹ï¼ˆæ¯åˆ†é’ŸèŠ‚æ‹æ•°ï¼‰è®¾ç½®ä¸ºæŒ‡å®šå€¼ã€‚

- **è¾“å…¥å‚æ•°**ï¼š
  - `uint8_t bpm`ï¼šæ‰€éœ€çš„æ¯åˆ†é’ŸèŠ‚æ‹æ•°ï¼ˆé€šå¸¸ä¸º 40â€“240ï¼‰ã€‚
- **è¿”å›å€¼**ï¼šæ— ã€‚

`uint8_t getBpm() const` â€“ è·å–å½“å‰èŠ‚æ‹ï¼ˆæ¯åˆ†é’ŸèŠ‚æ‹æ•°ï¼‰ã€‚

- **è¾“å…¥å‚æ•°**ï¼šæ— ã€‚
- **è¿”å›å€¼**ï¼šå½“å‰ BPM å€¼ã€‚

### é»˜è®¤å˜é‡

ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†åº“ä¸­é¢„å®šä¹‰çš„ä¸€äº›å€¼ï¼Œå¦‚ä¹å™¨ç±»å‹ã€éŸ³ç¬¦ç­‰ï¼Œä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚

<details>

<summary>ç‚¹å‡»æ­¤å¤„é¢„è§ˆå®Œæ•´ä»£ç </summary>

```cpp
#define MIDI_SERIAL_BAUD_RATE           31250   //MIDI serial baud rate
#define USB_SERIAL_BAUD_RATE            115200  //USB  serial baud rate
#define MIDI_COMMAND_ON                 0x90    //MIDI Control Switch - On
#define MIDI_COMMAND_OFF                0x80    //MIDI Control Switch - Off
#define BPM_DEFAULT                     120     //default bpm
#define BPM_MIN                         40      //min bpm
#define BPM_MAX                         240     //max bpm
#define BPM_STEP                        10      //step of bpm
#define MIDI_CMD_CONTROL_CHANGE \
0xB0                              // Control Change (or Channel Mode
                                      // Message)
#define MIDI_CMD_PROGRAM_CHANGE 0xC0  // Program Change

#define VELOCITY_MIN                    0       //min velocity(0~127) 0
#define VELOCITY_MAX                    127     //max velocity(0~127) 127
#define VELOCITY_STEP                   10      //step velocity
#define VELOCITY_DEFAULT                64      //default velocity(0~127) 64
#define BASIC_TIME                      60000   //The number of milliseconds corresponding to 1 minute
#define QUATER_NOTE                     0       //Quarter note
#define EIGHTH_NOTE                     1       //Eighth note
#define SIXTEENTH_NOTE                  2       //sixteenth note
#define BEATS_BAR_DEFAULT               4       //default beat - 4/4 beat
#define BEATES_BAR_2                    2       //2/4 beat
#define BEATS_BAR_3                     3       //3/4 beat
#define BEATS_BAR_4                     4       //4/4 beat
#define NOTE_COUNT_DEFAULT              4       //default note count
#define NOTE_COUNT_MIN                  1       //min note count
#define NOTE_COUNT_MAX                  16      //max note count


/* define channel begin */
#define CHANNEL_0                       0
#define CHANNEL_1                       1
#define CHANNEL_2                       2
#define CHANNEL_3                       3
#define CHANNEL_4                       4
#define CHANNEL_5                       5
#define CHANNEL_6                       6
#define CHANNEL_7                       7
#define CHANNEL_8                       8
#define CHANNEL_9                       9
#define CHANNEL_10                      10
#define CHANNEL_11                      11
#define CHANNEL_12                      12
#define CHANNEL_13                      13
#define CHANNEL_14                      14
#define CHANNEL_15                      15


#define NOTE_B0                         23
#define NOTE_C1                         24
#define NOTE_CS1                        25
#define NOTE_D1                         26
#define NOTE_DS1                        27
#define NOTE_E1                         28
#define NOTE_F1                         29
#define NOTE_FS1                        30
#define NOTE_G1                         31
#define NOTE_GS1                        32
#define NOTE_A1                         33
#define NOTE_AS1                        34
#define NOTE_B1                         35
#define NOTE_C2                         36
#define NOTE_CS2                        37
#define NOTE_D2                         38
#define NOTE_DS2                        39
#define NOTE_E2                         40
#define NOTE_F2                         41
#define NOTE_FS2                        42
#define NOTE_G2                         43
#define NOTE_GS2                        44
#define NOTE_A2                         45
#define NOTE_AS2                        46
#define NOTE_B2                         47
#define NOTE_C3                         48
#define NOTE_CS3                        49
#define NOTE_D3                         50
#define NOTE_DS3                        51
#define NOTE_E3                         52
#define NOTE_F3                         53
#define NOTE_FS3                        54
#define NOTE_G3                         55
#define NOTE_GS3                        56
#define NOTE_A3                         57
#define NOTE_AS3                        58
#define NOTE_B3                         59
#define NOTE_C4                         60
#define NOTE_CS4                        61
#define NOTE_D4                         62
#define NOTE_DS4                        63
#define NOTE_E4                         64
#define NOTE_F4                         65
#define NOTE_FS4                        66
#define NOTE_G4                         67
#define NOTE_GS4                        68
#define NOTE_A4                         69
#define NOTE_AS4                        70
#define NOTE_B4                         71
#define NOTE_C5                         72
#define NOTE_CS5                        73
#define NOTE_D5                         74
#define NOTE_DS5                        75
#define NOTE_E5                         76
#define NOTE_F5                         77
#define NOTE_FS5                        78
#define NOTE_G5                         79
#define NOTE_GS5                        80
#define NOTE_A5                         81
#define NOTE_AS5                        82
#define NOTE_B5                         83
#define NOTE_C6                         84
#define NOTE_CS6                        85
#define NOTE_D6                         86
#define NOTE_DS6                        87
#define NOTE_E6                         88
#define NOTE_F6                         89
#define NOTE_FS6                        90
#define NOTE_G6                         91
#define NOTE_GS6                        92
#define NOTE_A6                         93
#define NOTE_AS6                        94
#define NOTE_B6                         95
#define NOTE_C7                         96
#define NOTE_CS7                        97
#define NOTE_D7                         98
#define NOTE_DS7                        99
#define NOTE_E7                         100
#define NOTE_F7                         101
#define NOTE_FS7                        102
#define NOTE_G7                         103
#define NOTE_GS7                        104
#define NOTE_A7                         105
#define NOTE_AS7                        106
#define NOTE_B7                         107
#define NOTE_C8                         108
#define NOTE_CS8                        109
#define NOTE_D8                         110
#define NOTE_DS8                        111
#define REST                            0


typedef enum {
    GrandPiano_1 = 0,
    BrightPiano_2,
    ElGrdPiano_3,
    HonkyTonkPiano,
    ElPiano1,
    ElPiano2,
    Harpsichord,
    Clavi,
    Celesta,
    Glockenspiel,
    MusicBox,
    Vibraphone,
    Marimba,
    Xylophone,
    TubularBells,
    Santur,
    DrawbarOrgan,
    PercussiveOrgan,
    RockOrgan,
    ChurchOrgan,
    ReedOrgan,
    AccordionFrench,
    Harmonica,
    TangoAccordion,
    AcGuitarNylon,
    AcGuitarSteel,
    AcGuitarJazz,
    AcGuitarClean,
    AcGuitarMuted,
    OverdrivenGuitar,
    DistortionGuitar,
    GuitarHarmonics,
    AcousticBass,
    FingerBass,
    PickedBass,
    FretlessBass,
    SlapBass1,
    SlapBass2,
    SynthBass1,
    SynthBass2,
    Violin,
    Viola,
    Cello,
    Contrabass,
    TremoloStrings,
    PizzicatoStrings,
    OrchestralHarp,
    Timpani,
    StringEnsemble1,
    StringEnsemble2,
    SynthStrings1,
    SynthStrings2,
    ChoirAahs,
    VoiceOohs,
    SynthVoice,
    OrchestraHit,
    Trumpet,
    Trombone,
    Tuba,
    MutedTrumpet,
    FrenchHorn,
    BrassSection,
    SynthBrass1,
    SynthBrass2,
    SopranoSax,
    AltoSax,
    TenorSax,
    BaritoneSax,
    Oboe,
    EnglishHorn,
    Bassoon,
    Clarinet,
    Piccolo,
    Flute,
    Recorder,
    PanFlute,
    BlownBottle,
    Shakuhachi,
    Whistle,
    Ocarina,
    Lead1Square,
    Lead2Sawtooth,
    Lead3Calliope,
    Lead4Chiff,
    Lead5Charang,
    Lead6Voice,
    Lead7Fifths,
    Lead8BassLead,
    Pad1Fantasia,
    Pad2Warm,
    Pad3PolySynth,
    Pad4Choir,
    Pad5Bowed,
    Pad6Metallic,
    Pad7Halo,
    Pad8Sweep,
    FX1Rain,
    FX2Soundtrack,
    FX3Crystal,
    FX4Atmosphere,
    FX5Brightness,
    FX6Goblins,
    FX7Echoes,
    FX8SciFi,
    Sitar,
    Banjo,
    Shamisen,
    Koto,
    Kalimba,
    BagPipe,
    Fiddle,
    Shanai,
    TinkleBell,
    Agogo,
    SteelDrums,
    Woodblock,
    TaikoDrum,
    MelodicTom,
    SynthDrum,
    ReverseCymbal,
    GtFretNoise,
    BreathNoise,
    Seashore,
    BirdTweet,
    TelephRing,
    Helicopter,
    Applause,
    Gunshot,
} unit_synth_instrument_t;
```

</details>

### å®‰è£…

æ­¥éª¤ 1. ä¸‹è½½ [Seeed_Arduino_MIDIMaster](https://github.com/Seeed-Studio/Seeed_Arduino_MIDIMaster) åº“ä½œä¸º ZIP æ–‡ä»¶ã€‚

<div class="github_container" style={{textAlign: 'center'}}>
    <a class="github_item" href="ttps://github.com/Seeed-Studio/Seeed_Arduino_MIDIMaster" target="_blank" rel="noopener noreferrer">
    <strong><span><font color={'FFFFFF'} size={"4"}>ä¸‹è½½ä»£ç </font></span></strong> <svg aria-hidden="true" focusable="false" role="img" className="mr-2" viewBox="-3 10 9 1" width={16} height={16} fill="currentColor" style={{textAlign: 'center', display: 'inline-block', userSelect: 'none', verticalAlign: 'text-bottom', overflow: 'visible'}}><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z" /></svg>
    </a>
</div><br />

æ­¥éª¤ 2. åœ¨ Arduino IDE ä¸­ï¼Œç‚¹å‡» **Sketch > Include Library > Add .ZIP Library** å¹¶é€‰æ‹©ä¸‹è½½çš„ ZIP æ–‡ä»¶ã€‚

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/Get_Started_With_Arduino/img/Add_Zip.png" style={{width:800, height:'auto'}}/></div>

## XIAO MIDI åˆæˆå™¨ç¤ºä¾‹

ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº†åº“å¹¶äº†è§£äº†åŸºæœ¬åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬è¿è¡Œä¸€äº› XIAO MIDI åˆæˆå™¨çš„ç¤ºä¾‹æ¥çœ‹çœ‹å®ƒçš„è¡¨ç°ã€‚

**æ­¥éª¤ 1.** å¯åŠ¨ Arduino åº”ç”¨ç¨‹åºã€‚

<div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/seeed_logo/arduino.jpg" style={{width:800, height:'auto'}}/></div>

<div class="download_arduino_container" style={{textAlign: 'center'}}>
    <a class="download_arduino_item" href="https://www.arduino.cc/en/software"><strong><span><font color={'FFFFFF'} size={"4"}>ä¸‹è½½ Arduino IDE</font></span></strong></a>
</div>

**æ­¥éª¤ 2.** é€‰æ‹©æ‚¨çš„å¼€å‘æ¿å‹å·å¹¶å°†å…¶æ·»åŠ åˆ° Arduino IDE ä¸­ã€‚

- XIAO MIDI åˆæˆå™¨å†…ç½® **XIAO ESP32-C3**ï¼Œè¯·å‚è€ƒ **[æ­¤æ•™ç¨‹](https://wiki.seeedstudio.com/cn/XIAO_ESP32C3_Getting_Started/)** å®Œæˆæ·»åŠ ã€‚

### æ¼”ç¤º 1ï¼šåŸºæœ¬ MIDI éŸ³ç¬¦æ’­æ”¾

æ­¤æ¼”ç¤ºå±•ç¤ºå¦‚ä½•ä½¿ç”¨ XIAO MIDI åˆæˆå™¨æ’­æ”¾å•ä¸ªéŸ³ç¬¦ã€‚

#### æ‰€éœ€ææ–™

<div class="table-center">
 <table align="center">
  <tr>
   <th>XIAO MIDI åˆæˆå™¨</th>
  </tr>
  <tr>
   <td><div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/6.jpg" style={{width:250, height:'auto'}}/></div></td>
  </tr>
  <tr>
   <td><div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="https://www.seeedstudio.com/XIAO-MIDI-Synthesizer-p-6462.html" target="_blank">
    <strong><span><font color={'FFFFFF'} size={"4"}> ç«‹å³è´­ä¹° ğŸ–±ï¸</font></span></strong>
    </a>
   </div></td>
  </tr>
 </table>
</div>

#### å‚è€ƒç¨‹åº

```cpp
#include <Arduino.h>
#include "SAM2695Synth.h"

#ifdef __AVR__
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(2, 3); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if defined(ARDUINO_ARCH_RP2040) || defined(ARDUINO_ARCH_RP2350) ||  defined(ARDUINO_XIAO_RA4M1) 
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(D7, D6); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if  defined(CONFIG_IDF_TARGET_ESP32C3) || defined(CONFIG_IDF_TARGET_ESP32C6) || defined(CONFIG_IDF_TARGET_ESP32S3)
    #define COM_SERIAL Serial0
    #define SHOW_SERIAL Serial
    SAM2695Synth<HardwareSerial> synth = SAM2695Synth<HardwareSerial>::getInstance();
#endif

#ifdef SEEED_XIAO_M0
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#elif defined(ARDUINO_SAMD_VARIANT_COMPLIANCE)
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL SerialUSB
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif

#if defined(NRF52840_XXAA)
    #ifdef USE_TINYUSB
    #include <Adafruit_TinyUSB.h>
    #endif
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial

    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif


void setup()
{
  //serial init to usb
  SHOW_SERIAL.begin(USB_SERIAL_BAUD_RATE);
  // Synth initialization. Since a hardware serial port is used here, the software serial port is commented out.
  synth.begin(COM_SERIAL, MIDI_SERIAL_BAUD_RATE);
  synth.setInstrument(0,CHANNEL_0,unit_synth_instrument_t::GrandPiano_1);
  delay(1000);
}

void loop()
{
  synth.setNoteOn(CHANNEL_0,NOTE_E4,VELOCITY_DEFAULT);
  delay(1000);
  synth.setNoteOff(CHANNEL_0,NOTE_E4);
  delay(1000);
}
```

> æ­¤ä»£ç å°†åœ¨å†…ç½®åˆæˆå™¨ä¸Šæ’­æ”¾ E4 éŸ³ç¬¦ï¼Œæ¯ç§’äº¤æ›¿å¼€å…³ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹éŸ³ç¬¦ã€ä¹å™¨æˆ–æ—¶é—´ã€‚

#### ç¨‹åºæ³¨é‡Š

æ­¤ä»£ç ä»£è¡¨äº† XIAO MIDI åˆæˆå™¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäº SAM2695 åˆæˆå™¨èŠ¯ç‰‡çš„ç´§å‡‘éŸ³é¢‘åˆæˆè§£å†³æ–¹æ¡ˆã€‚è½¯ä»¶å®ç°æ¼”ç¤ºäº†åˆæˆå™¨å¦‚ä½•é€šè¿‡ä¸åŒçš„ä¸²è¡Œé€šä¿¡æ–¹æ³•ä¸å„ç§ XIAO å¹³å°å˜ä½“è¿›è¡Œæ¥å£ã€‚

XIAO MIDI åˆæˆå™¨é€šè¿‡æ¡ä»¶ç¼–è¯‘æ”¯æŒ XIAO ç”Ÿæ€ç³»ç»Ÿä¸­çš„å¤šä¸ªå¾®æ§åˆ¶å™¨å¹³å°ï¼š

- **åŸºäº AVR çš„å¼€å‘æ¿**ï¼šåˆ©ç”¨ SoftwareSerial ä¸åˆæˆå™¨èŠ¯ç‰‡é€šä¿¡
- **RP2040/RP2350 å’Œ XIAO RA4M1**ï¼šåœ¨æŒ‡å®šå¼•è„šï¼ˆD7ã€D6ï¼‰ä¸Šå®ç° SoftwareSerial
- **ESP32 å˜ä½“**ï¼šé€šè¿‡ Serial0 åˆ©ç”¨åŸç”Ÿç¡¬ä»¶ä¸²è¡ŒåŠŸèƒ½
- **åŸºäº SAMD çš„å¼€å‘æ¿**ï¼ˆåŒ…æ‹¬ XIAO M0ï¼‰ï¼šä½¿ç”¨ç¡¬ä»¶ UART æ¥å£
- **nRF52840**ï¼šå®ç° UART é€šä¿¡ï¼Œå¯é€‰æ”¯æŒ TinyUSB

è¿™ç§å¤šåŠŸèƒ½æ–¹æ³•ç¡®ä¿åˆæˆå™¨æ¨¡å—åœ¨æ•´ä¸ª XIAO äº§å“ç³»åˆ—ä¸­ä¿æŒä¸€è‡´çš„å·¥ä½œã€‚

åˆæˆå™¨å®ç°å»ºç«‹äº†ä¸¤ä¸ªé€šä¿¡è·¯å¾„ï¼š

```cpp
  SHOW_SERIAL.begin(USB_SERIAL_BAUD_RATE);
  synth.begin(COM_SERIAL, MIDI_SERIAL_BAUD_RATE);
```

- ä¸ SAM2695 èŠ¯ç‰‡çš„ä¸“ç”¨ä¸²è¡Œè¿æ¥ï¼Œç”¨äº MIDI å‘½ä»¤
- ç”¨äºç›‘æ§å’Œæ§åˆ¶çš„ç‹¬ç«‹è°ƒè¯•/ç”¨æˆ·ç•Œé¢ä¸²è¡Œè¿æ¥

åœ¨å¯åŠ¨æœŸé—´ï¼ŒXIAO MIDI åˆæˆå™¨ï¼š

1. ä»¥é€‚å½“çš„æ³¢ç‰¹ç‡å»ºç«‹ä¸²è¡Œé€šä¿¡
2. åˆå§‹åŒ– SAM2695 åˆæˆå™¨å¼•æ“
3. åœ¨é€šé“ 0 ä¸Šé…ç½®é»˜è®¤ä¹å™¨ï¼ˆå¤§é’¢ç´ï¼‰

```cpp
  synth.setInstrument(0,CHANNEL_0,unit_synth_instrument_t::GrandPiano_1);
```

4. é€šè¿‡æ—¶é—´å»¶è¿Ÿå…è®¸ç¨³å®š

æ¼”ç¤ºå¾ªç¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å±•ç¤ºåŸºæœ¬å£°éŸ³ç”ŸæˆåŠŸèƒ½ï¼š

```cpp
void loop()
{
  synth.setNoteOn(CHANNEL_0,NOTE_E4,VELOCITY_DEFAULT);
  delay(1000);
  synth.setNoteOff(CHANNEL_0,NOTE_E4);
  delay(1000);
}
```

1. ä»¥æ ‡å‡†åŠ›åº¦è§¦å‘ E4 éŸ³ç¬¦
2. ä¿æŒéŸ³ç¬¦ä¸€ç§’é’Ÿ
3. é‡Šæ”¾éŸ³ç¬¦
4. åœ¨ä¸‹ä¸€ä¸ªå¾ªç¯å‰æš‚åœ

æ­¤å®ç°ä»£è¡¨äº†ä½¿ç”¨ XIAO MIDI åˆæˆå™¨å¹³å°æ„å»ºæ›´å¤æ‚éŸ³ä¹åº”ç”¨çš„åŸºç¡€ï¼Œæ— è®ºæ˜¯ç”¨äºæ•™è‚²ç›®çš„ã€éŸ³ä¹åŸå‹åˆ¶ä½œè¿˜æ˜¯åµŒå…¥å¼éŸ³é¢‘é¡¹ç›®ã€‚

### æ¼”ç¤º 2ï¼šå¸¦æŒ‰é’®æ§åˆ¶çš„èŠ‚æ‹å™¨

æ­¤æ¼”ç¤ºå±•ç¤ºå¦‚ä½•ä½¿ç”¨ XIAO MIDI åˆæˆå™¨çš„ç‰©ç†æŒ‰é’®æ¥æ§åˆ¶ç®€å•çš„èŠ‚æ‹å™¨ã€‚æ‚¨å¯ä»¥å¯åŠ¨/åœæ­¢èŠ‚æ‹ï¼Œå¹¶ä½¿ç”¨æŒ‰é’®å®æ—¶è°ƒæ•´èŠ‚æ‹ã€‚

#### æ‰€éœ€ææ–™

<div class="table-center">
 <table align="center">
  <tr>
   <th>XIAO MIDI åˆæˆå™¨</th>
  </tr>
  <tr>
   <td><div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/6.jpg" style={{width:250, height:'auto'}}/></div></td>
  </tr>
  <tr>
   <td><div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="https://www.seeedstudio.com/XIAO-MIDI-Synthesizer-p-6462.html" target="_blank">
    <strong><span><font color={'FFFFFF'} size={"4"}> ç«‹å³è´­ä¹° ğŸ–±ï¸</font></span></strong>
    </a>
   </div></td>
  </tr>
 </table>
</div>

#### å‚è€ƒç¨‹åº

```cpp
#include <Arduino.h>
#include "SAM2695Synth.h"
#include "Button.h"

#ifdef __AVR__
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(2, 3); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if defined(ARDUINO_ARCH_RP2040) || defined(ARDUINO_ARCH_RP2350) ||  defined(ARDUINO_XIAO_RA4M1) 
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(D7, D6); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if  defined(CONFIG_IDF_TARGET_ESP32C3) || defined(CONFIG_IDF_TARGET_ESP32C6) || defined(CONFIG_IDF_TARGET_ESP32S3) 
    #define COM_SERIAL Serial0
    #define SHOW_SERIAL Serial
    SAM2695Synth<HardwareSerial> synth = SAM2695Synth<HardwareSerial>::getInstance();
#endif

#ifdef SEEED_XIAO_M0
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#elif defined(ARDUINO_SAMD_VARIANT_COMPLIANCE)
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL SerialUSB
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif


#if defined(NRF52840_XXAA)
    #ifdef USE_TINYUSB
    #include <Adafruit_TinyUSB.h>
    #endif
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial

    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif

#if defined(CONFIG_IDF_TARGET_ESP32S3)
    #define BUTTON_A_PIN 4
    #define BUTTON_B_PIN 3
    #define BUTTON_C_PIN 2 
    #define BUTTON_D_PIN 1 
#elif defined(CONFIG_IDF_TARGET_ESP32C3)
    #define BUTTON_A_PIN 5
    #define BUTTON_B_PIN 4
    #define BUTTON_C_PIN 3 
    #define BUTTON_D_PIN 2 
#elif defined(CONFIG_IDF_TARGET_ESP32C6)
    #define BUTTON_A_PIN 21
    #define BUTTON_B_PIN 2
    #define BUTTON_C_PIN 1 
    #define BUTTON_D_PIN 0
#else //You need to refer to the corresponding manual...
    #define BUTTON_A_PIN 0 //You need to refer to the corresponding manual...
    #define BUTTON_B_PIN 1 //You need to refer to the corresponding manual...
    #define BUTTON_C_PIN 2 //You need to refer to the corresponding manual...
    #define BUTTON_D_PIN 3 //You need to refer to the corresponding manual...
#endif

//Define the structure needed for the button
BtnState btnA = {HIGH, HIGH, 0, 0, false};
BtnState btnB = {HIGH, HIGH, 0, 0, false};
BtnState btnC = {HIGH, HIGH, 0, 0, false};


bool music_on_off_flag = false;
int bpm = BPM_DEFAULT;                            // init BPMï¼ŒBPM_DEFAULT = 120
int beatsPerBar = BEATS_BAR_DEFAULT;              // Beats per measure, which can be 2, 3, or 4
int noteType = QUATER_NOTE;                       // Note type selection: 0 (quarter note), 1 (eighth note), 2 (sixteenth note)
int beatCount = 0;                                // Beat counter
unsigned long previousMillis = 0;                 // Record the time of the last MIDI signal sent


void setup()
{
    //serial init to usb
    SHOW_SERIAL.begin(USB_SERIAL_BAUD_RATE);
    // Synth initialization. Since a hardware serial port is used here, the software serial port is commented out.
    synth.begin(COM_SERIAL, MIDI_SERIAL_BAUD_RATE);
    synth.setInstrument(0,CHANNEL_0,unit_synth_instrument_t::GrandPiano_1);
    initButtons(BUTTON_A_PIN);
    initButtons(BUTTON_B_PIN);
    initButtons(BUTTON_C_PIN);

    delay(1000);
}

void loop()
{
    detectButtonEvents(BUTTON_A_PIN, btnA, shortPressFlag_A, longPressFlag_A, releaseFlag_A);
    detectButtonEvents(BUTTON_B_PIN, btnB, shortPressFlag_B, longPressFlag_B, releaseFlag_B);
    detectButtonEvents(BUTTON_C_PIN, btnC, shortPressFlag_C, longPressFlag_C, releaseFlag_C);
    if(shortPressFlag_A){
        shortPressFlag_A = false;
        music_on_off_flag = !music_on_off_flag;
    }
    if(shortPressFlag_B){
        shortPressFlag_B = false;
        synth.increaseBpm();
    }
    if(shortPressFlag_C){
        shortPressFlag_C = false;
        synth.decreaseBpm();
    }
    play();
}

void play()
{
    // Calculate the interval between each beat (quarter note) in milliseconds
    // 60,000 milliseconds equals 1 minute
    // Adjust interval based on note type
    unsigned long interval = (BASIC_TIME / synth.getBpm()) / (noteType + 1); 

    if(music_on_off_flag)
    {
        unsigned long currentMillis = millis();
        if (currentMillis - previousMillis >= interval)
        {
            previousMillis = currentMillis;
            if (beatCount == 0)
                synth.setNoteOn(CHANNEL_9, NOTE_D2, VELOCITY_DEFAULT);
            else
                synth.setNoteOn(CHANNEL_9, NOTE_C2, VELOCITY_DEFAULT);

            // Increment beat count
            beatCount++;

            // Every four beats, indicating the end of a measure
            if (beatCount >= beatsPerBar)
            {
                // Reset count
                beatCount = 0;
            }
        }
    }
}
```

> è¿™æ®µä»£ç æ¼”ç¤ºäº†ä¸€ä¸ªç®€å•çš„èŠ‚æ‹åºåˆ—å™¨ã€‚æŒ‰é’® A åˆ‡æ¢èŠ‚æ‹çš„å¼€/å…³ï¼ŒæŒ‰é’® B å¢åŠ èŠ‚æ‹ï¼ˆBPMï¼‰ï¼ŒæŒ‰é’® C å‡å°‘èŠ‚æ‹ã€‚åºåˆ—å™¨ä½¿ç”¨ MIDI é€šé“ 9 ä¸Šçš„ MIDI éŸ³ç¬¦æ’­æ”¾åŸºæœ¬çš„é¼“ç‚¹æ¨¡å¼ã€‚æ‚¨å¯ä»¥æ‰©å±•æ­¤ç¤ºä¾‹ä»¥æ·»åŠ æ›´å¤æ‚çš„èŠ‚æ‹æˆ–å…¶ä»–æŒ‰é’®åŠŸèƒ½ã€‚

#### ç¨‹åºæ³¨é‡Š

è¯¥ç¨‹åºåœ¨åŸºæœ¬ MIDI éŸ³ç¬¦æ¼”ç¤ºçš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ç‰©ç†æŒ‰é’®å¼•å…¥äº†å®æ—¶ç”¨æˆ·äº¤äº’ã€‚ä»£ç ä½¿ç”¨ä¸‰ä¸ªæŒ‰é’®ï¼š

- **æŒ‰é’® A**ï¼šå¯åŠ¨/åœæ­¢èŠ‚æ‹åºåˆ—
- **æŒ‰é’® B**ï¼šå¢åŠ èŠ‚æ‹ï¼ˆBPMï¼‰
- **æŒ‰é’® C**ï¼šå‡å°‘èŠ‚æ‹ï¼ˆBPMï¼‰

`play()` å‡½æ•°æ ¹æ®å½“å‰ BPM å’ŒéŸ³ç¬¦ç±»å‹è®¡ç®—èŠ‚æ‹é—´éš”ï¼Œå¹¶åœ¨é‡å¤æ¨¡å¼ä¸­è§¦å‘é¼“å£°ï¼ˆä½¿ç”¨é€šé“ 9 ä¸Šçš„ MIDI éŸ³ç¬¦ D2 å’Œ C2ï¼‰ã€‚èŠ‚æ‹è®¡æ•°æ¯å°èŠ‚é‡ç½®ï¼Œåˆ›å»ºç®€å•çš„èŠ‚æ‹å™¨æˆ–é¼“æœºæ•ˆæœã€‚

æ­¤ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ï¼š

- é›†æˆæŒ‰é’®è¾“å…¥è¿›è¡Œå®æ—¶æ§åˆ¶
- åŠ¨æ€è°ƒæ•´èŠ‚æ‹å’Œæ’­æ”¾çŠ¶æ€
- å°† XIAO MIDI åˆæˆå™¨ç”¨ä½œå¯ç¼–ç¨‹èŠ‚æ‹ç”Ÿæˆå™¨

æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ æ›´å¤šæŒ‰é’®ã€æ”¯æŒä¸åŒçš„é¼“å£°æˆ–å®ç°æ›´é«˜çº§çš„åºåˆ—å™¨é€»è¾‘æ¥è¿›ä¸€æ­¥å¢å¼ºæ­¤æ¼”ç¤ºã€‚

### æ¼”ç¤º 3ï¼šå¸¦æŒ‰é’®æ§åˆ¶çš„å¤šè½¨å’Œå¼¦æ’­æ”¾

æ­¤æ¼”ç¤ºå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ XIAO MIDI åˆæˆå™¨æ’­æ”¾å¤šè½¨å’Œå¼¦ï¼Œæ¯ä¸ªå’Œå¼¦ç”±æŒ‰é’®è§¦å‘ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç‰©ç†æŒ‰é’®ç‹¬ç«‹å¯åŠ¨/åœæ­¢ä¸¤ç§ä¸åŒçš„å’Œå¼¦æ¨¡å¼ã€‚

#### æ‰€éœ€ææ–™

<div class="table-center">
 <table align="center">
  <tr>
   <th>XIAO MIDI åˆæˆå™¨</th>
  </tr>
  <tr>
   <td><div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/6.jpg" style={{width:250, height:'auto'}}/></div></td>
  </tr>
  <tr>
   <td><div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="https://www.seeedstudio.com/XIAO-MIDI-Synthesizer-p-6462.html" target="_blank">
    <strong><span><font color={'FFFFFF'} size={"4"}> ç«‹å³è´­ä¹° ğŸ–±ï¸</font></span></strong>
    </a>
   </div></td>
  </tr>
 </table>
</div>

#### å‚è€ƒç¨‹åº

```cpp
#include <Arduino.h>
#include "SAM2695Synth.h"
#include "Button.h"

#ifdef __AVR__
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(2, 3); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if defined(ARDUINO_ARCH_RP2040) || defined(ARDUINO_ARCH_RP2350) ||  defined(ARDUINO_XIAO_RA4M1) 
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(D7, D6); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if  defined(CONFIG_IDF_TARGET_ESP32C3) || defined(CONFIG_IDF_TARGET_ESP32C6) || defined(CONFIG_IDF_TARGET_ESP32S3)
    #define COM_SERIAL Serial0
    #define SHOW_SERIAL Serial
    SAM2695Synth<HardwareSerial> synth = SAM2695Synth<HardwareSerial>::getInstance();
#endif

#ifdef SEEED_XIAO_M0
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#elif defined(ARDUINO_SAMD_VARIANT_COMPLIANCE)
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL SerialUSB
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif

#if defined(NRF52840_XXAA)
    #ifdef USE_TINYUSB
    #include <Adafruit_TinyUSB.h>
    #endif
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial

    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif

#if defined(CONFIG_IDF_TARGET_ESP32S3)
    #define BUTTON_A_PIN 4
    #define BUTTON_B_PIN 3
    #define BUTTON_C_PIN 2 
    #define BUTTON_D_PIN 1 
#elif defined(CONFIG_IDF_TARGET_ESP32C3)
    #define BUTTON_A_PIN 5
    #define BUTTON_B_PIN 4
    #define BUTTON_C_PIN 3 
    #define BUTTON_D_PIN 2 
#elif defined(CONFIG_IDF_TARGET_ESP32C6)
    #define BUTTON_A_PIN 21
    #define BUTTON_B_PIN 2
    #define BUTTON_C_PIN 1 
    #define BUTTON_D_PIN 0
#else //You need to refer to the corresponding manual...
    #define BUTTON_A_PIN 0 //You need to refer to the corresponding manual...
    #define BUTTON_B_PIN 1 //You need to refer to the corresponding manual...
    #define BUTTON_C_PIN 2 //You need to refer to the corresponding manual...
    #define BUTTON_D_PIN 3 //You need to refer to the corresponding manual...
#endif

//Define the structure needed for the button
BtnState btnA = {HIGH, HIGH, 0, 0, false};
BtnState btnB = {HIGH, HIGH, 0, 0, false};

//Example of multi-track chord data definition
// This structure controls playback on channel 9, with only two notes being played. 
// The sound is set to the default sound, and the duration can be adjusted as needed.
const musicData chordTwoNotes =
{
    CHANNEL_1,                          //play on channel 9
    {
        {NOTE_C2, true},                //NOTE_C2 on
        {NOTE_FS2, true},               //NOTE_FS2 on
        {NOTE_E6, false},               //NOTE_E6 off
        {NOTE_CS5, false},              //NOTE_CS5 off
    },
    VELOCITY_DEFAULT ,                  //default velocity(64)
    0,                                  // index Not used here
    BPM_DEFAULT*8,                      //interval time
};

const musicData chordFourNotes =
{
    CHANNEL_2,                          // play on channel 0
    {
        {NOTE_F2, true},                // NOTE_F2 on
        {NOTE_B2, true},                // NOTE_B2 on
        {NOTE_E6, true},                // NOTE_E6 on
        {NOTE_CS5, true},               // NOTE_CS5 on
    },
    VELOCITY_DEFAULT ,                  // default velocity(64)
    0,                                  // index Not used here
    BPM_DEFAULT*4,                      // interval time
};

bool chordTwoNotesFlag = false;         // on or off chord_twoNotes
bool chordFourNotesFlag = false;        // on or off chord_fourNotes
unsigned long preMillisTwoNotes = 0;    // Record the time of the last MIDI signal sent on chord_twoNotes
unsigned long preMillisFourNotes= 0;    // Record the time of the last MIDI signal sent on const musicData chord_fourNotes =


void setup()
{
    //serial init to usb
    SHOW_SERIAL.begin(USB_SERIAL_BAUD_RATE);
    // Synth initialization. Since a hardware serial port is used here, the software serial port is commented out.
    synth.begin(COM_SERIAL, MIDI_SERIAL_BAUD_RATE);
    synth.setInstrument(0,CHANNEL_0,unit_synth_instrument_t::GrandPiano_1);
    // Initialize the buttons you are using.
    initButtons(BUTTON_A_PIN);
    initButtons(BUTTON_B_PIN);

    delay(1000);
}

void loop()
{
    detectButtonEvents(BUTTON_A_PIN, btnA, shortPressFlag_A, longPressFlag_A, releaseFlag_A);
    detectButtonEvents(BUTTON_B_PIN, btnB, shortPressFlag_B, longPressFlag_B, releaseFlag_B);
    if(shortPressFlag_A)
    {
        shortPressFlag_A = false;
        chordTwoNotesFlag = !chordTwoNotesFlag;
    }
    if(shortPressFlag_B)
    {
        shortPressFlag_B = false;
        chordFourNotesFlag = !chordFourNotesFlag;
    }
    play();
}

void play()
{
    unsigned long currentMillis = millis();
    if(chordTwoNotesFlag)
    {
        if (currentMillis - preMillisTwoNotes >= chordTwoNotes.delay)
        {
            preMillisTwoNotes = currentMillis;
            synth.playChord(chordTwoNotes);
        }
    }

    if(chordFourNotesFlag)
    {
        if (currentMillis - preMillisFourNotes >= chordFourNotes.delay)
        {
            preMillisFourNotes = currentMillis;
            synth.playChord(chordFourNotes);
        }
    }
}
```

> è¿™æ®µä»£ç æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ä¸¤ä¸ªæŒ‰é’®è§¦å‘ä¸¤ç§ä¸åŒçš„å¤šéŸ³ç¬¦å’Œå¼¦ã€‚æŒ‰é’® A åˆ‡æ¢åŒéŸ³ç¬¦å’Œå¼¦çš„æ’­æ”¾ï¼ŒæŒ‰é’® B åˆ‡æ¢å››éŸ³ç¬¦å’Œå¼¦çš„æ’­æ”¾ã€‚æ¯ä¸ªå’Œå¼¦åœ¨ä¸åŒçš„ MIDI é€šé“ä¸Šæ’­æ”¾ï¼Œå¹¶å…·æœ‰è‡ªå·±çš„æ—¶åºã€‚

#### ç¨‹åºæ³¨é‡Š

è¯¥ç¨‹åºæ¼”ç¤ºäº†å¸¦å®æ—¶æŒ‰é’®æ§åˆ¶çš„å¤šè½¨å’Œå¼¦æ’­æ”¾ã€‚ä»£ç å®šä¹‰äº†ä¸¤ç§å’Œå¼¦æ¨¡å¼ï¼ˆ`chordTwoNotes` å’Œ `chordFourNotes`ï¼‰ï¼Œæ¯ç§éƒ½æœ‰è‡ªå·±çš„ MIDI é€šé“ã€éŸ³ç¬¦å’Œæ—¶åºã€‚ä½¿ç”¨ä¸¤ä¸ªæŒ‰é’®ï¼š

- **æŒ‰é’® A**ï¼šå¯åŠ¨/åœæ­¢åŒéŸ³ç¬¦å’Œå¼¦åºåˆ—
- **æŒ‰é’® B**ï¼šå¯åŠ¨/åœæ­¢å››éŸ³ç¬¦å’Œå¼¦åºåˆ—

`play()` å‡½æ•°æ£€æŸ¥æ¯ä¸ªå’Œå¼¦çš„æ—¶åºï¼Œå¦‚æœç›¸åº”çš„æ ‡å¿—è¢«å¯ç”¨ï¼Œåˆ™è§¦å‘æ’­æ”¾ã€‚è¿™å…è®¸ä¸åŒå’Œå¼¦æ¨¡å¼çš„ç‹¬ç«‹ã€é‡å æ’­æ”¾ï¼Œæ¨¡æ‹Ÿç®€å•çš„å¤šè½¨åºåˆ—å™¨ã€‚

æ­¤ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ï¼š

- å®šä¹‰å’Œæ’­æ”¾è‡ªå®šä¹‰å’Œå¼¦ç»“æ„
- ä½¿ç”¨å¤šä¸ªæŒ‰é’®è¿›è¡Œç‹¬ç«‹çš„éŸ³ä¹æ§åˆ¶
- ä½¿ç”¨ XIAO MIDI åˆæˆå™¨æ„å»ºæ›´å¤æ‚çš„åˆ†å±‚éŸ³ä¹è¡¨æ¼”

æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ æ›´å¤šå’Œå¼¦æ¨¡å¼ã€æ”¯æŒå…¶ä»–æŒ‰é’®æˆ–åŒæ­¥æ’­æ”¾ä»¥è·å¾—æ›´é«˜çº§çš„éŸ³ä¹æ•ˆæœæ¥æ‰©å±•æ­¤æ¼”ç¤ºã€‚

### æ¼”ç¤º 4ï¼šæ’­æ”¾å®Œæ•´çš„æ—‹å¾‹åºåˆ—

æ­¤æ¼”ç¤ºå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ XIAO MIDI åˆæˆå™¨æ’­æ”¾å®Œæ•´çš„æ—‹å¾‹åºåˆ—ï¼ˆå¦‚æ­Œæ›²ï¼‰ï¼Œé€šè¿‡åœ¨æ•°ç»„ä¸­å­˜å‚¨éŸ³ç¬¦ã€æŒç»­æ—¶é—´å’Œå»¶è¿Ÿæ•°æ®ã€‚è¯¥ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨å†…ç½®çš„å°æç´ä¹å™¨æ’­æ”¾é¢„ç¼–ç¨‹çš„æ—‹å¾‹ã€‚

#### æ‰€éœ€ææ–™

<div class="table-center">
 <table align="center">
  <tr>
   <th>XIAO MIDI åˆæˆå™¨</th>
  </tr>
  <tr>
   <td><div style={{textAlign:'center'}}><img src="https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/6.jpg" style={{width:250, height:'auto'}}/></div></td>
  </tr>
  <tr>
   <td><div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="https://www.seeedstudio.com/XIAO-MIDI-Synthesizer-p-6462.html" target="_blank">
    <strong><span><font color={'FFFFFF'} size={"4"}> ç«‹å³è´­ä¹° ğŸ–±ï¸</font></span></strong>
    </a>
   </div></td>
  </tr>
 </table>
</div>

#### å‚è€ƒç¨‹åº

```cpp
#include <SAM2695Synth.h>

#ifdef __AVR__
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(2, 3); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if defined(ARDUINO_ARCH_RP2040) || defined(ARDUINO_ARCH_RP2350) ||  defined(ARDUINO_XIAO_RA4M1) 
    #include <SoftwareSerial.h>
    SoftwareSerial SSerial(D7, D6); // RX, TX
    #define COM_SERIAL SSerial
    #define SHOW_SERIAL Serial
    SAM2695Synth<SoftwareSerial> synth = SAM2695Synth<SoftwareSerial>::getInstance();
#endif

#if  defined(CONFIG_IDF_TARGET_ESP32C3) || defined(CONFIG_IDF_TARGET_ESP32C6) || defined(CONFIG_IDF_TARGET_ESP32S3) 
    #define COM_SERIAL Serial0
    #define SHOW_SERIAL Serial
    SAM2695Synth<HardwareSerial> synth = SAM2695Synth<HardwareSerial>::getInstance();
#endif

#ifdef SEEED_XIAO_M0
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#elif defined(ARDUINO_SAMD_VARIANT_COMPLIANCE)
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL SerialUSB
    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif


#if defined(NRF52840_XXAA)
    #ifdef USE_TINYUSB
    #include <Adafruit_TinyUSB.h>
    #endif
    #define COM_SERIAL Serial1
    #define SHOW_SERIAL Serial

    SAM2695Synth<Uart> synth = SAM2695Synth<Uart>::getInstance();
#endif

// Can be moved in header file i.e notes.h
#define ARRAY_LEN(array) (sizeof(array) / sizeof(array[0]))

const int midi1[453][3] = {
 {NOTE_D4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_C4, 600, 0},
 {NOTE_D4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 1500, 0},
 {NOTE_D4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_C4, 600, 0},
 {NOTE_D4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 2000, 500},


 {NOTE_F4, 300, 0},
 {NOTE_E4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_A3, 300, 0},
 {NOTE_D4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1200, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 2000, 500},


 {NOTE_C4, 1200, 0},
 {NOTE_E4, 400, 0},
 {NOTE_F4, 2000, 500},
 {NOTE_C4, 1500, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 1600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_AS4, 600, 0},
 {NOTE_A4, 1200, 0},
 {NOTE_G4, 500, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 1000, 500},
 {NOTE_F4, 400, 0},
 {NOTE_E4, 300, 0},
 {NOTE_F4, 3000, 0},
 {NOTE_C4, 1200, 0},
 {NOTE_E4, 400, 0},
 {NOTE_F4, 2000, 500},
 {NOTE_C4, 1500, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 1600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_AS4, 600, 0},
 {NOTE_A4, 1200, 0},
 {NOTE_G4, 500, 0},
 {NOTE_F4, 800, 0},
 {NOTE_G4, 800, 0},
 {NOTE_AS4, 400, 0},
 {NOTE_A4, 300, 0},
 {NOTE_F4, 3000, 0},

 {NOTE_AS4, 1200, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 2000, 500},
 {NOTE_AS4, 1200, 0},
 {NOTE_F4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 2000, 500},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_C4, 600, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 1100, 500},
 {NOTE_F4, 300, 0},
 {NOTE_AS4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 1800, 500},
 {NOTE_C4, 300, 0},
 {NOTE_E4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 1000, 500},


 {NOTE_G4, 400, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 700, 0},
 {NOTE_F4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_A4, 1500, 500},


 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1200, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 1200, 500},


 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_B4, 300, 57},
 {NOTE_A4, 1000, 0},

 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1000, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 1000, 0},


 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_B4, 300, 26},
 {NOTE_A4, 1200, 0},


 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1000, 0},
 {NOTE_E4, 1000, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},


 {NOTE_C4, 800, 0},
 {NOTE_C4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_DS4, 300, 0},
 {NOTE_D4, 300, 0},
 {NOTE_C4, 600, 0},
 {NOTE_AS3, 600, 0},
 {NOTE_C4, 2000, 0},
 {NOTE_C4, 800, 0},
 {NOTE_C4, 800, 0},
 {NOTE_DS4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_GS4, 600, 0},
 {NOTE_G4, 1200, 0},
 {NOTE_C4, 800, 0},
 {NOTE_C4, 800, 0},
 {NOTE_DS4, 300, 0},
 {NOTE_D4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_AS3, 600, 0},
 {NOTE_C4, 1200, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_GS4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_DS4, 600, 1200},


 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 500, 100},
 {NOTE_G4, 500, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 500, 0},
 {NOTE_F4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 500, 100},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_B4, 300, 57},
 {NOTE_A4, 1000, 0},


 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1000, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 1500, 0},


 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 10},
 {NOTE_B4, 300, 10},
 {NOTE_A4, 1500, 0},
 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1200, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 1500, 0},


 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_B4, 300, 57},
 {NOTE_A4, 1200, 0},
 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1200, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 2000, 0},


 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_G4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_A4, 1200, 0},
 {NOTE_G3, 300, 0},
 {NOTE_C4, 300, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_G4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_D4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 300, 0},
 {NOTE_B4, 300, 0},
 {NOTE_G4, 300, 0},
 {NOTE_A4, 600, 0},
 {NOTE_F4, 600, 0},
 {NOTE_E4, 600, 0},
 {NOTE_D4, 1200, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 300, 0},
 {NOTE_E4, 600, 0},
 {NOTE_F4, 1500, 0},
};

void playMidi(const int notes[][3], size_t len) {
    for (int i = 0; i < len; i++) {
        // Play note
        synth.setNoteOn(CHANNEL_0, notes[i][0], 110);
        delay(notes[i][1]);
        // Stop note
        synth.setNoteOff(CHANNEL_0, notes[i][0]);
        delay(notes[i][2]);
    }
}

void setup() {
    // Initialize USB serial port
    SHOW_SERIAL.begin(USB_SERIAL_BAUD_RATE);
    // Initialize MIDI synthesizer
    synth.begin(COM_SERIAL, MIDI_SERIAL_BAUD_RATE);
    // Set instrument sound to Violin
    synth.setInstrument(0, CHANNEL_0, unit_synth_instrument_t::Violin);
    delay(1000);

    // Play MIDI notes
    playMidi(midi1, ARRAY_LEN(midi1));
}

void loop() {
    // Main loop is empty because the music only plays once
}
```

> æ­¤ä»£ç æ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡éå†ä¸€ä¸ªåŒ…å«éŸ³ç¬¦ã€æŒç»­æ—¶é—´å’Œå»¶è¿Ÿçš„å¤§å‹æ•°ç»„æ¥æ’­æ”¾å®Œæ•´çš„æ—‹å¾‹åºåˆ—ã€‚æ—‹å¾‹å°†åœ¨ä¸Šç”µæˆ–å¤ä½åæ’­æ”¾ä¸€æ¬¡ã€‚æ‚¨å¯ä»¥ä¿®æ”¹æ•°ç»„æ¥æ’­æ”¾ä¸åŒçš„æ­Œæ›²æˆ–æ·»åŠ æ›´å¤æ‚çš„ç¼–æ’ã€‚

#### ç¨‹åºæ³¨é‡Š

æ­¤ç¨‹åºæ¼”ç¤ºäº†å¦‚ä½•ï¼š

- å°†å®Œæ•´æ—‹å¾‹å­˜å‚¨ä¸ºéŸ³ç¬¦ã€æŒç»­æ—¶é—´å’Œå»¶è¿Ÿå€¼çš„æ•°ç»„
- ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼ˆ`playMidi`ï¼‰éå†æ—‹å¾‹å¹¶æŒ‰é¡ºåºæ’­æ”¾æ¯ä¸ªéŸ³ç¬¦
- é€‰æ‹©ç‰¹å®šä¹å™¨ï¼ˆå°æç´ï¼‰è¿›è¡Œæ’­æ”¾
- åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨æ’­æ”¾æ­Œæ›²

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰©å±•æ­¤æ¼”ç¤ºï¼š

- æ›´æ”¹ä¹å™¨æˆ–éŸ³ç¬¦æ•°æ®ä»¥æ’­æ”¾ä¸åŒçš„æ­Œæ›²
- æ·»åŠ æŒ‰é’®æ§åˆ¶æ¥å¯åŠ¨/åœæ­¢æˆ–é‡å¤æ’­æ”¾
- å®ç°å¤šè½¨æˆ–å¤éŸ³æ’­æ”¾ä»¥è·å¾—æ›´é«˜çº§çš„éŸ³ä¹æ•ˆæœ

:::tip
å¯¹äºå¸Œæœ›å°† MIDI æ–‡ä»¶è½¬æ¢ä¸º Arduino ä»£ç çš„ç”¨æˆ·ï¼Œæ‚¨å¯ä»¥å°è¯•ä½¿ç”¨ [Midi2ArduinoTone](https://tawsiftorabi.github.io/Midi2ArduinoTone/) ç­‰å·¥å…·ã€‚ä½†æ˜¯ï¼Œè¯·æ³¨æ„æ­¤ç±»å·¥å…·ç”Ÿæˆçš„éŸ³ç¬¦å€¼å¯èƒ½éœ€è¦ä¿®æ”¹æ‰èƒ½ä¸ XIAO MIDI åˆæˆå™¨é…åˆä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬ä½¿ç”¨ä¸åŒçš„éŸ³ç¬¦æ˜ å°„ã€‚è¿™äº›å·¥å…·ä»ç„¶å¯ä»¥ä½œä¸ºå°† MIDI æ–‡ä»¶è½¬æ¢ä¸ºæ‚¨å¯ä»¥ä¸ºæ­¤åˆæˆå™¨è°ƒæ•´çš„æ ¼å¼çš„èµ·ç‚¹ã€‚

:::

## èµ„æº

- **[PDF]** [XIAO MIDI åˆæˆå™¨åŸç†å›¾](https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/res/202004281_XIAO_MIDI_Synthesizer_v1.0_SCH&PDF_250421.pdf)
- **[ZIP]** [XIAO MIDI åˆæˆå™¨åŸç†å›¾å’Œ PCB](https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/res/202004281_XIAO_MIDI_Synthesizer_v1.0_SCH&PCB_050421.zip)
- **[GitHub]** [Seeed_Arduino_MIDIMaster åº“](https://github.com/Seeed-Studio/Seeed_Arduino_MIDIMaster)

## æ•…éšœæ’é™¤

### Q1ï¼šå¦‚ä½•å°† MIDI æ–‡ä»¶è½¬æ¢ä¸º XIAO MIDI åˆæˆå™¨çš„ Arduino ä»£ç ï¼Ÿ

è¦å°† MIDI æ–‡ä»¶è½¬æ¢ä¸ºå¯ä¸ XIAO MIDI åˆæˆå™¨ä¸€èµ·ä½¿ç”¨çš„ Arduino ä»£ç ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. è·å– MIDI æ–‡ä»¶

    æ‚¨å¯ä»¥ä»ä»¥ä¸‹ç½‘ç«™ä¸‹è½½å…è´¹çš„ MIDI æ–‡ä»¶ï¼š
    - [The Wild West MIDIs](https://thewildwestmidis.github.io/?search=animals)
    - [LibreScore MIDI Library](https://github.com/LibreScore/app-librescore?tab=readme-ov-file#installation)

2. å°† MIDI æ–‡ä»¶è½¬æ¢ä¸ºæ–‡æœ¬

    ä½¿ç”¨å¼€æºå·¥å…· [midicomp](https://github.com/markc/midicomp) å°†æ‚¨çš„ MIDI æ–‡ä»¶è½¬æ¢ä¸ºäººç±»å¯è¯»çš„æ–‡æœ¬æ ¼å¼ã€‚

3. å°† MIDI æ–‡æœ¬è½¬æ¢ä¸ºå¯æ’­æ”¾çš„ä»£ç 

    ä½¿ç”¨ `midicomp` å°† MIDI æ–‡ä»¶è½¬æ¢ä¸ºæ–‡æœ¬æ ¼å¼åï¼Œæ‚¨éœ€è¦å°†æ­¤æ–‡æœ¬å¤„ç†ä¸º XIAO MIDI åˆæˆå™¨å¯ä»¥æ’­æ”¾çš„ C/C++ æ•°ç»„ã€‚Seeed æä¾› Python è„šæœ¬æ¥è‡ªåŠ¨åŒ–æ­¤è½¬æ¢ï¼š

    - **å¿«èŠ‚å¥ï¼Œå•è½¨ï¼ˆæ¯ä¸ªéŸ³ç¬¦å¼€å§‹ä½œä¸ºé—´éš”ï¼‰ï¼š**  
    [change_fast.py](https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/res/change_fast.py)
    - **æ…¢èŠ‚å¥ï¼Œå•è½¨ï¼ˆæ¯ä¸ªéŸ³ç¬¦ç»“æŸä½œä¸ºé—´éš”ï¼‰ï¼š**  
    [change_shuqing.py](https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/res/change_shuqing.py)
    - **å¤šè½¨å¤„ç†ï¼š**  
    [change_mutich.py](https://files.seeedstudio.com/wiki/xiao_midi_synthesizer/res/change_mutich.py)

    **ä½¿ç”¨ç¤ºä¾‹ï¼š**

    1. å°†æ‚¨çš„ MIDI æ–‡æœ¬æ–‡ä»¶ï¼ˆä¾‹å¦‚ `1.txt`ï¼‰æ”¾åœ¨ä¸è„šæœ¬ç›¸åŒçš„ç›®å½•ä¸­ã€‚
    2. åœ¨ç»ˆç«¯ä¸­è¿è¡Œè„šæœ¬ï¼š

    ```sh
    python change_fast.py
    ```

    è¿™å°†ç”Ÿæˆä¸€ä¸ªåŒ…å«éŸ³ç¬¦æ•°ç»„çš„å¤´æ–‡ä»¶ï¼ˆä¾‹å¦‚ `track_from_miditext.h`ï¼‰ã€‚

    3. å°†ç”Ÿæˆçš„æ•°ç»„å¤åˆ¶åˆ°æ‚¨çš„ Arduino è‰å›¾ä¸­ï¼Œæ›¿æ¢æ—‹å¾‹æ•°æ®ã€‚

    :::tip
    - è„šæœ¬ä¼šè‡ªåŠ¨å°† MIDI éŸ³ç¬¦ç¼–å·æ˜ å°„åˆ° XIAO MIDI åˆæˆå™¨çš„éŸ³ç¬¦å®šä¹‰ã€‚
    - æ‚¨å¯ä»¥è°ƒæ•´è„šæœ¬æˆ–ç”Ÿæˆçš„æ•°ç»„ä»¥è¿›è¡Œè‡ªå®šä¹‰ç¼–æ’æˆ–é€‚åº”å†…å­˜é™åˆ¶ã€‚
    :::

    4. é›†æˆç”Ÿæˆçš„ä»£ç 

    - æ‰“å¼€ç”Ÿæˆçš„ `.h` æ–‡ä»¶å¹¶å¤åˆ¶ `musicData` æ•°ç»„ã€‚
    - å°†å…¶ç²˜è´´åˆ°æ‚¨çš„ Arduino é¡¹ç›®ä¸­ï¼Œæ›¿æ¢ç°æœ‰çš„æ—‹å¾‹æ•°ç»„ã€‚
    - å¦‚æœéœ€è¦ï¼Œæ›´æ–°æ‚¨çš„æ’­æ”¾é€»è¾‘ä»¥åŒ¹é…æ–°çš„æ•°ç»„ç»“æ„ã€‚

### Q2ï¼šä¸ºä»€ä¹ˆæœ‰æ—¶æ— æ³•å‘ XIAO MIDI åˆæˆå™¨ä¸Šä¼ ç¨‹åºï¼Ÿ

ç”±äº ESP32-C3 çš„ç¨‹åºæ˜¯é€šè¿‡ UART çƒ§å½•çš„ï¼Œå¶å°”çš„ç¨‹åºå´©æºƒå¯èƒ½å¯¼è‡´é”™è¯¯ï¼Œé˜»æ­¢ç¨‹åºä¸Šä¼ åˆ° XIAOã€‚æ­¤å¤–ï¼Œç”±äº XIAO å’Œ MIDI æ¿ç›´æ¥é€šè¿‡ UART é€šä¿¡ï¼Œä¼ ç»Ÿçš„å¼•å¯¼æ–¹æ³•å¯èƒ½æ— æ³•ç›´æ¥ä¸ XIAO é…åˆä½¿ç”¨ã€‚æ‚¨å¯ä»¥å°è¯•ä»¥ä¸‹æ–¹æ³•ï¼š

1. æ‰“å¼€ XIAO MIDI åˆæˆå™¨ç”µæºå¹¶å–ä¸‹ XIAO ESP32-C3 å¼€å‘æ¿ã€‚
2. æ–­å¼€ USB çº¿ç¼†ã€‚
3. æŒ‰ä½ XIAO ESP32-C3 æ¿ä¸Šçš„ B æŒ‰é’®ä¸æ¾å¼€ã€‚
4. é‡æ–°è¿æ¥ USB çº¿ç¼†ï¼Œç„¶åæ¾å¼€ B æŒ‰é’®ã€‚
5. ä¸Šä¼ ç¨‹åºã€‚

æ­¤ç¨‹åºåº”è¯¥èƒ½å¤ŸæˆåŠŸä¸Šä¼ ç¨‹åºã€‚

## æŠ€æœ¯æ”¯æŒä¸äº§å“è®¨è®º

æ„Ÿè°¢æ‚¨é€‰æ‹©æˆ‘ä»¬çš„äº§å“ï¼æˆ‘ä»¬åœ¨è¿™é‡Œä¸ºæ‚¨æä¾›ä¸åŒçš„æ”¯æŒï¼Œä»¥ç¡®ä¿æ‚¨ä½¿ç”¨æˆ‘ä»¬äº§å“çš„ä½“éªŒå°½å¯èƒ½é¡ºç•…ã€‚æˆ‘ä»¬æä¾›å¤šç§æ²Ÿé€šæ¸ é“ï¼Œä»¥æ»¡è¶³ä¸åŒçš„åå¥½å’Œéœ€æ±‚ã€‚

<div class="button_tech_support_container">
<a href="https://forum.seeedstudio.com/" class="button_forum"></a>
<a href="https://www.seeedstudio.com/contacts" class="button_email"></a>
</div>

<div class="button_tech_support_container">
<a href="https://discord.gg/eWkprNDMU7" class="button_discord"></a>
<a href="https://github.com/Seeed-Studio/wiki-documents/discussions/69" class="button_discussion"></a>
</div>
