---
description: ReSpeaker 4-Mic Array for Raspberry Pi
title: ReSpeaker 4-Mic Array for Raspberry Pi
keywords:
- reSpeaker
image: https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png
slug: /cn/ReSpeaker_4_Mic_Array_for_Raspberry_Pi
last_update:
  date: 1/11/2023
  author: jianjing Huang
---


![](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/img/overview.jpg)

ReSpeaker 4-Mic Array for Raspberry Pi æ˜¯ä¸€æ¬¾ä¸“ä¸º Raspberry Pi è®¾è®¡çš„å››éº¦å…‹é£æ‰©å±•æ¿ï¼Œé€‚ç”¨äº AI å’Œè¯­éŸ³åº”ç”¨ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªæ›´å¼ºå¤§ã€æ›´çµæ´»çš„è¯­éŸ³äº§å“ï¼Œé›†æˆ Amazon Alexa Voice Serviceã€Google Assistant ç­‰æœåŠ¡ã€‚

ä¸ [ReSpeaker 2-Mics Pi HAT](https://www.seeedstudio.com/ReSpeaker-2-Mics-Pi-HAT-p-2874.html) ä¸åŒï¼Œè¿™æ¬¾æ¿å­åŸºäº AC108 å¼€å‘ï¼Œè¿™æ˜¯ä¸€ä¸ªé«˜åº¦é›†æˆçš„å››é€šé“ ADCï¼Œå…·æœ‰ I2S/TDM è¾“å‡ºè½¬æ¢åŠŸèƒ½ï¼Œç”¨äºé«˜æ¸…è¯­éŸ³æ•è·ï¼Œä½¿è®¾å¤‡èƒ½å¤Ÿåœ¨ 3 ç±³åŠå¾„å†…æ‹¾å–å£°éŸ³ã€‚æ­¤å¤–ï¼Œè¿™ä¸ª 4-Mics ç‰ˆæœ¬é…å¤‡äº†ä¸€ä¸ª LED ç¯ï¼ŒåŒ…å« 12 ä¸ª APA102 å¯ç¼–ç¨‹ LEDã€‚é€šè¿‡è¿™ 4 ä¸ªéº¦å…‹é£å’Œ LED ç¯ï¼ŒRaspberry Pi å°†å…·å¤‡è¿›è¡Œ VADï¼ˆè¯­éŸ³æ´»åŠ¨æ£€æµ‹ï¼‰ã€ä¼°ç®— DOAï¼ˆåˆ°è¾¾æ–¹å‘ï¼‰ã€æ‰§è¡Œ KWSï¼ˆå…³é”®è¯æœç´¢ï¼‰å¹¶é€šè¿‡ LED ç¯æ˜¾ç¤ºæ–¹å‘çš„èƒ½åŠ›ï¼Œå°±åƒ Amazon Echo æˆ– Google Home ä¸€æ ·ã€‚

<div class="video-container">
<iframe width="800" height="450" src="https://www.youtube.com/embed/IkSfBSf1IRo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

<div class="get_one_now_container" style={{textAlign: 'center'}}>
    <a class="get_one_now_item" href="https://www.seeedstudio.com/ReSpeaker-4-Mic-Array-for-Raspberry-Pi-p-2941.html" target="_blank"><strong><span><font color={'FFFFFF'} size={"4"}> ç«‹å³è·å– ğŸ–±ï¸</font></span></strong></a>
</div>

## ç‰¹æ€§

- Raspberry Pi å…¼å®¹ï¼ˆæ”¯æŒ Raspberry Pi Zero å’Œ Zero Wã€Raspberry PiB+ã€Raspberry Pi 2Bã€Raspberry Pi 3Bã€Raspberry Pi 3B+ã€Raspberry Pi3 A+ å’Œ Raspberry Pi 4Bï¼‰
- 4 ä¸ªéº¦å…‹é£
- 3 ç±³åŠå¾„è¯­éŸ³æ•è·
- 2 ä¸ª Grove æ¥å£
- 12 ä¸ª APA102 ç”¨æˆ· LED
- è½¯ä»¶ç®—æ³•ï¼šVADï¼ˆè¯­éŸ³æ´»åŠ¨æ£€æµ‹ï¼‰ã€DOAï¼ˆåˆ°è¾¾æ–¹å‘ï¼‰å’Œ KWSï¼ˆå…³é”®è¯æœç´¢ï¼‰

æ³¨æ„ï¼šReSpeaker 4-Mic Array for Raspberry Pi ä¸Šæ²¡æœ‰éŸ³é¢‘è¾“å‡ºæ¥å£ã€‚å®ƒä»…ç”¨äºè¯­éŸ³æ•è·ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Raspberry Pi ä¸Šçš„[è€³æœºæ’å­”](https://www.raspberrypi.org/documentation/configuration/audio-config.md)è¿›è¡ŒéŸ³é¢‘è¾“å‡ºã€‚

## åº”ç”¨åˆ›æ„

- è¯­éŸ³äº¤äº’åº”ç”¨
- AI åŠ©æ‰‹

## ç¡¬ä»¶æ¦‚è¿°

![](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/img/features.png)

- MICï¼š4 ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£
- LEDï¼š12 ä¸ª APA102 å¯ç¼–ç¨‹ RGB LEDï¼Œè¿æ¥åˆ° SPI æ¥å£
- Raspberry Pi 40 é’ˆæ’é’ˆï¼šå…¼å®¹ Raspberry Pi Zero å’Œ Zero Wã€Raspberry PiB+ã€Raspberry Pi 2Bã€Raspberry Pi 3Bã€Raspberry Pi 3B+ã€Raspberry Pi3 A+ å’Œ Raspberry Pi 4
- AC108ï¼šé«˜åº¦é›†æˆçš„å››é€šé“ ADCï¼Œå…·æœ‰ I2S/TDM è¾“å‡ºè½¬æ¢åŠŸèƒ½
- I2Cï¼šGrove I2C ç«¯å£ï¼Œè¿æ¥åˆ° I2C-1
- GPIO12ï¼šGrove æ•°å­—ç«¯å£ï¼Œè¿æ¥åˆ° GPIO12 å’Œ GPIO13

æ³¨æ„ï¼šå¦‚æœæ‚¨ä½¿ç”¨ APA102 RGB LEDï¼Œè¯·ç¡®ä¿é¦–å…ˆå‘ `GPIO5` å†™å…¥ HIGH ä»¥å¯ç”¨ LED çš„ VCCã€‚

## å¼€å§‹ä½¿ç”¨

**å°† ReSpeaker 4-Mic Array è¿æ¥åˆ° Raspberry Pi**

å°† ReSpeaker 4-Mic Array å®‰è£…åˆ° Raspberry Pi ä¸Šï¼Œåœ¨å †å  ReSpeaker 4-Mic Array for Raspberry Pi æ—¶ï¼Œè¯·ç¡®ä¿å¼•è„šæ­£ç¡®å¯¹é½ã€‚

æ³¨æ„ï¼šä¸å…è®¸çƒ­æ’æ‹” ReSpeaker 4-Mic Arrayã€‚è¿™ä¼šæŸå respeakerã€‚

![connection pic1](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/img/connect1.jpg)
![connection pic2](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/img/connect2.jpg)

**å®‰è£…é©±åŠ¨ç¨‹åº**

ç¡®ä¿æ‚¨åœ¨ Pi ä¸Šè¿è¡Œçš„æ˜¯[æœ€æ–°çš„ Raspberry Pi OS](https://www.raspberrypi.org/downloads/raspbian/)ã€‚*(æ›´æ–°äº 2021.06.30)*

- æ­¥éª¤ 1. è·å– Seeed å£°å¡æºä»£ç ï¼Œå®‰è£…å¹¶é‡å¯ã€‚

```
sudo apt-get update
git clone https://github.com/HinTak/seeed-voicecard.git
cd seeed-voicecard
sudo ./install.sh
sudo reboot now
```

- æ­¥éª¤ 2. ç„¶ååœ¨æ ‘è“æ´¾ä¸Šé€‰æ‹©éŸ³é¢‘è¾“å‡º:

```sh
sudo raspi-config
# Select 1 System options
# Select S2 Audio
# Select your preferred Audio output device
# Select Finish
```

- æ­¥éª¤ 3. æ£€æŸ¥å£°å¡åç§°æ˜¯å¦å¦‚ä¸‹æ‰€ç¤ºï¼š

```sh
pi@raspberrypi:~ $ arecord -L
null
    Discard all samples (playback) or generate zero samples (capture)
jack
    JACK Audio Connection Kit
pulse
    PulseAudio Sound Server
default
playback
ac108
sysdefault:CARD=seeed4micvoicec
    seeed-4mic-voicecard,
    Default Audio Device
dmix:CARD=seeed4micvoicec,DEV=0
    seeed-4mic-voicecard,
    Direct sample mixing device
dsnoop:CARD=seeed4micvoicec,DEV=0
    seeed-4mic-voicecard,
    Direct sample snooping device
hw:CARD=seeed4micvoicec,DEV=0
    seeed-4mic-voicecard,
    Direct hardware device without any conversions
plughw:CARD=seeed4micvoicec,DEV=0
    seeed-4mic-voicecard,
    Hardware device with all software conversions
usbstream:CARD=seeed4micvoicec
    seeed-4mic-voicecard
    USB Stream Output
usbstream:CARD=ALSA
    bcm2835 ALSA
    USB Stream Output
```

å¦‚æœæˆ‘ä»¬æƒ³è¦æ›´æ”¹ `alsa` è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ `sudo alsactl --file=ac108_asound.state store` æ¥ä¿å­˜å®ƒã€‚å½“æˆ‘ä»¬éœ€è¦å†æ¬¡ä½¿ç”¨è¿™äº›è®¾ç½®æ—¶ï¼Œå°†å…¶å¤åˆ¶åˆ°ï¼š`sudo cp ~/seeed-voicecard/ac108_asound.state /var/lib/alsa/asound.state`

- æ­¥éª¤ 4. æ‰“å¼€ Audacity å¹¶é€‰æ‹© **AC108 & 4 channels** ä½œä¸ºè¾“å…¥ï¼Œé€‰æ‹© **bcm2835 alsa: - (hw:0:0)** ä½œä¸ºè¾“å‡ºè¿›è¡Œæµ‹è¯•ï¼š

```sh
sudo apt update
sudo apt install audacity
audacity                      // run audacity
```

![](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/img/audacity.png)

- æˆ–è€…ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Lite Raspbian Pi OS é•œåƒä¸”æ²¡æœ‰ GUIï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `arecord` å½•éŸ³å¹¶ä½¿ç”¨ `aplay` æ’­æ”¾ï¼š

```
sudo apt-get install sox                             //for audio conversion
arecord -Dac108 -f S32_LE -r 16000 -c 4 hello.wav    // only support 4 channels
sox hello.wav -c 2 stereo.wav                        // convert to stereo
aplay stereo.wav                                      // make sure default device
                                                     // Audio will come out via audio jack of Raspberry Pi
```

## ä½¿ç”¨æ¦‚è¿°

è¦è¿è¡Œä»¥ä¸‹ç¤ºä¾‹ï¼Œè¯·å°† [4mics_hat ä»“åº“](https://github.com/respeaker/4mics_hat.git) å…‹éš†åˆ°æ‚¨çš„æ ‘è“æ´¾ä¸Š

```
git clone https://github.com/respeaker/4mics_hat.git
```

ä¸‹é¢ç¤ºä¾‹ä¸­æåˆ°çš„æ‰€æœ‰ Python è„šæœ¬éƒ½å¯ä»¥åœ¨æ­¤ä»“åº“ä¸­æ‰¾åˆ°ã€‚è¦å®‰è£…å¿…è¦çš„ä¾èµ–é¡¹ï¼Œè¯·ä» mic_hat ä»“åº“æ–‡ä»¶å¤¹è¿è¡Œ

```
sudo apt-get install portaudio19-dev libatlas-base-dev
pip3 install -r requirements.txt
```

**APA102 LED**

æ¯ä¸ªæ¿è½½ APA102 LED éƒ½æœ‰ä¸€ä¸ªé¢å¤–çš„é©±åŠ¨èŠ¯ç‰‡ã€‚é©±åŠ¨èŠ¯ç‰‡è´Ÿè´£é€šè¿‡å…¶è¾“å…¥çº¿æ¥æ”¶æ‰€éœ€çš„é¢œè‰²ï¼Œç„¶åä¿æŒè¿™ä¸ªé¢œè‰²ç›´åˆ°æ¥æ”¶åˆ°æ–°çš„å‘½ä»¤ã€‚

![](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/img/rainbow.jpg)

- æ­¥éª¤ 1. æ¿€æ´» SPIï¼š

```bash
sudo raspi-config
```

1. é€‰æ‹© "Interfacing Options"
2. é€‰æ‹© "SPI"
3. é€‰æ‹©å¯ç”¨ SPI
4. æœ€åï¼Œé€€å‡ºå·¥å…·

- æ­¥éª¤ 2. ç„¶åè¿è¡Œç¤ºä¾‹ä»£ç ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ° LED åƒ Alexa åŠ©æ‰‹ä¸€æ ·é—ªçƒã€‚

```bash
python3 interfaces/pixels.py
```

### ä½¿ç”¨ Python å½•åˆ¶å£°éŸ³

æˆ‘ä»¬ä½¿ç”¨ [PyAudio python åº“](https://people.csail.mit.edu/hubert/pyaudio/) æ¥é€šè¿‡ Python å½•åˆ¶å£°éŸ³ã€‚

é¦–å…ˆï¼Œè¿è¡Œä»¥ä¸‹è„šæœ¬æ¥è·å– 2 Mic pi hat çš„è®¾å¤‡ç´¢å¼•å·ï¼š

```bash
python3 recording_examples/get_device_index.py
```

æ‚¨å°†çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„è®¾å¤‡ IDã€‚

```txt
Input Device id  2  -  seeed-4mic-voicecard: - (hw:1,0)
```

è¦å½•åˆ¶å£°éŸ³ï¼Œè¯·ä½¿ç”¨ nano æˆ–å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ ```recording_examples/record.py``` æ–‡ä»¶ï¼Œå¹¶å°† `RESPEAKER_INDEX = 2` æ›´æ”¹ä¸ºæ‚¨ç³»ç»Ÿä¸Š ReSpeaker çš„ç´¢å¼•å·ã€‚ç„¶åè¿è¡Œ python è„šæœ¬ record.py è¿›è¡Œå½•åˆ¶ï¼š

```bash
python3 recording_examples/record.py
```

- æ­¥éª¤ 6. å¦‚æœæ‚¨æƒ³ä» 4 ä¸ªé€šé“ä¸­æå–é€šé“ 0 çš„æ•°æ®ï¼Œè¯·æŸ¥çœ‹ ```record_one_channel.py``` çš„å†…å®¹ã€‚å¯¹äºå…¶ä»–é€šé“ Xï¼Œè¯·å°† [0::4] æ›´æ”¹ä¸º [X::4]ã€‚

```bash
python3 recording_examples/record_one_channel.py
```

è¦æ’­æ”¾å½•åˆ¶çš„æ ·æœ¬ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ aplay ç³»ç»Ÿå®ç”¨ç¨‹åºï¼Œä¾‹å¦‚

```bash
aplay -f cd -Dhw:0 output.wav #for Stereo sound
aplay -D plughw:0,0 output_one_channel.wav #for Mono sound from one channel
```

## å®æ—¶å£°æºå®šä½å’Œè·Ÿè¸ª

[ODAS](https://github.com/introlab/odas) ä»£è¡¨å¼€æ”¾å¼åµŒå…¥å¼å¬è§‰ç³»ç»Ÿã€‚è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ‰§è¡Œå£°æºå®šä½ã€è·Ÿè¸ªã€åˆ†ç¦»å’Œåæ»¤æ³¢çš„åº“ã€‚

- æ­¥éª¤ 1. è·å– [ODAS](https://github.com/introlab/odas.git) å¹¶æ„å»ºå®ƒã€‚

æˆ‘ä»¬å°†è°ƒç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶å°†åœ¨ bin ç›®å½•ä¸­ç”Ÿæˆ

```bash
sudo apt-get install libfftw3-dev libconfig-dev libasound2-dev libgconf-2-4
sudo apt-get install cmake
cd ~/Desktop
git clone https://github.com/introlab/odas.git
mkdir odas/build
cd odas/build
cmake ..
make
```

- æ­¥éª¤ 2. è·å– [ODAS Studio](https://github.com/introlab/odas_web) å¹¶è¿è¡Œå®ƒã€‚

Install nodejs v12.22 and npm 6.14.

```bash
sudo apt update
sudo apt -y install curl dirmngr apt-transport-https lsb-release ca-certificates
curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -
```

ç¡®ä¿å·²å®‰è£…ç›¸å…³çš„ç¼–è¯‘å·¥å…·

```bash
sudo apt -y install gcc g++ make
sudo apt -y install nodejs
```

ä½¿ç”¨ npm å®‰è£… odas_web ä¾èµ–é¡¹

```bash
cd ~/Desktop
git clone https://github.com/introlab/odas_web
cd odas_web
npm install
```

æˆ‘ä»¬çš„ç›®çš„æ˜¯å®‰è£…ç›¸å…³çš„ä¾èµ–æ¨¡å—è€Œæ— éœ€é‡æ–°æ„å»ºï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¿½ç•¥é‡æ–°æ„å»ºè¿‡ç¨‹ä¸­çš„é”™è¯¯ã€‚ç„¶åè¿è¡Œ npm startã€‚

```bash
npm start
```

æˆ–è€…æˆ‘ä»¬å¯ä»¥å°†Pythoné™çº§åˆ°2.7ç‰ˆæœ¬æ¥æ„å»ºæ—§çš„election-rebuildæ¨¡å—ã€‚ï¼ˆæˆ‘ä»¬ä¸å¿…æ‰§è¡Œè¿™ä¸€æ­¥ï¼‰

```bash
sudo apt remove python3 -y
sudo apt install python2 -y
```

- æ­¥éª¤ 3. odascore å°†ä½äº **~/Desktop/odas/build/bin/odaslive**ï¼Œé…ç½®æ–‡ä»¶ä½äº **~/Desktop/odas/config/odaslive/respeaker_4_mic_array.cfg**ã€‚

æˆ‘ä»¬éœ€è¦ä¿®æ”¹é…ç½®ä»¥å°†å£°å¡æŒ‡å®šä¸ºæˆ‘ä»¬çš„è®¾å¤‡

```bash
arecord -l  #type this commond  make sure u have arecord installed
```

ä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡º

```bash
pi@raspberrypi:~/Desktop/odas/config/odaslive $ arecord -l
**** List of CAPTURE Hardware Devices ****
card 3: seeed4micvoicec [seeed-4mic-voicecard], device 0: bcm2835-i2s-ac10x-codec0 ac10x-codec0-0 [bcm2835-i2s-ac10x-codec0 ac10x-codec0-0]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
```

åœ¨ cfg é…ç½®æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ 18th è¡Œçš„å£°å¡æŒ‡å®š

```bash
vim ~/Desktop/odas/config/odaslive/respeaker_4_mic_array.cfg
# Then type :18
# Then press Enter
# Then press i
# Change card = YOUR CARD ;  # We found in "arecord -l"
# For mine is
# card = 3 ;
# Then type  :wq  # To save the configuration file
```

ç„¶åæˆ‘ä»¬æ‰“å¼€ odas web ç•Œé¢ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥åœ¨ **Local System Monitor** ç•Œé¢ä¸­æŸ¥çœ‹ç³»ç»Ÿç›‘æ§æ•°æ®ï¼Œå¹¶åœ¨ **ODAS Control** ç•Œé¢ä¸­é€‰æ‹©æ§åˆ¶å†…æ ¸å’Œè¦è¯»å–çš„é…ç½®æ–‡ä»¶ã€‚

å¯åŠ¨ odas web GUI

```bash
cd ~/Desktop/odas_web
npm start
```

ç‚¹å‡» **ODAS Core** ä¸‹æ–¹çš„ç©ºç™½åŒºåŸŸè°ƒå‡ºæ–‡ä»¶æµè§ˆå™¨ï¼Œé€‰æ‹© "~/Desktop/odas/build/bin/odaslive" ä¸­çš„æ ¸å¿ƒè·¯å¾„

ç‚¹å‡» **ODAS Config** ä¸‹æ–¹çš„ç©ºç™½åŒºåŸŸè°ƒå‡ºæ–‡ä»¶æµè§ˆå™¨ï¼Œé€‰æ‹© "~/Desktop/odas/config/odaslive/respeaker_4_mic_array.cfg" ä¸­çš„é…ç½®è·¯å¾„

æ­£ç¡®é…ç½®åå°†å¦‚ä¸‹æ‰€ç¤º

![](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/img/odas.png)

## ä½¿ç”¨ Picovoice åœ¨è¾¹ç¼˜å¯ç”¨è¯­éŸ³è¯†åˆ«

<div align="center"><img width ="{700}" src="https://files.seeedstudio.com/wiki/ReSpeaker_4_Mic_Array_for_Raspberry_Pi/banner.gif"/></div>

[**Picovoice**](https://picovoice.ai/) **ä½¿ä¼ä¸šèƒ½å¤Ÿé€šè¿‡ç§æœ‰è¯­éŸ³ AI å¿«é€Ÿåˆ›æ–°å’Œå·®å¼‚åŒ–**ã€‚ä½¿ç”¨æˆ‘ä»¬çš„è¯­éŸ³è¯†åˆ«å’Œ[**è‡ªç„¶è¯­è¨€ç†è§£ (NLU) æŠ€æœ¯**](https://searchenterpriseai.techtarget.com/definition/natural-language-understanding-NLU)å›´ç»•æ‚¨çš„å“ç‰Œå’Œäº§å“æ„å»ºç»Ÿä¸€çš„ AI ç­–ç•¥ã€‚

**Seeed å·²ä¸ Picovoice åˆä½œï¼Œä¸ºå¼€å‘è€…ä½¿ç”¨ [ReSpeaker 4 Mic](https://www.seeedstudio.com/ReSpeaker-4-Mic-Array-for-Raspberry-Pi.html) åœ¨è¾¹ç¼˜æä¾›è¯­éŸ³è¯†åˆ«è§£å†³æ–¹æ¡ˆã€‚**

Picovoice æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯å¹³å°ï¼Œç”¨äºæŒ‰ç…§æ‚¨çš„æ¡ä»¶æ„å»ºè¯­éŸ³äº§å“ã€‚å®ƒèƒ½å¤Ÿåˆ›å»ºç±»ä¼¼äº Alexa å’Œ Google çš„è¯­éŸ³ä½“éªŒã€‚ä½†å®ƒå®Œå…¨åœ¨è®¾å¤‡ä¸Šè¿è¡Œ 100%ã€‚Picovoice çš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š

- **ç§å¯†æ€§**ï¼šæ‰€æœ‰å†…å®¹éƒ½åœ¨ç¦»çº¿å¤„ç†ã€‚æœ¬è´¨ä¸Šç¬¦åˆ HIPAA å’Œ GDPR åˆè§„æ€§ã€‚
- **å¯é æ€§**ï¼šæ— éœ€æŒç»­è¿æ¥å³å¯è¿è¡Œã€‚
- **é›¶å»¶è¿Ÿ**ï¼šè¾¹ç¼˜ä¼˜å…ˆæ¶æ„æ¶ˆé™¤äº†ä¸å¯é¢„æµ‹çš„ç½‘ç»œå»¶è¿Ÿã€‚
- **å‡†ç¡®æ€§**ï¼šå¯¹å™ªå£°å’Œæ··å“å…·æœ‰å¼¹æ€§ã€‚åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¼˜äºåŸºäºäº‘çš„æ›¿ä»£æ–¹æ¡ˆã€‚
- **è·¨å¹³å°**ï¼šä¸€æ¬¡è®¾è®¡ï¼Œéšå¤„éƒ¨ç½²ã€‚ä½¿ç”¨ç†Ÿæ‚‰çš„è¯­è¨€å’Œæ¡†æ¶æ„å»ºã€‚

### Picovoice ä¸ ReSpeaker 4-Mic Array å…¥é—¨æŒ‡å—

**æ­¥éª¤ 1.** è¯·åœ¨è¿›è¡Œä»¥ä¸‹æ“ä½œä¹‹å‰ï¼Œå…ˆæŒ‰ç…§**ä¸Šè¿° ReSpeaker 4-Mic Array ä¸ Raspberry Pi çš„åˆ†æ­¥æ•™ç¨‹**è¿›è¡Œæ“ä½œã€‚

**æ³¨æ„ï¼š** è¯·ç¡®ä¿ `Audacity` å’Œ `APA102` LED åœ¨ ReSpeaker 4-Mic Array ä¸ Raspberry Pi ä¸Šæ­£å¸¸å·¥ä½œã€‚

**æ­¥éª¤ 2.** æ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£… `pyaudio` é©±åŠ¨ç¨‹åºã€‚

```sh
pip3 install pyaudio
```

**æ³¨æ„**ï¼šè¯·ç¡®ä¿æ‚¨çš„æ ‘è“æ´¾å·²å®‰è£… `pip3`

**æ­¥éª¤ 3.** åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥**å®‰è£…é€‚ç”¨äº ReSpeaker 4-Mic Array çš„ Picovoice æ¼”ç¤ºç¨‹åº**ã€‚

```sh
pip3 install pvrespeakerdemo
```

### æ¼”ç¤ºç”¨æ³•

è¯¥æ¼”ç¤ºåœ¨æ ‘è“æ´¾ä¸Šä½¿ç”¨ ReSpeaker 4-Mic é˜µåˆ—é…åˆ Picovoice æŠ€æœ¯æ¥æ§åˆ¶ LEDã€‚**æ­¤æ¼”ç¤ºç”±å”¤é†’è¯"`Picovoice`"è§¦å‘ï¼Œå¹¶å‡†å¤‡æ‰§è¡Œåç»­æ“ä½œï¼Œå¦‚æ‰“å¼€å’Œå…³é—­ LEDï¼Œä»¥åŠæ”¹å˜ LED é¢œè‰²ã€‚**

å®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥æ­¤å‘½ä»¤æ¥è¿è¡Œæ¼”ç¤ºï¼š

```sh
picovoice_respeaker_demo
```

### Voice Commands

ä»¥ä¸‹æ˜¯æ­¤æ¼”ç¤ºçš„è¯­éŸ³å‘½ä»¤ï¼š

- **Picovoice**

The demo outputs:

```txt
wake word
```

- **Turn on the lights**

ä½ åº”è¯¥çœ‹åˆ°ç¯äº®èµ·ï¼Œå¹¶åœ¨ç»ˆç«¯ä¸­çœ‹åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š

```config
{
    is_understood : 'true',
    intent : 'turnLights',
    slots : {
        'state' : 'on',
    }
}
```

å‘½ä»¤åˆ—è¡¨æ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸Šï¼š

```config
context:
  expressions:
    turnLights:
      - "[switch, turn] $state:state (all) (the) [light, lights]"
      - "[switch, turn] (all) (the) [light, lights] $state:state"
    changeColor:
      - "[change, set, switch] (all) (the) (light, lights) (color) (to) $color:color"
  slots:
    state:
      - "off"
      - "on"
    color:
      - "blue"
      - "green"
      - "orange"
      - "pink"
      - "purple"
      - "red"
      - "white"
      - "yellow"
```

å¦å¤–ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨æ­¤å‘½ä»¤æ¥æ”¹å˜é¢œè‰²ï¼š

- **Picovoiceï¼ŒæŠŠç¯å…‰è®¾ç½®ä¸ºæ©™è‰²**

é€šè¿‡ä»¥ä¸‹å‘½ä»¤å…³é—­ç¯å…‰ï¼š

- **Picovoiceï¼Œå…³é—­æ‰€æœ‰ç¯**

**æ¼”ç¤ºè§†é¢‘å±•ç¤º**

<p style={{textAlign: 'center'}}><iframe width={720} height={480} src="https://www.youtube.com/embed/icTZeMIJAxw" frameBorder={0} allow="accelerometer; encrypted-media;gyroscope; picture-in-picture" allowFullScreen /></p>

### æ¼”ç¤ºæºä»£ç 

è¯¥æ¼”ç¤ºä½¿ç”¨ **[Picovoice SDK](https://github.com/Picovoice/picovoice)** æ„å»ºã€‚æ¼”ç¤ºæºä»£ç å¯åœ¨ GitHub ä¸Šè·å–ï¼š[Picovoice Respeaker Demo](https://github.com/Picovoice/picovoice/tree/master/demo/respeaker)

### ä¸åŒçš„å”¤é†’è¯

[**Picovoice SDK**](https://github.com/Picovoice/picovoice) åŒ…å«åœ¨ Apache 2.0 è®¸å¯ä¸‹çš„å…è´¹ç¤ºä¾‹å”¤é†’è¯ï¼ŒåŒ…æ‹¬ä¸»è¦è¯­éŸ³åŠ©æ‰‹ï¼ˆä¾‹å¦‚ "**`Hey Google`**"ã€"**`Alexa`**"ï¼‰ä»¥åŠæœ‰è¶£çš„å”¤é†’è¯å¦‚ "**`Computer`**" å’Œ "**`Jarvis`**"ã€‚

### è‡ªå®šä¹‰è¯­éŸ³å‘½ä»¤

ç¯å…‰æ§åˆ¶å‘½ä»¤ç”± Picovoice *è¯­éŸ³è½¬æ„å›¾ä¸Šä¸‹æ–‡* å®šä¹‰ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ Picovoice Console é€šè¿‡è¾“å…¥å…è®¸çš„è¯­æ³•æ¥è®¾è®¡å’Œè®­ç»ƒä¸Šä¸‹æ–‡ã€‚æ‚¨å¯ä»¥åœ¨ç¼–è¾‘æ—¶ä½¿ç”¨éº¦å…‹é£æŒ‰é’®åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æ‚¨çš„æ›´æ”¹ã€‚å‰å¾€ [Picovoice Console](https://picovoice.ai/console/) å¹¶æ³¨å†Œè´¦æˆ·ã€‚ä½¿ç”¨ **Rhino è¯­éŸ³è½¬æ„å›¾ç¼–è¾‘å™¨** åˆ›å»ºä¸Šä¸‹æ–‡ï¼Œç„¶åä¸º Raspberry Pi è®­ç»ƒå®ƒä»¬ã€‚

<div align="center"><img width ="{700}" src="https://files.seeedstudio.com/wiki/ReSpeaker_4_Mic_Array_for_Raspberry_Pi/respeaker_demo_console_edit.gif"/></div>

### å¤šå”¤é†’è¯ç¤ºä¾‹

<p style={{textAlign: 'center'}}><iframe width={720} height={480} src="https://www.youtube.com/embed/Dfn3wBE2pwY" frameBorder={0} allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowFullScreen /></p>

ä¸ºäº†å±•ç¤º Picovoice çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬è¿˜å‡†å¤‡äº†ä½¿ç”¨ ReSpeaker 4-Mic Array ä¸ Raspberry Pi çš„å¤šå”¤é†’è¯ç¤ºä¾‹ï¼ä¸åŒçš„å”¤é†’è¯å¯ä»¥è®¾ç½®ä¸ºæ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚

*æ­¤åŒ…åŒ…å«ä¸€ä¸ªå‘½ä»¤è¡Œæ¼”ç¤ºï¼Œç”¨äºä½¿ç”¨ Porcupine æ§åˆ¶ ReSpeaker 4-mic éº¦å…‹é£é˜µåˆ— LEDã€‚*

### Porcupine

**Porcupine** æ˜¯ä¸€ä¸ªé«˜ç²¾åº¦ä¸”è½»é‡çº§çš„å”¤é†’è¯å¼•æ“ã€‚å®ƒèƒ½å¤Ÿæ„å»ºå§‹ç»ˆç›‘å¬çš„è¯­éŸ³åº”ç”¨ç¨‹åºã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- ä½¿ç”¨åœ¨çœŸå®ç¯å¢ƒä¸­è®­ç»ƒçš„æ·±åº¦ç¥ç»ç½‘ç»œã€‚
- ç´§å‡‘ä¸”è®¡ç®—é«˜æ•ˆã€‚éå¸¸é€‚åˆç‰©è”ç½‘åº”ç”¨ã€‚
- è·¨å¹³å°ã€‚æ”¯æŒ Raspberry Piã€BeagleBoneã€Androidã€iOSã€Linux (x86_64)ã€macOS (x86_64)ã€Windows (x86_64) å’Œç½‘é¡µæµè§ˆå™¨ã€‚æ­¤å¤–ï¼Œä¼ä¸šå®¢æˆ·å¯ä»¥è®¿é—® ARM Cortex-M SDKã€‚
- å¯æ‰©å±•ã€‚å®ƒå¯ä»¥æ£€æµ‹å¤šä¸ªå§‹ç»ˆç›‘å¬çš„è¯­éŸ³å‘½ä»¤ï¼Œè€Œä¸ä¼šå¢åŠ è¿è¡Œæ—¶å ç”¨ç©ºé—´ã€‚
- è‡ªåŠ©æœåŠ¡ã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨ [Picovoice Console](https://picovoice.ai/console/) è®­ç»ƒè‡ªå®šä¹‰å”¤é†’è¯æ¨¡å‹ã€‚

#### å¤šå”¤é†’è¯å…¥é—¨æŒ‡å—

åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æ¼”ç¤ºé©±åŠ¨ç¨‹åºï¼š

```sh
pip3 install ppnrespeakerdemo
```

#### Multi Wake Word Usage

é©±åŠ¨ç¨‹åºå®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```sh
porcupine_respeaker_demo
```

ç­‰å¾…æ¼”ç¤ºåˆå§‹åŒ–å¹¶åœ¨ç»ˆç«¯ä¸­æ‰“å° `[Listening]`ã€‚è¯´ï¼š

> Picovoice

The demo outputs:

```text
detected 'Picovoice'
```

ç°åœ¨ç¯å…‰è®¾ç½®ä¸º `ç»¿è‰²`ã€‚è¯´ï¼š

> Alexa

ç¯å…‰ç°åœ¨è®¾ç½®ä¸º `é»„è‰²`ã€‚è¯´ï¼š

> Terminator

æ¥å…³é—­ç¯å…‰ã€‚

#### å”¤é†’è¯å¯¹åº”é¢œè‰²

ä»¥ä¸‹æ˜¯æ­¤æ¼”ç¤ºä¸­æ”¯æŒçš„å”¤é†’è¯å¯¹åº”çš„é¢œè‰²ï¼š

- ![#ffff33](https://via.placeholder.com/15/ffff33/000000?text=+) `Alexa`
- ![#ff8000](https://via.placeholder.com/15/ff8000/000000?text=+) `Bumblebee`
- ![#ffffff](https://via.placeholder.com/15/ffffff/000000?text=+) `Computer`
- ![#ff0000](https://via.placeholder.com/15/ff0000/000000?text=+) `Hey Google`
- ![#800080](https://via.placeholder.com/15/800080/000000?text=+) `Hey Siri`
- ![#ff3399](https://via.placeholder.com/15/ff3399/000000?text=+) `Jarvis`
- ![#00ff00](https://via.placeholder.com/15/00ff00/000000?text=+) `Picovoice`
- ![#0000ff](https://via.placeholder.com/15/0000ff/000000?text=+) `Porcupine`
- ![#000000](https://via.placeholder.com/15/000000/000000?text=+) `Terminator`

#### å¤šå”¤é†’è¯ç¤ºä¾‹æºä»£ç 

è¯·åœ¨æ­¤å¤„æŸ¥çœ‹æ­¤ç¤ºä¾‹çš„å®Œæ•´æºä»£ç ï¼š[Porcupine Respeaker Demo](https://github.com/Picovoice/porcupine/tree/master/demo/respeaker)

### Picovoice æŠ€æœ¯æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨ Picovoice æ—¶é‡åˆ°æŠ€æœ¯é—®é¢˜ï¼Œè¯·è®¿é—® **[Picovoice](https://github.com/Picovoice)** è¿›è¡Œè®¨è®ºã€‚

## å¸¸è§é—®é¢˜

**Q1ï¼šå½“æˆ‘ä»¬è¿è¡Œ kws_doa.py å¹¶è¯´ snow boy æ—¶æ²¡æœ‰å“åº”**

A2ï¼šè¯·è¿è¡Œ audacity ç¡®ä¿ 4 ä¸ªé€šé“éƒ½æ­£å¸¸ã€‚å¦‚æœæœ‰ä¸€ä¸ªé€šé“æ²¡æœ‰æ•°æ®ï¼Œå½“æˆ‘ä»¬è¯´ snow boy æ—¶å°±ä¸ä¼šæœ‰å“åº”ã€‚

**Q2ï¼šè¿è¡Œ "sudo pip install pyaudio" æ—¶å‡ºç° #include "portaudio.h" é”™è¯¯ã€‚**

A3ï¼šè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è§£å†³æ­¤é—®é¢˜ã€‚

```sh
sudo apt-get install portaudio19-dev
```

**Q3: ...WARNING: memory leak will occur if overlay removed... æ¶ˆæ¯å‡ºç°åœ¨ journalctl ä¸­**

A4: å½“é©±åŠ¨ç¨‹åºé¦–æ¬¡åŠ è½½æ—¶ï¼ˆå¯åŠ¨åï¼‰ï¼Œç¡®å®å­˜åœ¨ä¸€æ¬¡æ€§çš„å°å†…å­˜ä¸¢å¤±ã€‚ä½†æ˜¯ï¼Œç”±äºè¿™æ˜¯æ¯æ¬¡å¯åŠ¨æˆ–æ¯æ¬¡åŠ è½½æ—¶å‘ç”Ÿçš„ï¼Œè€Œå…¸å‹ç”¨æˆ·æ¯æ¬¡å¯åŠ¨åªéœ€è¦åŠ è½½é©±åŠ¨ç¨‹åºä¸€æ¬¡ï¼Œå› æ­¤æ¯æ¬¡å¯åŠ¨ä¸¢å¤±å‡ ä¸ªå­—èŠ‚çš„è·Ÿè¸ªå¹¶ä¸é‡è¦ã€‚æ‰€ä»¥è¿™åªæ˜¯ä¸€ä¸ªå°é—®é¢˜ï¼Œä¸å¤ªå¯èƒ½ä»¥å®é™…æ–¹å¼å½±å“ä»»ä½•ç”¨æˆ·ï¼Œé™¤äº†æ¯æ¬¡å¯åŠ¨æ—¶çœ‹åˆ°å…³äºå†…å­˜ä¸¢å¤±çš„ä»¤äººæ‹…å¿§çš„æ¶ˆæ¯ã€‚

## èµ„æº

- **[PDF]** [ReSpeaker æ ‘è“æ´¾ 4 éº¦å…‹é£é˜µåˆ—(PDF)](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/src/ReSpeaker%204-Mic%20Array%20for%20Raspberry%20Pi%20%20v1.0.pdf)
- **[DXF]** [ReSpeaker æ ‘è“æ´¾ 4 éº¦å…‹é£é˜µåˆ— v1.0](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/src/ReSpeaker%204-Mic%20Array%20for%20Raspberry%20Pi%20v1.0.dxf.zip)
- **[3D]** [ReSpeaker æ ‘è“æ´¾ 4 éº¦å…‹é£é˜µåˆ— v1.0 3D æ¨¡å‹](https://files.seeedstudio.com/wiki/ReSpeaker-4-Mic-Array-for-Raspberry-Pi/src/ReSpeaker%204-Mics%20Pi%20HAT%20v1.0.skp.zip)
- **[AC108]** [AC108 DataSheet](http://www.x-powers.com/en.php/Info/product_detail/article_id/41)
- **[é©±åŠ¨ç¨‹åº]** [Seeed-Voice é©±åŠ¨ç¨‹åº](https://github.com/respeaker/seeed-voicecard)
- **[ç®—æ³•]** [ç®—æ³•åŒ…æ‹¬ DOAã€VADã€NS](https://github.com/respeaker/mic_array)
- **[è¯­éŸ³å¼•æ“]** [è¯­éŸ³å¼•æ“é¡¹ç›®ï¼Œæä¾›åˆ›å»ºè¯­éŸ³å¯ç”¨å¯¹è±¡çš„æ„å»ºæ¨¡å—](https://github.com/voice-engine/voice-engine)
- **[ç®—æ³•]** [AEC](https://github.com/voice-engine/ec)

## æŠ€æœ¯æ”¯æŒä¸äº§å“è®¨è®º

æ„Ÿè°¢æ‚¨é€‰æ‹©æˆ‘ä»¬çš„äº§å“ï¼æˆ‘ä»¬åœ¨è¿™é‡Œä¸ºæ‚¨æä¾›ä¸åŒçš„æ”¯æŒï¼Œä»¥ç¡®ä¿æ‚¨ä½¿ç”¨æˆ‘ä»¬äº§å“çš„ä½“éªŒå°½å¯èƒ½é¡ºç•…ã€‚æˆ‘ä»¬æä¾›å¤šç§æ²Ÿé€šæ¸ é“ï¼Œä»¥æ»¡è¶³ä¸åŒçš„åå¥½å’Œéœ€æ±‚ã€‚

<div class="button_tech_support_container">
<a href="https://forum.seeedstudio.com/" class="button_forum"></a>
<a href="https://www.seeedstudio.com/contacts" class="button_email"></a>
</div>

<div class="button_tech_support_container">
<a href="https://discord.gg/eWkprNDMU7" class="button_discord"></a>
<a href="https://github.com/Seeed-Studio/wiki-documents/discussions/69" class="button_discussion"></a>
</div>
