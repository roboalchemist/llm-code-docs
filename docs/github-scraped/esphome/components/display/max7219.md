---
description: "Instructions for setting up MAX7219 7-segment displays."
title: "MAX7219 7-Segment Display"
params:
  seo:
    description: Instructions for setting up MAX7219 7-segment displays.
    image: max7219.jpg
---

The `max7219` display platform allows you to use MAX7219 7-segment display drivers (
[datasheet](https://datasheets.maximintegrated.com/en/ds/MAX7219-MAX7221.pdf),
[hobbycomponents](https://hobbycomponents.com/displays/597-max7219-8-digit-seven-segment-display-module))
with ESPHome. Please note that this component is *only* for 7-segment display, not matrix configurations.

{{< img src="max7219-full.jpg" alt="Image" caption="MAX7219 7-Segment Display." width="75.0%" class="align-center" >}}

As the communication with the MAX7219 is done using SPI for this component, you need
to have an [SPI bus](/components/spi) in your configuration with both the **mosi_pin** set (miso_pin is not required).
Connect VCC to 3.3V (the manufacturer recommends 4+ V, but 3.3V seems to work fine), DIN to your `mosi_pin` and
CS to your set `cs_pin` and finally GND to GND.

You can even daisy-chain multiple MAX7219s by connecting the DOUT of the previous chip in the chain to the
next DIN. With more than ~3 chips the 3.3V will probably not be enough, so then you will have to potentially
use a logic level converted.

```yaml
# Example configuration entry
spi:
  clk_pin: D0
  mosi_pin: D1

display:
  - platform: max7219
    cs_pin: D2
    num_chips: 1
    lambda: |-
      it.print("01234567");
```

## Configuration variables

- **cs_pin** (**Required**, [Pin Schema](/guides/configuration-types#pin-schema)): The pin you have the CS line hooked up to.
- **num_chips** (*Optional*, int): The number of chips you wish to use for daisy chaining. Defaults to
  `1`.

- **intensity** (*Optional*, int): The intensity with which the MAX7219 should drive the outputs. Range is from
  0 (least intense) to 15 (the default).

- **lambda** (*Optional*, [lambda](/automations/templates#config-lambda)): The lambda to use for rendering the content on the MAX7219.
  See [Rendering Lambda](#display-max7219_lambda) for more information.

- **update_interval** (*Optional*, [Time](/guides/configuration-types#time)): The interval to re-draw the screen. Defaults to `1s`.
- **spi_id** (*Optional*, [ID](/guides/configuration-types#id)): Manually specify the ID of the [SPI Component](/components/spi) if you want
  to use multiple SPI buses.

- **id** (*Optional*, [ID](/guides/configuration-types#id)): Manually specify the ID used for code generation.
- **reverse_enable** (*Optional*, boolean): For some displays the order of the chips is reversed so you'll see "56781234" instead of "12345678". This option will adjust the output to compensate. Defaults to `false`.

{{< anchor "display-max7219_lambda" >}}

## Rendering Lambda

The MAX7219 has a similar API to the fully fledged [Display Rendering Engine](/components/display#display-engine), but it's only a subset as the MAX7219
7-segment displays don't have a concept of individual pixels. In the lambda you're passed a variable called `it`
as with all other displays. In this case however, `it` is an MAX7219 instance (see API Reference).

The most basic operation with the MAX7219 is wiring a simple number to the screen as in the configuration example
at the top of this page. But even though you're passing in a string (here `"01234567"`  ), ESPHome converts it
into a representation that the MAX7219 can understand: The exact pixels that should be turned on. And of course,
not all characters can be represented. You can see a full list of characters [below](#display-max7219_characters).

Each of the three methods (`print`, `printf` and `strftime`  ) all optionally take a position argument at the
beginning which can be used to print the text at a specific position. This argument is `0` by default which
means the first character of the first MAX7219. For example to start the first character of your text at
the end of the first MAX7219, you would write `it.print(7, "0");`.

Also note that the `.` (dot) character is special because when ESPHome encounters it in the string the dot
segment of the previous position will be enabled.

```yaml
display:
  - platform: max7219
    # ...
    lambda: |-
      // Print 0 at position 0 (left)
      it.print("0");
      // Result: "0       "

      // Print 1 at position 1 (second character)
      it.print(1, "1");
      // Result: "01      "

      // Let's write a sensor value (let's assume it's 42.1)
      it.printf(3, "%.1f", id(my_sensor).state);
      // Result: "01 42.1  " (the dot will appear on the "2" segment)

      // Overwrite the previous content with blank
      it.print("        ");
      // Print a right-padded sensor value with 0 digits after the decimal
      it.printf("SENS%4.0f", id(my_sensor).state);
      // Result: "SENS  42"

      // Print the current time
      it.print("        ");
      it.strftime("%H.%M.%S", id(esptime).now());
      // Result for 10:06:42 -> "10.06.42  "

      // Change the display intnsity based on another id.
      // Value should be from 0-15.
      it.set_intensity(id(my_brightness));
```

Please see [Formatted Text](/components/display#display-printf) for a quick introduction into the `printf` formatting rules and
[Displaying Time](/components/display#display-strftime) for an introduction into the `strftime` time formatting.

{{< anchor "display-max7219_characters" >}}

## All 7-Segment Characters

| **MAX7219 Representation**              | **Character**     |
| --------------------------------------- | ----------------- |
| {{< img src="seg00.svg" alt="Image" >}} | *(space)*         |
| {{< img src="seg80.svg" alt="Image" >}} | `.`               |
| {{< img src="segB0.svg" alt="Image" >}} | `!`               |
| {{< img src="seg7E.svg" alt="Image" >}} | `0`, `O`        |
| {{< img src="seg30.svg" alt="Image" >}} | `1`, `I`        |
| {{< img src="seg6D.svg" alt="Image" >}} | `2`, `Z`        |
| {{< img src="seg79.svg" alt="Image" >}} | `3`               |
| {{< img src="seg33.svg" alt="Image" >}} | `4`               |
| {{< img src="seg5B.svg" alt="Image" >}} | `5`, `S`, `s` |
| {{< img src="seg5F.svg" alt="Image" >}} | `6`               |
| {{< img src="seg70.svg" alt="Image" >}} | `7`               |
| {{< img src="seg7F.svg" alt="Image" >}} | `8`               |
| {{< img src="seg73.svg" alt="Image" >}} | `9`               |
| {{< img src="seg37.svg" alt="Image" >}} | `H`               |
| {{< img src="seg4E.svg" alt="Image" >}} | `(`, `[`, `C` |
| {{< img src="seg31.svg" alt="Image" >}} | `{`               |
| {{< img src="seg78.svg" alt="Image" >}} | `)`, `]`        |
| {{< img src="seg07.svg" alt="Image" >}} | `}`, `T`, `t` |
| {{< img src="seg20.svg" alt="Image" >}} | `` ` ``            |
| {{< img src="seg02.svg" alt="Image" >}} | `'`               |
| {{< img src="seg22.svg" alt="Image" >}} | `"`               |
| {{< img src="seg6F.svg" alt="Image" >}} | `@`               |
| {{< img src="seg65.svg" alt="Image" >}} | `?`               |
| {{< img src="seg10.svg" alt="Image" >}} | `,`, `i`        |
| {{< img src="seg49.svg" alt="Image" >}} | `%`               |
| {{< img src="seg40.svg" alt="Image" >}} | `*`               |
| {{< img src="seg48.svg" alt="Image" >}} | `:`               |
| {{< img src="seg58.svg" alt="Image" >}} | `;`               |
| {{< img src="seg77.svg" alt="Image" >}} | `A`, `a`        |
| {{< img src="seg1F.svg" alt="Image" >}} | `B`, `b`        |
| {{< img src="seg3D.svg" alt="Image" >}} | `D`, `d`        |
| {{< img src="seg4F.svg" alt="Image" >}} | `E`, `e`        |
| {{< img src="seg47.svg" alt="Image" >}} | `F`, `f`        |
| {{< img src="seg5E.svg" alt="Image" >}} | `G`, `g`        |
| {{< img src="seg3C.svg" alt="Image" >}} | `J`, `j`        |
| {{< img src="seg0E.svg" alt="Image" >}} | `L`, `l`        |
| {{< img src="seg15.svg" alt="Image" >}} | `N`, `n`        |
| {{< img src="seg67.svg" alt="Image" >}} | `P`, `p`        |
| {{< img src="segFE.svg" alt="Image" >}} | `Q`               |
| {{< img src="seg05.svg" alt="Image" >}} | `R`, `r`        |
| {{< img src="seg3E.svg" alt="Image" >}} | `U`, `V`        |
| {{< img src="seg3F.svg" alt="Image" >}} | `W`               |
| {{< img src="seg27.svg" alt="Image" >}} | `Y`, `y`        |
| {{< img src="seg01.svg" alt="Image" >}} | `-`               |
| {{< img src="seg08.svg" alt="Image" >}} | `_`               |
| {{< img src="seg09.svg" alt="Image" >}} | `=`               |
| {{< img src="seg06.svg" alt="Image" >}} | `\|`              |
| {{< img src="seg0D.svg" alt="Image" >}} | `c`               |
| {{< img src="seg17.svg" alt="Image" >}} | `h`               |
| {{< img src="seg1D.svg" alt="Image" >}} | `o`               |
| {{< img src="seg1C.svg" alt="Image" >}} | `u`, `v`        |
| {{< img src="seg8E.svg" alt="Image" >}} | `~`               |

> [!NOTE]
> Original 7-segment display base image taken from Wikipedia at <https://de.wikipedia.org/wiki/Datei:7_Segment_Display.svg>
> by user [h2g2bob](https://commons.wikimedia.org/wiki/User:H2g2bob) under
> [Creative Commons BY-SA 3.0](https://creativecommons.org/licenses/by-sa/3.0/deed.de) and modified
> for this documentation.

## See Also

- {{< docref "index/" >}}
- {{< apiref "max7219/max7219.h" "max7219/max7219.h" >}}
- [MAX7219 Library](https://github.com/nickgammon/MAX7219) by [Nick Gammon](https://github.com/nickgammon)
