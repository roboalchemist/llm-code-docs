---
description: "Changelog for ESPHome version 1.13.0."
title: "Changelog - Version 1.13.0 - May 30th 2019"
params:
  seo:
    description: Changelog for ESPHome version 1.13.0.
    image: /_static/changelog-1.13.0.png
---
<!-- markdownlint-disable MD013 -->

{{< imgtable >}}
"Climate Devices","components/climate/index","folder-open.svg","dark-invert"
"Endstop Cover","components/cover/endstop","electric-switch.svg","dark-invert"
"Time-Based Cover","components/cover/time_based","timer.svg","dark-invert"
"Bang Bang Controller","components/climate/bang_bang","air-conditioner.svg","dark-invert"
"AM2320","components/sensor/am2320","am2320.jpg",""
"CCS811","components/sensor/ccs811","ccs811.jpg",""
"Integration","components/sensor/integration","sigma.svg","dark-invert"
"Pulse Width","components/sensor/pulse_width","pulse.svg","dark-invert"
"Resistance Sensor","components/sensor/resistance","omega.svg","dark-invert"
"NTC Thermistor","components/sensor/ntc","ntc.jpg",""
"CT Clamp","components/sensor/ct_clamp","ct_clamp.jpg",""
"Binary Sensor Map","components/sensor/binary_sensor_map","binary_sensor_map.jpg",""
"TTP229","components/binary_sensor/ttp229","ttp229.jpg",""
"Coolix IR Remote","components/climate/climate_ir","air-conditioner.svg","dark-invert"
"Tcl112 IR Remote","components/climate/climate_ir","air-conditioner.svg","dark-invert"
"Sun","components/sun","weather-sunny.svg","dark-invert"
"GPS Time Source","components/gps","crosshairs-gps.svg","dark-invert"
"Custom Light","components/light/custom","language-cpp.svg","dark-invert"
"Custom Cover","components/cover/custom","language-cpp.svg","dark-invert"
"Custom Climate","components/climate/custom","language-cpp.svg","dark-invert"
{{< /imgtable >}}
Oh hi there!

It's been a while since the last release (once again üòÖ). But I hope you'll be excited
to hear what's new in this latest release of ESPHome: 1.13.0!

First of all, as you can see in the table above, a *ton* of new components have been added. Some to
highlight are:

- **Cover Updates**: Covers now support setting arbitrary position (and the new time-based and endstop covers
  make full use of it).

- **Climate Support**: ESPHome now has a full climate abstraction - with the "bang bang" climate device
  you can automate thermostats directly on the ESP.

- **Sun, GPS** etc - This release brings a lot of helper components too of course.

But... the biggest change in this version has yet to be mentioned here: A complete refactor of the
ESPHome codebase. Remember the project rename in 1.11? It's nothing compared to the latest and greatest
[code refactor](https://github.com/esphome/esphome/pull/504). ESPHome has gotten a completely new
directory structure, and the codebase has been simplified a lot.

**What does this mean for you?**

Well, you'll be happy to hear that this refactor improves **compile times** by around **2x**.
Additionally, these changes will make contributing a lot easier, because now the code is much more
modular.

**But it doesn't stop there!**

This release also brings another awesome new feature: Live validation! If you use the editor in the
ESPHome dashboard, your configuration will be validated on-the-fly and any validation errors
are shown directly in the editor in less than half a second!

{{< img src="live-validation.png" alt="Image" width="70.0%" class="align-center" >}}

I also want to give special shout outs to these awesome people who have contributed a lot of
features in this version:

- {{< ghuser name="gitolicious" >}} for his awesome work on improving the dashboard!
- {{< ghuser name="mvturnho" >}} for the new TTP219 and binary sensor map additions!
- {{< ghuser name="glmnet" >}} for adding the TCL112 and Coolix climate platforms, as well {{< ghuser name="puuu" >}}
  for pushing ahead with the climate component!

- Everyone who has been supporting me financially over [Patreon](https://www.patreon.com/ottowinter)!
- Everybody who reported bugs, contributed documentation and fixed things!

If you like this version, please consider starring the [ESPHome repository](https://github.com/esphome/esphome)
on Github üí´!

## Other notable changes

- Hass.io Ingress - ESPHome now supports showing the dashboard directly in the Home Assistant frontend
  via the Hass.io Ingress feature.

- The i2c variant of the ttp229 device is now also supported.
- Covers now support position & tilt - you can use these with the new {{< docref "/components/cover/endstop" "endstop" >}}
  and {{< docref "/components/cover/time_based" "time-based" >}} cover platforms.

- ESPHome has received support for climate devices, you can now let your ESP control heaters/coolers
  directly on the ESP. Great for building a DIY thermostat or making an existing one IoT-enabled.

- {{< docref "/components/light/index" "Lights" >}} now have some new actions: `light.dim_relative` and
  `light.addressable_set`. Addressable lights now also support a new range syntax (`.range()` and `.all()`  )
  functions to allow easier effect creation.

- Added a new custom component mechanism and contribution guidelines have been updated.
- {{< docref "/components/binary_sensor/rdm6300" "RDM6300" >}} now also has an `on_tag` trigger like the PN532.
- {{< docref "/components/remote_transmitter" "Remote Transmitter" >}} and {{< docref "/components/remote_receiver" "Remote Receiver" >}}
  have gotten some new features: custom triggers and actions with templatable values.

- Added `output.esp8266_pwm.set_frequency` action for dynamically changing the frequency of the ESP8266
  PWM output (for example for active buzzers).

- Added `servo.detach` action to disable a servo - this prevents it from moving around once it's in position.
- Added `stepper.set_speed` to dynamically change a stepper's speed at runtime.
- Added `text_sensor.state` condition for checking a text sensor's state against a fixed value.
- Added [globals.set](/components/globals#globals-set_action) action,
  [script.is_running](/components/script#script-is_running_condition) condition,
  [for](/automations/actions#for_condition) condition.

- Custom components can now access ESPHome's global variables.
- Added `restore_mode` for lights and [light.is_on/off](/components/light#light-is_on_condition).

## Breaking Changes

All of these are also documented in validation - just view the validation output and it should tell
you what has changed.

- `esphome_core_version` has been removed - ESPHome is no longer split up in the core and python repository.
- The `esp32_ble_tracker` binary sensor platform (not the global hub) has been renamed to `ble_presence`.
- The remote transmitter switch has been removed and a template switch with the new actions should be used.
  See validation output.

- `esphome_core_version` has been removed - ESPHome is no longer split up in the core and python repository.
- Because of some internal changes, some ID names are used internally and can no longer be used.
  See validation errors.

## Release 1.13.1 - May 30

- esphome: Fix validation TypeError {{< pr number="574" repo="esphome" >}}
- esphome: Fix Sun Trigger {{< pr number="572" repo="esphome" >}}
- esphome: Dashboard work around Hass.io bug {{< pr number="575" repo="esphome" >}}
- esphome: Fix waveshare 7.5in model {{< pr number="576" repo="esphome" >}}

## Release 1.13.2 - May 31

- esphome: Fix remote_receiver binary_sensor schema {{< pr number="578" repo="esphome" >}}
- esphome: Fix MQTT client_id changed {{< pr number="579" repo="esphome" >}}
- esphome: Fix Rotary Encoder {{< pr number="580" repo="esphome" >}}
- esphome: Fix travis build {{< pr number="582" repo="esphome" >}}
- esphome: Fix MQTT on_message trigger {{< pr number="583" repo="esphome" >}}
- esphome: Fix light partition {{< pr number="584" repo="esphome" >}}
- esphome: Fix i2c setup priority {{< pr number="585" repo="esphome" >}}
- docs: add note for asynchronously update of adc {{< pr number="259" repo="esphome-docs" >}} by {{< ghuser name="escoand" >}}

## Release 1.13.3 - June 1

- esphome: List the correct boards when building for ESP32 {{< pr number="589" repo="esphome" >}} by {{< ghuser name="macourteau" >}}
- esphome: Fix addressable effects {{< pr number="590" repo="esphome" >}}
- esphome: Fix scripts circular dependency {{< pr number="591" repo="esphome" >}}
- esphome: Fix timezone detection for timezones without daylight savings time {{< pr number="586" repo="esphome" >}}
- esphome: Fix remote_receiver binary_sensor {{< pr number="592" repo="esphome" >}}
- docs: Add missing filter name for ct_clamp {{< pr number="258" repo="esphome-docs" >}} by {{< ghuser name="jesserockz" >}}
- esphome: Fix flicker light effect turning itself off {{< pr number="594" repo="esphome" >}}
- esphome: Fix medium fan speed {{< pr number="595" repo="esphome" >}}
- esphome: Fix dashboard for Py3 installs {{< pr number="596" repo="esphome" >}}

## Release 1.13.4 - June 3

- esphome: Add better esphomeyaml migration path {{< pr number="600" repo="esphome" >}}
- esphome: Allow old remote_transmitter repeat schema {{< pr number="601" repo="esphome" >}}
- esphome: Fix color wipe effect {{< pr number="599" repo="esphome" >}}
- docs: Update integration.rst {{< pr number="263" repo="esphome-docs" >}} by {{< ghuser name="balk77" >}}
- esphome: Fix hx711 {{< pr number="602" repo="esphome" >}}
- esphome: Fix validation infinite loop with empty platform block {{< pr number="598" repo="esphome" >}}
- esphome: Fix ADS1115 calculation {{< pr number="606" repo="esphome" >}}
- esphome: ESP8266 connect fixes {{< pr number="605" repo="esphome" >}}

## Release 1.13.5 - June 8

- esphome: Move ESPHome version define {{< pr number="607" repo="esphome" >}}
- esphome: Fix ForCondition time duration check {{< pr number="610" repo="esphome" >}} by {{< ghuser name="ptatrai" >}}
- docs: Add timezone mapping to Docker compose. {{< pr number="266" repo="esphome-docs" >}} by {{< ghuser name="jeff-h" >}}
- esphome: DHT22 ignore invalid values {{< pr number="614" repo="esphome" >}}
- esphome: Template Cover don't auto-set current_operation {{< pr number="612" repo="esphome" >}}
- esphome: Fix Hass.io addon SSL {{< pr number="613" repo="esphome" >}}
- esphome: Fix remote_receiver always shows sony {{< pr number="617" repo="esphome" >}}
- esphome: Make ForCondition a component {{< pr number="616" repo="esphome" >}}
- esphome: Update docker base image to 1.8.0 {{< pr number="618" repo="esphome" >}}
- esphome: Fix integration sensor, add test {{< pr number="619" repo="esphome" >}}
- esphome: Fix sun default elevation {{< pr number="620" repo="esphome" >}}
- esphome: Update base image to 1.8.3 {{< pr number="625" repo="esphome" >}}
- esphome: Fix status binary sensor for MQTT {{< pr number="628" repo="esphome" >}}
- esphome: Work around ESP32 BLE issue {{< pr number="626" repo="esphome" >}}
- esphome: Work around ESP32 core WiFi Bug {{< pr number="627" repo="esphome" >}}

## Release 1.13.6 - June 14

- docs: Lambas won't just work with the short name {{< pr number="269" repo="esphome-docs" >}} by {{< ghuser name="ryannazaretian" >}}
- esphome: Fix ESP32 RCSwitch Dump Stack Smash Protection {{< pr number="636" repo="esphome" >}}
- esphome: Fix russia timezone detection {{< pr number="637" repo="esphome" >}}
- esphome: Fix esp8266_restore_from_flash {{< pr number="638" repo="esphome" >}}
- esphome: Fix globals.set {{< pr number="635" repo="esphome" >}}
- esphome: Fix version.h file {{< pr number="630" repo="esphome" >}}
- esphome: Fix remote_receiver raw binary sensor {{< pr number="639" repo="esphome" >}}
- esphome: Re-add CustomMQTTDevice class {{< pr number="640" repo="esphome" >}}

## All changes

- docs: Extend the documentation of esp8266_restore_from_flash to include pla‚Ä¶ {{< pr number="203" repo="esphome-docs" >}} by {{< ghuser name="placidorevilla" >}}
- esphome: TTP229-LSF i2c device support {{< pr number="489" repo="esphome" >}} by {{< ghuser name="mvturnho" >}}
- docs: TTP229-LSF i2c device support {{< pr number="205" repo="esphome-docs" >}} by {{< ghuser name="mvturnho" >}}
- docs: Remove deprecated filter_nan: option {{< pr number="214" repo="esphome-docs" >}} by {{< ghuser name="davericher" >}}
- docs: Minor Gramatical fix {{< pr number="220" repo="esphome-docs" >}} by {{< ghuser name="meichthys" >}}
- esphome: Add cover position/tilt support {{< pr number="496" repo="esphome" >}}
- esphome: Add climate support {{< pr number="502" repo="esphome" >}}
- esphome: Add 'at' time trigger {{< pr number="493" repo="esphome" >}}
- docs: Stepper combine lambda docs {{< pr number="223" repo="esphome-docs" >}} by {{< ghuser name="AalianKhan" >}}
- esphome: Simplify coroutine syntax {{< pr number="503" repo="esphome" >}}
- docs: Added a section for all lambda calls {{< pr number="222" repo="esphome-docs" >}} by {{< ghuser name="AalianKhan" >}}
- docs: Typo in ESP32 Touch Component {{< pr number="216" repo="esphome-docs" >}} by {{< ghuser name="jcullen86" >}}
- docs: MQTT clean-mqtt: Document for docker {{< pr number="210" repo="esphome-docs" >}} by {{< ghuser name="bphermansson" >}}
- esphome: Wio_link and wio_node pinout improvements {{< pr number="505" repo="esphome" >}} by {{< ghuser name="sethcohn" >}}
- docs: Voltage range of ADC is at the chip pin {{< pr number="224" repo="esphome-docs" >}} by {{< ghuser name="kimonm" >}}
- esphome: Escape double quotes and backslashes in ssid and psk {{< pr number="507" repo="esphome" >}} by {{< ghuser name="gitolicious" >}}
- docs: Added Gitpod documentation {{< pr number="225" repo="esphome-docs" >}} by {{< ghuser name="gitolicious" >}}
- docs: Fixed lint and ref errors {{< pr number="228" repo="esphome-docs" >}} by {{< ghuser name="gitolicious" >}}
- esphome: üèó Merge C++ into python codebase {{< pr number="504" repo="esphome" >}}
- docs: Create .gitpod.yml {{< pr number="226" repo="esphome-docs" >}} by {{< ghuser name="gitolicious" >}}
- esphome: Cleanup dashboard JS {{< pr number="491" repo="esphome" >}}
- docs: Add esp32_camera ttgo-camera example {{< pr number="231" repo="esphome-docs" >}} by {{< ghuser name="Naesstrom" >}}
- esphome: Hass.io Ingress {{< pr number="519" repo="esphome" >}}
- docs: Fix config name for showing previous page {{< pr number="238" repo="esphome-docs" >}} by {{< ghuser name="kevinior" >}}
- docs: fixed copy paste error {{< pr number="237" repo="esphome-docs" >}} by {{< ghuser name="norges" >}}
- docs: Update switch/index.rst lambda section {{< pr number="236" repo="esphome-docs" >}} by {{< ghuser name="EmmanuelLM" >}}
- docs: Update h801 cookbook {{< pr number="235" repo="esphome-docs" >}} by {{< ghuser name="Eenoo" >}}
- esphome: Create .gitpod.yml {{< pr number="508" repo="esphome" >}} by {{< ghuser name="gitolicious" >}}
- esphome: Fix MQTT Not Working in dev branch {{< pr number="527" repo="esphome" >}} by {{< ghuser name="mtl010957" >}}
- esphome: Fix custom_sensor codegen {{< pr number="526" repo="esphome" >}} by {{< ghuser name="emwap" >}}
- esphome: Fix compilation of automations {{< pr number="525" repo="esphome" >}} by {{< ghuser name="envy" >}}
- esphome: Add Custom Component tests {{< pr number="529" repo="esphome" >}} by {{< ghuser name="emwap" >}}
- esphome: Create .editorconfig {{< pr number="524" repo="esphome" >}} by {{< ghuser name="gitolicious" >}}
- docs: Fix minor typo in ESP32 camera docs {{< pr number="241" repo="esphome-docs" >}} by {{< ghuser name="richrd" >}}
- esphome: Added save & validate button in editor window {{< pr number="511" repo="esphome" >}} by {{< ghuser name="gitolicious" >}}
- esphome: Fix compilation of my9231 component {{< pr number="533" repo="esphome" >}} by {{< ghuser name="puuu" >}}
- esphome: Allow rx_only mode of sds011 component {{< pr number="534" repo="esphome" >}} by {{< ghuser name="puuu" >}}
- esphome: MPU6050 fix temperature reading (wrong datatype) {{< pr number="532" repo="esphome" >}} by {{< ghuser name="norges" >}}
- esphome: Check lambdas for return statement {{< pr number="539" repo="esphome" >}}
- esphome: Auto-Generate esphome.h {{< pr number="538" repo="esphome" >}}
- esphome: Revert HLW8012 to use pulse counter {{< pr number="537" repo="esphome" >}}
- esphome: Use int_range validator {{< pr number="542" repo="esphome" >}}
- esphome: Dashboard editor live validation {{< pr number="540" repo="esphome" >}}
- esphome: Sun support {{< pr number="531" repo="esphome" >}}
- esphome: Update CI linter {{< pr number="544" repo="esphome" >}}
- esphome: Updates for 1.13 {{< pr number="546" repo="esphome" >}}
- esphome: Make Climate component work over mqtt {{< pr number="535" repo="esphome" >}} by {{< ghuser name="puuu" >}}
- esphome: CCS811 support {{< pr number="536" repo="esphome" >}}
- esphome: GPS time source {{< pr number="543" repo="esphome" >}}
- esphome: TTP229 BSF support {{< pr number="547" repo="esphome" >}}
- docs: Update links {{< pr number="243" repo="esphome-docs" >}} by {{< ghuser name="oscar-b" >}}
- esphome: Bme680 pressure value fix {{< pr number="550" repo="esphome" >}} by {{< ghuser name="plopp" >}}
- docs: Fix typo in docs mi flora {{< pr number="250" repo="esphome-docs" >}} by {{< ghuser name="seuros" >}}
- docs: Stepper component: fix typo in doc {{< pr number="254" repo="esphome-docs" >}} by {{< ghuser name="Johboh" >}}
- esphome: Suggested fix for empty domain {{< pr number="555" repo="esphome" >}} by {{< ghuser name="ASMfreaK" >}}
- docs: Sensor: correct example for on_raw_value {{< pr number="255" repo="esphome-docs" >}} by {{< ghuser name="Johboh" >}}
- docs: Update bh1750.rst (fix incorrect link text) {{< pr number="246" repo="esphome-docs" >}} by {{< ghuser name="richrd" >}}
- esphome: Don't fall back to the global availability topic if it is empty {{< pr number="553" repo="esphome" >}} by {{< ghuser name="brandond" >}}
- esphome: Add examples to Nextion page {{< pr number="548" repo="esphome" >}} by {{< ghuser name="AalianKhan" >}}
- esphome: Support for AM2320 temperature and humidity sensor {{< pr number="554" repo="esphome" >}} by {{< ghuser name="T3m3z" >}}
- docs: Documentation for AM2320 component {{< pr number="249" repo="esphome-docs" >}} by {{< ghuser name="T3m3z" >}}
- esphome: Add TCL112 climate {{< pr number="523" repo="esphome" >}} by {{< ghuser name="glmnet" >}}
- docs: Add Coolix Tcl112 Climate {{< pr number="247" repo="esphome-docs" >}} by {{< ghuser name="glmnet" >}}
- esphome: Add coolix climate ‚ùÑ üî• {{< pr number="521" repo="esphome" >}} by {{< ghuser name="glmnet" >}}
- esphome: added link from dashboard to web server, if configured {{< pr number="556" repo="esphome" >}} by {{< ghuser name="gitolicious" >}} (cherry-picked)
- esphome: Add NTC and resistance sensor {{< pr number="560" repo="esphome" >}} (cherry-picked)
- esphome: Waveshare enter deep sleep mode on shutdown {{< pr number="561" repo="esphome" >}} (cherry-picked)
- docs: extended mpr121 docs with debounce and thresholds config {{< pr number="245" repo="esphome-docs" >}} by {{< ghuser name="mvturnho" >}} (cherry-picked)
- esphome: Mpr121 added debounce and thresholds config {{< pr number="558" repo="esphome" >}} by {{< ghuser name="mvturnho" >}} (cherry-picked)
- docs: Documentation for binary_sensor_map {{< pr number="199" repo="esphome-docs" >}} by {{< ghuser name="mvturnho" >}} (cherry-picked)
- esphome: Binary sensor map implementation {{< pr number="551" repo="esphome" >}} by {{< ghuser name="mvturnho" >}} (cherry-picked)
- esphome: Fix CWWW/RGBWW lights {{< pr number="562" repo="esphome" >}} (cherry-picked)
- esphome: added download, edit and retry buttons to upload modal {{< pr number="557" repo="esphome" >}} by {{< ghuser name="gitolicious" >}} (cherry-picked)
- esphome: Renamed upload button {{< pr number="563" repo="esphome" >}} by {{< ghuser name="gitolicious" >}}
- esphome: Warn if a component does long-running work in loop thread {{< pr number="565" repo="esphome" >}}
- esphome: Add CT Clamp component {{< pr number="559" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- docs: Add docs for CT Clamp {{< pr number="256" repo="esphome-docs" >}} by {{< ghuser name="jesserockz" >}}
- docs: Put 'MAC_ADDRESS' instead of MAC_ADDRESS {{< pr number="239" repo="esphome-docs" >}} by {{< ghuser name="tiagofreire-pt" >}}
- esphome: Fix TSL2561 invalid default {{< pr number="566" repo="esphome" >}}
- esphome: Use copy for custom includes {{< pr number="568" repo="esphome" >}}
- esphome: Add uart.write action {{< pr number="567" repo="esphome" >}}
- esphome: Correctly set warm white variables {{< pr number="569" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- esphome: Register light conditions {{< pr number="570" repo="esphome" >}}

<!-- markdownlint-enable MD013 -->

## All Changelogs

{{< changelogs >}}
