---
description: "Changelog for ESPHome 2023.5.0."
title: "ESPHome 2023.5.0 - 17th May 2023"
params:
  seo:
    description: Changelog for ESPHome 2023.5.0.
    image: /_static/changelog-2023.5.0.png
---

{{< imgtable >}}
"Speaker Core","components/speaker/index","speaker.svg","dark-invert"
"I2S Speaker","components/speaker/i2s_audio","i2s_audio.svg",""
"MLX90614","components/sensor/mlx90614","mlx90614.jpg",""
"MAX6956 I/O expander - I²C Bus","components/max6956","max6956.jpg",""
"PCA6416A I/O Expander","components/pca6416a","pca6416a.svg",""
"HYT271","components/sensor/hyt271","hyt271.jpg",""
"GP8403","components/output/gp8403","gp8403.svg",""
"ESP32 RMT LED Strip","components/light/esp32_rmt_led_strip","color_lens.svg",""
{{< /imgtable >}}

## Speakers

Following on from last months release adding {{< docref "/components/microphone/index" "microphones" >}},
this release adds {{< docref "/components/speaker/index" "speaker" >}} support!

These new changes allows the {{< docref "/components/voice_assistant" >}} to request the raw audio
stream response from Home Assistant to playback without using a full {{< docref "/components/media_player" >}}.
This has much lower latency and allows for a much more responsive voice assistant experience.

## More Microphones

This release also adds a bit more configuration for the i2s_audio microphone components.
There is a breaking-change that requires new configuration fields to be added in YAML.
See the {{< docref "/components/microphone/i2s_audio" "microphone documentation" >}} for the configuration details,
but below is a small example for the M5Stack Atom Echo.

```yaml
# Old
microphone:
  platform: i2s_audio
  i2s_din_pin: GPIO23
  id: my_microphone

# New
microphone:
  platform: i2s_audio
  i2s_din_pin: GPIO23
  adc_type: external
  pdm: false
```

<!-- markdownlint-disable MD013 -->

## Release 2023.5.1 - May 18

- Remove i2c dependency from ttp229_bsf {{< pr number="4851" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Sprinkler fixes {{< pr number="4816" repo="esphome" >}} by {{< ghuser name="kbx81" >}}

## Release 2023.5.2 - May 22

- Fix i2s_audio media_player mutex acquisition {{< pr number="4867" repo="esphome" >}} by {{< ghuser name="kroimon" >}}

## Release 2023.5.3 - May 22

- Allow microphone channel to be specified in config {{< pr number="4871" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [PSRam] Change log unit to KB to minimize rounding error. {{< pr number="4872" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}

## Release 2023.5.4 - May 24

- [internal_temperature] ESP32-S3 needs ESP IDF V4.4.3 or higher {{< pr number="4873" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- Update cover.h for compile errors with stop() {{< pr number="4879" repo="esphome" >}} by {{< ghuser name="Davrosx" >}}
- Print ESPHome version when running commands {{< pr number="4883" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- fix modbus sending FP32_R values {{< pr number="4882" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- Fix esp32_rmt_led_strip color modes {{< pr number="4886" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Release 2023.5.5 - May 29

- Fix version printing not breaking yaml parsing {{< pr number="4904" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Full list of changes

### New Components

- Add mlx90614 sensors {{< pr number="3749" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Add PCA6416A Support {{< pr number="4681" repo="esphome" >}} by {{< ghuser name="Mat931" >}} (new-integration)
- Add support for hyt271 {{< pr number="4282" repo="esphome" >}} by {{< ghuser name="Philippe12" >}} (new-integration)
- Max6956 support added {{< pr number="3764" repo="esphome" >}} by {{< ghuser name="looping40" >}} (new-integration)
- Speaker support {{< pr number="4743" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Add gp8403 output component {{< pr number="4495" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Create esp32 rmt addressable light driver {{< pr number="4708" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Add host target platform {{< pr number="4783" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)

### Breaking Changes

- Remove climate legacy away flags {{< pr number="4744" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- Revert "Template sensors always publish on update interval (#2224)" {{< pr number="4774" repo="esphome" >}} by {{< ghuser name="nuttytree" >}} (breaking-change)

### Beta Changes

- Fixed access point for ESP32 IDF platform {{< pr number="4784" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Remove AUTO_LOAD from apds9960 {{< pr number="4746" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Supposed to fix #4069, by changing the default value to 0s (timeunit … {{< pr number="4806" repo="esphome" >}} by {{< ghuser name="Alex1602" >}}
- Wording {{< pr number="4805" repo="esphome" >}} by {{< ghuser name="fgsch" >}}
- Tuya: Prevent loop when setting colors on case-sensitive dps {{< pr number="4809" repo="esphome" >}} by {{< ghuser name="richardhopton" >}}
- Fix i2s media player volume control {{< pr number="4813" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Dont try stop if not actually started {{< pr number="4814" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix missing stop trait in send_cover_info {{< pr number="4826" repo="esphome" >}} by {{< ghuser name="RoboMagus" >}}
- Bump aioesphomeapi from 13.7.2 to 13.7.5 {{< pr number="4830" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Update PulseLightEffect with range brightness {{< pr number="4820" repo="esphome" >}} by {{< ghuser name="max246" >}}
- Bump esphome-dashboard to 20230516.0 {{< pr number="4831" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix time period validation for the auto cleaning interval {{< pr number="4811" repo="esphome" >}} by {{< ghuser name="fgsch" >}}
- Bump tzlocal from 4.2 to 5.0.1 {{< pr number="4829" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Start UART assignment at UART0 if the logger is not enabled or is not configured for hardware logging on ESP32 {{< pr number="4762" repo="esphome" >}} by {{< ghuser name="spectrumjade" >}}
- Synchronise Device Classes from Home Assistant {{< pr number="4825" repo="esphome" >}} by {{< ghuser name="github-actions[bot]" >}}
- support sending keys to the collector {{< pr number="4838" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- handle Wiegand 8-bit keys {{< pr number="4837" repo="esphome" >}} by {{< ghuser name="ssieb" >}}

### All changes

- Only allow 5 jobs from each CI run to be in parallel {{< pr number="4682" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add Bayesian type for binary_sensor_map component {{< pr number="4640" repo="esphome" >}} by {{< ghuser name="kahrendt" >}}
- Bump aioesphomeapi from 13.5.1 to 13.7.0 {{< pr number="4676" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump peter-evans/create-pull-request from 4 to 5 {{< pr number="4661" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump docker/build-push-action from 3 to 4 {{< pr number="4367" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Keep Device Class in Flash. {{< pr number="4639" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- Add support for passive WiFi scanning {{< pr number="4666" repo="esphome" >}} by {{< ghuser name="BellaCoola" >}}
- Initial attempt at supporting ESP-IDF 5.0.0 {{< pr number="4364" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Get Sunrise & Sunset for a Specific Date {{< pr number="4712" repo="esphome" >}} by {{< ghuser name="RebbePod" >}}
- Add `supports_stop` trait to Cover {{< pr number="3897" repo="esphome" >}} by {{< ghuser name="amomchilov" >}}
- Bump aioesphomeapi from 13.7.0 to 13.7.1 {{< pr number="4725" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Add on_tag_removed trigger for RC522 {{< pr number="4742" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Fix 'blutooth' typo in esp32_ble component {{< pr number="4738" repo="esphome" >}} by {{< ghuser name="RoboMagus" >}}
- Bump pylint from 2.17.2 to 2.17.3 {{< pr number="4740" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump tornado from 6.2 to 6.3.1 {{< pr number="4741" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump pytest from 7.3.0 to 7.3.1 {{< pr number="4686" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Expand the platformio dep installer to also install platforms and tools {{< pr number="4716" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Remove climate legacy away flags {{< pr number="4744" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- Add mlx90614 sensors {{< pr number="3749" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Move am43 sensor code and remove auto load on cover {{< pr number="4631" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix assumed_state switch webserver {{< pr number="4259" repo="esphome" >}} by {{< ghuser name="RoboMagus" >}}
- Bump aioesphomeapi from 13.7.1 to 13.7.2 {{< pr number="4753" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump git version in Dockerfile {{< pr number="4763" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Power down PN532 before deep sleep {{< pr number="4707" repo="esphome" >}} by {{< ghuser name="tracestep" >}}
- Switch ESPAsyncTCP-esphome to esphome fork {{< pr number="4764" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump pyupgrade from 3.3.1 to 3.3.2 {{< pr number="4751" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Only pre-install libraries in docker images {{< pr number="4766" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add PCA6416A Support {{< pr number="4681" repo="esphome" >}} by {{< ghuser name="Mat931" >}} (new-integration)
- play_folder bugfix and addition of play_mp3 {{< pr number="4758" repo="esphome" >}} by {{< ghuser name="llluis" >}}
- RF Codec for Drayton Digistat heating controller {{< pr number="4494" repo="esphome" >}} by {{< ghuser name="marshn" >}}
- Add support for hyt271 {{< pr number="4282" repo="esphome" >}} by {{< ghuser name="Philippe12" >}} (new-integration)
- Add support for BLE passkey authentication {{< pr number="4258" repo="esphome" >}} by {{< ghuser name="Mat931" >}}
- Add support for V2 of the waveshare 5.83in e-paper display. {{< pr number="3660" repo="esphome" >}} by {{< ghuser name="cooki35" >}}
- Max6956 support added {{< pr number="3764" repo="esphome" >}} by {{< ghuser name="looping40" >}} (new-integration)
- Bump zeroconf from 0.56.0 to 0.60.0 {{< pr number="4767" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Revert "Template sensors always publish on update interval (#2224)" {{< pr number="4774" repo="esphome" >}} by {{< ghuser name="nuttytree" >}} (breaking-change)
- update schema gen to 2023.4.0 {{< pr number="4772" repo="esphome" >}} by {{< ghuser name="glmnet" >}}
- Speaker support {{< pr number="4743" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Add gp8403 output component {{< pr number="4495" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Create esp32 rmt addressable light driver {{< pr number="4708" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Bump ESP32-audioI2s to 2.0.7 {{< pr number="4796" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- SM2135 Add optional current configuration, avoid communication failures. {{< pr number="3850" repo="esphome" >}} by {{< ghuser name="BoukeHaarsma23" >}}
- Fix ezo parsing {{< pr number="4792" repo="esphome" >}} by {{< ghuser name="alfredopironti" >}}
- [ili9xxx] Improve fill operation performance {{< pr number="4702" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- Add host target platform {{< pr number="4783" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Add more envs to root platformio {{< pr number="4799" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Keep Unit of Measurement in Flash. {{< pr number="4719" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- [display] Small display print performance improvement {{< pr number="4788" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- Fixed calculation of start and end dhcp range {{< pr number="4785" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Add more configuration for microphones - i2s/pdm/adc {{< pr number="4775" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Wrap VA code {{< pr number="4800" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Make i2s_audio bclk_pin optional {{< pr number="4801" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Validate project details are set for dashboard_import {{< pr number="4802" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fixed access point for ESP32 IDF platform {{< pr number="4784" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Remove AUTO_LOAD from apds9960 {{< pr number="4746" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Supposed to fix #4069, by changing the default value to 0s (timeunit … {{< pr number="4806" repo="esphome" >}} by {{< ghuser name="Alex1602" >}}
- Wording {{< pr number="4805" repo="esphome" >}} by {{< ghuser name="fgsch" >}}
- Tuya: Prevent loop when setting colors on case-sensitive dps {{< pr number="4809" repo="esphome" >}} by {{< ghuser name="richardhopton" >}}
- Fix i2s media player volume control {{< pr number="4813" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Dont try stop if not actually started {{< pr number="4814" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix missing stop trait in send_cover_info {{< pr number="4826" repo="esphome" >}} by {{< ghuser name="RoboMagus" >}}
- Bump aioesphomeapi from 13.7.2 to 13.7.5 {{< pr number="4830" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Update PulseLightEffect with range brightness {{< pr number="4820" repo="esphome" >}} by {{< ghuser name="max246" >}}
- Bump esphome-dashboard to 20230516.0 {{< pr number="4831" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix time period validation for the auto cleaning interval {{< pr number="4811" repo="esphome" >}} by {{< ghuser name="fgsch" >}}
- Bump tzlocal from 4.2 to 5.0.1 {{< pr number="4829" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Start UART assignment at UART0 if the logger is not enabled or is not configured for hardware logging on ESP32 {{< pr number="4762" repo="esphome" >}} by {{< ghuser name="spectrumjade" >}}
- Synchronise Device Classes from Home Assistant {{< pr number="4825" repo="esphome" >}} by {{< ghuser name="github-actions[bot]" >}}
- support sending keys to the collector {{< pr number="4838" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- handle Wiegand 8-bit keys {{< pr number="4837" repo="esphome" >}} by {{< ghuser name="ssieb" >}}

<!-- markdownlint-enable MD013 -->

## All Changelogs

{{< changelogs >}}
