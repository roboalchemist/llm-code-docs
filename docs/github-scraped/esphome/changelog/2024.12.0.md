---
description: "Changelog for ESPHome 2024.12.0."
title: "ESPHome 2024.12.0 - 18th December 2024"
params:
  seo:
    description: Changelog for ESPHome 2024.12.0.
    image: /_static/changelog-2024.12.0.png
---

{{< imgtable >}}
"Seeed Studio MR60BHA2 mmWave","components/seeed_mr60bha2","seeed_mr60bha2.jpg",""
"Seeed Studio MR60FDA2 mmWave","components/seeed_mr60fda2","seeed_mr60fda2.jpg",""
"H-bridge Switch","components/switch/hbridge","hbridge-relay.jpg",""
"Switch Binary Sensor","components/binary_sensor/switch","electric-switch.svg","dark-invert"
{{< /imgtable >}}

## ESP-IDF

ESPHome has now updated the core ESP32 code to use [ESP-IDF](https://github.com/espressif/esp-idf/) 5.1.5.
This is a major upgrade and should bring more features, chip support (Most notably the ESP32-C6 that people
keep raving on about) and in general more stability.

To accommodate this change, ESPHome has moved away from the "official" platformio provided ESP32 platform,
and is now using a community fork [pioarduino/platform-espressif32](https://github.com/pioarduino/platform-espressif32)
as platformio has decided to stop providing ESP-IDF updates to their platform for Espressif chips. As a user,
you should not notice any difference.

As we are unable to test every single component and board, there might be issues with specific configurations.
Please report these in the [ESPHome issue tracker](https://github.com/esphome/esphome/issues) on GitHub.

## ESPHome `armv7` Docker Support

We will be retiring ESPHome's Docker support for `armv7` hardware in the February 2025 release.

This is due to both waning support as it relates to tooling and performance reasons. We strongly recommend moving to a
more modern architecture, especially if you're using the ESPHome Device Compiler to build/compile firmware for your
devices.

<!-- markdownlint-disable MD013 -->

## Release 2024.12.1 - December 19

- [core] Bugfix: Implement ring buffer with xRingbuffer {{< pr number="7973" repo="esphome" >}} by {{< ghuser name="kahrendt" >}}

## Release 2024.12.2 - December 20

- [esp32] Fix flash size warning when using IDF {{< pr number="7983" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [esp32_ble] Fix for Improv {{< pr number="7984" repo="esphome" >}} by {{< ghuser name="kbx81" >}}

## Release 2024.12.3 - January 17

- Fixed libretiny preference wrongly detecting change in the data to store {{< pr number="7990" repo="esphome" >}} by {{< ghuser name="szupi-ipuzs" >}}
- [http_request] Bugfix: run update function in a task {{< pr number="8018" repo="esphome" >}} by {{< ghuser name="kahrendt" >}}

## Release 2024.12.4 - January 17

- Bump python3-setuptools to 66.1.1-1+deb12u1 {{< pr number="8074" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Full list of changes

### New Components

- Add: Seeed Studio mr60fda2 mmwave sensor {{< pr number="7576" repo="esphome" >}} by {{< ghuser name="limengdu" >}} (new-integration)
- Add: Seeed Studio MR60BHA2 mmWave Sensor {{< pr number="7589" repo="esphome" >}} by {{< ghuser name="limengdu" >}} (new-integration)

### New Platforms

- binary_sensor for switch state {{< pr number="7819" repo="esphome" >}} by {{< ghuser name="ssieb" >}} (new-platform)
- Add H-Bridge switch component {{< pr number="7421" repo="esphome" >}} by {{< ghuser name="dwmw2" >}} (new-platform)

### Breaking Changes

- Fix entity name validation to allow "Off" and "On" {{< pr number="7821" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- MQTT sensors handling of publishing NaN values {{< pr number="7768" repo="esphome" >}} by {{< ghuser name="kbullet" >}} (breaking-change)
- Synchronise esp32 boards with platform version 51.03.07 {{< pr number="7945" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- [sgp30] Set default update interval to 60s {{< pr number="7952" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)

### Beta Changes

- [const] Add RMT CONF variables to const.py {{< pr number="7953" repo="esphome" >}} by {{< ghuser name="swoboda1337" >}}
- [sgp30] Set default update interval to 60s {{< pr number="7952" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- [dallas_temp] Move delay_microseconds_safe to iram {{< pr number="7957" repo="esphome" >}} by {{< ghuser name="swoboda1337" >}}
- [i2s_audio] Bugfix: Correctly set ring buffer size {{< pr number="7959" repo="esphome" >}} by {{< ghuser name="kahrendt" >}}
- [adc] Restore missing LIBRETINY code in a separated file {{< pr number="7955" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- [font] cleanly handle font file format exception (Bugfix) {{< pr number="7970" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [dashboard] Accept basic auth header {{< pr number="7965" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump esphome-dashboard to 20241217.1 {{< pr number="7971" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [esp32_ble] Use RAMAllocator to avoid panic abort from `new` {{< pr number="7936" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

### All changes

- Bump codecov/codecov-action from 4 to 5 {{< pr number="7771" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- [remote_base] Fix extra comma in dump raw {{< pr number="7774" repo="esphome" >}} by {{< ghuser name="swoboda1337" >}}
- [nextion] New trigger `on_buffer_overflow` {{< pr number="7772" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- enable rp2040 for online_image {{< pr number="7769" repo="esphome" >}} by {{< ghuser name="afflux" >}}
- [nextion] Add publish actions {{< pr number="7646" repo="esphome" >}} by {{< ghuser name="pkejval" >}}
- [wifi] Make wifi_channel_() public {{< pr number="7818" repo="esphome" >}} by {{< ghuser name="nielsnl68" >}}
- feat(WiFi): Add wifi.configure action {{< pr number="7335" repo="esphome" >}} by {{< ghuser name="Rapsssito" >}}
- allow multiple graphical menus {{< pr number="7809" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- Move `CONF_NAME_ADD_MAC_SUFFIX` to `const.py` {{< pr number="7820" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- binary_sensor for switch state {{< pr number="7819" repo="esphome" >}} by {{< ghuser name="ssieb" >}} (new-platform)
- [nextion] Remove assignment within `if` {{< pr number="7824" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [ota] `void` functions should return nothing {{< pr number="7825" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [safe_mode] Remove unused capture {{< pr number="7826" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [stepper] Remove unnecessary `#include` {{< pr number="7827" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [sx1509] Fix up includes {{< pr number="7828" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [uart] `void` functions should return nothing {{< pr number="7829" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [audio] Header modernization {{< pr number="7832" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [opentherm] Follow variable naming convention {{< pr number="7833" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [opentherm] Add nolint for 8266 static global {{< pr number="7837" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [helpers] Add NOLINT for Mutex private field `handle_` {{< pr number="7838" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add waveshare 1 45 in v2 b support {{< pr number="7052" repo="esphome" >}} by {{< ghuser name="programmingbgloDE" >}}
- added Waveshare BWR Mode for the 7.5in Display {{< pr number="7687" repo="esphome" >}} by {{< ghuser name="JonasB2497" >}}
- [homeassistant.number] Return when value not set {{< pr number="7839" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [CI] Add/update some system include paths {{< pr number="7831" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- add on_key trigger to matrix_keypad {{< pr number="7830" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- Add: Seeed Studio mr60fda2 mmwave sensor {{< pr number="7576" repo="esphome" >}} by {{< ghuser name="limengdu" >}} (new-integration)
- [lvgl] clang-tidy fixes for #7822 {{< pr number="7843" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [xiaomi_ble] clang-tidy fixes for #7822 {{< pr number="7860" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [wireguard] clang-tidy fixes for #7822 {{< pr number="7859" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [dsmr] clang-tidy fixes for #7822 {{< pr number="7848" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Fix entity name validation to allow "Off" and "On" {{< pr number="7821" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- [camera_web_server] Add `NOLINT` due to naming {{< pr number="7823" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [display_menu_base] clang-tidy fixes for #7822 {{< pr number="7847" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [nextion] clang-tidy fixes for #7822 {{< pr number="7852" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [shelly_dimmer] clang-tidy fixes for #7822 {{< pr number="7844" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [sim800l] clang-tidy fixes for #7822 {{< pr number="7856" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [nfc, pn532, pn7150, pn7160] clang-tidy fixes for #7822 {{< pr number="7853" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [output] clang-tidy fixes for #7822 {{< pr number="7854" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [sun_gtil2] clang-tidy fixes for #7822 {{< pr number="7858" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [pipsolar] clang-tidy fixes for #7822 {{< pr number="7855" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [ltr501] clang-tidy fixes for #7822 {{< pr number="7850" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [cse7766] clang-tidy fixes for #7822 {{< pr number="7846" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [alarm_control_panel] clang-tidy fixes for #7822 {{< pr number="7845" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [sprinkler] clang-tidy fixes for #7822 {{< pr number="7857" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [haier] clang-tidy fixes for #7822 {{< pr number="7849" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [mqtt] clang-tidy fixes for #7822 {{< pr number="7851" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [helpers, optional] clang-tidy fixes for #7822 {{< pr number="7841" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Move `USE_CAPTIVE_PORTAL` into all define groups it can be used with {{< pr number="7863" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump docker/build-push-action from 6.9.0 to 6.10.0 in /.github/actions/build-image {{< pr number="7866" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- python lint for platform components {{< pr number="7864" repo="esphome" >}} by {{< ghuser name="tomaszduda23" >}}
- [max31865] clang-tidy fixes for #7822 {{< pr number="7876" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [esp32_ble] clang-tidy fixes for #7822 {{< pr number="7883" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [mqtt] clang-tidy fixes for #7822 {{< pr number="7877" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [uln2003] clang-tidy fixes for #7822 {{< pr number="7881" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [rotary_encoder] clang-tidy fixes for #7822 {{< pr number="7880" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [pca6416a, pca9554] clang-tidy fixes for #7822 {{< pr number="7879" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [nextion] clang-tidy fixes for #7822 {{< pr number="7878" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [various] clang-tidy fixes for #7822 {{< pr number="7874" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [logger] clang-tidy fixes for #7822 {{< pr number="7875" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [ezo] clang-tidy fixes for #7822 {{< pr number="7873" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [apds9306] clang-tidy fixes for #7822 {{< pr number="7872" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [dht] clang-tidy fixes for #7822 {{< pr number="7871" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [network] clang-tidy fixes for #7822 {{< pr number="7870" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [lvgl] Make image update via lambda work {{< pr number="7886" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [deep_sleep] fix deep_sleep not keeping awake when sleep_duration is defined {{< pr number="7885" repo="esphome" >}} by {{< ghuser name="makstech" >}}
- [hx711] clang-tidy fixes for #7822 {{< pr number="7900" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [modbus_controller] Clang fixes {{< pr number="7899" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add H-Bridge switch component {{< pr number="7421" repo="esphome" >}} by {{< ghuser name="dwmw2" >}} (new-platform)
- [CI] Bump GHA runners to `ubuntu-24.04` {{< pr number="7905" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [font et. al.] Remove explicit check for pillow installed. {{< pr number="7891" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [CI] Update clang-tidy to 18.1.3 {{< pr number="7822" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- MQTT sensors handling of publishing NaN values {{< pr number="7768" repo="esphome" >}} by {{< ghuser name="kbullet" >}} (breaking-change)
- [ble] Allow setting shorter name for ble advertisements {{< pr number="7867" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [font] Restore correct default glyphs for bitmap fonts {{< pr number="7907" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [helpers] clang-tidy fix for #7706 {{< pr number="7909" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [docker] Fix clang-tidy installation {{< pr number="7910" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [sntp] Resolve warnings from ESP-IDF 5.x {{< pr number="7913" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Add strftime variant with background color {{< pr number="7714" repo="esphome" >}} by {{< ghuser name="mikosoft83" >}}
- [i2s_audio] Bugfix: Follow configured bits per sample {{< pr number="7916" repo="esphome" >}} by {{< ghuser name="kahrendt" >}}
- Haier AC quiet mode switch fix {{< pr number="7902" repo="esphome" >}} by {{< ghuser name="paveldn" >}}
- [CI] Update clang-tidy to 18.1.8 {{< pr number="7915" repo="esphome" >}} by {{< ghuser name="syssi" >}}
- [i2s_audio] Speaker type fix {{< pr number="7919" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [esp32_rmt_led_strip] Add `COMPONENT_SCHEMA` extending {{< pr number="7918" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [esp32] Use pioarduino + IDF 5.1.5 as default for IDF builds {{< pr number="7706" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Bump actions/cache from 4.1.2 to 4.2.0 {{< pr number="7926" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump actions/cache from 4.1.2 to 4.2.0 in /.github/actions/restore-python {{< pr number="7925" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Add OCI Image Labels {{< pr number="7924" repo="esphome" >}} by {{< ghuser name="Passific" >}}
- Move docker oci labels to correct image {{< pr number="7927" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Update project description {{< pr number="7928" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [modbus] More clean-up {{< pr number="7921" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add: Seeed Studio MR60BHA2 mmWave Sensor {{< pr number="7589" repo="esphome" >}} by {{< ghuser name="limengdu" >}} (new-integration)
- Optimize QMC5883L reads {{< pr number="7889" repo="esphome" >}} by {{< ghuser name="dnschneid" >}}
- [display] Fix strftime overload ignoring alignment {{< pr number="7937" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add font anti-aliasing for grayscale display {{< pr number="7934" repo="esphome" >}} by {{< ghuser name="koreapyj" >}}
- Bump pypa/gh-action-pypi-publish from 1.12.2 to 1.12.3 {{< pr number="7941" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- [adc] Split files by platform {{< pr number="7940" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- [const] Move `CONF_TEMPERATURE_COMPENSATION` to common const.py {{< pr number="7943" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [lvgl] Fix image `mode` property (Bugfix) {{< pr number="7938" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [lvgl] Add `on_change` event {{< pr number="7939" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Synchronise esp32 boards with platform version 51.03.07 {{< pr number="7945" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- [i2c] Use correct macro to determine number of i2c peripherals for idf {{< pr number="7947" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [const] Add RMT CONF variables to const.py {{< pr number="7953" repo="esphome" >}} by {{< ghuser name="swoboda1337" >}}
- [sgp30] Set default update interval to 60s {{< pr number="7952" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- [dallas_temp] Move delay_microseconds_safe to iram {{< pr number="7957" repo="esphome" >}} by {{< ghuser name="swoboda1337" >}}
- [i2s_audio] Bugfix: Correctly set ring buffer size {{< pr number="7959" repo="esphome" >}} by {{< ghuser name="kahrendt" >}}
- [adc] Restore missing LIBRETINY code in a separated file {{< pr number="7955" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- [font] cleanly handle font file format exception (Bugfix) {{< pr number="7970" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [dashboard] Accept basic auth header {{< pr number="7965" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump esphome-dashboard to 20241217.1 {{< pr number="7971" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [esp32_ble] Use RAMAllocator to avoid panic abort from `new` {{< pr number="7936" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

<!-- markdownlint-enable MD013 -->

## All Changelogs

{{< changelogs >}}
