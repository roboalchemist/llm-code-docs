---
description: "Changelog for ESPHome version 1.12.0."
title: "Changelog - Version 1.12.0"
params:
  seo:
    description: Changelog for ESPHome version 1.12.0.
    image: /_static/changelog-1.12.0.png
---
<!-- markdownlint-disable MD013 -->

{{< imgtable >}}
"User-Defined Services","components/api.html#user-defined-services","home-assistant.svg","dark-invert"
"ESP32 Camera","components/esp32_camera","camera.svg","dark-invert"
"MPR121","components/binary_sensor/mpr121","mpr121.jpg",""
"SDS011","components/sensor/sds011","sds011.jpg",""
"MCP23017","components/mcp230xx","mcp23017.svg",""
"Servo","components/servo","servo.svg",""
"WiFi Info","components/text_sensor/wifi_info","network-wifi.svg","dark-invert"
{{< /imgtable >}}
It's release day! ðŸŽ‰ Today I'm happy to release ESPHome 1.12.0. What's new? A lot of awesome
stuff got added! Let me walk you through it:

Before 1.12, it was only possible to transfer data from ESPHome to Home Assistant (with the
`homeassistant.service` call). With 1.12 you get [User-defined services](/components/api#api-device-actions),
just define a service in your ESPHome file and call it like any other service from HA. All the
rest (like variables, data validation, etc) are handled automatically!

{{< docref "/components/esp32_camera" "ESP32 Camera Support" >}}: This is huge. When integrating cameras
into your smart home you'd always have to weigh between security and price; cheap cameras often
are very insecure (and sometimes even exposed on the web). And even the pricier ones would
sometimes phone back to the manufacturer and upload your data. With ESPHome, everything's 100%
local and communicates *directly* with Home Assistant. It took a bit longer than I initially
anticipated to iron out most stability issues, but with 1.12.0 it's finally here :)

And thanks very much to {{< ghuser name="puuu" >}} for the {{< docref "/components/sensor/sds011" "SDS011 Particulate Matter integration" >}} and
{{< ghuser name="mvturnho" >}} for the newly added
{{< docref "/components/binary_sensor/mpr121" "MPR121 Capacitive Touch sensor" >}} support!

And as always, this release contains tons of small adjustments (like automatically providing
suggestions for validation errors) and bug fixes to make your life easier.

## Breaking Changes

- The `timeout_meter` and `timeout_time` options of the ultrasonic sensor
  have been merged into `timeout`. ({{< docref "/components/sensor/ultrasonic" >}})

- Ultrasonic Sensor no longer works with GPIO16 as echo pin on ESP8266s because
  the implementation switched to an asynchronous interrupt mode.

## Other notable changes

- Added `calibrate_linear` sensor filter for easier calibration of sensors
  ([sensor-filter-calibrate_linear](/components/sensor/filter/multiply#sensor-filter-calibrate_linear))

- Added `for` parameter to [binary_sensor.is_on](/components/binary_sensor#binary_sensor-is_on_condition) condition.
- Added `streamer_mode`, `status_use_ping` and `relative_url` options to the Hass.io addon
  (see addon description).

- Improved validation. For small typos for config variables similar keys are automatically
  suggested.

- Added `esp8266_restore_from_flash` to {{< docref "/components/esphome" "esphome section" >}} which
  enables restoring state from flash instead of RTC memory - this allows recovering relay state
  even after a power cycle.

- Added ability
- `!secret` values are now hidden for config validation.
- Rotary Encoders have a new `min_value` and `max_value` option. ({{< docref "/components/sensor/rotary_encoder" >}})
- Fixed OTA not working for ESP32 when BLE enabled.
- Added a "delete" button in the dashboard interface to delete configuration files.
- Reworked GPIO interrupts, this will fix a bunch of issues with components that use interrupts
  (rotary encoder, software uart, remote receiver, ...)

- Allowed the use of newest Arduino Core version for ESP8266: `2.5.0` (not default yet,
  please try it out on non-critical devices and report if there are no wifi issues)

## Release 1.12.1 - March 20

- core: Fix homeassistant mqtt discovery for light components :corepr:`553` by {{< ghuser name="puuu" >}}
- esphome: Fix filter_out: nan filer {{< pr number="486" repo="esphome" >}}
- docs: Sonoff S20 yaml fix {{< pr number="200" repo="esphome-docs" >}} by {{< ghuser name="BananaPukeh" >}}
- core: Fix WiFi Info Text Sensor :corepr:`554`
- core: Fix addressable lights starting white at boot :corepr:`556`
- esphome: Fix IPAddress in validate secret {{< pr number="488" repo="esphome" >}}

## Release 1.12.2 - March 31

- esphome: Better symlink support under Windows {{< pr number="487" repo="esphome" >}} by {{< ghuser name="glmnet" >}}
- core: Fix WiFi Info sensor for ESP32 :corepr:`561`
- core: Revert ultrasonic sensor to non-interrupt mode :corepr:`562`
- core: Fix web_server for text_sensors :corepr:`567`
- core: Fix ESP8266 cannot OTA after failed OTA attempt :corepr:`564`
- core: ESP8266 SDK Core 2.3.0 compat :corepr:`563`
- esphome: ESP8266 SDK 2.3.0 compat {{< pr number="490" repo="esphome" >}}
- docs: Expand USB flashing, clarify how to report a bug. {{< pr number="204" repo="esphome-docs" >}} by {{< ghuser name="balloob" >}}
- core: Fix dallas on GPIO0 :corepr:`568`
- docs: Fix api homeassistant.service docs {{< pr number="209" repo="esphome-docs" >}} by {{< ghuser name="davericher" >}}
- esphome: Upgrade ESPAsyncTCP to 1.2.0 {{< pr number="497" repo="esphome" >}}
- core: Upgrade espasynctcp :corepr:`576`
- esphome: Fix dashboard wizard unicode {{< pr number="494" repo="esphome" >}}
- esphome: Fix text sensor MQTT settings {{< pr number="495" repo="esphome" >}}
- core: Split up WiFi ESP32 and ESP8266 implementation :corepr:`572`
- core: Fix MCP23017 to work on OUTPUT mode. :corepr:`571` by {{< ghuser name="puerari" >}}
- core: Disable wifi interface on shutdown :corepr:`566`
- core: Fix light flashes :corepr:`578`
- core: Rewrite PN532 to fix some lowvbat issues :corepr:`575`
- core: cse7766 fix :corepr:`558` by {{< ghuser name="brianrjones69" >}}
- esphome: Upgrade docker base image to 1.4.3 {{< pr number="499" repo="esphome" >}}
- core: Fix neopixelbus logging causes section type conflict :corepr:`579`

## All changes

- core: Fix feed_wdt :corepr:`520`
- core: Speed up waveshare Epaper :corepr:`518`
- esphome: Improve dashboard setup wizard {{< pr number="450" repo="esphome" >}}
- core: Add MPR121 support for esphome-core :corepr:`517` by {{< ghuser name="mvturnho" >}}
- esphome: Add MPR121 Capacitive Touch Sensor {{< pr number="449" repo="esphome" >}} by {{< ghuser name="mvturnho" >}}
- core: Add restore state from flash option :corepr:`530`
- esphome: Add restore state from flash option {{< pr number="459" repo="esphome" >}}
- docs: Add restore state from flash option {{< pr number="181" repo="esphome-docs" >}}
- esphome: Automatically hide secrets in validation {{< pr number="455" repo="esphome" >}}
- core: Add nextion commands :corepr:`523`
- core: Add logic in Output for minimum power setting :corepr:`516` by {{< ghuser name="mtl010957" >}}
- esphome: Add handling for min power output setting {{< pr number="448" repo="esphome" >}} by {{< ghuser name="mtl010957" >}}
- docs: Update output documentation for min_power configuration {{< pr number="167" repo="esphome-docs" >}} by {{< ghuser name="mtl010957" >}}
- esphome: Recommend similar keys for spelling errors {{< pr number="458" repo="esphome" >}}
- core: Convert Automation engine to variadic templates :corepr:`519`
- core: Add linear calibration filter :corepr:`524`
- esphome: Convert automation engine to use variadic templates {{< pr number="452" repo="esphome" >}}
- docs: Add linear calibration filter {{< pr number="180" repo="esphome-docs" >}}
- core: Add native API User-Defined services :corepr:`522`
- esphome: Add native API User-Defined services {{< pr number="453" repo="esphome" >}}
- esphome: Add linear calibration sensor filter {{< pr number="454" repo="esphome" >}}
- docs: Component reshuffle {{< pr number="183" repo="esphome-docs" >}} by {{< ghuser name="FrengerH" >}}
- docs: Add MPR121 support {{< pr number="176" repo="esphome-docs" >}} by {{< ghuser name="mvturnho" >}}
- esphome: Fix os.symlink on Windows {{< pr number="460" repo="esphome" >}}
- esphome: Enable i2c scanning by default {{< pr number="462" repo="esphome" >}}
- core: Add rotary encoder min/max value :corepr:`534`
- esphome: Add rotary encoder min/max value {{< pr number="463" repo="esphome" >}}
- esphome: Fix gain setting for ADS1115 {{< pr number="468" repo="esphome" >}} by {{< ghuser name="Melkor82" >}}
- core: Use clang-format and clang-tidy in CI :corepr:`540`
- core: Add GPIO interrupt abstraction :corepr:`535`
- core: Add MCP23017 :corepr:`537`
- core: Add WiFi/MQTT/API connected condition :corepr:`536`
- core: Fix debug statement in ESP32 Hall Sensor :corepr:`533` by {{< ghuser name="emwap" >}}
- core: Remove light mqtt_json warning :corepr:`532`
- esphome: Add WiFi/MQTT/API connected condition {{< pr number="465" repo="esphome" >}}
- esphome: Rewrite interrupt components {{< pr number="464" repo="esphome" >}}
- esphome: Add relative_url, streamer_mode, status_use_ping dashboard options {{< pr number="461" repo="esphome" >}}
- esphome: Add MCP23017 {{< pr number="466" repo="esphome" >}}
- esphome: Allow Arduino Core 2.5.0 for ESP8266 {{< pr number="469" repo="esphome" >}}
- core: Add copy output platform :corepr:`542`
- core: Add 'for' to binary sensor conditions :corepr:`541`
- esphome: Upgrade ESP32 core to 1.0.1 {{< pr number="470" repo="esphome" >}}
- core: Add WiFi Info Text Sensor :corepr:`543`
- esphome: Add for to binary sensor conditions {{< pr number="471" repo="esphome" >}}
- esphome: Add connected condition {{< pr number="474" repo="esphome" >}}
- esphome: Add copy output platform {{< pr number="472" repo="esphome" >}}
- esphome: Add Wifi info text sensor {{< pr number="473" repo="esphome" >}}
- docs: Add text-based sensor example to OLED cookbook entry {{< pr number="190" repo="esphome-docs" >}} by {{< ghuser name="tubalainen" >}}
- docs: H801 Cookbook Edit Language about holding GPIOs during flashing {{< pr number="189" repo="esphome-docs" >}} by {{< ghuser name="2016for" >}}
- docs: Adding manual for Sonoff T1 UK 3 Gang V1.1 {{< pr number="182" repo="esphome-docs" >}} by {{< ghuser name="nnmalex" >}}
- core: Add SDS011 :corepr:`538` by {{< ghuser name="puuu" >}}
- esphome: Support SDS011 component. {{< pr number="467" repo="esphome" >}} by {{< ghuser name="puuu" >}}
- docs: Document SDS011 component {{< pr number="185" repo="esphome-docs" >}} by {{< ghuser name="puuu" >}}
- docs: Add Teckin SP20 (US) example to 'Generic Sonoff' page {{< pr number="191" repo="esphome-docs" >}} by {{< ghuser name="mjoshd" >}}
- esphome: Add color to login error for better visibility {{< pr number="478" repo="esphome" >}} by {{< ghuser name="TheZoker" >}}
- core: Fixed: Waveshare 4.2in display timing problem due to high speed SPI uâ€¦ :corepr:`546` by {{< ghuser name="dirkj" >}}
- docs: Update information on flashing OTA to old ip {{< pr number="193" repo="esphome-docs" >}} by {{< ghuser name="tubalainen" >}}
- docs: NeopixelBus Light: Fix GPIO2 not GPIO3 for uart1 method {{< pr number="194" repo="esphome-docs" >}} by {{< ghuser name="Bierchermuesli" >}}
- docs: Cookbook Guide for Mirabella Genio Smart Bulbs {{< pr number="184" repo="esphome-docs" >}} by {{< ghuser name="cryptelli" >}}
- docs: Improve bme280_environment cookbook for stable climates {{< pr number="149" repo="esphome-docs" >}} by {{< ghuser name="hajdbo" >}}
- core: SDS011: change type of update_interval_min to uint8_t :corepr:`545` by {{< ghuser name="puuu" >}}
- core: Add ESP32 camera support :corepr:`544`
- docs: Cookbook Guide for Brilliant / Mirabella Genio Smart Plugs {{< pr number="195" repo="esphome-docs" >}} by {{< ghuser name="cryptelli" >}}
- esphome: Add ESP32 Camera {{< pr number="475" repo="esphome" >}}
- docs: Add native API User-Defined services {{< pr number="171" repo="esphome-docs" >}} (cherry-picked)
- docs: BME280 environment micrograms -> grams {{< pr number="198" repo="esphome-docs" >}} by {{< ghuser name="hajdbo" >}}
- esphome: Changes for 1.12 {{< pr number="482" repo="esphome" >}} (cherry-picked)
- core: Fixes for 1.12 :corepr:`551` (cherry-picked)
- core: More changes for 1.12 :corepr:`552`
- esphome: More changes for 1.12 {{< pr number="483" repo="esphome" >}}
- esphome: Update Hassio base image to 1.4.1 {{< pr number="484" repo="esphome" >}}

<!-- markdownlint-enable MD013 -->

## All Changelogs

{{< changelogs >}}
