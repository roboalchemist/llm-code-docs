---
description: "Changelog for ESPHome 2023.7.0."
title: "ESPHome 2023.7.0 - 19th July 2023"
params:
  seo:
    description: Changelog for ESPHome 2023.7.0.
    image: /_static/changelog-2023.7.0.png
---

{{< imgtable >}}
"XL9535 I/O Expander","components/xl9535","xl9535.svg",""
"Zio Ultrasonic Sensor","components/sensor/zio_ultrasonic","zio_ultrasonic.jpg",""
"Alpha3","components/sensor/alpha3","alpha3.jpg",""
"PCF8563 RTC","components/time/pcf8563","clock-outline.svg","dark-invert"
"TT21100","components/touchscreen/tt21100","esp32-s3-korvo-2-lcd.png",""
"Grove TB6612FNG","components/grove_tb6612fng","motor.png",""
"ATM90E26","components/sensor/atm90e26","atm90e26.jpg",""
"Duty Time","components/sensor/duty_time","timer-play-outline.svg","dark-invert"
{{< /imgtable >}}

## Webserver with ESP-IDF

This releases adds support for the {{< docref "/components/web_server" "Webserver" >}} and
{{< docref "/components/captive_portal" >}} when using the `esp-idf` framework on ESP32 boards.

## Display components

This release adds a few changes to the display core code to optimise and allow for future
improvements which are already in progress. This also may bring breaking changes to the internal APIs that
`external_components` may be relying on.

## A new warning in the logs

```text
[00:00:00][W][component:204]: Component xxxxxx took a long time for an operation (x.xx s).
[00:00:00][W][component:205]: Components should block for at most 20-30ms.
```

These 2 log lines may show up in the most recent version of ESPHome due to the log level being changed from
`verbose` to `warning`. I made this change because changing the device log level to verbose just to see if these
lines show up significantly slowed down the device due to all the extra logging it had to do.

Please do not report new issues for this, but [comment on this issue](https://github.com/esphome/issues/issues/4717)
if someone has not already commented for that specific component.

## Full list of changes

<!-- markdownlint-disable MD013 -->

### New Components

- XL9535 I/O Expander {{< pr number="4899" repo="esphome" >}} by {{< ghuser name="mreditor97" >}} (new-integration)
- Add Zio Ultrasonic Distance Sensor Component {{< pr number="5059" repo="esphome" >}} by {{< ghuser name="kahrendt" >}} (new-integration)
- Add Alpha3 pump component {{< pr number="3787" repo="esphome" >}} by {{< ghuser name="jan-hofmeier" >}} (new-integration)
- RTC implementation of pcf8563 {{< pr number="4998" repo="esphome" >}} by {{< ghuser name="KoenBreeman" >}} (new-integration)
- web server esp idf suppport {{< pr number="3500" repo="esphome" >}} by {{< ghuser name="dentra" >}} (new-integration)
- Add TT21100 touchscreen component {{< pr number="4793" repo="esphome" >}} by {{< ghuser name="kroimon" >}} (new-integration)
- Add support for Grove tb6612 fng {{< pr number="4797" repo="esphome" >}} by {{< ghuser name="max246" >}} (new-integration)
- Add support for ATM90E26 {{< pr number="4366" repo="esphome" >}} by {{< ghuser name="danieltwagner" >}} (new-integration)
- New 'Duty Time' sensor component {{< pr number="5069" repo="esphome" >}} by {{< ghuser name="dudanov" >}} (new-integration)

### Breaking Changes

- display: add `BaseFont` and introduce `Font::draw` methods {{< pr number="4963" repo="esphome" >}} by {{< ghuser name="ayufan" >}} (breaking-change)
- display: Rename `display.DisplayBufferRef` to `display.DisplayRef` used by lambda {{< pr number="5002" repo="esphome" >}} by {{< ghuser name="ayufan" >}} (breaking-change)
- Remove template switch restore_state {{< pr number="5106" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)

### Beta Changes

- Dont do mqtt ip lookup if `use_address` has ip address {{< pr number="5096" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- ESP32 enable ADC2 when wifi is disabled {{< pr number="4381" repo="esphome" >}} by {{< ghuser name="pciavald" >}}
- [Sprinkler] Resume fixes {{< pr number="5100" repo="esphome" >}} by {{< ghuser name="hostcc" >}}
- Remove template switch restore_state {{< pr number="5106" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- Add timeout filter {{< pr number="5104" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- P1 values for capacity tariff in Belgium {{< pr number="5081" repo="esphome" >}} by {{< ghuser name="bwynants" >}}
- airthings_wave: Silence compiler warnings {{< pr number="5098" repo="esphome" >}} by {{< ghuser name="kpfleming" >}}
- Sigma delta fix {{< pr number="4911" repo="esphome" >}} by {{< ghuser name="PlainTechEnthusiast" >}}
- [LD2410] Remove baud_rate check {{< pr number="5112" repo="esphome" >}} by {{< ghuser name="voed" >}}
- Fix silence detection flag on voice assistant {{< pr number="5120" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Release 2023.7.1 - August 1

- Dashboard: use Popen() on Windows {{< pr number="5110" repo="esphome" >}} by {{< ghuser name="kuba2k2" >}}
- Swap ADC back to use 'int' because C3 {{< pr number="5151" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- wifi: handle WIFI_REASON_ROAMING reason in event {{< pr number="5153" repo="esphome" >}} by {{< ghuser name="stintel" >}}
- Slightly lower template switch setup priority {{< pr number="5163" repo="esphome" >}} by {{< ghuser name="cvwillegen" >}}
- update "Can't convert" warning to match others in homeassistant_sensor {{< pr number="5162" repo="esphome" >}} by {{< ghuser name="PlainTechEnthusiast" >}}
- Increase maximum number of BLE notifications {{< pr number="5155" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- invert min_rssi check {{< pr number="5150" repo="esphome" >}} by {{< ghuser name="Jorre05" >}}
- Fix graininess & streaks for 7.50inV2alt Waveshare e-paper {{< pr number="5168" repo="esphome" >}} by {{< ghuser name="Egglestron" >}}

### All changes

- Upgraded Haier climate component implementation {{< pr number="4521" repo="esphome" >}} by {{< ghuser name="paveldn" >}}
- display: add `BaseFont` and introduce `Font::draw` methods {{< pr number="4963" repo="esphome" >}} by {{< ghuser name="ayufan" >}} (breaking-change)
- display/font: optimise font rendering by about 25% {{< pr number="4956" repo="esphome" >}} by {{< ghuser name="ayufan" >}}
- display: move `Rect` into `rect.cpp/.h` {{< pr number="4957" repo="esphome" >}} by {{< ghuser name="ayufan" >}}
- Bump pytest from 7.3.1 to 7.3.2 {{< pr number="4936" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Add read/write for 16bit registers {{< pr number="4844" repo="esphome" >}} by {{< ghuser name="CarsonF" >}}
- XL9535 I/O Expander {{< pr number="4899" repo="esphome" >}} by {{< ghuser name="mreditor97" >}} (new-integration)
- Fix python venv restoring {{< pr number="4965" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Preprocess away unused code when IPv6 is disabled {{< pr number="4973" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Bump aioesphomeapi from 14.0.0 to 14.1.0 {{< pr number="4972" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Add actions to animation {{< pr number="4959" repo="esphome" >}} by {{< ghuser name="guillempages" >}}
- Bump zeroconf from 0.63.0 to 0.69.0 {{< pr number="4970" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- mqtt: add ESP-IDF >= 5.0 support {{< pr number="4854" repo="esphome" >}} by {{< ghuser name="stintel" >}}
- display: move `Image`, `Font` and `Animation` code into components {{< pr number="4967" repo="esphome" >}} by {{< ghuser name="ayufan" >}}
- support empty schemas and one platform components {{< pr number="4999" repo="esphome" >}} by {{< ghuser name="glmnet" >}}
- update dsmr to 0.7 {{< pr number="5011" repo="esphome" >}} by {{< ghuser name="Pvlerick" >}}
- add water delivered to dsmr component {{< pr number="4237" repo="esphome" >}} by {{< ghuser name="jerome992" >}}
- Update sync workflow {{< pr number="5017" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump aioesphomeapi from 14.1.0 to 15.0.0 {{< pr number="5012" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump pyupgrade from 3.4.0 to 3.7.0 {{< pr number="4971" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump pytest from 7.3.2 to 7.4.0 {{< pr number="5000" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Attempt to fix script parameters {{< pr number="4627" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Remove yaml test cache {{< pr number="5019" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump esptool from 4.6 to 4.6.2 {{< pr number="4949" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump pytest-mock from 3.10.0 to 3.11.1 {{< pr number="4977" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- binary_sensor removed unused filter {{< pr number="5039" repo="esphome" >}} by {{< ghuser name="dudanov" >}}
- binary_sensor filters templatable delays {{< pr number="5029" repo="esphome" >}} by {{< ghuser name="dudanov" >}}
- Improve the gamma settings for the S3-Box-lite display {{< pr number="5046" repo="esphome" >}} by {{< ghuser name="guillempages" >}}
- Prepare ethernet to work with esp idf 5.0 {{< pr number="5037" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Prepare debug and logger component to work with idf 5.0 {{< pr number="5036" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Mopeka std fixes {{< pr number="5041" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- Adjust signature for on_disconnect {{< pr number="5009" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Log component long time message at warning level {{< pr number="5048" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Log start of i2c setup {{< pr number="5049" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Initial debug component support for rp2040 {{< pr number="5056" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Fix when idf component has broken symlinks {{< pr number="5058" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Some tests wasn't running (locally) {{< pr number="5050" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- [ILI9xxx] Add ili9488_a (alternative gamma configuration for ILI9488) {{< pr number="5027" repo="esphome" >}} by {{< ghuser name="lnicolas83" >}}
- [ili9xxx] Allow config of spi data rate. {{< pr number="4701" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- Make scheduler debuging work with idf >= 5 {{< pr number="5052" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Adds 1.54" e-ink display (gdew0154m09) support to waveshare_epaper component {{< pr number="4939" repo="esphome" >}} by {{< ghuser name="tobiasoort" >}}
- display: split `DisplayBuffer` and `Display` {{< pr number="5001" repo="esphome" >}} by {{< ghuser name="ayufan" >}}
- Fixed ili9xxx_display update() method {{< pr number="5013" repo="esphome" >}} by {{< ghuser name="nielsnl68" >}}
- [Ethernet] ksz8081rna support {{< pr number="4739" repo="esphome" >}} by {{< ghuser name="Fabian-Schmidt" >}}
- Improve BME680 BSEC sensor device classes {{< pr number="4859" repo="esphome" >}} by {{< ghuser name="trvrnrth" >}}
- Update RP2040 Aruino framwork and platform to latest {{< pr number="5025" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- Allow pillow versions over 10 {{< pr number="5071" repo="esphome" >}} by {{< ghuser name="HeMan" >}}
- display: Rename `display.DisplayBufferRef` to `display.DisplayRef` used by lambda {{< pr number="5002" repo="esphome" >}} by {{< ghuser name="ayufan" >}} (breaking-change)
- Add Zio Ultrasonic Distance Sensor Component {{< pr number="5059" repo="esphome" >}} by {{< ghuser name="kahrendt" >}} (new-integration)
- Add Alpha3 pump component {{< pr number="3787" repo="esphome" >}} by {{< ghuser name="jan-hofmeier" >}} (new-integration)
- RTC implementation of pcf8563 {{< pr number="4998" repo="esphome" >}} by {{< ghuser name="KoenBreeman" >}} (new-integration)
- web server esp idf suppport {{< pr number="3500" repo="esphome" >}} by {{< ghuser name="dentra" >}} (new-integration)
- Add TT21100 touchscreen component {{< pr number="4793" repo="esphome" >}} by {{< ghuser name="kroimon" >}} (new-integration)
- tuya_light: fix float->int conversion while setting color temperature {{< pr number="5067" repo="esphome" >}} by {{< ghuser name="kswt" >}}
- Fix typo in mpu6050.cpp {{< pr number="5086" repo="esphome" >}} by {{< ghuser name="stefanklug" >}}
- airthings_wave: Battery level reporting {{< pr number="4979" repo="esphome" >}} by {{< ghuser name="kpfleming" >}}
- Add support for Grove tb6612 fng {{< pr number="4797" repo="esphome" >}} by {{< ghuser name="max246" >}} (new-integration)
- Add MCP2515 12MHz xtal support {{< pr number="5089" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Correct message for standard transmission. {{< pr number="5088" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Restrict pillow to versions before 10.0.0 {{< pr number="5090" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump esphome-dashboard to 20230711.0 {{< pr number="5085" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- added uart final validate data bits {{< pr number="5079" repo="esphome" >}} by {{< ghuser name="dudanov" >}}
- Add support for ATM90E26 {{< pr number="4366" repo="esphome" >}} by {{< ghuser name="danieltwagner" >}} (new-integration)
- Grove amend name {{< pr number="5093" repo="esphome" >}} by {{< ghuser name="max246" >}}
- Fixing colon for tm1637 display if inverted set true {{< pr number="5072" repo="esphome" >}} by {{< ghuser name="paveldn" >}}
- Fix use of `optional<T>` {{< pr number="5091" repo="esphome" >}} by {{< ghuser name="dudanov" >}}
- New 'Duty Time' sensor component {{< pr number="5069" repo="esphome" >}} by {{< ghuser name="dudanov" >}} (new-integration)
- Fix PIDController::in_deadband() to give correct result when error is zero {{< pr number="5078" repo="esphome" >}} by {{< ghuser name="lewissbaker" >}}
- Edit error message for pillow install to add version restrictions {{< pr number="5094" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Dont do mqtt ip lookup if `use_address` has ip address {{< pr number="5096" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- ESP32 enable ADC2 when wifi is disabled {{< pr number="4381" repo="esphome" >}} by {{< ghuser name="pciavald" >}}
- [Sprinkler] Resume fixes {{< pr number="5100" repo="esphome" >}} by {{< ghuser name="hostcc" >}}
- Remove template switch restore_state {{< pr number="5106" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- Add timeout filter {{< pr number="5104" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- P1 values for capacity tariff in Belgium {{< pr number="5081" repo="esphome" >}} by {{< ghuser name="bwynants" >}}
- airthings_wave: Silence compiler warnings {{< pr number="5098" repo="esphome" >}} by {{< ghuser name="kpfleming" >}}
- Sigma delta fix {{< pr number="4911" repo="esphome" >}} by {{< ghuser name="PlainTechEnthusiast" >}}
- [LD2410] Remove baud_rate check {{< pr number="5112" repo="esphome" >}} by {{< ghuser name="voed" >}}
- Fix silence detection flag on voice assistant {{< pr number="5120" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

<!-- markdownlint-enable MD013 -->

## All Changelogs

{{< changelogs >}}
