---
description: "Changelog for ESPHome 2022.12.0."
title: "ESPHome 2022.12.0 - 14th December 2022"
params:
  seo:
    description: Changelog for ESPHome 2022.12.0.
    image: /_static/changelog-2022.12.0.png
---

{{< imgtable >}}
"ESP32","components/esp32","esp32.svg",""
"Bluetooth Proxy","components/bluetooth_proxy","bluetooth.svg","dark-invert"
"SN74HC165 I/O Expander","components/sn74hc165","sn74hc595.jpg",""
{{< /imgtable >}}
The festive holidays are coming early and bring you an ESPHome release 1 week earlier than normal.
This release does not bring a bunch of new components like most releases, but instead the focus
has been on upgrading the core Arduino and ESP-IDF versions used for the ESP32 based devices.

## Ethernet

Because these core upgrade have aligned the version of ESP-IDF under the hood, `ethernet`
is now able to be used when specifying ESP-IDF as your framework of choice.

## Bluetooth Proxy

The Bluetooth Proxy has also had a whole lot of work done by {{< ghuser name="bdraco" >}} under the hood to
improve the stability, speed and reliability between Home Assistant and the bluetooth devices
that get proxied through. Along with some of these bluetooth changes is a change to the
underlying flash partition table that ESPHome uses. OTA will work, but to fully take advantage
of the performance increases for bluetooth, it is best to at least one serial flash with ESPHome
2022.12.0 or later.

## Container images

> [!NOTE]
> This breaking change only affects you if you use docker containers directly and specify the suffix
> in your image.

2022.12.6 changes the way the container images are built and published. This is due to something
breaking somewhere that we could not explain. It has to do with the `docker manifest` command
which has been around for a while but always been marked as `experimental` so we cannot really
complain.

From now on there will be no builds with tags for the `-armv7` / `-amd64` / `aarch64` suffixes,
but the main images (`ghcr.io/esphome/esphome:<version>`  ) will be multi-arch capable and work on the
3 supported architectures.

<!-- markdownlint-disable MD013 -->

## Release 2022.12.1 - December 16

- Support non-multiarch toolchains on 32-bit ARM {{< pr number="4191" repo="esphome" >}} by {{< ghuser name="agners" >}}
- Mark ESP32-S2 as not having Bluetooth {{< pr number="4194" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix i2s_audio media_player compiling for esp32-s2 {{< pr number="4195" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Release 2022.12.2 - December 20

- Fix import_full_config for adoption configs {{< pr number="4197" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Handle zero padding anywhere in the combined adv data {{< pr number="4208" repo="esphome" >}} by {{< ghuser name="bdraco" >}}

## Release 2022.12.3 - December 20

- Fix ESP32 GPIO when using INPUT PULLUP mode {{< pr number="4213" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Release 2022.12.4 - January 20

- Fix gpio pin mode for ISR pins {{< pr number="4216" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Always send the MTU request for BLE v3 cached connections {{< pr number="4322" repo="esphome" >}} by {{< ghuser name="bdraco" >}}

## Release 2022.12.5 - January 23

- Bump nano version in lint docker image {{< pr number="4218" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Release 2022.12.6 - January 24

- Move from docker manifest command to buildx with platforms {{< pr number="4320" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)

## Release 2022.12.7 - January 26

- Add "content" to deploy-ha-addon-repo dispatch {{< pr number="4349" repo="esphome" >}} by {{< ghuser name="ludeeus" >}}
- fix stepper jump back with small steps {{< pr number="4339" repo="esphome" >}} by {{< ghuser name="0xDRRB" >}}
- rename esp32 CAN to TWAI, so it compiles again {{< pr number="4334" repo="esphome" >}} by {{< ghuser name="designer2k2" >}}
- Fix BME280 initialization before wifi setup {{< pr number="4190" repo="esphome" >}} by {{< ghuser name="pxe-la" >}}
- Add a soft reset in setup() for bmp280 {{< pr number="4329" repo="esphome" >}} by {{< ghuser name="melyux" >}}

## Release 2022.12.8 - January 27

- Upgrades add-on base image to 6.2.0 {{< pr number="4310" repo="esphome" >}} by {{< ghuser name="frenck" >}}
- Migrate old-style S6 scripts to s6-rc.d {{< pr number="4311" repo="esphome" >}} by {{< ghuser name="frenck" >}}
- Refactor NGINX configuration of Home Assistant Add-on {{< pr number="4312" repo="esphome" >}} by {{< ghuser name="frenck" >}}
- Add Home Assistant integration discovery {{< pr number="4328" repo="esphome" >}} by {{< ghuser name="frenck" >}}

## Full list of changes

### New Features

- PID Climate - deadband and output sampling {{< pr number="3254" repo="esphome" >}} by {{< ghuser name="patrickcollins12" >}} (new-feature)

### New Components

- Add sn74hc165 input shift register {{< pr number="4151" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)

### Breaking Changes

- Update esp32 arduino and platform versions {{< pr number="3564" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change) (breaking-change)

### Beta Changes

- Fix ble parsing with zero padded advertisements {{< pr number="4162" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Increase watchdog timeout when starting OTA {{< pr number="4172" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump esphome-dashboard to 20221213.0 {{< pr number="4176" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Remove internal pin restriction from cd74hc4067 {{< pr number="4179" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Speed up bluetooth proxy connections when using esp-idf {{< pr number="4171" repo="esphome" >}} by {{< ghuser name="bdraco" >}} (notable-change)
- Remove warnings when falling through switch cases on purpose {{< pr number="4181" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Revert camera config change for esp-idf {{< pr number="4182" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

### Notable Changes

- Update esp32 arduino and platform versions {{< pr number="3564" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change) (breaking-change)
- Update ESP-IDF and platform version {{< pr number="3565" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change)
- Speed up bluetooth proxy connections when using esp-idf {{< pr number="4171" repo="esphome" >}} by {{< ghuser name="bdraco" >}} (notable-change)

### All changes

- Bump colorama from 0.4.5 to 0.4.6 {{< pr number="4010" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump frenck/action-yamllint from 1.3.0 to 1.3.1 {{< pr number="4011" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- add two new icons {{< pr number="3963" repo="esphome" >}} by {{< ghuser name="nagyrobi" >}}
- Move CONF_INTERRUPT_PIN to const.py {{< pr number="4014" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump pyupgrade from 3.2.0 to 3.2.2 {{< pr number="4017" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Add reset_reason text sensor to debug component {{< pr number="3814" repo="esphome" >}} by {{< ghuser name="kuba2k2" >}}
- remove unused variable last_save in total_daily_energy {{< pr number="4039" repo="esphome" >}} by {{< ghuser name="bkaufx" >}}
- Bump base image versions to latest {{< pr number="4016" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add number device class support {{< pr number="4042" repo="esphome" >}} by {{< ghuser name="frenck" >}}
- Update esp32 arduino and platform versions {{< pr number="3564" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change) (breaking-change)
- Update esp32 boards list {{< pr number="4056" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add Lolin S2 Mini board {{< pr number="3264" repo="esphome" >}} by {{< ghuser name="jhamhader" >}}
- Add pin aliases for upesy boards {{< pr number="3794" repo="esphome" >}} by {{< ghuser name="uPesy" >}}
- Bump pylint from 2.15.5 to 2.15.6 {{< pr number="4058" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- fix display_menu recursive schema gen {{< pr number="4045" repo="esphome" >}} by {{< ghuser name="glmnet" >}}
- Remove manual handling of ethernet power pin {{< pr number="4062" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump aioesphomeapi from 11.4.3 to 12.0.0 {{< pr number="4070" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Update ESP-IDF and platform version {{< pr number="3565" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change)
- Always use brackets around single log macros {{< pr number="4072" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Midea ir templatable code {{< pr number="4053" repo="esphome" >}} by {{< ghuser name="reidprojects" >}}
- Boards: Adafruit QT Py ESP32 Pico/C3/S2 {{< pr number="4064" repo="esphome" >}} by {{< ghuser name="jenscski" >}}
- Dont set esp32 pin drive strength unless pin is set for output {{< pr number="4075" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Don't allow debug component if you don't have at least debug logging level {{< pr number="4076" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Remove a bunch of unnecessary pylint disabling {{< pr number="4079" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Update ESP32-audioI2S library {{< pr number="4073" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add vector includes {{< pr number="4080" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Allow manually specifying binary file to OTA {{< pr number="4054" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix regressed 'esphome run' {{< pr number="4094" repo="esphome" >}} by {{< ghuser name="mmakaay" >}}
- Make parse_characteristics and parse_descriptors lazy to reduce memory pressure {{< pr number="4063" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Speed up BLE connections {{< pr number="4093" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Align BLE service logging {{< pr number="4095" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Suppress logging unhandled ESP_BLE_AD_TYPE_INT_RANGE {{< pr number="4096" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Make sure all BLE address strings are uppercase {{< pr number="4097" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Add logging for BLE connection slots {{< pr number="4098" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Fix registering for gatt notify when characteristic only support indicate {{< pr number="4092" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Fix descriptors not being deleted {{< pr number="4104" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Improve reliability of bluetooth active connections {{< pr number="4049" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Always use generated api options from aioesphomeapi {{< pr number="4116" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix bluetooth_gatt_write_descriptor never getting a response {{< pr number="4112" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Combine the scanner failure check so we only stop the scanner once {{< pr number="4111" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Reduce memory needed to send the services list {{< pr number="4110" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Avoid parsing characteristics and descriptors to reduce memory pressure {{< pr number="4109" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Send device address type alongside ble advertisements {{< pr number="4115" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Remove uuid lookups from BLE read/write/notify characteristics {{< pr number="4102" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Active BLE connection v3 {{< pr number="4113" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- preprocess out proto_enum_to_string if not needed {{< pr number="4119" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump aioesphomeapi from 12.0.0 to 12.2.0 {{< pr number="4120" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Avoid parsing services with v3 connections without cache {{< pr number="4117" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- FIX: Unnecessary flash writes by ModbusSwitch component {{< pr number="3648" repo="esphome" >}} by {{< ghuser name="jpeletier" >}}
- Speed up uuid parsing when fetching the service list {{< pr number="4121" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- modbus_switch: honor switch:restore_mode {{< pr number="4122" repo="esphome" >}} by {{< ghuser name="jpeletier" >}}
- PID Climate - deadband and output sampling {{< pr number="3254" repo="esphome" >}} by {{< ghuser name="patrickcollins12" >}} (new-feature)
- Allow auto setting of ble client id if there is only 1 in config {{< pr number="4125" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- fix RESTORE_INVERTED switch:restore_mode {{< pr number="4129" repo="esphome" >}} by {{< ghuser name="jpeletier" >}}
- Bump pylint from 2.15.6 to 2.15.7 {{< pr number="4127" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Allow global setting of compile process limit {{< pr number="4081" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump flake8 from 5.0.4 to 6.0.0 {{< pr number="4084" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump arduino pico and update wifi methods {{< pr number="4144" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump aioesphomeapi from 12.2.0 to 12.2.1 {{< pr number="4133" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump esptool from 3.3.1 to 4.4 {{< pr number="4071" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Fix mismatched flake8 version in pre-commit {{< pr number="4145" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Detect BLE stack unrecoverable state {{< pr number="4128" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Bump pylint from 2.15.7 to 2.15.8 {{< pr number="4148" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Fix crash with bluetooth tracker and esp-idf {{< pr number="4140" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Use ENTITY_CATEGORY_CONFIG for sprinkler config switches. {{< pr number="4141" repo="esphome" >}} by {{< ghuser name="schinckel" >}}
- fix switch initialization {{< pr number="4153" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- Change 4 chip limit on sn74hc595 to 256 {{< pr number="4108" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add reports fahrenheit to tuya climate {{< pr number="4032" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Allow dashboard import to pull complete file from github {{< pr number="3982" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Invalid config for waveshare models with no full_update_every {{< pr number="4066" repo="esphome" >}} by {{< ghuser name="Nizzle" >}}
- Add sn74hc165 input shift register {{< pr number="4151" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (new-integration)
- Fixed deep sleep for ESP32C3 {{< pr number="4143" repo="esphome" >}} by {{< ghuser name="pistifonok" >}}
- ESP32 IDF: Override toolchain-esp32ulp with espressifs own published version {{< pr number="4155" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add API for dashboard to get boards list {{< pr number="4154" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump pytest-asyncio from 0.20.1 to 0.20.2 {{< pr number="4019" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump pyupgrade from 3.2.2 to 3.3.0 {{< pr number="4137" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump dessant/lock-threads from 3 to 4 {{< pr number="4150" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump aioesphomeapi from 12.2.1 to 13.0.1 {{< pr number="4149" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump esphome-dashboard to 20221207.0 {{< pr number="4156" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix ble parsing with zero padded advertisements {{< pr number="4162" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Increase watchdog timeout when starting OTA {{< pr number="4172" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump esphome-dashboard to 20221213.0 {{< pr number="4176" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Remove internal pin restriction from cd74hc4067 {{< pr number="4179" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Speed up bluetooth proxy connections when using esp-idf {{< pr number="4171" repo="esphome" >}} by {{< ghuser name="bdraco" >}} (notable-change)
- Remove warnings when falling through switch cases on purpose {{< pr number="4181" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Revert camera config change for esp-idf {{< pr number="4182" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

<!-- markdownlint-enable MD013 -->

## All Changelogs

{{< changelogs >}}
