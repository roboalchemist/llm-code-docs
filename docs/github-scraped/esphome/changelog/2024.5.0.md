---
description: "Changelog for ESPHome 2024.5.0."
title: "ESPHome 2024.5.0 - 15th May 2024"
params:
  seo:
    description: Changelog for ESPHome 2024.5.0.
    image: /_static/changelog-2024.5.0.png
---

{{< imgtable >}}
"Valve Core","components/valve/index","folder-open.svg","dark-invert"
"Template Valve","components/valve/template","description.svg","dark-invert"
"Event Core","components/event/index","folder-open.svg","dark-invert"
"Template Event","components/event/template","description.svg","dark-invert"
"Template Time","components/datetime/template","description.svg","dark-invert"
"Template Datetime","components/datetime/template","description.svg","dark-invert"
"WeiKai SPI/I²C UART/IO Expander","components/weikai","wk2168.jpg",""
{{< /imgtable >}}

## Valves, Events, and More

This release brings a new `Valve` component, which can be used to control valves.
A `Valve` can be opened, closed, or a specific position set if supported.

`Event` entities were added to Home Assistant in [2023.8](https://www.home-assistant.io/blog/2023/08/02/release-20238/#introducing-the-event-entity).
They allow better structure and also history and logging of the events sent from ESPHome to Home Assistant compared
to just using publishing events onto the Home Assistant event bus with the `homeassistant.event` action.

The `datetime` component has also been extended with `DateTime` and `Time` entity types this release.

## ESP32 ADC Attenuation

The attenuation configuration option for ESP32 `adc` sensors has had a deprecation in the underlying ESP-IDF
framework with the `11dB` option. The value to replace `11dB` with is `12dB`. There are no functionality changes
otherwise. There will be a warning in the logs when installing if you are using `11dB` and it will be
removed in **2024.8.0**.

## Remote Receiver tolerance

The `tolerance` option in the `remote_receiver` component has been extended to allow time values, but at the
same time the validation is now more strict.
If you were using a raw value with no unit before 2024.5.0, for example `25`, you will need to change it to `25%`.

<!-- markdownlint-disable MD013 -->

## Release 2024.5.1 - May 20

- Add device_class to valve core config {{< pr number="6765" repo="esphome" >}} by {{< ghuser name="acshef" >}}
- Synchronise Device Classes from Home Assistant {{< pr number="6768" repo="esphome" >}} by {{< ghuser name="esphomebot" >}}
- Fix Upload from Dashboard with MQTT discovery. {{< pr number="6774" repo="esphome" >}} by {{< ghuser name="Links2004" >}}
- Fix MQTT dashboard discovery (Exception in MqttStatusThread). {{< pr number="6775" repo="esphome" >}} by {{< ghuser name="Links2004" >}}

## Release 2024.5.2 - May 21

- Revert "Fix MQTT dashboard discovery (Exception in MqttStatusThread)." {{< pr number="6782" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Fix DashboardEntries.all() call {{< pr number="6783" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- [remote_receiver] Add better error message for tolerance breaking change {{< pr number="6784" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Update webserver local assets to 20240519-215627 {{< pr number="6779" repo="esphome" >}} by {{< ghuser name="esphomebot" >}}

## Release 2024.5.3 - May 25

- [voice_assistant] Don't allocate buffers until starting the microphone for the first time {{< pr number="6800" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}

## Release 2024.5.4 - May 28

- [web_server_base] Bump ESPAsyncWebServer-esphome to 3.2.2 {{< pr number="6797" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [helpers] Move Base64 string to cpp {{< pr number="6819" repo="esphome" >}} by {{< ghuser name="gabest11" >}}

## Release 2024.5.5 - June 5

- [voice_assistant] Half the microphone ringbuffer size {{< pr number="6830" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [i2s_speaker] Add buffer allocation failure checks {{< pr number="6829" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [improv_serial] Fix for IDF 4.4.7 {{< pr number="6855" repo="esphome" >}} by {{< ghuser name="kbx81" >}}

## Full list of changes

### New Components

- Add valve component {{< pr number="6447" repo="esphome" >}} by {{< ghuser name="kbx81" >}} (new-integration)
- Add the WeiKai SPI/I2C UART/IO Expander components to esphome {{< pr number="5218" repo="esphome" >}} by {{< ghuser name="DrCoolzic" >}} (new-integration)
- Event entity support {{< pr number="6451" repo="esphome" >}} by {{< ghuser name="nohat" >}} (new-integration)
- SPI and I2C for BMP390 and BMP380 {{< pr number="6652" repo="esphome" >}} by {{< ghuser name="latonita" >}} (new-integration) (breaking-change)

### Breaking Changes

- Add DNS sensor and simplify format {{< pr number="6450" repo="esphome" >}} by {{< ghuser name="HeMan" >}} (breaking-change)
- SM2135 - Use standard channel ordering. {{< pr number="6573" repo="esphome" >}} by {{< ghuser name="Cossid" >}} (breaking-change)
- [sn74hc595] Enforce type field to distinguish gpio vs spi mode {{< pr number="6609" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- Add datetime entities {{< pr number="6513" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- SPI and I2C for BMP390 and BMP380 {{< pr number="6652" repo="esphome" >}} by {{< ghuser name="latonita" >}} (new-integration) (breaking-change)

### Beta Changes

- [github] Upgrade to actions/[upload,download]-artifact v4 {{< pr number="6698" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [nextion] Replace flags to `USE_ARDUINO` {{< pr number="6700" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- [remote_receiver, remote_transmitter] Improve error messages on the ESP32 {{< pr number="6701" repo="esphome" >}} by {{< ghuser name="Mat931" >}}
- [ethernet] Use constexpr instead of inline define for KSZ80XX_PC2R_REG_ADDR {{< pr number="6705" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add PHY register writes to enable external clock on Ethernet with RTL8201 {{< pr number="6704" repo="esphome" >}} by {{< ghuser name="heythisisnate" >}}
- Bump recommended ESP-IDF to 4.4.7 {{< pr number="6703" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- [core] Ensure that a generated ID name is distinct from its type. {{< pr number="6706" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [color] Fix crash when hex color parses as int, improve error reporting. {{< pr number="6707" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [github] Fix digest artifact name {{< pr number="6710" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- fix(ltr390): stuck ALS values when configured for ALS+UV readings {{< pr number="6723" repo="esphome" >}} by {{< ghuser name="CodeInPolish" >}}
- Set FEATURE_API_AUDIO flag also if the speaker component is not used {{< pr number="6712" repo="esphome" >}} by {{< ghuser name="gnumpi" >}}
- Bump platformio from 6.1.13 to 6.1.15 {{< pr number="6634" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Fix ESPHOME_PROJECT_VERSION_30 {{< pr number="6731" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Voice-Assistant: Start-order change for VAD disabled: start va-pipeline when microphon… {{< pr number="6391" repo="esphome" >}} by {{< ghuser name="gnumpi" >}}
- Add ANNOUNCING state to media_player. {{< pr number="6691" repo="esphome" >}} by {{< ghuser name="gnumpi" >}}
- [adc] Fix 11db deprecation warning {{< pr number="6749" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change)

### Notable Changes

- [adc] Fix 11db deprecation warning {{< pr number="6749" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change)

### All changes

- Add some components to the new testing framework (H) {{< pr number="6179" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Added Htu21d model option {{< pr number="6511" repo="esphome" >}} by {{< ghuser name="MRemy2" >}}
- Add bk72xx base test file {{< pr number="6522" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add "log" alias for "logs" command {{< pr number="6519" repo="esphome" >}} by {{< ghuser name="pzich" >}}
- Add DNS sensor and simplify format {{< pr number="6450" repo="esphome" >}} by {{< ghuser name="HeMan" >}} (breaking-change)
- Add all missing `remote_receiver` `on_...` tests {{< pr number="6524" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add actions to http_request tests {{< pr number="6529" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Update homeassistant component tests with actions {{< pr number="6528" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Define `USE_PSRAM` {{< pr number="6526" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Bump black from 24.2.0 to 24.4.0 {{< pr number="6539" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump peter-evans/create-pull-request from 6.0.2 to 6.0.3 {{< pr number="6525" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump python version in sync-device-classes workflow to 3.12 for HA {{< pr number="6541" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump pylint from 3.0.3 to 3.1.0 {{< pr number="6287" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump aioesphomeapi from 23.2.0 to 24.0.0 {{< pr number="6544" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump pyupgrade from 3.15.1 to 3.15.2 {{< pr number="6543" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Add enum option to typed_schema {{< pr number="6546" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Move esphome-fork startup script to main repo. {{< pr number="6523" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Call workflow for addon with dev version {{< pr number="6549" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Use trusted publishing token for pypi {{< pr number="6545" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Fix uart to work with new enum definition in esp-idf-v5.2.1 {{< pr number="6487" repo="esphome" >}} by {{< ghuser name="luar123" >}}
- Housecleaning: Use walrus operator in datetime {{< pr number="6552" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in text {{< pr number="6560" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in light {{< pr number="6556" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in select {{< pr number="6557" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in number {{< pr number="6561" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in cover {{< pr number="6562" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in climate {{< pr number="6551" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in fan {{< pr number="6555" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in text_sensor {{< pr number="6559" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump zeroconf to 0.132.2 {{< pr number="6548" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- Housecleaning: Use walrus operator in switch {{< pr number="6558" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in lock {{< pr number="6554" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Housecleaning: Use walrus operator in sensor {{< pr number="6553" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Bump pytest-mock from 3.12.0 to 3.14.0 {{< pr number="6572" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Bump peter-evans/create-pull-request from 6.0.3 to 6.0.4 {{< pr number="6569" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Nextion - Review set_protocol_reparse_mode() {{< pr number="6567" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Allow component final_validate {{< pr number="6475" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- SM2135 - Use standard channel ordering. {{< pr number="6573" repo="esphome" >}} by {{< ghuser name="Cossid" >}} (breaking-change)
- Nextion - Do not refresh sensors while updating {{< pr number="6566" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Nextion - Review types {{< pr number="6565" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- On failure, dump the output of preceding jobs in CI status {{< pr number="6564" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Nextion `send_command` method {{< pr number="6540" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Fix some printf formats for size_t. {{< pr number="6542" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- remove delay from tmp102 {{< pr number="6577" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- Create `component_dir` substitution for local files to be included in… {{< pr number="6575" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Define `USE_ESP32_BLE` {{< pr number="6585" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Bump aioesphomeapi from 24.0.0 to 24.3.0 {{< pr number="6602" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Add yamllint and clang-format to pre-commit hooks {{< pr number="6578" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Use clang-format version from requirements_dev file {{< pr number="6606" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add some components to the new testing framework (P) {{< pr number="6213" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add some components to the new testing framework (M part 1) {{< pr number="6207" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add some components to the new testing framework (M part 2) {{< pr number="6208" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add some components to the new testing framework (O) {{< pr number="6211" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [mopeka_std_check] Fix test file indentation {{< pr number="6610" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add valve component {{< pr number="6447" repo="esphome" >}} by {{< ghuser name="kbx81" >}} (new-integration)
- Add some components to the new testing framework (R) {{< pr number="6219" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [sn74hc595] Enforce type field to distinguish gpio vs spi mode {{< pr number="6609" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- [tests] Run yaml tests in groups if over 100 to run {{< pr number="6612" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add some components to the new testing framework (I) {{< pr number="6185" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add some components to the new testing framework (T) {{< pr number="6229" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add some components to the new testing framework (S part 1) {{< pr number="6224" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add some components to the new testing framework (S part 2) {{< pr number="6227" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- `graphical_display_menu` requires a Display, not DisplayBuffer {{< pr number="6614" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Add null GPIO pin {{< pr number="6611" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Allow UART to be AUTO LOADed {{< pr number="6617" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add the WeiKai SPI/I2C UART/IO Expander components to esphome {{< pr number="5218" repo="esphome" >}} by {{< ghuser name="DrCoolzic" >}} (new-integration)
- Sort mqtt_const alphabetically {{< pr number="6619" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Limit Rx wait loop time to 3 seconds. {{< pr number="6594" repo="esphome" >}} by {{< ghuser name="descipher" >}}
- Event entity support {{< pr number="6451" repo="esphome" >}} by {{< ghuser name="nohat" >}} (new-integration)
- Only check c/c++ files with clang-format {{< pr number="6620" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Added base64 helper {{< pr number="4866" repo="esphome" >}} by {{< ghuser name="freekode" >}}
- Add Roomba IR protocol {{< pr number="4595" repo="esphome" >}} by {{< ghuser name="rforro" >}}
- Fix issue when setting cw/ww brightness via temperature {{< pr number="5976" repo="esphome" >}} by {{< ghuser name="patagonaa" >}}
- Add get/set color temperature functions in Kelvin {{< pr number="5006" repo="esphome" >}} by {{< ghuser name="danielkent-net" >}}
- Move CONF_PLATFORM_VERSION to global const.py {{< pr number="6629" repo="esphome" >}} by {{< ghuser name="tomaszduda23" >}}
- Ble client fixes for proxy {{< pr number="6596" repo="esphome" >}} by {{< ghuser name="elupus" >}}
- Fix for #6614- use background_color, improve anti-aliasing {{< pr number="6618" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Fix graph hangs when y <= 0 {{< pr number="6593" repo="esphome" >}} by {{< ghuser name="chiahsing" >}}
- Feature add last_operation to time based cover {{< pr number="6084" repo="esphome" >}} by {{< ghuser name="xprofiler" >}}
- Add `event`, `text_sensor` and `valve` device classes to sync script {{< pr number="6624" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Add datetime entities {{< pr number="6513" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (breaking-change)
- Multiple Daly-BMS support {{< pr number="6615" repo="esphome" >}} by {{< ghuser name="latonita" >}}
- Remove text_sensor from sync-device-class job {{< pr number="6637" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Synchronise Device Classes from Home Assistant {{< pr number="6638" repo="esphome" >}} by {{< ghuser name="esphomebot" >}}
- Display: add diagnostic test_card option {{< pr number="6608" repo="esphome" >}} by {{< ghuser name="nielsnl68" >}}
- waveshare_epaper: Add 2.90in-dke {{< pr number="6492" repo="esphome" >}} by {{< ghuser name="polyfloyd" >}}
- Extract core comments from #6241 {{< pr number="6643" repo="esphome" >}} by {{< ghuser name="javawizard" >}}
- [hm3301] Updated the AQI based on the airnow document {{< pr number="6004" repo="esphome" >}} by {{< ghuser name="optimusprimespace" >}}
- Fix command line substitutions without any yaml substitutions {{< pr number="6644" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Allow platform dependencies {{< pr number="6623" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [light] Add transition_length to strobe effect. {{< pr number="6595" repo="esphome" >}} by {{< ghuser name="lhartmann" >}}
- Fixed the issue that graph draws out of the boundary. {{< pr number="6651" repo="esphome" >}} by {{< ghuser name="chiahsing" >}}
- Fix upload command. MQTT user and password is missing from configuration. #5093 {{< pr number="5766" repo="esphome" >}} by {{< ghuser name="dylan09" >}}
- patch esphome cli to skip mqtt based device discovery if --device option is specified {{< pr number="6371" repo="esphome" >}} by {{< ghuser name="quigleymd" >}}
- Fix for #4866 - inconsistent arguments {{< pr number="6639" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [template/text] Fix lambda config {{< pr number="6655" repo="esphome" >}} by {{< ghuser name="asergunov" >}}
- web_server: Add support for v3 local server_index {{< pr number="6563" repo="esphome" >}} by {{< ghuser name="pzich" >}}
- Update webserver local assets to 20240429-211523 {{< pr number="6657" repo="esphome" >}} by {{< ghuser name="esphomebot" >}}
- [nextion] Exit reparse before update TFT {{< pr number="6589" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- [nextion] Set alternative TFT update baud rate {{< pr number="6587" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- [TM1637] Let turn off the display {{< pr number="6656" repo="esphome" >}} by {{< ghuser name="asergunov" >}}
- [nextion] Use persistent http connection for TFT upload (Arduino) {{< pr number="6582" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Extend MQTT tests {{< pr number="6648" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Extend and consolidate `script` tests {{< pr number="6663" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- [nextion] Use persistent http connection for TFT upload (ESP-IDF) {{< pr number="6576" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Add a function to return the loop_interval {{< pr number="6666" repo="esphome" >}} by {{< ghuser name="tronikos" >}}
- Remote receiver improvements {{< pr number="4642" repo="esphome" >}} by {{< ghuser name="Mat931" >}}
- Make fast update intervals in qmc5883l work {{< pr number="6647" repo="esphome" >}} by {{< ghuser name="tronikos" >}}
- SPI and I2C for BMP390 and BMP380 {{< pr number="6652" repo="esphome" >}} by {{< ghuser name="latonita" >}} (new-integration) (breaking-change)
- Set `CONF_` CI counter to fail on 3 or more definitions {{< pr number="6668" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [core] Rename ALWAYS_INLINE to ESPHOME_ALWAYS_INLINE {{< pr number="6636" repo="esphome" >}} by {{< ghuser name="tomaszduda23" >}}
- print task name if logger is called from other than main thread {{< pr number="6630" repo="esphome" >}} by {{< ghuser name="tomaszduda23" >}}
- Fix recent definitions into `defines.h` {{< pr number="6667" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- Add fast update to HMC5883L {{< pr number="6669" repo="esphome" >}} by {{< ghuser name="mkmer" >}}
- Minor tidy up of BME280 code {{< pr number="6672" repo="esphome" >}} by {{< ghuser name="latonita" >}}
- External components: optional configurable path for git source {{< pr number="6677" repo="esphome" >}} by {{< ghuser name="twasilczyk" >}}
- Use clang-apply-replacements when clang-apply-replacements-14 does not exist {{< pr number="6684" repo="esphome" >}} by {{< ghuser name="Links2004" >}}
- fix conflict with EMPTY macro in zephyr {{< pr number="6679" repo="esphome" >}} by {{< ghuser name="tomaszduda23" >}}
- Bump actions/checkout from 4.1.1 to 4.1.5 {{< pr number="6685" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Fix Datetime-Datetime compiler error {{< pr number="6686" repo="esphome" >}} by {{< ghuser name="RFDarter" >}}
- Bump esphome/ESPAsyncWebServer-esphome to 3.2.0 {{< pr number="6687" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- fix date_time validation {{< pr number="6688" repo="esphome" >}} by {{< ghuser name="RFDarter" >}}
- proceed if AP mode is set up {{< pr number="6631" repo="esphome" >}} by {{< ghuser name="ssieb" >}}
- Migrate some constants to core code {{< pr number="6692" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- Consolidate test files where all tests are identical {{< pr number="6690" repo="esphome" >}} by {{< ghuser name="kbx81" >}}
- Make `pulse_meter` PULSE filter report the pulse as soon as it can {{< pr number="6014" repo="esphome" >}} by {{< ghuser name="TrentHouliston" >}}
- Update webserver local assets to 20240507-231331 {{< pr number="6696" repo="esphome" >}} by {{< ghuser name="esphomebot" >}}
- [github] Upgrade to actions/[upload,download]-artifact v4 {{< pr number="6698" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- [nextion] Replace flags to `USE_ARDUINO` {{< pr number="6700" repo="esphome" >}} by {{< ghuser name="edwardtfn" >}}
- [remote_receiver, remote_transmitter] Improve error messages on the ESP32 {{< pr number="6701" repo="esphome" >}} by {{< ghuser name="Mat931" >}}
- [ethernet] Use constexpr instead of inline define for KSZ80XX_PC2R_REG_ADDR {{< pr number="6705" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Add PHY register writes to enable external clock on Ethernet with RTL8201 {{< pr number="6704" repo="esphome" >}} by {{< ghuser name="heythisisnate" >}}
- Bump recommended ESP-IDF to 4.4.7 {{< pr number="6703" repo="esphome" >}} by {{< ghuser name="bdraco" >}}
- [core] Ensure that a generated ID name is distinct from its type. {{< pr number="6706" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [color] Fix crash when hex color parses as int, improve error reporting. {{< pr number="6707" repo="esphome" >}} by {{< ghuser name="clydebarrow" >}}
- [github] Fix digest artifact name {{< pr number="6710" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- fix(ltr390): stuck ALS values when configured for ALS+UV readings {{< pr number="6723" repo="esphome" >}} by {{< ghuser name="CodeInPolish" >}}
- Set FEATURE_API_AUDIO flag also if the speaker component is not used {{< pr number="6712" repo="esphome" >}} by {{< ghuser name="gnumpi" >}}
- Bump platformio from 6.1.13 to 6.1.15 {{< pr number="6634" repo="esphome" >}} by {{< ghuser name="dependabot[bot]" >}}
- Fix ESPHOME_PROJECT_VERSION_30 {{< pr number="6731" repo="esphome" >}} by {{< ghuser name="jesserockz" >}}
- Voice-Assistant: Start-order change for VAD disabled: start va-pipeline when microphon… {{< pr number="6391" repo="esphome" >}} by {{< ghuser name="gnumpi" >}}
- Add ANNOUNCING state to media_player. {{< pr number="6691" repo="esphome" >}} by {{< ghuser name="gnumpi" >}}
- [adc] Fix 11db deprecation warning {{< pr number="6749" repo="esphome" >}} by {{< ghuser name="jesserockz" >}} (notable-change)

<!-- markdownlint-enable MD013 -->

## All Changelogs

{{< changelogs >}}
