---
title: "2.1 Logical Links"
date: May 1969
---
1.

3.

5e

TABLE OF CONTS

Intreduction

HOST-HOS? Protocel

## 2.1. Logical Links

### 2.1.1. Primary

### 2.1.2. Auxiliary

## 2.2. Link Establishment

### 2.2.1. General Procedures

### 2.2.2. Example

Network Service Calls

## 3.1. List of Service Calls

Data Structure

4,1 "HOSE" Table

4,2) "LINK" Table

4,3 "USER" Table

Network Progran

# 1. Introduction

This paper concentrates upon the HOST-HOST dialogue procedure.

Chapter 2 Gescrioes tne logical links connecting the HOST, and the way dats
are exchanged over these links,

Tne emphasis of Chapters 3, 4, and 5 is on software organization and data
structure. :

Figure 1 highlights the different presrams involved in a HOST,

USER

WADLER

Commun (eq tion ~*~ PROBRAM
|
PRosRAM | 1
boy \ ; — ae . , \
- Inte oc {he Cow rena cet on, w Fee eit, Senes (ail , ~ Durer fic budwow deve,
lemmorcl neni *y Ve vat ! CL Monet the Une, i} & on ‘Jo new toes
\ .
|

{ Palirgbaarg)

Stave

mA { Thre
toy

‘-, a i
= Troe’ ava dinky

fou ; no
“ayant carting rege. ~ Ho an 2} ication yresyrom
Phat cen be used by a

remot HosT . [e4 vRSA)
- Com be yreuledl on Phe
Sent tenet an it Comvnumt totion

bo

mi

vo

C
Cc

Any IPP can be viewed as an interface between a local center and the
trunk network. Locally, an IMP may serve up to four HOSTs; for eacn
of them it provides 256 logical links to any remote HOST.

However, between an DP and all the other IMPs no more than 64 links
may be in use simultaneously. In other wor a HOST dialosuing
with a remote HOST can consider its local IMP as a switching center
offering 256 lines to the remote HOST, but only 64 can be activated
at atime. (If a local center includes n HOSTs , 64 should be shared
amount the n ECSTs).

The 256 logical links connecting two HOSTs can be distinguished as
follows:

Link 0 has a special status, It is the control link (connection
requests, status report of any kind,..).

The 255 others can be used either as primary links, ft.e., "teletyse
like" connections, or as auxiliary Links for file transmission.

### 2.1.1. Primary Links Features

A primary link
* is the first link established for a HOST-OST transmission.
* is a "Tl'Y-like" connection that is:
- ASCII characters are transmitted,
- Echos are generated by the remote HOST,
- The remote HOST scans for break character.
- The transmission is slov (less than 20 characters per second).
* is mainly used for transmitting control comands, i.e., for
log-in to the rer mote HOST operating system.
* provides special ouffering techniques for slow, short
transmission.

### 2.1.2. Auxiliary Links Features

An auxiliary link
* is used for transmissicn of large volumes of data,
* is established in parallel to the primary link

* can be established only if the following conditions are
fulfilled: .
user programs, at the two extremities, must both reauire
its opening.

*® is used for either binary or character transmission.

### 2.2.1. General Procedures

Each HOS!
cormunic:

() user will resrect the folloving procedure for
ng with HOsT(Y).

(a) Establish a orinary link to HOST(Y).
A primary link is established to HOSE(Y) through the
control link 0. The connection is then in a pre-log.
state, i.e., the remote HOST expects its standard log-in
procedures.

(o) Log-in Sequence
Standard ASUIT characters are sent/received over the
primary link. In that way, the HOST(X) user signs in
to remote HOSI(Y) by using its standard log-in procedures.
(ec) Establish en auctliery link to HOST(Y)
This estadlisnment t be executed by both extremities.
As in (a), this is done by using the control link 0.
(ad) Send/Receive Text over Auxilisry link

### 2.2.2. Exanple

Figure 3 focuses on the data exchanged over the links during
~ a HOST(X)-HOS?(Y) dialogue.
HOST(X) has the network identification 8.
HOST(Y) nas the network identification 5,
Notations Used:
* Circled stuffs resresent characters, 6.0. END
~.. * Parenthesised nurbers are used for cross referencing with
further explanations, e.g. (2)

Explanations
* (1) and (2) constitute the pr.

-HOST(X) semis the following
" id. i oDeiosy"

SE

link establisament
ge over link 0:

Enauiry for link establishrent (ASCII character)

CRIM: Link type: primary (Spec Character)

@L2 : Logical link identification nurber in decimal

(3 ASCII characters)

(opr): eres it is an alphanumerical character, e
Possible options could be: Full Echo, data tyre...

-HOSE(Y) aeimes

MACKEN,

sending back:
dsecont (ASCII character)-Link 12
ed,

The orevious message is retur
the requestor for securl

® (3) and (4) constitute a trivial example of a log-in
-procedure, -See remark.2 beic-

*O) HOST(X), talking to the operating system of HOST(Y),
requests for URSA, URSA is supposed to be a user applicaticn
progren din HOST(Y).

*(6) and (7) constitute tre auxiliary link establishment.
After (5) an auxiliary link should be establisned. This
is done by HOST(X) since it has the hicher identification
number in network. e.g., 8 against 5.

“The procedure is very much like (1) and (2)

-%#(8): HOST(X) transmits a "file" to URSA, ‘The transmission
is done over link 25 which has just been established,

®(9); HOSL(Y) answers back with a "file" over link 25,
And the dialogue goes on...

\#(190): HOST(X) frees the links he has established
Of): End of transmission (ASCII character).
QQ): _Nurber of links wanted to be closed (3 ASCII cheracter)
Ow SOD 2j5;+ Link identification nurber (ASCII characters)
\#(11) HOSE(Y) acknowledges back as in (2), (7).
Remark 1: The figure 3 doesn’t show the heading of each
message which ara of course transmitted over these links.

The characters represented on each line should be viewed
inserted in the text zone of a message.

Remark 2: These characters -see (3) and (4)- can either
be transmitted one at a tire over the line (each character
constitutes the text of a message) or be packed before
transmission by the user communication program,

In either case, the remote HOSY can cx
anormal teletype (Searchs breaking c:
echos...).

Remark 3: In (2), (7), or (11), HOST(Y) can answer 1
negative aclno:ledgement character (NAK}instead of (fh :
This, for many vario, sons such a5 bad transmi HOST{X)
wants to open a lin » and so forta, The
messase could be (D) is a character
indicating « y ‘Been refused. Upon
gents, HOST(X) will

An emer:

sider the link as
sracters, provides

a

repeat its
procedure w:

\ .
Wandin as rr at

€
eee Asgural Aonk

—_
ord

a

Ho

}

tele

we PRL

Thane

i

a

ork facilities (link establishment, data
calls, er execution, @ vice call

traps to a monitor service routine that interprets and executes the ser-
vice. Control is tnen routed back to the user progran,

3.1 List of service calls at user's Jisnosal.

(a) Open Primary Link
OPENPRI(PSUM ID, HOSLEID,
PRIMID: User identifica
HOSTID: Remote HOS? identific:
BUFFADDR: Buffer address for th
INTRPT-COD: Code that the netr.
grem when ne is interrupted because a massage
: has come back, .
OP?: Options such as "full echo" (for testing puroose), message
required after successful link estabdlishrent, etc....

» LITRPL-CODE ,[OPT])

orimary link.

on.

incoming mes:

Remark: [ J: not required.
(b>) Open auxiliary Link .
OPENAUX (AUXID,PRIAID, Fs ADDR, THTRPI~CODE ,[OP2'])
AUXID: User identification of the auxiliary link.
PRIMID: User identification of a or link. Pefers to an
already established mary Link,
BUFFADDR, LilfRFT-~CODE, OP? ning as above,
Tra issicn cver link

TRANSLINK (ID, BUFFADDR, N, [OPT])

ID: User link identification. Derending on which type of links
“we want to transmit, this identification number will be eauval
to a previcusly define d AUXID/?) De

BUFFADDR: Data location address for transmission.

N: Data bytes nusber for transmission,

OPT:

rove. binary),
tion of the auxiliery
mode), trace oit, etc...,

Links in a half 4
ify link v2
MODIFLINK (ID, OF?) :
ID: User link identification (Equal to either AUXID/PRIMID)
CLOSE LIJK (ID, [OPi'])

ID: Same meaning as above.
OF?: Can be used to close all the links in use by the user.

Data Structure

The allocation and the management of the links are carried out by means
of three tadles:

AL

4.2

A Table Sorted By HOST,
A Table Sorted By LINK,
A Table Sorted oy USER,

HOSE Table (See Figure 4)

It is a bit-table indicating, for a given remote HOST, which links
are free. (bit-O means free link)

This table should provide 256 bits per HOST (256 logical links
possible), At a given time no more than 64 bits can be set to
i in the whole table,

LINK Table (See Figures 4 and 5)

This table contains as many sections as links in use,Figure 5
describes the structure of a section.

Starting and retrieval are carried out dynamically uoon using
a hashing technique based on the network link identifications.

USER T2ole (See Figure 4)

The taole structure is given on Figure 4, These are as many

sections as active users, Each section contains the user
identification (given by the ope i system) and the identifications
of the links in use by this user, Notice that a link has two
identifications: that of the user (given as a parameter in the

OPEN service call) and that of the network (that is attributed by

the network program).

This table is hashed by users.

The emission functions of the network programs are fulfilled by monitor
service routines. In that sense, this program can be viewed as belonging
to the operating system,

These functions are ccncerned with the link establishicents and data
transmission; they are started by tne service calls previously described.

Let's explain now these routines allocate and manage the links by
describing the operations involved during the execution of the OPENPRIM
routine.

Suppose that the value of the parameter HOSTID is equal to j.

(a) Jj is used as an index for the "HOSI" table to reach the "HOST j"

(>) In “nose, s" section, we select the first free link (First bit=0)
e.g., 1 bit.

(c) Jj and i determine respectively the HOST-I-IP destination and the
network link number.

(4) This j-i value is used as a hashing code to open a new section in
the link table. e.g. section Q.
(e) In thts section @, the link ID zone is filled up with j-i, the

J

"link opened by us" and "primary" bits are set tol. (See Figure 5.)
(Remark: It is only when we receive back the acinewleds
message fron the remote HOST ~See Pisure 3: (2)-that the
considered co tely estadlisned. Then we set to 1. the

"link estavlished".). Also in this section P~, we store the pare-

meter BUFFADD Value in the "buffer address zone", and the user
identification number, implicitly given, in "the user ID zone“.

(f) Using the user identification number, we hash the USER Table to
-open (or find) the right m section,
We update this m section by storing the user link ID nurber (PRIMID)
and the network link ID number (i).

(g) Ve pre: text:

ND RED

(h) We prepare a heading according to BB snecifications (in order to
send the messase over link 0).

(1) We calculate the HOST checksum.
(J) We put together the heading, checksun, text by providing marking.

(k) We queue up this message for the handler,

The receiving functions will use these tables in a very similar way,

Nebusik .
a mite t2

bak wb

Var rt aa
Soe

LL. SN ——_

Bn et

so bens

fatn an

y } 4 }

a ror
West,

ink " bolle

hee ; an 1D Bul!
: 3 a addun
