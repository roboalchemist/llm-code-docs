# Source: https://www.tensorflow.org/guide/migrate

Title: Migrate to TensorFlow 2

URL Source: https://www.tensorflow.org/guide/migrate

Markdown Content:
Migrate to TensorFlow 2 | TensorFlow Core
===============
[Skip to main content](https://www.tensorflow.org/guide/migrate#main-content)

[![Image 1: TensorFlow](https://www.gstatic.com/devrel-devsite/prod/v6354840cae73aa45f3e40a8ec5209ce3124df6c4b8954a70edb0e5167c965c74/tensorflow/images/lockup.svg)](https://www.tensorflow.org/)

[Install](https://www.tensorflow.org/install)[Learn](https://www.tensorflow.org/learn)

*   [Introduction New to TensorFlow?](https://www.tensorflow.org/learn)
*   [Tutorials Learn how to use TensorFlow with end-to-end examples](https://www.tensorflow.org/tutorials)
*   [Guide Learn framework concepts and components](https://www.tensorflow.org/guide)
*   [Learn ML Educational resources to master your path with TensorFlow](https://www.tensorflow.org/resources/learn-ml)

[API](https://www.tensorflow.org/api)

*   [TensorFlow (v2.16.1)](https://www.tensorflow.org/api/stable)
*   [Versions…](https://www.tensorflow.org/versions)

*   [TensorFlow.js](https://js.tensorflow.org/api/latest/)
*   [TensorFlow Lite](https://www.tensorflow.org/lite/api_docs)
*   [TFX](https://www.tensorflow.org/tfx/api_docs)

[Ecosystem](https://www.tensorflow.org/resources/models-datasets)

*   LIBRARIES
*   [TensorFlow.js Develop web ML applications in JavaScript](https://www.tensorflow.org/js)
*   [TensorFlow Lite Deploy ML on mobile, microcontrollers and other edge devices](https://www.tensorflow.org/lite)
*   [TFX Build production ML pipelines](https://www.tensorflow.org/tfx)
*   [All libraries Create advanced models and extend TensorFlow](https://www.tensorflow.org/resources/libraries-extensions)

*   RESOURCES
*   [Models & datasets Pre-trained models and datasets built by Google and the community](https://www.tensorflow.org/resources/models-datasets)
*   [Tools Tools to support and accelerate TensorFlow workflows](https://www.tensorflow.org/resources/tools)
*   [Responsible AI Resources for every stage of the ML workflow](https://www.tensorflow.org/responsible_ai)
*   [Recommendation systems Build recommendation systems with open source tools](https://www.tensorflow.org/resources/recommendation-systems)

More

[Community](https://www.tensorflow.org/community)

*   [Groups User groups, interest groups and mailing lists](https://www.tensorflow.org/community/groups)
*   [Contribute Guide for contributing to code and documentation](https://www.tensorflow.org/community/contribute)
*   [Blog Stay up to date with all things TensorFlow](https://blog.tensorflow.org/)
*   [Forum Discussion platform for the TensorFlow community](https://discuss.tensorflow.org/)

[Why TensorFlow](https://www.tensorflow.org/about)

*   [About](https://www.tensorflow.org/about)
*   [Case studies](https://www.tensorflow.org/about/case-studies)

/

*   [English](https://www.tensorflow.org/guide/migrate)
*   [Español – América Latina](https://www.tensorflow.org/guide/migrate?hl=es-419)
*   [Français](https://www.tensorflow.org/guide/migrate?hl=fr)
*   [Indonesia](https://www.tensorflow.org/guide/migrate?hl=id)
*   [Italiano](https://www.tensorflow.org/guide/migrate?hl=it)
*   [Polski](https://www.tensorflow.org/guide/migrate?hl=pl)
*   [Português – Brasil](https://www.tensorflow.org/guide/migrate?hl=pt-br)
*   [Tiếng Việt](https://www.tensorflow.org/guide/migrate?hl=vi)
*   [Türkçe](https://www.tensorflow.org/guide/migrate?hl=tr)
*   [Русский](https://www.tensorflow.org/guide/migrate?hl=ru)
*   [עברית](https://www.tensorflow.org/guide/migrate?hl=he)
*   [العربيّة](https://www.tensorflow.org/guide/migrate?hl=ar)
*   [فارسی](https://www.tensorflow.org/guide/migrate?hl=fa)
*   [हिंदी](https://www.tensorflow.org/guide/migrate?hl=hi)
*   [বাংলা](https://www.tensorflow.org/guide/migrate?hl=bn)
*   [ภาษาไทย](https://www.tensorflow.org/guide/migrate?hl=th)
*   [中文 – 简体](https://www.tensorflow.org/guide/migrate?hl=zh-cn)
*   [日本語](https://www.tensorflow.org/guide/migrate?hl=ja)
*   [한국어](https://www.tensorflow.org/guide/migrate?hl=ko)

[GitHub](https://github.com/tensorflow)Sign in

*   [TensorFlow Core](https://www.tensorflow.org/tutorials)

[Tutorials](https://www.tensorflow.org/tutorials)[Guide](https://www.tensorflow.org/guide)[Migrate to TF2](https://www.tensorflow.org/guide/migrate)[TF 1 ↗](https://github.com/tensorflow/docs/tree/master/site/en/r1)More

[![Image 2: TensorFlow](https://www.gstatic.com/devrel-devsite/prod/v6354840cae73aa45f3e40a8ec5209ce3124df6c4b8954a70edb0e5167c965c74/tensorflow/images/lockup.svg)](https://www.tensorflow.org/)

*   [Install](https://www.tensorflow.org/install)
*   [Learn](https://www.tensorflow.org/learn)
    *    More 

    *   [Tutorials](https://www.tensorflow.org/tutorials)
    *   [Guide](https://www.tensorflow.org/guide)
    *   [Migrate to TF2](https://www.tensorflow.org/guide/migrate)
    *   [TF 1 ↗](https://github.com/tensorflow/docs/tree/master/site/en/r1)

*   [API](https://www.tensorflow.org/api)
    *    More 

*   [Ecosystem](https://www.tensorflow.org/resources/models-datasets)
    *    More 

*   [Community](https://www.tensorflow.org/community)
    *    More 

*   [Why TensorFlow](https://www.tensorflow.org/about)
    *    More 

*   [GitHub](https://github.com/tensorflow)

*   [Migration guide](https://www.tensorflow.org/guide/migrate)
*   Migration overview 
*   [Migrate to TensorFlow 2](https://www.tensorflow.org/guide/migrate/migrate_tf2)
*   [TF1 vs TF2 behavior comparison](https://www.tensorflow.org/guide/migrate/tf1_vs_tf2)
*   [Convert with the upgrade script](https://www.tensorflow.org/guide/migrate/upgrade)
*   Migrate your models 
*   [TF2 model mapping](https://www.tensorflow.org/guide/migrate/model_mapping)
*   [TF Lite models in TF2](https://www.tensorflow.org/guide/migrate/tflite)
*   [Migrating checkpoints](https://www.tensorflow.org/guide/migrate/migrating_checkpoints)
*   [Canned and boosted tree estimators](https://www.tensorflow.org/guide/migrate/canned_estimators)
*   Migrate training and evaluation pipelines 
*   [Estimators](https://www.tensorflow.org/guide/migrate/migrating_estimator)
*   [Summary APIs](https://www.tensorflow.org/tensorboard/migrate)
*   [Estimator logging and stop hooks](https://www.tensorflow.org/guide/migrate/logging_stop_hook)
*   [tf.estimator.SessionRunHook API](https://www.tensorflow.org/guide/migrate/sessionrunhook_callback)
*   [Early stopping](https://www.tensorflow.org/guide/migrate/early_stopping)
*   [Feature columns to Keras preprocessing layers](https://www.tensorflow.org/guide/migrate/migrating_feature_columns)
*   [Metrics and optimizers](https://www.tensorflow.org/guide/migrate/metrics_optimizers)
*   [Incorporate fault tolerance in training](https://www.tensorflow.org/guide/migrate/fault_tolerance)
*   [Evaluate training metrics with SidecarEvaluator](https://www.tensorflow.org/guide/migrate/evaluator)
*   [TensorBoard metric displays](https://www.tensorflow.org/guide/migrate/tensorboard)
*   Migrate saving and export workflows 
*   [Export models to SavedModel](https://www.tensorflow.org/guide/migrate/saved_model)
*   [Save checkpoints](https://www.tensorflow.org/guide/migrate/checkpoint_saver)
*   Migrate distributed training workflows 
*   [Multi-GPU training](https://www.tensorflow.org/guide/migrate/mirrored_strategy)
*   [Multi-worker training on CPU and GPU](https://www.tensorflow.org/guide/migrate/multi_worker_cpu_gpu_training)
*   [Multi-worker training on TPU](https://www.tensorflow.org/guide/migrate/tpu_estimator)
*   [TPU embedding_columns to TPUEmbedding layer](https://www.tensorflow.org/guide/migrate/tpu_embedding)
*   Validate model quality and performance 
*   [Validate correctness and numerical equivalence](https://www.tensorflow.org/guide/migrate/validate_correctness)
*   [Debug TF2 Migrated Training Pipeline](https://www.tensorflow.org/guide/migrate/migration_debugging)

*   [Introduction](https://www.tensorflow.org/learn)
*   [Tutorials](https://www.tensorflow.org/tutorials)
*   [Guide](https://www.tensorflow.org/guide)
*   [Learn ML](https://www.tensorflow.org/resources/learn-ml)

*   [TensorFlow (v2.16.1)](https://www.tensorflow.org/api/stable)
*   [Versions…](https://www.tensorflow.org/versions)
*   [TensorFlow.js](https://js.tensorflow.org/api/latest/)
*   [TensorFlow Lite](https://www.tensorflow.org/lite/api_docs)
*   [TFX](https://www.tensorflow.org/tfx/api_docs)

*    LIBRARIES 
*   [TensorFlow.js](https://www.tensorflow.org/js)
*   [TensorFlow Lite](https://www.tensorflow.org/lite)
*   [TFX](https://www.tensorflow.org/tfx)
*   [All libraries](https://www.tensorflow.org/resources/libraries-extensions)
*    RESOURCES 
*   [Models & datasets](https://www.tensorflow.org/resources/models-datasets)
*   [Tools](https://www.tensorflow.org/resources/tools)
*   [Responsible AI](https://www.tensorflow.org/responsible_ai)
*   [Recommendation systems](https://www.tensorflow.org/resources/recommendation-systems)

*   [Groups](https://www.tensorflow.org/community/groups)
*   [Contribute](https://www.tensorflow.org/community/contribute)
*   [Blog](https://blog.tensorflow.org/)
*   [Forum](https://discuss.tensorflow.org/)

*   [About](https://www.tensorflow.org/about)
*   [Case studies](https://www.tensorflow.org/about/case-studies)

*   [TensorFlow](https://www.tensorflow.org/)
*    [Learn](https://www.tensorflow.org/learn)
*    [TensorFlow Core](https://www.tensorflow.org/tutorials)
*    [Migrate to TF2](https://www.tensorflow.org/guide/migrate)

Migrate from Tensor Flow 1.x to Tensor Flow 2
---------------------------------------------

Learn how to migrate your TensorFlow code from TensorFlow 1.x to TensorFlow 2. It may take a little work to convert your code, but every change results in access to new features and models, increased clarity and simplicity, and easier debugging. Before starting to migrate, read the [behaviors guide](https://www.tensorflow.org/guide/migrate/tf1_vs_tf2). Briefly, the migration process is:

1.   Run the [automated script](https://www.tensorflow.org/guide/migrate/upgrade) to convert your TF1.x API usage to `tf.compat.v1`.
2.   Remove old `tf.contrib.layers` and replace them with [TF Slim](https://github.com/google-research/tf-slim) symbols. Also check [TF Addons](https://www.tensorflow.org/addons) for other `tf.contrib` symbols.
3.   Rewrite your [TF1.x model forward passes to run in TF2](https://www.tensorflow.org/guide/migrate/model_mapping) with eager execution enabled.
4.   [Validate the accuracy and numerical correctness](https://www.tensorflow.org/guide/migrate/validate_correctness) of your migrated code.
5.   Upgrade your [training, evaluation](https://www.tensorflow.org/guide/migrate/migrating_estimator) and [model saving](https://www.tensorflow.org/guide/migrate/saved_model) code to TF2 equivalents.
6.   (Optional) [Migrate your TF2-compatible `tf.compat.v1` APIs](https://www.tensorflow.org/guide/migrate/model_mapping#incremental_migration_to_native_tf2) including [TF Slim](https://github.com/google-research/tf-slim) usage to idiomatic TF2 APIs.

### Featured migration guides

[### Tensor Flow 1.x vs Tensor Flow 2](https://www.tensorflow.org/guide/migrate/tf1_vs_tf2) Learn how the TF2 API and behaviors differ fundamentally from TF1.x. 

[### Map TF1.x models to TF2](https://www.tensorflow.org/guide/migrate/model_mapping) Begin using TF1.x models in TF2 right away using modeling shims. 

[### Rewrite TF1.x API symbols](https://www.tensorflow.org/guide/migrate/upgrade) Programmatically upgrade some parts of your TF1.x code to TF2. 

[### Validate migrated TF2 code](https://www.tensorflow.org/guide/migrate/validate_correctness) Verify the correctness of your migrated TF2 code. 

[### Moving off Estimators](https://www.tensorflow.org/guide/migrate/migrating_estimator) Migrate from your Estimator training pipelines to TF2. 

[### Moving off feature columns](https://www.tensorflow.org/guide/migrate/migrating_feature_columns) Learn how to migrate to Keras preprocessing layers from `tf.feature_column`s. 

[### Multi-worker CPU/GPU training workflows](https://www.tensorflow.org/guide/migrate/multi_worker_cpu_gpu_training) Learn how to migrate multi-worker distributed `Estimator` to TF2. 

[### TPU workflows](https://www.tensorflow.org/guide/migrate/tpu_estimator) Learn how to migrate the `TPUEstimator` API to TF2. 

[### Tensor Flow Lite](https://www.tensorflow.org/guide/migrate/tflite) Learn how to migrate TF Lite code created with TF1.x to TF2. 

Except as otherwise noted, the content of this page is licensed under the [Creative Commons Attribution 4.0 License](https://creativecommons.org/licenses/by/4.0/), and code samples are licensed under the [Apache 2.0 License](https://www.apache.org/licenses/LICENSE-2.0). For details, see the [Google Developers Site Policies](https://developers.google.com/site-policies). Java is a registered trademark of Oracle and/or its affiliates.

Last updated 2021-09-22 UTC.

 [[["Easy to understand","easyToUnderstand","thumb-up"],["Solved my problem","solvedMyProblem","thumb-up"],["Other","otherUp","thumb-up"]],[["Missing the information I need","missingTheInformationINeed","thumb-down"],["Too complicated / too many steps","tooComplicatedTooManySteps","thumb-down"],["Out of date","outOfDate","thumb-down"],["Samples / code issue","samplesCodeIssue","thumb-down"],["Other","otherDown","thumb-down"]],["Last updated 2021-09-22 UTC."],[],[]] 

*   ### Stay connected

    *   [Blog](https://blog.tensorflow.org/)
    *   [Forum](https://discuss.tensorflow.org/)
    *   [GitHub](https://github.com/tensorflow/)
    *   [Twitter](https://twitter.com/tensorflow)
    *   [YouTube](https://youtube.com/tensorflow)

*   ### Support

    *   [Issue tracker](https://github.com/tensorflow/tensorflow/issues)
    *   [Release notes](https://github.com/tensorflow/tensorflow/blob/master/RELEASE.md)
    *   [Stack Overflow](https://stackoverflow.com/questions/tagged/tensorflow)
    *   [Brand guidelines](https://www.tensorflow.org/extras/tensorflow_brand_guidelines.pdf)
    *   [Cite TensorFlow](https://www.tensorflow.org/about/bib)

*   [Terms](https://policies.google.com/terms)
*   [Privacy](https://policies.google.com/privacy)
*   [Manage cookies](https://www.tensorflow.org/guide/migrate#)
*   Sign up for the TensorFlow newsletter[Subscribe](https://www.tensorflow.org/subscribe)

*   [English](https://www.tensorflow.org/guide/migrate)
*   [Español – América Latina](https://www.tensorflow.org/guide/migrate?hl=es-419)
*   [Français](https://www.tensorflow.org/guide/migrate?hl=fr)
*   [Indonesia](https://www.tensorflow.org/guide/migrate?hl=id)
*   [Italiano](https://www.tensorflow.org/guide/migrate?hl=it)
*   [Polski](https://www.tensorflow.org/guide/migrate?hl=pl)
*   [Português – Brasil](https://www.tensorflow.org/guide/migrate?hl=pt-br)
*   [Tiếng Việt](https://www.tensorflow.org/guide/migrate?hl=vi)
*   [Türkçe](https://www.tensorflow.org/guide/migrate?hl=tr)
*   [Русский](https://www.tensorflow.org/guide/migrate?hl=ru)
*   [עברית](https://www.tensorflow.org/guide/migrate?hl=he)
*   [العربيّة](https://www.tensorflow.org/guide/migrate?hl=ar)
*   [فارسی](https://www.tensorflow.org/guide/migrate?hl=fa)
*   [हिंदी](https://www.tensorflow.org/guide/migrate?hl=hi)
*   [বাংলা](https://www.tensorflow.org/guide/migrate?hl=bn)
*   [ภาษาไทย](https://www.tensorflow.org/guide/migrate?hl=th)
*   [中文 – 简体](https://www.tensorflow.org/guide/migrate?hl=zh-cn)
*   [日本語](https://www.tensorflow.org/guide/migrate?hl=ja)
*   [한국어](https://www.tensorflow.org/guide/migrate?hl=ko)
