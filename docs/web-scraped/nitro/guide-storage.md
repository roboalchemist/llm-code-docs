# Source: https://nitro.build/guide/storage

-   [](/guide "Getting Started")

    ::: 
    []
    :::

    [Getting Started]
-   [](/deploy "Overview")

    ::: 
    []
    :::

    [Overview]
-   [](/config "Config")

    ::: 
    []
    :::

    [Config]

-   [[][Getting Started]](/guide)
-   [[][Server Utils]](/guide/utils)
-   [[][Tasks]](/guide/tasks)
-   [[][Server Routes]](/guide/routing)
-   [[][WebSocket]](/guide/websocket)
-   [[][KV Storage]](/guide/storage)
-   [[][SQL Database]](/guide/database)
-   [[][Cache]](/guide/cache)
-   [[][Fetch]](/guide/fetch)
-   [[][Assets]](/guide/assets)
-   [[][Plugins]](/guide/plugins)
-   [[][Configuration]](/guide/configuration)
-   [[][TypeScript]](/guide/typescript)
-   [[][Nightly Channel]](/guide/nightly)

<div>

# KV Storage 

Nitro provides a built-in storage layer that can abstract filesystem or database or any other data source.

</div>

<div>

Nitro has built-in integration with [unstorage](https://unstorage.unjs.io) to provide a runtime agnostic persistent layer.

## [[[]]Usage](#usage) 

To use the storage layer, you can use the `useStorage()` and call `getItem(key)` to retrieve an item and `setItem(key, value)` to set an item.

[]

``` 
// Default storage is in memory
await useStorage().setItem('test:foo', )
await useStorage().getItem('test:foo')

// You can also specify the base in useStorage(base)
await useStorage('test').setItem('foo', )

// You can use data storage to write data to default .data/kv directory
const dataStorage = useStorage('data')
await dataStorage.setItem('test', 'works')
await dataStorage.getItem('data:test') // Value persists

// You can use generics to define types
await useStorage<>('test').getItem('foo')
await useStorage('test').getItem<>('foo')
```

[[]](https://unstorage.unjs.io)[][] Read more in [unstorage.unjs.io].

## [[[]]Configuration](#configuration) 

You can mount one or multiple custom storage drivers using the `storage` config. The key is the mount point name, and the value is the driver name and configuration.

[][nitro.config.ts]

[][nuxt.config.ts]

[]

``` 
export default defineNitroConfig(,
    db: 
  }
})
```

[]

``` 
export default defineNuxtConfig(,
      db: 
    }
  }
})
```

[[]](https://unstorage.unjs.io/)[][]You can find the driver list on [unstorage documentation](https://unstorage.unjs.io/) with their configuration.

### [[[]]Runtime configuration](#runtime-configuration) 

In scenarios where the mount point configuration is not known until runtime, Nitro can dynamically add mount points during startup using [plugins](/guide/plugins).

[][server/plugins/storage.ts]

[][nitro.config.ts]

[][nuxt.config.ts]

[]

``` 
import redisDriver from 'unstorage/drivers/redis'

export default defineNitroPlugin(() => )

  // Mount driver
  storage.mount('redis', driver)
})
```

[]

``` 
export default defineNitroConfig(
  }
})
```

[]

``` 
export default defineNuxtConfig(
  }
})
```

[]This is a temporary workaround, with a better solution coming in the future! Keep a lookout on the GitHub issue [here](https://github.com/nitrojs/nitro/issues/1161#issuecomment-1511444675).

### [[[]]Development-only mount points](#development-only-mount-points) 

By default, Nitro will mount the project directory and some other dirs using the filesystem driver in development time.

[]

``` 
// Access to project root dir
const rootStorage = useStorage('root')

// Access to project src dir (same as root by default)
const srcStorage = useStorage('src')

// Access to server cache dir
const cacheStorage = useStorage('cache')

// Access to the temp build dir
const buildStorage = useStorage('build')
```

[] You also can use the `devStorage` key to overwrite the storage configuration during development. This is very useful when you use a database in production and want to use the filesystem in development.

In order to use the `devStorage` key, you need to use the `nitro dev` command and the key in the `storage` option must be the same as the production one.

[][nitro.config.ts]

[][nuxt.config.ts]

[]

``` 
export default defineNitroConfig(
  },
  // Development
  devStorage: 
  }
})
```

[]

``` 
export default defineNuxtConfig(
    },
    // Development
    devStorage: 
    }
  }
})
```

You will also be able to access to a `build` namespace in the storage layer only during development. It contains file generated by Nitro.

</div>

-   [[][Edit this page []]](https://github.com/nitrojs/nitro/edit/nitrobuild-git-v2-nitrojs.vercel.app/docs/1.guide/4.storage.md)

[](/guide/websocket)

[]

WebSocket

Nitro natively supports a cross platform WebSocket API

[](/guide/database)

[]

SQL Database

Nitro provides a built-in and lightweight SQL database layer.

[On this page][[]]

[On this page][[]]

-   [[Usage]](#usage)
-   [[Configuration]](#configuration)
    -   [[Runtime configuration]](#runtime-configuration)
    -   [[Development-only mount points]](#development-only-mount-points)