# Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http

Title: http package - github.com/DataDog/dd-trace-go/contrib/net/http - Go Packages

URL Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http

Markdown Content:
http package - github.com/DataDog/dd-trace-go/contrib/net/http - Go Packages
===============

[![Image 1: Go](https://pkg.go.dev/static/shared/logo/go-white.svg)](https://go.dev/)

[Skip to Main Content](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#main-content)

![Image 2](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)![Image 3](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)

*   [Why Go ![Image 4: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#)
    *   [Case Studies](https://go.dev/solutions#case-studies) 
Common problems companies solve with Go

    *   [Use Cases](https://go.dev/solutions#use-cases) 
Stories about how and why companies use Go

    *   [Security](https://go.dev/security/) 
How Go can help keep you secure by default

*   [Learn](https://go.dev/learn/)
*   [Docs ![Image 5: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#)
    *   [Effective Go](https://go.dev/doc/effective_go) 
Tips for writing clear, performant, and idiomatic Go code

    *   [Go User Manual](https://go.dev/doc/) 
A complete introduction to building software with Go

    *   [Standard library](https://pkg.go.dev/std) 
Reference documentation for Go's standard library

    *   [Release Notes](https://go.dev/doc/devel/release) 
Learn what's new in each Go release

*   [Packages](https://pkg.go.dev/)
*   [Community ![Image 6: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#)
    *   [Recorded Talks](https://go.dev/talks/) 
Videos from prior events

    *   [Meetups _![Image 7](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go) 
Meet other local Go developers

    *   [Conferences _![Image 8](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences) 
Learn and network with Go developers from around the world

    *   [Go blog](https://go.dev/blog) 
The Go project's official blog.

    *   [Go project](https://go.dev/help) 
Get help and stay informed from Go

    *    Get connected  [![Image 9](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts "Get connected with google-groups (Opens in new window)")[![Image 10](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang "Get connected with github (Opens in new window)")[![Image 11](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang "Get connected with twitter (Opens in new window)")[![Image 12](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/ "Get connected with reddit (Opens in new window)")[![Image 13](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/ "Get connected with slack (Opens in new window)")[![Image 14](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

[![Image 15: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)

*   [Why Go _![Image 16](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#)

[_![Image 17](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Why Go](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#) 
    *   [Case Studies](https://go.dev/solutions#case-studies)
    *   [Use Cases](https://go.dev/solutions#use-cases)
    *   [Security](https://go.dev/security/)

*   [Learn](https://go.dev/learn/)
*   [Docs _![Image 18](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#)

[_![Image 19](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Docs](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#) 
    *   [Effective Go](https://go.dev/doc/effective_go)
    *   [Go User Manual](https://go.dev/doc/)
    *   [Standard library](https://pkg.go.dev/std)
    *   [Release Notes](https://go.dev/doc/devel/release)

*   [Packages](https://pkg.go.dev/)
*   [Community _![Image 20](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#)

[_![Image 21](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Community](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#) 
    *   [Recorded Talks](https://go.dev/talks/)
    *   [Meetups _![Image 22](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go)
    *   [Conferences _![Image 23](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences)
    *   [Go blog](https://go.dev/blog)
    *   [Go project](https://go.dev/help)
    *   Get connected [![Image 24](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts)[![Image 25](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang)[![Image 26](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang)[![Image 27](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/)[![Image 28](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/)[![Image 29](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

![Image 30: Notice](https://pkg.go.dev/static/shared/icon/info_gm_grey_24dp.svg) The highest tagged major version is [v2](https://pkg.go.dev/github.com/DataDog/dd-trace-go/v2). 

1.   [Discover Packages](https://pkg.go.dev/)
2.   [github.com/DataDog/dd-trace-go](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1)
3.   [contrib](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib@v1.24.1)
4.   [net](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/net@v1.24.1)
5.   [http](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http)![Image 31](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[![Image 32: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)
http
====

package![Image 33](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[Version: v1.24.1](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http?tab=versions)

 Opens a new window with list of versions in this module. 

Latest Latest 

![Image 34: Warning](https://pkg.go.dev/static/shared/icon/alert_gm_grey_24dp.svg)
This package is not in the latest version of its module.

[Go to latest](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/net/http) Published: May 18, 2020  License: [Apache-2.0, BSD-3-Clause, Apache-2.0](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http?tab=licenses)

 Opens a new window with license information. 

[Imports: 10](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http?tab=imports)

 Opens a new window with list of imports. 

[Imported by: 0](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http?tab=importedby)

 Opens a new window with list of known importers. 

Details
-------

*   ![Image 35: unchecked](https://pkg.go.dev/static/shared/icon/cancel_gm_grey_24dp.svg) Valid go.mod file ![Image 36](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
The Go module system was introduced in Go 1.11 and is the official dependency management solution for Go. 
*   ![Image 37: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Redistributable license ![Image 38](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Redistributable licenses place minimal restrictions on how software can be used, modified, and redistributed. 
*   ![Image 39: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Tagged version ![Image 40](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Modules with tagged versions give importers more predictable builds. 
*   ![Image 41: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Stable version ![Image 42](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
When a project reaches major version v1 it is considered stable. 
*   [Learn more about best practices](https://pkg.go.dev/about#best-practices)

Repository
----------

[github.com/DataDog/dd-trace-go](https://github.com/DataDog/dd-trace-go "https://github.com/DataDog/dd-trace-go")

Links
-----

*   [![Image 43: Open Source Insights Logo](https://pkg.go.dev/static/shared/icon/depsdev-logo.svg) Open Source Insights](https://deps.dev/go/github.com%2FDataDog%2Fdd-trace-go/v1.24.1 "View this module on Open Source Insights")

 Jump to ... 

*   [Documentation](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#section-documentation)
    *   [Overview](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-overview)
    *   [Index](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-index)
    *   [Examples](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-examples)
        *   [Package](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#example-package "Package")
        *   [Package (WithServiceName)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#example-package-WithServiceName "Package (WithServiceName)")

    *   [Constants](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-constants)
    *   [Variables](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-variables)
    *   [Functions](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-functions)
        *   [WrapClient(c, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapClient "WrapClient(c, opts)")
        *   [WrapHandler(h, service, resource, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapHandler "WrapHandler(h, service, resource, opts)")
        *   [WrapRoundTripper(rt, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapRoundTripper "WrapRoundTripper(rt, opts)")

    *   [Types](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-types)
        *   [type MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#MuxOption "type MuxOption")
            *   [WithAnalytics(on)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAnalytics "WithAnalytics(on)")
            *   [WithAnalyticsRate(rate)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAnalyticsRate "WithAnalyticsRate(rate)")
            *   [WithServiceName(name)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithServiceName "WithServiceName(name)")

        *   [type Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option "type Option")
            *   [NoDebugStack()](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#NoDebugStack "NoDebugStack()")
            *   [WithSpanOptions(opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithSpanOptions "WithSpanOptions(opts)")

        *   [type RoundTripperAfterFunc](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperAfterFunc "type RoundTripperAfterFunc")
        *   [type RoundTripperBeforeFunc](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperBeforeFunc "type RoundTripperBeforeFunc")
        *   [type RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption "type RoundTripperOption")
            *   [RTWithAnalytics(on)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithAnalytics "RTWithAnalytics(on)")
            *   [RTWithAnalyticsRate(rate)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithAnalyticsRate "RTWithAnalyticsRate(rate)")
            *   [RTWithServiceName(name)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithServiceName "RTWithServiceName(name)")
            *   [WithAfter(f)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAfter "WithAfter(f)")
            *   [WithBefore(f)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithBefore "WithBefore(f)")

        *   [type ServeMux](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux "type ServeMux")
            *   [NewServeMux(opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#NewServeMux "NewServeMux(opts)")
            *   [(mux) ServeHTTP(w, r)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux.ServeHTTP "(mux) ServeHTTP(w, r)")

*   [Source Files](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#section-sourcefiles)
*   [Directories](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#section-directories)

![Image 44](https://pkg.go.dev/static/shared/icon/code_gm_grey_24dp.svg) Documentation [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#section-documentation "Go to Documentation")
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### Overview [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-overview "Go to Overview")

Package http provides functions to trace the net/http package ([https://golang.org/pkg/net/http](https://golang.org/pkg/net/http)).

Example [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#example-package "Go to Example")

Share Format Run

Example (WithServiceName) [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#example-package-WithServiceName "Go to Example (WithServiceName)")

Share Format Run

### Index [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-index "Go to Index")

*   [func WrapClient(c *http.Client, opts ...RoundTripperOption) *http.Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapClient)
*   [func WrapHandler(h http.Handler, service, resource string, opts ...Option) http.Handler](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapHandler)
*   [func WrapRoundTripper(rt http.RoundTripper, opts ...RoundTripperOption) http.RoundTripper](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapRoundTripper)
*   [type MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#MuxOption)
*       *   [func WithAnalytics(on bool) MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAnalytics)
    *   [func WithAnalyticsRate(rate float64) MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAnalyticsRate)
    *   [func WithServiceName(name string) MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithServiceName)

*   [type Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option)
*       *   [func NoDebugStack() Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#NoDebugStack)
    *   [func WithSpanOptions(opts ...ddtrace.StartSpanOption) Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithSpanOptions)

*   [type RoundTripperAfterFunc](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperAfterFunc)
*   [type RoundTripperBeforeFunc](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperBeforeFunc)
*   [type RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)
*       *   [func RTWithAnalytics(on bool) RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithAnalytics)
    *   [func RTWithAnalyticsRate(rate float64) RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithAnalyticsRate)
    *   [func RTWithServiceName(name string) RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithServiceName)
    *   [func WithAfter(f RoundTripperAfterFunc) RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAfter)
    *   [func WithBefore(f RoundTripperBeforeFunc) RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithBefore)

*   [type ServeMux](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux)
*       *   [func NewServeMux(opts ...Option) *ServeMux](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#NewServeMux)

*       *   [func (mux *ServeMux) ServeHTTP(w http.ResponseWriter, r *http.Request)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux.ServeHTTP)

### Examples [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-examples "Go to Examples")

*   [Package](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#example-package)
*   [Package (WithServiceName)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#example-package-WithServiceName)

### Constants [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-constants "Go to Constants")

This section is empty.

### Variables [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-variables "Go to Variables")

This section is empty.

### Functions [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-functions "Go to Functions")

#### func [WrapClient](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/roundtripper.go#L86)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapClient "Go to WrapClient")added in v1.4.0

func WrapClient(c *[http](https://pkg.go.dev/net/http).[Client](https://pkg.go.dev/net/http#Client), opts ...[RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)) *[http](https://pkg.go.dev/net/http).[Client](https://pkg.go.dev/net/http#Client)

WrapClient modifies the given client's transport to augment it with tracing and returns it.

#### func [WrapHandler](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/http.go#L47)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapHandler "Go to WrapHandler")added in v1.0.0

func WrapHandler(h [http](https://pkg.go.dev/net/http).[Handler](https://pkg.go.dev/net/http#Handler), service, resource [string](https://pkg.go.dev/builtin#string), opts ...[Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option)) [http](https://pkg.go.dev/net/http).[Handler](https://pkg.go.dev/net/http#Handler)

WrapHandler wraps an http.Handler with tracing using the given service and resource.

#### func [WrapRoundTripper](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/roundtripper.go#L71)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WrapRoundTripper "Go to WrapRoundTripper")added in v1.2.0

func WrapRoundTripper(rt [http](https://pkg.go.dev/net/http).[RoundTripper](https://pkg.go.dev/net/http#RoundTripper), opts ...[RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)) [http](https://pkg.go.dev/net/http).[RoundTripper](https://pkg.go.dev/net/http#RoundTripper)

WrapRoundTripper returns a new RoundTripper which traces all requests sent over the transport.

### Types [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#pkg-types "Go to Types")

#### type [MuxOption](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L26)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#MuxOption "Go to MuxOption")added in v1.0.0

type MuxOption = [Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option)

MuxOption has been deprecated in favor of Option.

#### func [WithAnalytics](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L51)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAnalytics "Go to WithAnalytics")added in v1.11.0

func WithAnalytics(on [bool](https://pkg.go.dev/builtin#bool)) [MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#MuxOption)

WithAnalytics enables Trace Analytics for all started spans.

#### func [WithAnalyticsRate](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L64)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAnalyticsRate "Go to WithAnalyticsRate")added in v1.11.0

func WithAnalyticsRate(rate [float64](https://pkg.go.dev/builtin#float64)) [MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#MuxOption)

WithAnalyticsRate sets the sampling rate for Trace Analytics events correlated to started spans.

#### func [WithServiceName](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L44)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithServiceName "Go to WithServiceName")added in v1.0.0

func WithServiceName(name [string](https://pkg.go.dev/builtin#string)) [MuxOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#MuxOption)

WithServiceName sets the given service name for the returned ServeMux.

#### type [Option](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L29)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option "Go to Option")added in v1.13.0

type Option func(*config)

Option represents an option that can be passed to NewServeMux or WrapHandler.

#### func [NoDebugStack](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L86)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#NoDebugStack "Go to NoDebugStack")added in v1.24.0

func NoDebugStack() [Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option)

NoDebugStack prevents stack traces from being attached to spans finishing with an error. This is useful in situations where errors are frequent and performance is critical.

#### func [WithSpanOptions](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L77)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithSpanOptions "Go to WithSpanOptions")added in v1.13.0

func WithSpanOptions(opts ...[ddtrace](https://pkg.go.dev/gopkg.in/DataDog/dd-trace-go.v1/ddtrace).[StartSpanOption](https://pkg.go.dev/gopkg.in/DataDog/dd-trace-go.v1/ddtrace#StartSpanOption)) [Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option)

WithSpanOptions defines a set of additional ddtrace.StartSpanOption to be added to spans started by the integration.

#### type [RoundTripperAfterFunc](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L98)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperAfterFunc "Go to RoundTripperAfterFunc")added in v1.2.0

type RoundTripperAfterFunc func(*[http](https://pkg.go.dev/net/http).[Response](https://pkg.go.dev/net/http#Response), [ddtrace](https://pkg.go.dev/gopkg.in/DataDog/dd-trace-go.v1/ddtrace).[Span](https://pkg.go.dev/gopkg.in/DataDog/dd-trace-go.v1/ddtrace#Span))

A RoundTripperAfterFunc can be used to modify a span after an http RoundTrip is made. It is possible for the http Response to be nil.

#### type [RoundTripperBeforeFunc](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L94)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperBeforeFunc "Go to RoundTripperBeforeFunc")added in v1.2.0

type RoundTripperBeforeFunc func(*[http](https://pkg.go.dev/net/http).[Request](https://pkg.go.dev/net/http#Request), [ddtrace](https://pkg.go.dev/gopkg.in/DataDog/dd-trace-go.v1/ddtrace).[Span](https://pkg.go.dev/gopkg.in/DataDog/dd-trace-go.v1/ddtrace#Span))

A RoundTripperBeforeFunc can be used to modify a span before an http RoundTrip is made.

#### type [RoundTripperOption](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L115)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption "Go to RoundTripperOption")added in v1.2.0

type RoundTripperOption func(*roundTripperConfig)

A RoundTripperOption represents an option that can be passed to WrapRoundTripper.

#### func [RTWithAnalytics](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L141)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithAnalytics "Go to RTWithAnalytics")added in v1.11.0

func RTWithAnalytics(on [bool](https://pkg.go.dev/builtin#bool)) [RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)

RTWithAnalytics enables Trace Analytics for all started spans.

#### func [RTWithAnalyticsRate](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L153)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithAnalyticsRate "Go to RTWithAnalyticsRate")added in v1.11.0

func RTWithAnalyticsRate(rate [float64](https://pkg.go.dev/builtin#float64)) [RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)

RTWithAnalyticsRate sets the sampling rate for Trace Analytics events correlated to started spans.

#### func [RTWithServiceName](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L134)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RTWithServiceName "Go to RTWithServiceName")added in v1.20.0

func RTWithServiceName(name [string](https://pkg.go.dev/builtin#string)) [RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)

RTWithServiceName sets the given service name for the RoundTripper.

#### func [WithAfter](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L127)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithAfter "Go to WithAfter")added in v1.2.0

func WithAfter(f [RoundTripperAfterFunc](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperAfterFunc)) [RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)

WithAfter adds a RoundTripperAfterFunc to the RoundTripper config.

#### func [WithBefore](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go#L119)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#WithBefore "Go to WithBefore")added in v1.2.0

func WithBefore(f [RoundTripperBeforeFunc](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperBeforeFunc)) [RoundTripperOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#RoundTripperOption)

WithBefore adds a RoundTripperBeforeFunc to the RoundTripper config.

#### type [ServeMux](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/http.go#L16)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux "Go to ServeMux")

type ServeMux struct {
 *[http](https://pkg.go.dev/net/http).[ServeMux](https://pkg.go.dev/net/http#ServeMux)	// contains filtered or unexported fields
}

ServeMux is an HTTP request multiplexer that traces all the incoming requests.

#### func [NewServeMux](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/http.go#L23)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#NewServeMux "Go to NewServeMux")

func NewServeMux(opts ...[Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#Option)) *[ServeMux](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux)

NewServeMux allocates and returns an http.ServeMux augmented with the global tracer.

#### func (*ServeMux) [ServeHTTP](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/http.go#L39)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux.ServeHTTP "Go to ServeMux.ServeHTTP")

func (mux *[ServeMux](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#ServeMux)) ServeHTTP(w [http](https://pkg.go.dev/net/http).[ResponseWriter](https://pkg.go.dev/net/http#ResponseWriter), r *[http](https://pkg.go.dev/net/http).[Request](https://pkg.go.dev/net/http#Request))

ServeHTTP dispatches the request to the handler whose pattern most closely matches the request URL. We only need to rewrite this function to be able to trace all the incoming requests to the underlying multiplexer

![Image 45](https://pkg.go.dev/static/shared/icon/insert_drive_file_gm_grey_24dp.svg) Source Files [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#section-sourcefiles "Go to Source Files")
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

[View all Source files](https://github.com/DataDog/dd-trace-go/tree/v1.24.1/contrib/net/http)

*   [http.go](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/http.go "http.go")
*   [option.go](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/option.go "option.go")
*   [roundtripper.go](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/net/http/roundtripper.go "roundtripper.go")

![Image 46](https://pkg.go.dev/static/shared/icon/folder_gm_grey_24dp.svg) Directories [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/net/http#section-directories "Go to Directories")
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 Show internal Collapse all

| Path | Synopsis |
| --- | --- |
| [](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/net/http/v2)module |  |

 Click to show internal directories. 

 Click to hide internal directories. 

[Why Go](https://go.dev/solutions)[Use Cases](https://go.dev/solutions#use-cases)[Case Studies](https://go.dev/solutions#case-studies)

[Get Started](https://learn.go.dev/)[Playground](https://play.golang.org/)[Tour](https://tour.golang.org/)[Stack Overflow](https://stackoverflow.com/questions/tagged/go?tab=Newest)[Help](https://go.dev/help)

[Packages](https://pkg.go.dev/)[Standard Library](https://pkg.go.dev/std)[Sub-repositories](https://pkg.go.dev/golang.org/x)[About Go Packages](https://pkg.go.dev/about)

[About](https://go.dev/project)[Download](https://go.dev/dl/)[Blog](https://go.dev/blog)[Issue Tracker](https://github.com/golang/go/issues)[Release Notes](https://go.dev/doc/devel/release.html)[Brand Guidelines](https://go.dev/brand)[Code of Conduct](https://go.dev/conduct)

[Connect](https://www.twitter.com/golang)[Twitter](https://www.twitter.com/golang)[GitHub](https://github.com/golang)[Slack](https://invite.slack.golangbridge.org/)[r/golang](https://reddit.com/r/golang)[Meetup](https://www.meetup.com/pro/go)[Golang Weekly](https://golangweekly.com/)

![Image 47: Gopher in flight goggles](https://pkg.go.dev/static/shared/gopher/pilot-bust-1431x901.svg)
*   [Copyright](https://go.dev/copyright)
*   [Terms of Service](https://go.dev/tos)
*   [Privacy Policy](http://www.google.com/intl/en/policies/privacy/)
*   [Report an Issue](https://go.dev/s/pkgsite-feedback)
*   ![Image 48: System theme](https://pkg.go.dev/static/shared/icon/brightness_6_gm_grey_24dp.svg)![Image 49: Dark theme](https://pkg.go.dev/static/shared/icon/brightness_2_gm_grey_24dp.svg)![Image 50: Light theme](https://pkg.go.dev/static/shared/icon/light_mode_gm_grey_24dp.svg)
Theme Toggle

*   ![Image 51](https://pkg.go.dev/static/shared/icon/keyboard_grey_24dp.svg)
Shortcuts Modal

[![Image 52: Google logo](https://pkg.go.dev/static/shared/logo/google-white.svg)](https://google.com/)

Jump to
-------

![Image 53](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

Close

Keyboard shortcuts
------------------

![Image 54](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

**?**: This menu
**/**: Search site
**f** or **F**: Jump to
**y** or **Y**: Canonical URL

Close

go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)

Okay
