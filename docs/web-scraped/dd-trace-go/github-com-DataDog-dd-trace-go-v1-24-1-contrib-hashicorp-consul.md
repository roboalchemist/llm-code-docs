# Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul

Title: consul package - github.com/DataDog/dd-trace-go/contrib/hashicorp/consul - Go Packages

URL Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul

Markdown Content:
consul package - github.com/DataDog/dd-trace-go/contrib/hashicorp/consul - Go Packages
===============

[![Image 1: Go](https://pkg.go.dev/static/shared/logo/go-white.svg)](https://go.dev/)

[Skip to Main Content](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#main-content)

![Image 2](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)![Image 3](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)

*   [Why Go ![Image 4: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#)
    *   [Case Studies](https://go.dev/solutions#case-studies) 
Common problems companies solve with Go

    *   [Use Cases](https://go.dev/solutions#use-cases) 
Stories about how and why companies use Go

    *   [Security](https://go.dev/security/) 
How Go can help keep you secure by default

*   [Learn](https://go.dev/learn/)
*   [Docs ![Image 5: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#)
    *   [Effective Go](https://go.dev/doc/effective_go) 
Tips for writing clear, performant, and idiomatic Go code

    *   [Go User Manual](https://go.dev/doc/) 
A complete introduction to building software with Go

    *   [Standard library](https://pkg.go.dev/std) 
Reference documentation for Go's standard library

    *   [Release Notes](https://go.dev/doc/devel/release) 
Learn what's new in each Go release

*   [Packages](https://pkg.go.dev/)
*   [Community ![Image 6: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#)
    *   [Recorded Talks](https://go.dev/talks/) 
Videos from prior events

    *   [Meetups _![Image 7](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go) 
Meet other local Go developers

    *   [Conferences _![Image 8](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences) 
Learn and network with Go developers from around the world

    *   [Go blog](https://go.dev/blog) 
The Go project's official blog.

    *   [Go project](https://go.dev/help) 
Get help and stay informed from Go

    *    Get connected  [![Image 9](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts "Get connected with google-groups (Opens in new window)")[![Image 10](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang "Get connected with github (Opens in new window)")[![Image 11](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang "Get connected with twitter (Opens in new window)")[![Image 12](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/ "Get connected with reddit (Opens in new window)")[![Image 13](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/ "Get connected with slack (Opens in new window)")[![Image 14](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

[![Image 15: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)

*   [Why Go _![Image 16](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#)

[_![Image 17](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Why Go](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#) 
    *   [Case Studies](https://go.dev/solutions#case-studies)
    *   [Use Cases](https://go.dev/solutions#use-cases)
    *   [Security](https://go.dev/security/)

*   [Learn](https://go.dev/learn/)
*   [Docs _![Image 18](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#)

[_![Image 19](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Docs](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#) 
    *   [Effective Go](https://go.dev/doc/effective_go)
    *   [Go User Manual](https://go.dev/doc/)
    *   [Standard library](https://pkg.go.dev/std)
    *   [Release Notes](https://go.dev/doc/devel/release)

*   [Packages](https://pkg.go.dev/)
*   [Community _![Image 20](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#)

[_![Image 21](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Community](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#) 
    *   [Recorded Talks](https://go.dev/talks/)
    *   [Meetups _![Image 22](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go)
    *   [Conferences _![Image 23](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences)
    *   [Go blog](https://go.dev/blog)
    *   [Go project](https://go.dev/help)
    *   Get connected [![Image 24](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts)[![Image 25](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang)[![Image 26](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang)[![Image 27](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/)[![Image 28](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/)[![Image 29](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

![Image 30: Notice](https://pkg.go.dev/static/shared/icon/info_gm_grey_24dp.svg) The highest tagged major version is [v2](https://pkg.go.dev/github.com/DataDog/dd-trace-go/v2). 

1.   [Discover Packages](https://pkg.go.dev/)
2.   [github.com/DataDog/dd-trace-go](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1)
3.   [contrib](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib@v1.24.1)
4.   [hashicorp](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/hashicorp@v1.24.1)
5.   [consul](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul)![Image 31](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[![Image 32: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)
consul
======

package![Image 33](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[Version: v1.24.1](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul?tab=versions)

 Opens a new window with list of versions in this module. 

Latest Latest 

![Image 34: Warning](https://pkg.go.dev/static/shared/icon/alert_gm_grey_24dp.svg)
This package is not in the latest version of its module.

[Go to latest](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/hashicorp/consul) Published: May 18, 2020  License: [Apache-2.0, BSD-3-Clause, Apache-2.0](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul?tab=licenses)

 Opens a new window with license information. 

[Imports: 6](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul?tab=imports)

 Opens a new window with list of imports. 

[Imported by: 0](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul?tab=importedby)

 Opens a new window with list of known importers. 

Details
-------

*   ![Image 35: unchecked](https://pkg.go.dev/static/shared/icon/cancel_gm_grey_24dp.svg) Valid go.mod file ![Image 36](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
The Go module system was introduced in Go 1.11 and is the official dependency management solution for Go. 
*   ![Image 37: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Redistributable license ![Image 38](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Redistributable licenses place minimal restrictions on how software can be used, modified, and redistributed. 
*   ![Image 39: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Tagged version ![Image 40](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Modules with tagged versions give importers more predictable builds. 
*   ![Image 41: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Stable version ![Image 42](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
When a project reaches major version v1 it is considered stable. 
*   [Learn more about best practices](https://pkg.go.dev/about#best-practices)

Repository
----------

[github.com/DataDog/dd-trace-go](https://github.com/DataDog/dd-trace-go "https://github.com/DataDog/dd-trace-go")

Links
-----

*   [![Image 43: Open Source Insights Logo](https://pkg.go.dev/static/shared/icon/depsdev-logo.svg) Open Source Insights](https://deps.dev/go/github.com%2FDataDog%2Fdd-trace-go/v1.24.1 "View this module on Open Source Insights")

 Jump to ... 

*   [Documentation](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#section-documentation)
    *   [Overview](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-overview)
    *   [Index](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-index)
    *   [Examples](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-examples)
        *   [Package](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#example-package "Package")

    *   [Constants](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-constants)
    *   [Variables](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-variables)
    *   [Functions](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-functions)
    *   [Types](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-types)
        *   [type Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client "type Client")
            *   [NewClient(config, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#NewClient "NewClient(config, opts)")
            *   [WrapClient(c, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WrapClient "WrapClient(c, opts)")
            *   [(c) KV()](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client.KV "(c) KV()")
            *   [(c) WithContext(ctx)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client.WithContext "(c) WithContext(ctx)")

        *   [type ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption "type ClientOption")
            *   [WithAnalytics(on)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithAnalytics "WithAnalytics(on)")
            *   [WithAnalyticsRate(rate)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithAnalyticsRate "WithAnalyticsRate(rate)")
            *   [WithServiceName(name)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithServiceName "WithServiceName(name)")

        *   [type KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV "type KV")
            *   [(k) Acquire(p, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Acquire "(k) Acquire(p, q)")
            *   [(k) CAS(p, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.CAS "(k) CAS(p, q)")
            *   [(k) Delete(key, w)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Delete "(k) Delete(key, w)")
            *   [(k) DeleteCAS(p, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.DeleteCAS "(k) DeleteCAS(p, q)")
            *   [(k) DeleteTree(prefix, w)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.DeleteTree "(k) DeleteTree(prefix, w)")
            *   [(k) Get(key, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Get "(k) Get(key, q)")
            *   [(k) Keys(prefix, separator, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Keys "(k) Keys(prefix, separator, q)")
            *   [(k) List(prefix, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.List "(k) List(prefix, q)")
            *   [(k) Put(p, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Put "(k) Put(p, q)")
            *   [(k) Release(p, q)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Release "(k) Release(p, q)")

*   [Source Files](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#section-sourcefiles)
*   [Directories](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#section-directories)

![Image 44](https://pkg.go.dev/static/shared/icon/code_gm_grey_24dp.svg) Documentation [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#section-documentation "Go to Documentation")
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### Overview [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-overview "Go to Overview")

Example [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#example-package "Go to Example")

Here's an example illustrating a simple use case for interacting with consul with tracing enabled.

Output:

test: 1000 

### Index [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-index "Go to Index")

*   [type Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client)
*       *   [func NewClient(config *consul.Config, opts ...ClientOption) (*Client, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#NewClient)
    *   [func WrapClient(c *consul.Client, opts ...ClientOption) *Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WrapClient)

*       *   [func (c *Client) KV() *KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client.KV)
    *   [func (c *Client) WithContext(ctx context.Context) *Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client.WithContext)

*   [type ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption)
*       *   [func WithAnalytics(on bool) ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithAnalytics)
    *   [func WithAnalyticsRate(rate float64) ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithAnalyticsRate)
    *   [func WithServiceName(name string) ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithServiceName)

*   [type KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)
*       *   [func (k *KV) Acquire(p *consul.KVPair, q *consul.WriteOptions) (bool, *consul.WriteMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Acquire)
    *   [func (k *KV) CAS(p *consul.KVPair, q *consul.WriteOptions) (bool, *consul.WriteMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.CAS)
    *   [func (k *KV) Delete(key string, w *consul.WriteOptions) (*consul.WriteMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Delete)
    *   [func (k *KV) DeleteCAS(p *consul.KVPair, q *consul.WriteOptions) (bool, *consul.WriteMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.DeleteCAS)
    *   [func (k *KV) DeleteTree(prefix string, w *consul.WriteOptions) (*consul.WriteMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.DeleteTree)
    *   [func (k *KV) Get(key string, q *consul.QueryOptions) (*consul.KVPair, *consul.QueryMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Get)
    *   [func (k *KV) Keys(prefix, separator string, q *consul.QueryOptions) ([]string, *consul.QueryMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Keys)
    *   [func (k *KV) List(prefix string, q *consul.QueryOptions) ([]*consul.KVPair, *consul.QueryMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.List)
    *   [func (k *KV) Put(p *consul.KVPair, q *consul.WriteOptions) (*consul.WriteMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Put)
    *   [func (k *KV) Release(p *consul.KVPair, q *consul.WriteOptions) (bool, *consul.WriteMeta, error)](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Release)

### Examples [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-examples "Go to Examples")

*   [Package](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#example-package)

### Constants [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-constants "Go to Constants")

This section is empty.

### Variables [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-variables "Go to Variables")

This section is empty.

### Functions [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-functions "Go to Functions")

This section is empty.

### Types [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#pkg-types "Go to Types")

#### type [Client](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L20)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client "Go to Client")

type Client struct {
 *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[Client](https://pkg.go.dev/github.com/hashicorp/consul/api#Client)	// contains filtered or unexported fields
}

Client wraps the regular *consul.Client and augments it with tracing. Use NewClient to initialize it.

#### func [NewClient](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L28)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#NewClient "Go to NewClient")

func NewClient(config *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[Config](https://pkg.go.dev/github.com/hashicorp/consul/api#Config), opts ...[ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption)) (*[Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client), [error](https://pkg.go.dev/builtin#error))

NewClient returns a traced Consul client.

#### func [WrapClient](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L37)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WrapClient "Go to WrapClient")

func WrapClient(c *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[Client](https://pkg.go.dev/github.com/hashicorp/consul/api#Client), opts ...[ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption)) *[Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client)

WrapClient wraps a given consul.Client with a tracer under the given service name.

#### func (*Client) [KV](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L61)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client.KV "Go to Client.KV")

func (c *[Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client)) KV() *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)

KV returns the KV for the Client.

#### func (*Client) [WithContext](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L47)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client.WithContext "Go to Client.WithContext")

func (c *[Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client)) WithContext(ctx [context](https://pkg.go.dev/context).[Context](https://pkg.go.dev/context#Context)) *[Client](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#Client)

WithContext sets a context on a Client. Use it to ensure that emitted spans have the correct parent.

#### type [ClientOption](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/option.go#L20)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption "Go to ClientOption")

type ClientOption func(*clientConfig)

ClientOption represents an option that can be used to create or wrap a client.

#### func [WithAnalytics](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/option.go#L35)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithAnalytics "Go to WithAnalytics")

func WithAnalytics(on [bool](https://pkg.go.dev/builtin#bool)) [ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption)

WithAnalytics enables Trace Analytics for all started spans.

#### func [WithAnalyticsRate](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/option.go#L47)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithAnalyticsRate "Go to WithAnalyticsRate")

func WithAnalyticsRate(rate [float64](https://pkg.go.dev/builtin#float64)) [ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption)

WithAnalyticsRate sets the sampling rate for Trace Analytics events correlated to started spans.

#### func [WithServiceName](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/option.go#L28)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#WithServiceName "Go to WithServiceName")

func WithServiceName(name [string](https://pkg.go.dev/builtin#string)) [ClientOption](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#ClientOption)

WithServiceName sets the given service name for the client.

#### type [KV](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L53)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV "Go to KV")

type KV struct {
 *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KV](https://pkg.go.dev/github.com/hashicorp/consul/api#KV)	// contains filtered or unexported fields
}

A KV is used to trace requests to Consul's KV.

#### func (*KV) [Acquire](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L127)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Acquire "Go to KV.Acquire")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) Acquire(p *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KVPair](https://pkg.go.dev/github.com/hashicorp/consul/api#KVPair), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteOptions)) ([bool](https://pkg.go.dev/builtin#bool), *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteMeta), [error](https://pkg.go.dev/builtin#error))

Acquire is used for a lock acquisition operation. The Key, Flags, Value and Session are respected. Returns true on success or false on failures.

#### func (*KV) [CAS](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L117)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.CAS "Go to KV.CAS")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) CAS(p *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KVPair](https://pkg.go.dev/github.com/hashicorp/consul/api#KVPair), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteOptions)) ([bool](https://pkg.go.dev/builtin#bool), *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteMeta), [error](https://pkg.go.dev/builtin#error))

CAS is used for a Check-And-Set operation. The Key, ModifyIndex, Flags and Value are respected. Returns true on success or false on failures.

#### func (*KV) [Delete](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L145)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Delete "Go to KV.Delete")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) Delete(key [string](https://pkg.go.dev/builtin#string), w *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteOptions)) (*[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteMeta), [error](https://pkg.go.dev/builtin#error))

Delete is used to delete a single key.

#### func (*KV) [DeleteCAS](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L154)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.DeleteCAS "Go to KV.DeleteCAS")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) DeleteCAS(p *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KVPair](https://pkg.go.dev/github.com/hashicorp/consul/api#KVPair), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteOptions)) ([bool](https://pkg.go.dev/builtin#bool), *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteMeta), [error](https://pkg.go.dev/builtin#error))

DeleteCAS is used for a Delete Check-And-Set operation. The Key and ModifyIndex are respected. Returns true on success or false on failures.

#### func (*KV) [DeleteTree](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L162)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.DeleteTree "Go to KV.DeleteTree")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) DeleteTree(prefix [string](https://pkg.go.dev/builtin#string), w *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteOptions)) (*[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteMeta), [error](https://pkg.go.dev/builtin#error))

DeleteTree is used to delete all keys under a prefix.

#### func (*KV) [Get](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L90)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Get "Go to KV.Get")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) Get(key [string](https://pkg.go.dev/builtin#string), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[QueryOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#QueryOptions)) (*[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KVPair](https://pkg.go.dev/github.com/hashicorp/consul/api#KVPair), *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[QueryMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#QueryMeta), [error](https://pkg.go.dev/builtin#error))

Get is used to lookup a single key. The returned pointer to the KVPair will be nil if the key does not exist.

#### func (*KV) [Keys](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L107)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Keys "Go to KV.Keys")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) Keys(prefix, separator [string](https://pkg.go.dev/builtin#string), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[QueryOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#QueryOptions)) ([][string](https://pkg.go.dev/builtin#string), *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[QueryMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#QueryMeta), [error](https://pkg.go.dev/builtin#error))

Keys is used to list all the keys under a prefix. Optionally, a separator can be used to limit the responses.

#### func (*KV) [List](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L98)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.List "Go to KV.List")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) List(prefix [string](https://pkg.go.dev/builtin#string), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[QueryOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#QueryOptions)) ([]*[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KVPair](https://pkg.go.dev/github.com/hashicorp/consul/api#KVPair), *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[QueryMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#QueryMeta), [error](https://pkg.go.dev/builtin#error))

List is used to lookup all keys under a prefix.

#### func (*KV) [Put](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L81)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Put "Go to KV.Put")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) Put(p *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KVPair](https://pkg.go.dev/github.com/hashicorp/consul/api#KVPair), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteOptions)) (*[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteMeta), [error](https://pkg.go.dev/builtin#error))

Put is used to write a new value. Only the Key, Flags and Value is respected.

#### func (*KV) [Release](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go#L137)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV.Release "Go to KV.Release")

func (k *[KV](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#KV)) Release(p *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[KVPair](https://pkg.go.dev/github.com/hashicorp/consul/api#KVPair), q *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteOptions](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteOptions)) ([bool](https://pkg.go.dev/builtin#bool), *[consul](https://pkg.go.dev/github.com/hashicorp/consul/api).[WriteMeta](https://pkg.go.dev/github.com/hashicorp/consul/api#WriteMeta), [error](https://pkg.go.dev/builtin#error))

Release is used for a lock release operation. The Key, Flags, Value and Session are respected. Returns true on success or false on failures.

![Image 45](https://pkg.go.dev/static/shared/icon/insert_drive_file_gm_grey_24dp.svg) Source Files [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#section-sourcefiles "Go to Source Files")
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

[View all Source files](https://github.com/DataDog/dd-trace-go/tree/v1.24.1/contrib/hashicorp/consul)

*   [consul.go](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/consul.go "consul.go")
*   [option.go](https://github.com/DataDog/dd-trace-go/blob/v1.24.1/contrib/hashicorp/consul/option.go "option.go")

![Image 46](https://pkg.go.dev/static/shared/icon/folder_gm_grey_24dp.svg) Directories [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go@v1.24.1/contrib/hashicorp/consul#section-directories "Go to Directories")
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 Show internal Collapse all

| Path | Synopsis |
| --- | --- |
| [](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/hashicorp/consul/v2)module |  |

 Click to show internal directories. 

 Click to hide internal directories. 

[Why Go](https://go.dev/solutions)[Use Cases](https://go.dev/solutions#use-cases)[Case Studies](https://go.dev/solutions#case-studies)

[Get Started](https://learn.go.dev/)[Playground](https://play.golang.org/)[Tour](https://tour.golang.org/)[Stack Overflow](https://stackoverflow.com/questions/tagged/go?tab=Newest)[Help](https://go.dev/help)

[Packages](https://pkg.go.dev/)[Standard Library](https://pkg.go.dev/std)[Sub-repositories](https://pkg.go.dev/golang.org/x)[About Go Packages](https://pkg.go.dev/about)

[About](https://go.dev/project)[Download](https://go.dev/dl/)[Blog](https://go.dev/blog)[Issue Tracker](https://github.com/golang/go/issues)[Release Notes](https://go.dev/doc/devel/release.html)[Brand Guidelines](https://go.dev/brand)[Code of Conduct](https://go.dev/conduct)

[Connect](https://www.twitter.com/golang)[Twitter](https://www.twitter.com/golang)[GitHub](https://github.com/golang)[Slack](https://invite.slack.golangbridge.org/)[r/golang](https://reddit.com/r/golang)[Meetup](https://www.meetup.com/pro/go)[Golang Weekly](https://golangweekly.com/)

![Image 47: Gopher in flight goggles](https://pkg.go.dev/static/shared/gopher/pilot-bust-1431x901.svg)
*   [Copyright](https://go.dev/copyright)
*   [Terms of Service](https://go.dev/tos)
*   [Privacy Policy](http://www.google.com/intl/en/policies/privacy/)
*   [Report an Issue](https://go.dev/s/pkgsite-feedback)
*   ![Image 48: System theme](https://pkg.go.dev/static/shared/icon/brightness_6_gm_grey_24dp.svg)![Image 49: Dark theme](https://pkg.go.dev/static/shared/icon/brightness_2_gm_grey_24dp.svg)![Image 50: Light theme](https://pkg.go.dev/static/shared/icon/light_mode_gm_grey_24dp.svg)
Theme Toggle

*   ![Image 51](https://pkg.go.dev/static/shared/icon/keyboard_grey_24dp.svg)
Shortcuts Modal

[![Image 52: Google logo](https://pkg.go.dev/static/shared/logo/google-white.svg)](https://google.com/)

Jump to
-------

![Image 53](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

Close

Keyboard shortcuts
------------------

![Image 54](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

**?**: This menu
**/**: Search site
**f** or **F**: Jump to
**y** or **Y**: Canonical URL

Close

go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)

Okay
