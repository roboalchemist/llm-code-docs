# Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2

Title: apps package - github.com/DataDog/dd-trace-go/internal/apps/v2 - Go Packages

URL Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2

Markdown Content:
apps package - github.com/DataDog/dd-trace-go/internal/apps/v2 - Go Packages
===============

[![Image 1: Go](https://pkg.go.dev/static/shared/logo/go-white.svg)](https://go.dev/)

[Skip to Main Content](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#main-content)

![Image 2](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)![Image 3](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)

*   [Why Go ![Image 4: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#)
    *   [Case Studies](https://go.dev/solutions#case-studies) 
Common problems companies solve with Go

    *   [Use Cases](https://go.dev/solutions#use-cases) 
Stories about how and why companies use Go

    *   [Security](https://go.dev/security/) 
How Go can help keep you secure by default

*   [Learn](https://go.dev/learn/)
*   [Docs ![Image 5: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#)
    *   [Effective Go](https://go.dev/doc/effective_go) 
Tips for writing clear, performant, and idiomatic Go code

    *   [Go User Manual](https://go.dev/doc/) 
A complete introduction to building software with Go

    *   [Standard library](https://pkg.go.dev/std) 
Reference documentation for Go's standard library

    *   [Release Notes](https://go.dev/doc/devel/release) 
Learn what's new in each Go release

*   [Packages](https://pkg.go.dev/)
*   [Community ![Image 6: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#)
    *   [Recorded Talks](https://go.dev/talks/) 
Videos from prior events

    *   [Meetups _![Image 7](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go) 
Meet other local Go developers

    *   [Conferences _![Image 8](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences) 
Learn and network with Go developers from around the world

    *   [Go blog](https://go.dev/blog) 
The Go project's official blog.

    *   [Go project](https://go.dev/help) 
Get help and stay informed from Go

    *    Get connected  [![Image 9](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts "Get connected with google-groups (Opens in new window)")[![Image 10](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang "Get connected with github (Opens in new window)")[![Image 11](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang "Get connected with twitter (Opens in new window)")[![Image 12](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/ "Get connected with reddit (Opens in new window)")[![Image 13](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/ "Get connected with slack (Opens in new window)")[![Image 14](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

[![Image 15: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)

*   [Why Go _![Image 16](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#)

[_![Image 17](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Why Go](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#) 
    *   [Case Studies](https://go.dev/solutions#case-studies)
    *   [Use Cases](https://go.dev/solutions#use-cases)
    *   [Security](https://go.dev/security/)

*   [Learn](https://go.dev/learn/)
*   [Docs _![Image 18](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#)

[_![Image 19](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Docs](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#) 
    *   [Effective Go](https://go.dev/doc/effective_go)
    *   [Go User Manual](https://go.dev/doc/)
    *   [Standard library](https://pkg.go.dev/std)
    *   [Release Notes](https://go.dev/doc/devel/release)

*   [Packages](https://pkg.go.dev/)
*   [Community _![Image 20](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#)

[_![Image 21](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Community](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#) 
    *   [Recorded Talks](https://go.dev/talks/)
    *   [Meetups _![Image 22](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go)
    *   [Conferences _![Image 23](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences)
    *   [Go blog](https://go.dev/blog)
    *   [Go project](https://go.dev/help)
    *   Get connected [![Image 24](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts)[![Image 25](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang)[![Image 26](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang)[![Image 27](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/)[![Image 28](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/)[![Image 29](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

1.   [Discover Packages](https://pkg.go.dev/)
2.   [github.com/DataDog/dd-trace-go/internal/apps/v2](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2@v2.6.0)![Image 30](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[![Image 31: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)
apps
====

package module![Image 32](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[Version: v2.6.0](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2?tab=versions)

 Opens a new window with list of versions in this module. 

Latest Latest 

![Image 33: Warning](https://pkg.go.dev/static/shared/icon/alert_gm_grey_24dp.svg)
This package is not in the latest version of its module.

[Go to latest](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2) Published: Feb 9, 2026  License: [Apache-2.0, BSD-3-Clause](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2?tab=licenses)

 Opens a new window with license information. 

[Imports: 11](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2?tab=imports)

 Opens a new window with list of imports. 

[Imported by: 0](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2?tab=importedby)

 Opens a new window with list of known importers. 

Details
-------

*   ![Image 34: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Valid [go.mod](https://github.com/DataDog/dd-trace-go/tree/internal/apps/v2.6.0/internal/apps/go.mod) file ![Image 35](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
The Go module system was introduced in Go 1.11 and is the official dependency management solution for Go. 
*   ![Image 36: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Redistributable license ![Image 37](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Redistributable licenses place minimal restrictions on how software can be used, modified, and redistributed. 
*   ![Image 38: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Tagged version ![Image 39](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Modules with tagged versions give importers more predictable builds. 
*   ![Image 40: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Stable version ![Image 41](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
When a project reaches major version v1 it is considered stable. 
*   [Learn more about best practices](https://pkg.go.dev/about#best-practices)

Repository
----------

[github.com/DataDog/dd-trace-go](https://github.com/DataDog/dd-trace-go "https://github.com/DataDog/dd-trace-go")

Links
-----

*   [![Image 42: Open Source Insights Logo](https://pkg.go.dev/static/shared/icon/depsdev-logo.svg) Open Source Insights](https://deps.dev/go/github.com%2FDataDog%2Fdd-trace-go%2Finternal%2Fapps%2Fv2/v2.6.0 "View this module on Open Source Insights")

 Jump to ... 

*   [README](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-readme)
    *   [Internal Test Apps](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#readme-internal-test-apps)
        *   [Adding a new app](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#readme-adding-a-new-app)
        *   [Run the apps](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#readme-run-the-apps)
            *   [Manually via CI](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#readme-manually-via-ci)
            *   [Scheduled via CI](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#readme-scheduled-via-ci)

        *   [Local development](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#readme-local-development)

    *   [Cost](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#readme-cost)

*   [Documentation](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-documentation)
    *   [Index](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-index)
    *   [Constants](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-constants)
    *   [Variables](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-variables)
    *   [Functions](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-functions)
    *   [Types](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-types)
        *   [type Config](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config "type Config")
            *   [(c) HTTPAddr()](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config.HTTPAddr "(c) HTTPAddr()")
            *   [(c) RunHTTP(handler)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config.RunHTTP "(c) RunHTTP(handler)")

*   [Source Files](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-sourcefiles)
*   [Directories](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-directories)

![Image 43](https://pkg.go.dev/static/shared/icon/chrome_reader_mode_gm_grey_24dp.svg) README [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-readme "Go to Readme")
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### Internal Test Apps

Most of dd-trace-go is tested using unit tests or integration tests.

However, some situations require end to end testing. For example:

*   Changes involving the agent, backend and UI.
*   Producing screen shots for documentation and marketing purposes.
*   Validating that existing features continue to work end-to-end.
*   etc.

This directory contains a collection of apps that can be used for such purposes. It also contains the supporting code and documentation that makes it easy to add more apps and run them locally or in CI.

#### Adding a new app

*   Copy an existing app directory and rename it.
*   Define your test scenarios [scenario_test.go](https://github.com/DataDog/dd-trace-go/blob/internal/apps/v2.6.0/internal/apps/scenario_test.go).
*   Update [/.github/workflows/test-apps.cue](https://github.com/DataDog/dd-trace-go/blob/internal/apps/v2.6.0/internal/apps/.github/workflows/test-apps.cue) to register the new scenarios and run `make test-apps.yml`.

#### Run the apps

##### Manually via CI

1.   Follow [this link](https://github.com/DataDog/dd-trace-go/actions/workflows/test-apps.yml) to open the test workflow in GH Actions.
2.   Click `Run workflow`
3.   Select the scenarios you want to run.
4.   Configure any other parameters you want to change.
5.   Press `Run workflow`

##### Scheduled via CI

All test scenarios are run nightly for 10min and weekly for 1h in CI.

#### Local development

```
export DD_API_KEY=<API KEY>
docker-compose run --build scenario memory-leak/heap$
```

Note:

*   Datadog employees should prefer using [dd-auth](https://datadoghq.atlassian.net/wiki/spaces/COBS/pages/4094591351/Datadog+Authentication+CLI+dd-auth-cli+dd-auth) over setting `DD_API_KEY` manually.
*   The default destination site is prod. Set `export DD_SITE=datad0g.com` to send the data to staging.
*   You can pass `-e DD_TEST_APPS_TOTAL_DURATION=120s` and similar vars to `docker-compose`, see [scenario_test.go](https://github.com/DataDog/dd-trace-go/blob/internal/apps/v2.6.0/internal/apps/scenario_test.go) for the available vars.

### Cost

The CI cost of adding a new scenario is calculated as follows:

```
envs * nightly_minutes * cost_per_minute * 30 + envs * weekly_minutes * cost_per_minute * 4
2 * 10 * 0.008 * 30 + 2 * 60 * 0.008 * 4 = $8.64
```

See GH Actions [per-minute-rates](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions#per-minute-rates) for more details.

Expand ▾Collapse ▴

![Image 44](https://pkg.go.dev/static/shared/icon/code_gm_grey_24dp.svg) Documentation [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-documentation "Go to Documentation")
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### Index [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-index "Go to Index")

*   [type Config](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config)
*       *   [func (c Config) HTTPAddr() net.Addr](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config.HTTPAddr)
    *   [func (c *Config) RunHTTP(handler func() http.Handler)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config.RunHTTP)

### Constants [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-constants "Go to Constants")

This section is empty.

### Variables [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-variables "Go to Variables")

This section is empty.

### Functions [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-functions "Go to Functions")

This section is empty.

### Types [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#pkg-types "Go to Types")

#### type [Config](https://github.com/DataDog/dd-trace-go/blob/internal/apps/v2.6.0/internal/apps/apps.go#L24)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config "Go to Config")

type Config struct {
// DisableExecutionTracing disables execution tracing for the test app. By	// default we configure non-stop execution tracing for the test apps unless
	// a DD_PROFILING_EXECUTION_TRACE_PERIOD env is set or this option is true.
	DisableExecutionTracing [bool](https://pkg.go.dev/builtin#bool)
	// contains filtered or unexported fields
}

Config is the configuration for a test app used by RunHTTP.

#### func (Config) [HTTPAddr](https://github.com/DataDog/dd-trace-go/blob/internal/apps/v2.6.0/internal/apps/apps.go#L92)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config.HTTPAddr "Go to Config.HTTPAddr")

func (c [Config](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config)) HTTPAddr() [net](https://pkg.go.dev/net).[Addr](https://pkg.go.dev/net#Addr)

#### func (*Config) [RunHTTP](https://github.com/DataDog/dd-trace-go/blob/internal/apps/v2.6.0/internal/apps/apps.go#L33)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config.RunHTTP "Go to Config.RunHTTP")

func (c *[Config](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#Config)) RunHTTP(handler func() [http](https://pkg.go.dev/net/http).[Handler](https://pkg.go.dev/net/http#Handler))

![Image 45](https://pkg.go.dev/static/shared/icon/insert_drive_file_gm_grey_24dp.svg) Source Files [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-sourcefiles "Go to Source Files")
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

[View all Source files](https://github.com/DataDog/dd-trace-go/tree/internal/apps/v2.6.0/internal/apps)

*   [apps.go](https://github.com/DataDog/dd-trace-go/blob/internal/apps/v2.6.0/internal/apps/apps.go "apps.go")

![Image 46](https://pkg.go.dev/static/shared/icon/folder_gm_grey_24dp.svg) Directories [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2#section-directories "Go to Directories")
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 Show internal Collapse all

| Path | Synopsis |
| --- | --- |
| [gc-overhead](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2@v2.6.0/gc-overhead) gc-overhead implements a http service that demonstrates high GC overhead. | gc-overhead implements a http service that demonstrates high GC overhead. |
| [memory-leak](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2@v2.6.0/memory-leak) memory-leak implements a http service that provides endpoints that can leak memory in various interesting ways. | memory-leak implements a http service that provides endpoints that can leak memory in various interesting ways. |
| [unit-of-work](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2@v2.6.0/unit-of-work) |  |
| [worker-pool-bottleneck](https://pkg.go.dev/github.com/DataDog/dd-trace-go/internal/apps/v2@v2.6.0/worker-pool-bottleneck) worker-pool-bottleneck implements a http service that demonstrates a worker pool bottleneck. | worker-pool-bottleneck implements a http service that demonstrates a worker pool bottleneck. |

 Click to show internal directories. 

 Click to hide internal directories. 

[Why Go](https://go.dev/solutions)[Use Cases](https://go.dev/solutions#use-cases)[Case Studies](https://go.dev/solutions#case-studies)

[Get Started](https://learn.go.dev/)[Playground](https://play.golang.org/)[Tour](https://tour.golang.org/)[Stack Overflow](https://stackoverflow.com/questions/tagged/go?tab=Newest)[Help](https://go.dev/help)

[Packages](https://pkg.go.dev/)[Standard Library](https://pkg.go.dev/std)[Sub-repositories](https://pkg.go.dev/golang.org/x)[About Go Packages](https://pkg.go.dev/about)

[About](https://go.dev/project)[Download](https://go.dev/dl/)[Blog](https://go.dev/blog)[Issue Tracker](https://github.com/golang/go/issues)[Release Notes](https://go.dev/doc/devel/release.html)[Brand Guidelines](https://go.dev/brand)[Code of Conduct](https://go.dev/conduct)

[Connect](https://www.twitter.com/golang)[Twitter](https://www.twitter.com/golang)[GitHub](https://github.com/golang)[Slack](https://invite.slack.golangbridge.org/)[r/golang](https://reddit.com/r/golang)[Meetup](https://www.meetup.com/pro/go)[Golang Weekly](https://golangweekly.com/)

![Image 47: Gopher in flight goggles](https://pkg.go.dev/static/shared/gopher/pilot-bust-1431x901.svg)
*   [Copyright](https://go.dev/copyright)
*   [Terms of Service](https://go.dev/tos)
*   [Privacy Policy](http://www.google.com/intl/en/policies/privacy/)
*   [Report an Issue](https://go.dev/s/pkgsite-feedback)
*   ![Image 48: System theme](https://pkg.go.dev/static/shared/icon/brightness_6_gm_grey_24dp.svg)![Image 49: Dark theme](https://pkg.go.dev/static/shared/icon/brightness_2_gm_grey_24dp.svg)![Image 50: Light theme](https://pkg.go.dev/static/shared/icon/light_mode_gm_grey_24dp.svg)
Theme Toggle

*   ![Image 51](https://pkg.go.dev/static/shared/icon/keyboard_grey_24dp.svg)
Shortcuts Modal

[![Image 52: Google logo](https://pkg.go.dev/static/shared/logo/google-white.svg)](https://google.com/)

Jump to
-------

![Image 53](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

Close

Keyboard shortcuts
------------------

![Image 54](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

**?**: This menu
**/**: Search site
**f** or **F**: Jump to
**y** or **Y**: Canonical URL

Close

go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)

Okay
