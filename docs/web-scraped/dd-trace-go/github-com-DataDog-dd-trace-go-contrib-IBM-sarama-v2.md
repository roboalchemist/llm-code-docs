# Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2

Title: sarama package - github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2 - Go Packages

URL Source: https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2

Markdown Content:
sarama package - github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2 - Go Packages
===============

[![Image 1: Go](https://pkg.go.dev/static/shared/logo/go-white.svg)](https://go.dev/)

[Skip to Main Content](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#main-content)

![Image 2](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)![Image 3](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)

*   [Why Go ![Image 4: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#)
    *   [Case Studies](https://go.dev/solutions#case-studies) 
Common problems companies solve with Go

    *   [Use Cases](https://go.dev/solutions#use-cases) 
Stories about how and why companies use Go

    *   [Security](https://go.dev/security/) 
How Go can help keep you secure by default

*   [Learn](https://go.dev/learn/)
*   [Docs ![Image 5: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#)
    *   [Effective Go](https://go.dev/doc/effective_go) 
Tips for writing clear, performant, and idiomatic Go code

    *   [Go User Manual](https://go.dev/doc/) 
A complete introduction to building software with Go

    *   [Standard library](https://pkg.go.dev/std) 
Reference documentation for Go's standard library

    *   [Release Notes](https://go.dev/doc/devel/release) 
Learn what's new in each Go release

*   [Packages](https://pkg.go.dev/)
*   [Community ![Image 6: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#)
    *   [Recorded Talks](https://go.dev/talks/) 
Videos from prior events

    *   [Meetups _![Image 7](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go) 
Meet other local Go developers

    *   [Conferences _![Image 8](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences) 
Learn and network with Go developers from around the world

    *   [Go blog](https://go.dev/blog) 
The Go project's official blog.

    *   [Go project](https://go.dev/help) 
Get help and stay informed from Go

    *    Get connected  [![Image 9](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts "Get connected with google-groups (Opens in new window)")[![Image 10](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang "Get connected with github (Opens in new window)")[![Image 11](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang "Get connected with twitter (Opens in new window)")[![Image 12](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/ "Get connected with reddit (Opens in new window)")[![Image 13](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/ "Get connected with slack (Opens in new window)")[![Image 14](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

[![Image 15: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)

*   [Why Go _![Image 16](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#)

[_![Image 17](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Why Go](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#) 
    *   [Case Studies](https://go.dev/solutions#case-studies)
    *   [Use Cases](https://go.dev/solutions#use-cases)
    *   [Security](https://go.dev/security/)

*   [Learn](https://go.dev/learn/)
*   [Docs _![Image 18](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#)

[_![Image 19](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Docs](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#) 
    *   [Effective Go](https://go.dev/doc/effective_go)
    *   [Go User Manual](https://go.dev/doc/)
    *   [Standard library](https://pkg.go.dev/std)
    *   [Release Notes](https://go.dev/doc/devel/release)

*   [Packages](https://pkg.go.dev/)
*   [Community _![Image 20](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#)

[_![Image 21](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Community](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#) 
    *   [Recorded Talks](https://go.dev/talks/)
    *   [Meetups _![Image 22](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go)
    *   [Conferences _![Image 23](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences)
    *   [Go blog](https://go.dev/blog)
    *   [Go project](https://go.dev/help)
    *   Get connected [![Image 24](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts)[![Image 25](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang)[![Image 26](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang)[![Image 27](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/)[![Image 28](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/)[![Image 29](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

1.   [Discover Packages](https://pkg.go.dev/)
2.   [github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2@v2.6.0)![Image 30](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[![Image 31: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)
sarama
======

package module![Image 32](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[Version: v2.6.0](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2?tab=versions)

 Opens a new window with list of versions in this module. 

Latest Latest 

![Image 33: Warning](https://pkg.go.dev/static/shared/icon/alert_gm_grey_24dp.svg)
This package is not in the latest version of its module.

[Go to latest](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2) Published: Feb 9, 2026  License: [Apache-2.0, BSD-3-Clause](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2?tab=licenses)

 Opens a new window with license information. 

[Imports: 9](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2?tab=imports)

 Opens a new window with list of imports. 

[Imported by: 1](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2?tab=importedby)

 Opens a new window with list of known importers. 

Details
-------

*   ![Image 34: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Valid [go.mod](https://github.com/DataDog/dd-trace-go/tree/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/go.mod) file ![Image 35](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
The Go module system was introduced in Go 1.11 and is the official dependency management solution for Go. 
*   ![Image 36: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Redistributable license ![Image 37](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Redistributable licenses place minimal restrictions on how software can be used, modified, and redistributed. 
*   ![Image 38: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Tagged version ![Image 39](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Modules with tagged versions give importers more predictable builds. 
*   ![Image 40: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Stable version ![Image 41](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
When a project reaches major version v1 it is considered stable. 
*   [Learn more about best practices](https://pkg.go.dev/about#best-practices)

Repository
----------

[github.com/DataDog/dd-trace-go](https://github.com/DataDog/dd-trace-go "https://github.com/DataDog/dd-trace-go")

Links
-----

*   [![Image 42: Open Source Insights Logo](https://pkg.go.dev/static/shared/icon/depsdev-logo.svg) Open Source Insights](https://deps.dev/go/github.com%2FDataDog%2Fdd-trace-go%2Fcontrib%2FIBM%2Fsarama%2Fv2/v2.6.0 "View this module on Open Source Insights")

 Jump to ... 

*   [Documentation](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#section-documentation)
    *   [Overview](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-overview)
    *   [Index](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-index)
    *   [Examples](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-examples)
        *   [WrapAsyncProducer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapAsyncProducer "WrapAsyncProducer")
        *   [WrapConsumer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapConsumer "WrapConsumer")
        *   [WrapConsumerGroupHandler](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapConsumerGroupHandler "WrapConsumerGroupHandler")
        *   [WrapSyncProducer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapSyncProducer "WrapSyncProducer")

    *   [Constants](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-constants)
    *   [Variables](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-variables)
    *   [Functions](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-functions)
        *   [WrapAsyncProducer(saramaConfig, p, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapAsyncProducer "WrapAsyncProducer(saramaConfig, p, opts)")
        *   [WrapConsumer(c, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapConsumer "WrapConsumer(c, opts)")
        *   [WrapConsumerGroupHandler(handler, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapConsumerGroupHandler "WrapConsumerGroupHandler(handler, opts)")
        *   [WrapPartitionConsumer(pc, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapPartitionConsumer "WrapPartitionConsumer(pc, opts)")
        *   [WrapSyncProducer(saramaConfig, producer, opts)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapSyncProducer "WrapSyncProducer(saramaConfig, producer, opts)")

    *   [Types](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-types)
        *   [type ConsumerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier "type ConsumerMessageCarrier")
            *   [NewConsumerMessageCarrier(msg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#NewConsumerMessageCarrier "NewConsumerMessageCarrier(msg)")
            *   [(c) ForeachKey(handler)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier.ForeachKey "(c) ForeachKey(handler)")
            *   [(c) Set(key, val)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier.Set "(c) Set(key, val)")

        *   [type Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option "type Option")
        *   [type OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn "type OptionFn")
            *   [WithAnalytics(on)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithAnalytics "WithAnalytics(on)")
            *   [WithAnalyticsRate(rate)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithAnalyticsRate "WithAnalyticsRate(rate)")
            *   [WithConsumerCustomTag(tag, tagFn)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithConsumerCustomTag "WithConsumerCustomTag(tag, tagFn)")
            *   [WithDataStreams()](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithDataStreams "WithDataStreams()")
            *   [WithGroupID(groupID)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithGroupID "WithGroupID(groupID)")
            *   [WithProducerCustomTag(tag, tagFn)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithProducerCustomTag "WithProducerCustomTag(tag, tagFn)")
            *   [WithService(name)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithService "WithService(name)")

        *   [type ProducerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier "type ProducerMessageCarrier")
            *   [NewProducerMessageCarrier(msg)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#NewProducerMessageCarrier "NewProducerMessageCarrier(msg)")
            *   [(c) ForeachKey(handler)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier.ForeachKey "(c) ForeachKey(handler)")
            *   [(c) Set(key, val)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier.Set "(c) Set(key, val)")

*   [Source Files](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#section-sourcefiles)

![Image 43](https://pkg.go.dev/static/shared/icon/code_gm_grey_24dp.svg) Documentation [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#section-documentation "Go to Documentation")
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### Overview [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-overview "Go to Overview")

Package sarama provides functions to trace the IBM/sarama package ([https://github.com/IBM/sarama](https://github.com/IBM/sarama)).

### Index [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-index "Go to Index")

*   [func WrapAsyncProducer(saramaConfig *sarama.Config, p sarama.AsyncProducer, opts ...Option) sarama.AsyncProducer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapAsyncProducer)
*   [func WrapConsumer(c sarama.Consumer, opts ...Option) sarama.Consumer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapConsumer)
*   [func WrapConsumerGroupHandler(handler sarama.ConsumerGroupHandler, opts ...Option) sarama.ConsumerGroupHandler](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapConsumerGroupHandler)
*   [func WrapPartitionConsumer(pc sarama.PartitionConsumer, opts ...Option) sarama.PartitionConsumer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapPartitionConsumer)
*   [func WrapSyncProducer(saramaConfig *sarama.Config, producer sarama.SyncProducer, opts ...Option) sarama.SyncProducer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapSyncProducer)
*   [type ConsumerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier)
*       *   [func NewConsumerMessageCarrier(msg *sarama.ConsumerMessage) ConsumerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#NewConsumerMessageCarrier)

*       *   [func (c ConsumerMessageCarrier) ForeachKey(handler func(key, val string) error) error](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier.ForeachKey)
    *   [func (c ConsumerMessageCarrier) Set(key, val string)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier.Set)

*   [type Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option)
*   [type OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)
*       *   [func WithAnalytics(on bool) OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithAnalytics)
    *   [func WithAnalyticsRate(rate float64) OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithAnalyticsRate)
    *   [func WithConsumerCustomTag(tag string, tagFn func(msg *sarama.ConsumerMessage) any) OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithConsumerCustomTag)
    *   [func WithDataStreams() OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithDataStreams)
    *   [func WithGroupID(groupID string) OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithGroupID)
    *   [func WithProducerCustomTag(tag string, tagFn func(msg *sarama.ProducerMessage) any) OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithProducerCustomTag)
    *   [func WithService(name string) OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithService)

*   [type ProducerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier)
*       *   [func NewProducerMessageCarrier(msg *sarama.ProducerMessage) ProducerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#NewProducerMessageCarrier)

*       *   [func (c ProducerMessageCarrier) ForeachKey(handler func(key, val string) error) error](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier.ForeachKey)
    *   [func (c ProducerMessageCarrier) Set(key, val string)](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier.Set)

### Examples [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-examples "Go to Examples")

*   [WrapAsyncProducer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapAsyncProducer)
*   [WrapConsumer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapConsumer)
*   [WrapConsumerGroupHandler](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapConsumerGroupHandler)
*   [WrapSyncProducer](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapSyncProducer)

### Constants [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-constants "Go to Constants")

This section is empty.

### Variables [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-variables "Go to Variables")

This section is empty.

### Functions [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-functions "Go to Functions")

#### func [WrapAsyncProducer](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/producer.go#L108)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapAsyncProducer "Go to WrapAsyncProducer")

func WrapAsyncProducer(saramaConfig *[sarama](https://pkg.go.dev/github.com/IBM/sarama).[Config](https://pkg.go.dev/github.com/IBM/sarama#Config), p [sarama](https://pkg.go.dev/github.com/IBM/sarama).[AsyncProducer](https://pkg.go.dev/github.com/IBM/sarama#AsyncProducer), opts ...[Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option)) [sarama](https://pkg.go.dev/github.com/IBM/sarama).[AsyncProducer](https://pkg.go.dev/github.com/IBM/sarama#AsyncProducer)

WrapAsyncProducer wraps a sarama.AsyncProducer so that all produced messages are traced. It requires the underlying sarama Config so we can know whether or not successes will be returned. Tracing requires at least sarama.V0_11_0_0 version which is the first version that supports headers. Only spans of successfully published messages have partition and offset tags set.

Example [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapAsyncProducer "Go to Example")

Share Format Run

#### func [WrapConsumer](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/consumer.go#L66)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapConsumer "Go to WrapConsumer")

func WrapConsumer(c [sarama](https://pkg.go.dev/github.com/IBM/sarama).[Consumer](https://pkg.go.dev/github.com/IBM/sarama#Consumer), opts ...[Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option)) [sarama](https://pkg.go.dev/github.com/IBM/sarama).[Consumer](https://pkg.go.dev/github.com/IBM/sarama#Consumer)

WrapConsumer wraps a sarama.Consumer wrapping any PartitionConsumer created via Consumer.ConsumePartition.

Example [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapConsumer "Go to Example")

Share Format Run

#### func [WrapConsumerGroupHandler](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/consumer_group.go#L31)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapConsumerGroupHandler "Go to WrapConsumerGroupHandler")

func WrapConsumerGroupHandler(handler [sarama](https://pkg.go.dev/github.com/IBM/sarama).[ConsumerGroupHandler](https://pkg.go.dev/github.com/IBM/sarama#ConsumerGroupHandler), opts ...[Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option)) [sarama](https://pkg.go.dev/github.com/IBM/sarama).[ConsumerGroupHandler](https://pkg.go.dev/github.com/IBM/sarama#ConsumerGroupHandler)

WrapConsumerGroupHandler wraps a sarama.ConsumerGroupHandler causing each received message to be traced.

Example [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapConsumerGroupHandler "Go to Example")

Share Format Run

#### func [WrapPartitionConsumer](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/consumer.go#L31)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapPartitionConsumer "Go to WrapPartitionConsumer")

func WrapPartitionConsumer(pc [sarama](https://pkg.go.dev/github.com/IBM/sarama).[PartitionConsumer](https://pkg.go.dev/github.com/IBM/sarama#PartitionConsumer), opts ...[Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option)) [sarama](https://pkg.go.dev/github.com/IBM/sarama).[PartitionConsumer](https://pkg.go.dev/github.com/IBM/sarama#PartitionConsumer)

WrapPartitionConsumer wraps a sarama.PartitionConsumer causing each received message to be traced.

#### func [WrapSyncProducer](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/producer.go#L64)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WrapSyncProducer "Go to WrapSyncProducer")

func WrapSyncProducer(saramaConfig *[sarama](https://pkg.go.dev/github.com/IBM/sarama).[Config](https://pkg.go.dev/github.com/IBM/sarama#Config), producer [sarama](https://pkg.go.dev/github.com/IBM/sarama).[SyncProducer](https://pkg.go.dev/github.com/IBM/sarama#SyncProducer), opts ...[Option](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option)) [sarama](https://pkg.go.dev/github.com/IBM/sarama).[SyncProducer](https://pkg.go.dev/github.com/IBM/sarama#SyncProducer)

WrapSyncProducer wraps a sarama.SyncProducer so that all produced messages are traced.

Example [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#example-WrapSyncProducer "Go to Example")

Share Format Run

### Types [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#pkg-types "Go to Types")

#### type [ConsumerMessageCarrier](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L56)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier "Go to ConsumerMessageCarrier")

type ConsumerMessageCarrier struct {
	// contains filtered or unexported fields
}

A ConsumerMessageCarrier injects and extracts traces from a sarama.ConsumerMessage.

#### func [NewConsumerMessageCarrier](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L66)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#NewConsumerMessageCarrier "Go to NewConsumerMessageCarrier")

func NewConsumerMessageCarrier(msg *[sarama](https://pkg.go.dev/github.com/IBM/sarama).[ConsumerMessage](https://pkg.go.dev/github.com/IBM/sarama#ConsumerMessage)) [ConsumerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier)

NewConsumerMessageCarrier creates a new ConsumerMessageCarrier.

#### func (ConsumerMessageCarrier) [ForeachKey](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L71)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier.ForeachKey "Go to ConsumerMessageCarrier.ForeachKey")

func (c [ConsumerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier)) ForeachKey(handler func(key, val [string](https://pkg.go.dev/builtin#string)) [error](https://pkg.go.dev/builtin#error)) [error](https://pkg.go.dev/builtin#error)

ForeachKey iterates over every header.

#### func (ConsumerMessageCarrier) [Set](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L84)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier.Set "Go to ConsumerMessageCarrier.Set")

func (c [ConsumerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ConsumerMessageCarrier)) Set(key, val [string](https://pkg.go.dev/builtin#string))

Set sets a header.

#### type [Option](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L43)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#Option "Go to Option")

type Option interface {
	// contains filtered or unexported methods
}

Option describes options for the Sarama integration.

#### type [OptionFn](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L48)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn "Go to OptionFn")

type OptionFn func(*config)

OptionFn represents options applicable to WrapConsumer, WrapPartitionConsumer, WrapAsyncProducer and WrapSyncProducer.

#### func [WithAnalytics](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L77)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithAnalytics "Go to WithAnalytics")

func WithAnalytics(on [bool](https://pkg.go.dev/builtin#bool)) [OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)

WithAnalytics enables Trace Analytics for all started spans.

#### func [WithAnalyticsRate](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L89)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithAnalyticsRate "Go to WithAnalyticsRate")

func WithAnalyticsRate(rate [float64](https://pkg.go.dev/builtin#float64)) [OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)

WithAnalyticsRate sets the sampling rate for Trace Analytics events correlated to started spans.

#### func [WithConsumerCustomTag](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L100)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithConsumerCustomTag "Go to WithConsumerCustomTag")added in v2.5.0

func WithConsumerCustomTag(tag [string](https://pkg.go.dev/builtin#string), tagFn func(msg *[sarama](https://pkg.go.dev/github.com/IBM/sarama).[ConsumerMessage](https://pkg.go.dev/github.com/IBM/sarama#ConsumerMessage)) [any](https://pkg.go.dev/builtin#any)) [OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)

WithConsumerCustomTag enables calling a callback func to generate the value for a custom tag on wrapped consumers.

#### func [WithDataStreams](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L63)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithDataStreams "Go to WithDataStreams")

func WithDataStreams() [OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)

WithDataStreams enables the Data Streams monitoring product features: [https://www.datadoghq.com/product/data-streams-monitoring/](https://www.datadoghq.com/product/data-streams-monitoring/)

#### func [WithGroupID](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L70)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithGroupID "Go to WithGroupID")

func WithGroupID(groupID [string](https://pkg.go.dev/builtin#string)) [OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)

WithGroupID tags the produced data streams metrics with the given groupID (aka consumer group)

#### func [WithProducerCustomTag](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L107)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithProducerCustomTag "Go to WithProducerCustomTag")added in v2.5.0

func WithProducerCustomTag(tag [string](https://pkg.go.dev/builtin#string), tagFn func(msg *[sarama](https://pkg.go.dev/github.com/IBM/sarama).[ProducerMessage](https://pkg.go.dev/github.com/IBM/sarama#ProducerMessage)) [any](https://pkg.go.dev/builtin#any)) [OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)

WithCustomProducerSpanOptions enables calling a callback func to generate the value for a custom tag on wrapped producers.

#### func [WithService](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go#L55)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#WithService "Go to WithService")

func WithService(name [string](https://pkg.go.dev/builtin#string)) [OptionFn](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#OptionFn)

WithService sets the given service name for the intercepted client.

#### type [ProducerMessageCarrier](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L15)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier "Go to ProducerMessageCarrier")

type ProducerMessageCarrier struct {
	// contains filtered or unexported fields
}

A ProducerMessageCarrier injects and extracts traces from a sarama.ProducerMessage.

#### func [NewProducerMessageCarrier](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L51)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#NewProducerMessageCarrier "Go to NewProducerMessageCarrier")

func NewProducerMessageCarrier(msg *[sarama](https://pkg.go.dev/github.com/IBM/sarama).[ProducerMessage](https://pkg.go.dev/github.com/IBM/sarama#ProducerMessage)) [ProducerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier)

NewProducerMessageCarrier creates a new ProducerMessageCarrier.

#### func (ProducerMessageCarrier) [ForeachKey](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L25)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier.ForeachKey "Go to ProducerMessageCarrier.ForeachKey")

func (c [ProducerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier)) ForeachKey(handler func(key, val [string](https://pkg.go.dev/builtin#string)) [error](https://pkg.go.dev/builtin#error)) [error](https://pkg.go.dev/builtin#error)

ForeachKey iterates over every header.

#### func (ProducerMessageCarrier) [Set](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go#L36)[¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier.Set "Go to ProducerMessageCarrier.Set")

func (c [ProducerMessageCarrier](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#ProducerMessageCarrier)) Set(key, val [string](https://pkg.go.dev/builtin#string))

Set sets a header.

![Image 44](https://pkg.go.dev/static/shared/icon/insert_drive_file_gm_grey_24dp.svg) Source Files [¶](https://pkg.go.dev/github.com/DataDog/dd-trace-go/contrib/IBM/sarama/v2#section-sourcefiles "Go to Source Files")
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

[View all Source files](https://github.com/DataDog/dd-trace-go/tree/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama)

*   [consumer.go](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/consumer.go "consumer.go")
*   [consumer_group.go](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/consumer_group.go "consumer_group.go")
*   [dispatcher.go](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/dispatcher.go "dispatcher.go")
*   [headers.go](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/headers.go "headers.go")
*   [option.go](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/option.go "option.go")
*   [producer.go](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/producer.go "producer.go")
*   [sarama.go](https://github.com/DataDog/dd-trace-go/blob/contrib/IBM/sarama/v2.6.0/contrib/IBM/sarama/sarama.go "sarama.go")

 Click to show internal directories. 

 Click to hide internal directories. 

[Why Go](https://go.dev/solutions)[Use Cases](https://go.dev/solutions#use-cases)[Case Studies](https://go.dev/solutions#case-studies)

[Get Started](https://learn.go.dev/)[Playground](https://play.golang.org/)[Tour](https://tour.golang.org/)[Stack Overflow](https://stackoverflow.com/questions/tagged/go?tab=Newest)[Help](https://go.dev/help)

[Packages](https://pkg.go.dev/)[Standard Library](https://pkg.go.dev/std)[Sub-repositories](https://pkg.go.dev/golang.org/x)[About Go Packages](https://pkg.go.dev/about)

[About](https://go.dev/project)[Download](https://go.dev/dl/)[Blog](https://go.dev/blog)[Issue Tracker](https://github.com/golang/go/issues)[Release Notes](https://go.dev/doc/devel/release.html)[Brand Guidelines](https://go.dev/brand)[Code of Conduct](https://go.dev/conduct)

[Connect](https://www.twitter.com/golang)[Twitter](https://www.twitter.com/golang)[GitHub](https://github.com/golang)[Slack](https://invite.slack.golangbridge.org/)[r/golang](https://reddit.com/r/golang)[Meetup](https://www.meetup.com/pro/go)[Golang Weekly](https://golangweekly.com/)

![Image 45: Gopher in flight goggles](https://pkg.go.dev/static/shared/gopher/pilot-bust-1431x901.svg)
*   [Copyright](https://go.dev/copyright)
*   [Terms of Service](https://go.dev/tos)
*   [Privacy Policy](http://www.google.com/intl/en/policies/privacy/)
*   [Report an Issue](https://go.dev/s/pkgsite-feedback)
*   ![Image 46: System theme](https://pkg.go.dev/static/shared/icon/brightness_6_gm_grey_24dp.svg)![Image 47: Dark theme](https://pkg.go.dev/static/shared/icon/brightness_2_gm_grey_24dp.svg)![Image 48: Light theme](https://pkg.go.dev/static/shared/icon/light_mode_gm_grey_24dp.svg)
Theme Toggle

*   ![Image 49](https://pkg.go.dev/static/shared/icon/keyboard_grey_24dp.svg)
Shortcuts Modal

[![Image 50: Google logo](https://pkg.go.dev/static/shared/logo/google-white.svg)](https://google.com/)

Jump to
-------

![Image 51](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

Close

Keyboard shortcuts
------------------

![Image 52](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

**?**: This menu
**/**: Search site
**f** or **F**: Jump to
**y** or **Y**: Canonical URL

Close

go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)

Okay
