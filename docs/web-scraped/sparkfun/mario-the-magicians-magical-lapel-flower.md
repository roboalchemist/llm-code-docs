# Source: https://learn.sparkfun.com/tutorials/mario-the-magicians-magical-lapel-flower

## Introducing the Magical Lapel Flower

The day we found [Mario The Magician](http://www.mariothemagician.com/), we were enchanted! Mario is an NYC-based maker and street performer, and he is the subject of [Mario the Magician: Building Magic](http://www.youtube.com/watch?v=d04gzD3kdVY). His amazing delivery of Arduino-powered humor makes it look so easy, we had to approach him and ask for a lesson! Lucky for us, it turned out the love was mutual, and thus was born an endlessly entertaining guest tutorial. Not only does he provide step-by-step instructions to create his magical lapel flower: he also offers a great tutorial on the comedic timing that makes it shine!

### Recommended Reading

Here are a few foundational tutorials that might help you get started with your lapel flower:

- [What is an Arduino](https://learn.sparkfun.com/tutorials/what-is-an-arduino)
- [Working with Wire](https://learn.sparkfun.com/tutorials/working-with-wire)
- [How To Power a Project](https://learn.sparkfun.com/tutorials/how-to-power-a-project)

This tutorial uses the [SparkFun Pro Micro](https://www.sparkfun.com/products/11098). We recommend checking out the [Getting Started Tutorial](https://www.sparkfun.com/tutorials/338) for this product before you dive into this tutorial as it plays an integral role in making this project.

## Supplies

To create your own Magic Lapel Flower, you\'ll need the following parts:

The Pro Micro tells your flower when to rise and fall. The LiPo Battery powers everything up, and the LilyPad LiPower Power Supply is used to pump up your lightweight battery to 5v and to provide an on/off switch. The servo makes the flower move, and the heat shrink keeps the flower from wobbling around on the servo. The micro USB cable is for uploading code to your circuit, and the LiPo charger is for charging your battery, Last, but not least, the magnets secure the flower and circuit to your hoodie.

You will also need these other tools and supplies to follow along:

- Hook-up Wire
- Cardboard for the back of your servo and to mount your circuit
- Fake Flower from any craft store or dollar store
- Velcro to help cover the top of your servo motor
- Hot Glue
- Masking Tape
- Black Acrylic Paint (optional)

## Put it Together!

1.  The first thing you need to do is upload the drivers needed to operate your Pro- Micro. The process is painless. All the info is in the [quickstart guide](https://www.sparkfun.com/tutorials/338).

2.  Upload the sketch. (The code can be found [here](https://learn.sparkfun.com/tutorials/mario-the-magicians-magical-lapel-flower/code))

3.  Solder ground to ground and positive to RAW. Be sure to solder it to RAW and not to VCC, or you will fry your board! Also, keep your wires kind of tight, because this makes for a snug fit in the end.

[![alt text](//cdn.sparkfun.com/assets/e/7/a/6/6/514c7d2cce395f491a000000.jpeg)](//cdn.sparkfun.com/assets/e/7/a/6/6/514c7d2cce395f491a000000.jpeg)

4.  4\. Clip the female part of your servo cable, and solder red to positive, dark brown to negative, and light brown to pin 10.

[![alt text](//cdn.sparkfun.com/assets/3/6/4/a/d/514c7d2cce395fba1a000001.jpeg)](//cdn.sparkfun.com/assets/3/6/4/a/d/514c7d2cce395fba1a000001.jpeg)

1.  5\. Clip your flower to the desired size. I clipped mine to about 4 inches in length. Depending on how thick the wire is that holds the flower, drill a matching hole through your servo arm.

[![alt text](//cdn.sparkfun.com/assets/6/d/a/e/b/514c7d2cce395f7f17000000.jpeg)](//cdn.sparkfun.com/assets/6/d/a/e/b/514c7d2cce395f7f17000000.jpeg)

1.  6\. Push the stem through the drilled hole and bend it down. I used a pair of pliers to press it down.

[![alt text](//cdn.sparkfun.com/assets/d/3/0/9/f/514c7d2dce395f0f1a000000.jpeg)](//cdn.sparkfun.com/assets/d/3/0/9/f/514c7d2dce395f0f1a000000.jpeg)

1.  7\. Use a piece of shrink tubing to really secure the flower to the servo arm.

[![alt text](//cdn.sparkfun.com/assets/2/6/a/7/d/514c7d2cce395f411a000003.jpeg)](//cdn.sparkfun.com/assets/2/6/a/7/d/514c7d2cce395f411a000003.jpeg)

1.  8\. Cut the cardboard to fit on top of the servo. Hot glue it down. Hot glue two magnets to the cardboard. Cut out a second piece of cardboard, with holes for the magnets to poke through, and hot glue it on top of the first piece of cardboard. Cover the magnets and cardboard with a piece of masking tape.

[![alt text](//cdn.sparkfun.com/assets/5/5/c/f/6/514c7d2cce395fcc1a000000.jpeg)](//cdn.sparkfun.com/assets/5/5/c/f/6/514c7d2cce395fcc1a000000.jpeg)

1.  9\. Glue a piece of velcro to the other side of the servo.

[![alt text](//cdn.sparkfun.com/assets/6/3/4/2/7/514c7d2cce395f441a000000.jpeg)](//cdn.sparkfun.com/assets/6/3/4/2/7/514c7d2cce395f441a000000.jpeg)

1.  10\. Cut out a rectangle of cardboard that will fit the Pro-Micro and power supply. Same as the flower... glue two pieces of cardboard together, with holes in one of the pieces of cardboard for two magnets to poke through. Make sure the spacing of the magnets matches the spacing of the ones on the servo so they can connect.

[![alt text](//cdn.sparkfun.com/assets/8/5/9/2/5/514c7d2cce395fb119000000.jpeg)](//cdn.sparkfun.com/assets/8/5/9/2/5/514c7d2cce395fb119000000.jpeg)

1.  11\. Now is a good time to decide which side of your hoodie you want your flower on. The on/off switch should be closest to your zipper, so you can turn it on without fumbling deep into your hoodie. Mine is on my left "lapel." Hot glue the Pro-Micro and power supply first. No need for a lot of glue! I am always cautious when hot gluing electronics. Next, glue the tiny battery down, and you are complete!

[![alt text](//cdn.sparkfun.com/assets/f/7/3/e/6/514c7d2cce395fba1a000000.jpeg)](//cdn.sparkfun.com/assets/f/7/3/e/6/514c7d2cce395fba1a000000.jpeg)

1.  12\. I finished my project by painting the cardboard and tape with black acryclic paint.

[![alt text](//cdn.sparkfun.com/assets/6/f/4/6/e/514c7d2cce395f891d000000.jpeg)](//cdn.sparkfun.com/assets/6/f/4/6/e/514c7d2cce395f891d000000.jpeg)

1.  13\. You need to find a sweet spot on your hoodie for the flower, where you can fold over your zipper and cover the servo. Use the circuit as a guide. Connect the magnets so you can slide the servo without having to hold it. Once you find that spot, clip a small opening in the fabric of your hoodie, so the servo wire can slide through. Take a smaller piece of velcro, and place it on the edge of the servo. Put some hot glue on the small piece, fold your hoodie over to the servo ºs edge, and press down so the glue sticks. Connect your servo wire to the circuit. Before screwing the servo arm to the servo, turn it so the servo arm is all the way down to a wilted flower position.

## Code

This is the code that you\'ll want to upload to your Pro Mini to perform Mario\'s routine! Remeber to select the correct board (SparkFun Pro Micro 16MHz/5V) and the correct serial port. If you haven\'t done so already, follow the installation instructions found in the [Pro Micro Quickstart](https://www.sparkfun.com/tutorials/338)

    language:c
    #include <Servo.h>
    ///////COMEDY FLOWER BY: MARIO THE MAGICIAN///////////////////
    ////////MARCH 2013 www.mariothemagician.com //////////////////////
    /////////////////////////////////////////////////////////

    Servo Flower;
    ////////////////////////////////////////////////////
    void setup()
    
    void loop()
    

    ////////////////////////////////////////////////THE END/////////////////////////////////////////////////////////////////////////////////////

## Performance

Here\'s where the magic comes in!

Practice in front of a mirror for each comedy phase. Change the code if the timing is not right for you. Also, practice turning the circuit on without fumbling. I get better reactions when I know exactly where the ON switch is. I can talk and look someone in the eyes while I\'m turning the circuit on.

This small routine is a prime example of what my whole magic show is like. It\'s taken years for me to figure out how to entertain people with electronics. It feels so much more rewarding when you build something from scratch to make someone laugh!

[![Mario using his Magic on the Lapel Flower](https://cdn.sparkfun.com/r/600-600/assets/0/2/9/e/4/519ea632ce395f5b16000001.jpg)](https://cdn.sparkfun.com/assets/0/2/9/e/4/519ea632ce395f5b16000001.jpg)

*Mario using his magic on the lapel flower*