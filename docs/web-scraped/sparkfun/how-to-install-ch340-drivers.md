# Source: https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers

## Introduction

In this tutorial, we\'ll show you how to install CH340 drivers on multiple operating systems if you need. The driver should automatically install on most operating systems. However, there is a wide range of operating systems out there. You may need to install drivers the first time you connect the chip to your computer\'s USB port or when there are operating system updates.

*Watch a video walkthrough of this process*

[![CH340 Highlighted and Closeup](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/USB-to-serial_converter_CH340-closeup.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/USB-to-serial_converter_CH340-closeup.jpg)

### Required Materials

Depending on your application, the CH340 may be populated on a breakout or development board. Here are a few boards that use this particular USB-to-serial converter.

[![SparkFun Serial Basic Breakout - CH340C and USB-C](https://cdn.sparkfun.com/r/140-140/assets/parts/1/3/4/5/2/15096-SparkFun_Serial_Basic_Breakout_-_CH340C_and_USB-C-01.jpg)](https://www.sparkfun.com/sparkfun-serial-basic-breakout-ch340c-and-usb-c.html)

### [SparkFun Serial Basic Breakout - CH340C and USB-C](https://www.sparkfun.com/sparkfun-serial-basic-breakout-ch340c-and-usb-c.html) 

[ DEV-15096 ]

This SparkFun Serial Basic Breakout is an easy-to-use USB-to-Serial adapter based on the CH340G and takes advantage of the ha...

[ [\$10.50] ]

[![SparkFun RedBoard Qwiic](https://cdn.sparkfun.com/r/140-140/assets/parts/1/3/4/9/2/15123-SparkFun_RedBoard_Qwiic-01a.jpg)](https://www.sparkfun.com/sparkfun-redboard-qwiic.html)

### [SparkFun RedBoard Qwiic](https://www.sparkfun.com/sparkfun-redboard-qwiic.html) 

[ DEV-15123 ]

The SparkFun RedBoard Qwiic is an Arduino-compatible development board with a built in Qwiic connector, eliminating the need ...

[ [\$21.95] ]

[![SparkFun RedBoard Artemis](https://cdn.sparkfun.com/r/140-140/assets/parts/1/4/0/1/9/15444-SparkFun_RedBoard_Artemis-01.jpg)](https://www.sparkfun.com/sparkfun-redboard-artemis.html)

### [SparkFun RedBoard Artemis](https://www.sparkfun.com/sparkfun-redboard-artemis.html) 

[ DEV-15444 ]

The RedBoard Artemis takes the incredibly powerful Artemis module from SparkFun and wraps it up in an easy to use and familia...

[ [\$24.95] ]

[![SparkFun RedBoard Artemis Nano](https://cdn.sparkfun.com/r/140-140/assets/parts/1/4/0/1/8/15443-SparkFun_RedBoard_Artemis_Nano-05.jpg)](https://www.sparkfun.com/sparkfun-redboard-artemis-nano.html)

### [SparkFun RedBoard Artemis Nano](https://www.sparkfun.com/sparkfun-redboard-artemis-nano.html) 

[ DEV-15443 ]

The RedBoard Artemis Nano is a miniature extremely versatile implementation of the Artemis module.

[ [\$19.95] ]

[![SparkFun Servo pHAT for Raspberry Pi](https://cdn.sparkfun.com/r/140-140/assets/parts/1/3/8/2/7/15316-SparkFun_Servo_pHAT_for_Raspberry_Pi-01b.jpg)](https://www.sparkfun.com/sparkfun-servo-phat-for-raspberry-pi.html)

### [SparkFun Servo pHAT for Raspberry Pi](https://www.sparkfun.com/sparkfun-servo-phat-for-raspberry-pi.html) 

[ DEV-15316 ]

The SparkFun Servo pHAT for Raspberry Pi allows your Raspberry Pi to control up to 16 servo motors in a straightforward manne...

[ [\$13.95] ]

[![SparkFun Serial Basic Breakout - CH340G](https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/8/8/8/14050-01.jpg)](https://www.sparkfun.com/sparkfun-serial-basic-breakout-ch340g.html)

### [SparkFun Serial Basic Breakout - CH340G](https://www.sparkfun.com/sparkfun-serial-basic-breakout-ch340g.html) 

[ DEV-14050 ]

The SparkFun Serial Basic Breakout is an easy-to-use USB-to-Serial adapter based on the CH340G IC from WCH.

[ [\$9.25] ]

[![SparkFun RedBoard Artemis ATP](https://cdn.sparkfun.com/r/140-140/assets/parts/1/4/0/1/7/15442-SparkFun_RedBoard_Artemis_ATP-05.jpg)](https://www.sparkfun.com/sparkfun-redboard-artemis-atp.html)

### [SparkFun RedBoard Artemis ATP](https://www.sparkfun.com/sparkfun-redboard-artemis-atp.html) 

[ DEV-15442 ]

The RedBoard Artemis ATP has 48 GPIO and this board breaks out all of them in an Arduino Mega format.

[ [\$30.95] ]

### Accessories

You\'ll also need the correct USB cable to connect the board to your computer. You may need a jumper wires and a breadboard for prototyping.

[![USB Micro-B Cable - 6 Foot](https://cdn.sparkfun.com/r/140-140/assets/parts/4/5/5/8/10215-01.jpg)](https://www.sparkfun.com/usb-micro-b-cable-6-foot.html)

### [USB Micro-B Cable - 6 Foot](https://www.sparkfun.com/usb-micro-b-cable-6-foot.html) 

[ CAB-10215 ]

USB 2.0 type A to Micro-B 5-pin. This is a new, smaller connector for USB devices. Micro-B connectors are about half the heig...

[ [\$6.50] ]

[![USB 3.1 Cable A to C - 3 Foot](https://cdn.sparkfun.com/r/140-140/assets/parts/1/2/9/7/2/14743-USB_3.1_Cable_A_to_C_-_3_Foot-01.jpg)](https://www.sparkfun.com/usb-3-1-cable-a-to-c-3-foot.html)

### [USB 3.1 Cable A to C - 3 Foot](https://www.sparkfun.com/usb-3-1-cable-a-to-c-3-foot.html) 

[ CAB-14743 ]

USB C is fantastic. But until we have converted all our hubs, chargers, and ports over to USB C this is the cable you\'re goin...

[ [\$7.95] ]

[![Jumper Wires Premium 6\" M/M Pack of 10](https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/8/1/JumperWire-Male-01-L.jpg)](https://www.sparkfun.com/jumper-wires-premium-6-m-m-pack-of-10.html)

### [Jumper Wires Premium 6\" M/M Pack of 10](https://www.sparkfun.com/jumper-wires-premium-6-m-m-pack-of-10.html) 

[ PRT-08431 ]

This is a SparkFun exclusive! These are 155mm long, 26 AWG jumpers with male connectors on both ends. Use these to jumper fro...

[ [\$5.25] ]

### Suggested Reading

Before you begin this tutorial, you should have the Arduino IDE installed on your computer. Check out our [Installing Arduino](https://learn.sparkfun.com/tutorials/installing-arduino) tutorial for a step by step guide.

[](https://learn.sparkfun.com/tutorials/serial-communication)

### Serial Communication 

Asynchronous serial communication concepts: packets, signal levels, baud rates, UARTs and more!

[](https://learn.sparkfun.com/tutorials/connector-basics)

### Connector Basics 

Connectors are a major source of confusion for people just beginning electronics. The number of different options, terms, and names of connectors can make selecting one, or finding the one you need, daunting. This article will help you get a jump on the world of connectors.

[](https://learn.sparkfun.com/tutorials/what-is-an-arduino)

### What is an Arduino? 

What is this \'Arduino\' thing anyway? This tutorials dives into what an Arduino is and along with Arduino projects and widgets.

[](https://learn.sparkfun.com/tutorials/logic-levels)

### Logic Levels 

Learn the difference between 3.3V and 5V devices and logic levels.

[](https://learn.sparkfun.com/tutorials/terminal-basics)

### Serial Terminal Basics 

This tutorial will show you how to communicate with your serial devices using a variety of terminal emulator applications.

Alright, let\'s get to work! You can visit the next section to learn more about the CH340 and why you need the drivers, or you can skip straight to the operating system of your choice!

## Meet the CH340

There are a few variants of the CH340. The CH340**G** requires an external crystal oscillator to function while the CH340**C** includes a built-in crystal oscillator. However, both function in the same fashion - they convert USB data for a serial UART and vice versa!

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [![CH340G Highlighted](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/14050-SparkFun-UART-to-Serial-CH340G.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/14050-SparkFun-UART-to-Serial-CH340G.jpg)   [![CH340C Highlighted](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/15096-SparkFun_UART-to-Serial_Basic_Breakout_CH340C.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/15096-SparkFun_UART-to-Serial_Basic_Breakout_CH340C.jpg)
  *CH340G*                                                                                                                                                                                                                  *CH340C*
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

The CH340 is also populated on development boards such as the [RedBoard Qwiic](https://www.sparkfun.com/products/15123) to upload code using the Arduino IDE.

[![RedBoard Qwiic w/ CH340 Highlighted](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/15123-SparkFun_RedBoard_Qwiic-04-CH340.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/15123-SparkFun_RedBoard_Qwiic-04-CH340.jpg)

## Drivers (If You Need Them)

The CH340 has been tested on:

- Windows 7/10
- Mac OSX
  - v10.10.5 (Yosemite)
  - v10.11.6 (El Capitan)
  - v10.13.0 (High Sierra)
  - v10.14.5 (Mojave)
- Linux
  - Raspbian Stretch (11-13-2018 release) for the Raspberry Pi
  - Raspbian Buster (2019-07-10 release) for the Raspberry Pi
  - Ubuntu v18.04.2, 64-bit

These operating systems have the CDC drivers pre-installed, which means you shouldn\'t need to install any extra software. However, there are a wide range of operating systems out there, so if you run into driver problems, you can get the archived drivers linked below:

- [Windows (EXE)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER.EXE) \-- Driver executable
- [Windows (ZIP)](https://cdn.sparkfun.com/assets/learn_tutorials/5/9/7/Windows-CH340-Driver.zip) : Driver v3.4 (2016-09-27)
- [Mac (ZIP)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER_MAC.ZIP) : Driver v1.5 (2018-07-04)
- [Linux (ZIP)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER_LINUX.ZIP) : Driver v1.5 (2018-03-18)

The CH340 is made by WCH. You can find the latest version of their drivers in their [English translated website](http://www.wch-ic.com/downloads/CH341SER_ZIP.html).

[WCH: CH340 Drivers (English Page)](http://www.wch-ic.com/downloads/CH341SER_ZIP.html)

**Note:** At the time of writing, you were only able to find the latest version of their drivers from their [website in Mandarin](http://www.wch.cn/download/CH341SER_ZIP.html). If you use a Chrome web browser, you had the option to have the web page translated. However, you now have the option of browsing the WCH website in either language. For those interested in heading to the Mandirin side, you can click on the button below.\
\

[WCH: CH340 Drivers (Mandirin page)](http://www.wch.cn/downloads/CH341SER_ZIP.html)

### Updating Drivers

If you have the older CH340 drivers installed, you may need to update them. In the following sections, are the instructions for doing so on each of the tested operating systems.

## Windows 7/10

**Note for Educators:** You will need to obtain administrative privileges from your network or IT administrator in order to install these drivers. Make sure to test the drivers before class and set aside some time with students in the classroom when installing the drivers.

[Download](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER.EXE) and run the executable.

[CH341SER (EXE)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER.EXE)

Click the \"Uninstall\" button first. Then click on the \"Install\" button.

[![Win 10 Installation Screenshot](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH340-Win10_Uninstall-Install.PNG)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH340-Win10_Uninstall-Install.PNG)\
*Windows CH340 Driver Installation*

------------------------------------------------------------------------

### Driver Verification [for Windows]

To verify that your driver is working, you should see a difference in the following pictures after plugging the CH340 to a USB port.

#### Device Manager

To check that the CH340 enumerates to a COM port, you can open the device manager. You can click the **Start** or [⊞] (**Windows**) button and type \"*device manager* to quickly search for the application.

[![searching for device manager](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Windows-Searching_for_device_manager.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Windows-Searching_for_device_manager.jpg)

*Using the search on Windows 10 to look for the device manager.*

**Note:** On Windows 10, the quick search function is picky on the spelling of the application you are searching for. For example, you may get results using \"*devi*\" and none for \"*device*\".

After opening the device manager, you will need to open the **Ports (COM & LPT)** tree. The CH340 should show up as **USB-SERIAL CH340 (COM##)**. Depending on your computer, the COM port may show up as a different number.

[![CH340 in the Device Manager](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Windows_Device-Manager-COM-Port-CH340.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Windows_Device-Manager-COM-Port-CH340.jpg)

*Screenshot of Window 10 Device Manager with a CH340 displayed on COM123. Click to enlarge.*

#### Arduino IDE

Alternatively, if you have the [Arduino IDE installed](https://learn.sparkfun.com/tutorials/installing-arduino-ide), you should also see a change in the number of available COM Ports (you may need to restart the Arduino IDE for the board to populate). Without the CH340 connected to your computer, click on **Tools** \> **Port**. Take note of the **Serial Ports** available.

[![Arduino IDE COM Ports](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Arduino-IDE-Serial-COM-Ports.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Arduino-IDE-Serial-COM-Ports.jpg)

Connect the CH340 to your computer\'s USB port. Click on somewhere else on the screen for the menu to refresh itself. Then head back to the menu by clicking on **Tools** \> **Port**. A new COM port should pop up. By process of elimination, the CH340 should have enumerated to the new COM port! Feel free to click on the COM port to select if you are uploading code to a microcontroller. Depending on your computer, the COM port may show a different number.

[![Arduino IDE COM Ports CH340](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Arduino-IDE-Serial-COM-Ports-CH340.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Arduino-IDE-Serial-COM-Ports-CH340.jpg)

\

#### Serial Loop Back Test

You can also verify if the USB-to-serial converter is working by doing a serial loop back test or [echo test](https://learn.sparkfun.com/tutorials/terminal-basics/connecting-to-your-device). If you are using the breakout board, you can add a jumper between the Tx and Rx to try and echo a character in a terminal program. For more information, try checking out the [Hardware Test for the serial basic hookup guide](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test).

[![Serial Loop Back Test](https://cdn.sparkfun.com/assets/learn_tutorials/8/3/7/USB-C_and_Jumper_Wire.jpg)](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test)

*[Serial Loop Back Test with a Jumper Wire](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test)*

## Mac OSX

**Note for Educators:** You will need to obtain administrative privileges from your network or IT administrator in order to install these drivers. Make sure to test the drivers before class and set aside some time with students in the classroom when installing the drivers.

[] **Warning:** If you have a **Mac OS X v10.12+ (i.e. High Sierra, Mojave)**, your computer may restart as soon as you insert the CH340 to your computer. We recommend that you uninstall the old drivers first and follow these directions below before connecting the CH340 to your COM port. If you observe this issue, you will need to unplug the CH340 from your USB port, restart the computer, and follow the steps below to reinstall the latest drivers.

Open the [Terminal](https://learn.sparkfun.com/tutorials/terminal-basics/command-line-windows-mac-linux) program by selecting **Go** \> **Applications**.

[![Applications Folder](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple_Mac-OSX_Applications.jpeg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple_Mac-OSX_Applications.jpeg)

Select and open the Terminal program under **Applications** \> **Utilities** \> **Terminal**.

[![Open the Terminal Window](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-Program.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-Program.jpg)

**Note:** You can also search with Spotlight by pressing [⌘] (**Command**) + [space bar] (**Space Bar**). Then type \"Terminal\" and double-click the search result.\
\
If you are still unsure of how to access the Terminal, [watch this video](https://www.youtube.com/watch?v=zw7Nd67_aFw) or read this [Apple support article](https://support.apple.com/guide/terminal/open-or-quit-terminal-apd5265185d-f365-44cb-8b09-71a064a42125/mac).

You\'ll need to move to the directory where the **\*.kext** files are stored.

- For [Mac OSX v10.9+](https://simple.wikipedia.org/wiki/MacOS#Versions), you will need to use this command:

      language:bash
      cd /Library/Extensions

- For [Mac OSX v10.8 and below](https://simple.wikipedia.org/wiki/MacOS#Versions), you will need to use this command:

      language:bash
      cd /System/Library/Extensions

In this case, we will be using Mac OSX v10.13, so we will need to use the first command.

[![change directory to where the drivers are located](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Change-Directory-Mac-OSX-Command-Line-CH340.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Change-Directory-Mac-OSX-Command-Line-CH340.jpg)

To check to see if the CH340 driver is in the correct path, use the following command to list the contents of the folder.

    language:bash
    ls

To look for CH340 driver files (i.e. **usb.kext** or **usbserial.kext**) in the path, you could use the following command.

    language:bash
    ls | grep usb

You should see something similar to the output below after using the commands.

[![KEXT file path](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Change-Directory-Mac-OSX-Command-Line-CH340-List-kext.jpeg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Change-Directory-Mac-OSX-Command-Line-CH340-List-kext.jpeg)

If you have found the file in the path, you will need to run each of the following commands in the CLI/Terminal to remove old CH340 drivers. In this case, there was only the **usbserial.kext** file but it does not hurt to run both commands. Make sure to have administrative privileges to ensure that the drivers are removed.

    language:bash
    sudo rm -rf /Library/Extensions/usb.kext
    sudo rm -rf /Library/Extensions/usbserial.kext

Check if the old drivers were removed in the paths by using the `ls` command with your respective OS version. You will notice that the **\*.kext** file is removed from the respective paths. In this case, the **usbserial.kext** was removed from Mac OSX High Sierra.

    language:bash
    ls

[![CH340 Drivers Removed](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Change-Directory-Mac-OSX-Command-Line-CH340-List-kext-removed.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Change-Directory-Mac-OSX-Command-Line-CH340-List-kext-removed.jpg)

[Download](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER_MAC.ZIP) and extract the folder.

[CH341SER_MAC (PKG)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER_MAC.ZIP)

Then, open the \"**\*.pkg**\" file from the unzipped folder and follow the instructions. You\'ll need to restart your computer for the changes to take effect.

[![Mac OSX Installation Screenshot](https://cdn.sparkfun.com/r/500-500/assets/learn_tutorials/8/4/4/CH340-MacOSX_pkg_Install.png)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH340-MacOSX_pkg_Install.png)\

*Mac OSX CH340 Driver Installation File*

**Heads up!** Depending on your settings, you may need to adjust your **Security & Privacy** settings to allow the CH340 drivers to function. A window may pop up indicating that the drivers have been block as shown in the image below.\
\

[![CH340 Driver Blocked by Mac](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-System-Extension-Blocked-Ch340.jpeg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-System-Extension-Blocked-Ch340.jpeg)

\
\

*Click on image for a closer look.*

\
If you receive a window that indicates that the system extension is blocked, you\'ll need to open a search with Spotlight by pressing [⌘] (**Command**) + [space bar] (**Space Bar**). Type **Security & Privacy** and click on the \"**Allow**\" button to enable the CH340 drivers.\
\

[![Allowing CH340 Drivers](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-allow-install-ch340-drivers-security-privacy.jpeg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-allow-install-ch340-drivers-security-privacy.jpeg)

------------------------------------------------------------------------

### Driver Verification [for Macs]

To verify that your driver is working, you should see a difference in the following pictures after plugging the CH340 to a USB port.

#### Command Line

Open the Terminal by heading to **Applications** \> **Utilities** \> **Terminal** if the program is not open yet.

[![Open Terminal Program](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-Program.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-Program.jpg)

**Note:** Press [⌘] (**Command**) + [space bar] (**Space Bar**) to launch Spotlight and type \"Terminal,\" then double-click the search result as explained above.\
\
If you are still unsure of how to access the Terminal, [watch this video](https://www.youtube.com/watch?v=zw7Nd67_aFw) or read this [Apple support article](https://support.apple.com/guide/terminal/open-or-quit-terminal-apd5265185d-f365-44cb-8b09-71a064a42125/mac).

Then run the following command:

    language:bash
    ls /dev/cu* 

A list of devices connected to your Mac\'s COM ports will be displayed as a result. Assuming that the CH340 is not connected to your computer, you should see something similar to the image below.

[![List of Devices Connected](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-COM.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-COM.jpg)

Connect the CH340 to one of your Mac\'s COM ports. Check for the following changes (your board may show up under a different device name). The CH340 should show up as **/dev/cu.wchusbserial\*\*\*\*\***. Depending on your computer, the COM port may show up as a different number.

[![List of Devices Connected with the CH340](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-COM-CH340.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple-Mac-OSX-Terminal-COM-CH340.jpg)

*Screenshot of Mac OSX terminal with CH340 on cu.wchusbserialfd1410. Click to enlarge.*

#### Arduino IDE

Alternatively, if you have the [Arduino IDE installed](https://learn.sparkfun.com/tutorials/installing-arduino-ide), you should also see a change in the number of available COM Ports (you may need to restart the Arduino IDE for the board to populate). Without the CH340 connected to your computer, click on **Tools** \> **Port**. Take note of the **Serial Ports** available.

[![Available Serial Ports on Arduino IDE](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/9/0/8/Apple_Mac-OSX-Arduino_IDE_COM_Ports.jpeg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple_Mac-OSX-Arduino_IDE_COM_Ports.jpeg)

Connect the CH340 to your computer\'s USB port. Click on somewhere else on the screen for the menu to refresh itself. Then head back to the menu by clicking on **Tools** \> **Port**. A new COM port should pop up. By process of elimination, the CH340 should have enumerated to the new COM port! Feel free to click on the COM port to select if you are uploading code to a microcontroller. Depending on your computer, the COM port may show a different number.

[![Available Serial Ports w/ CH340 on Arduino IDE](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/9/0/8/Apple_Mac-OSX-Arduino_IDE_COM_Ports_CH340.jpeg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Apple_Mac-OSX-Arduino_IDE_COM_Ports_CH340.jpeg)

#### Serial Loop Back Test

You can also verify if the USB-to-serial converter is working by doing a serial loop back test or [echo test](https://learn.sparkfun.com/tutorials/terminal-basics/connecting-to-your-device). If you are using the breakout board, you can add a jumper between the Tx and Rx to try and echo a character in a terminal program. For more information, try checking out the [Hardware Test for the serial basic hookup guide](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test).

[![Serial Loop Back Test](https://cdn.sparkfun.com/assets/learn_tutorials/8/3/7/USB-C_and_Jumper_Wire.jpg)](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test)

*[Serial Loop Back Test with a Jumper Wire](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test)*

## Linux

**Note for Educators:** You will need to obtain administrative privileges from your network or IT administrator in order to install these drivers. Make sure to test the drivers before class and set aside some time with students in the classroom when installing the drivers.

### Raspbian [for Raspberry Pi]

Run the following commands in the CLI/Terminal when using Raspbian on a Raspberry Pi. After updating, the latest CH340 should be installed!

    language:bash
    sudo apt-get update
    sudo apt-get upgrade

### Other Linux Distributions

Here is a downloadable [**\*.ZIP** of standard CH340 drivers](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER_LINUX.ZIP) for Linux.

[Download CH340 Drivers for Linux (ZIP)](https://cdn.sparkfun.com/assets/learn_tutorials/8/4/4/CH341SER_LINUX.ZIP)

There are some reported cases of serial communication failure when using the factory drivers in Linux. If you encounter this problem, you can try installing patched drivers [as explained in this forum post](https://forum.sparkfun.com/viewtopic.php?p=204408#p204408). Here are the steps (to run in the command line):

- Plug and unplug your CH340 device from the USB port
- Type `dmesg` to see what has happened
  - The expected output (shows \"ch341\") should have the following in the recent log:

``` bash
[  xxx] ch341-uart ttyUSB0: ch341-uart converter now disconnected from ttyUSB0
[  xxx] ch341 3-2:1.0: device disconnected
```

- Download the [patched drivers repository](https://github.com/juliagoda/CH341SER) and unzip the files\
  \

  ::: 
  [GitHub Linux Patched CH340 Drivers](https://github.com/juliagoda/CH341SER)
  :::

  \
- `cd` into the directory where the files are saved
- `make clean`
- `make`
- `sudo make load`
- `sudo rmmod ch341` to uninstall the broken driver
- `lsmod | grep ch34` to list what modules are currently installed
- Plug and unplug your CH340 device again on the USB port
- `dmesg`
  - Expected output (should show \"ch34x\" now):

``` bash
[  xxx] ch34x ttyUSB0: ch34x converter now disconnected from ttyUSB0
[  xxx] ch34x 3-2:1.0: device disconnected
```

Depending on your root permissions, you may need to configure the serial port with the following two commands. Make sure to adjust the `$username` with respect to the user ID that is currently logged in.

    language:bash
    sudo usermod -a -G dialout $username 
    sudo chmod a+rw /dev/ttyUSB0

**Heads up!** Depending on how the CH340 enumerated on your computer, the `/dev/ttyUSB0` may be different. Try using `ls` command as explained in the Driver Verification if you have issues configuring the serial port settings and adjusting the port as necessary.

------------------------------------------------------------------------

### Driver Verification [for Linux]

#### Command Line

Plug the CH340 back to your computer\'s USB port. Then run the following command in the CLI/Terminal on any Linux distribution. Check for the following changes (your board may show up under a different device name).

    language:bash
    ls /dev/ttyUSB*

The serial port that CH340 is connected to should pop up as a result.

[![Raspbian CLI Command Entry](https://cdn.sparkfun.com/r/500-500/assets/learn_tutorials/8/4/4/Raspbian_Stretch_Device_Check.png)](https://cdn.sparkfun.com/r/500-500/assets/learn_tutorials/8/4/4/Raspbian_Stretch_Device_Check.png)\
*Screenshot of Raspberry Pi CLI with the CH340 on ttyUSB0. Click to enlarge*

#### Arduino IDE

Alternatively, if you have the [Arduino IDE installed](https://learn.sparkfun.com/tutorials/installing-arduino-ide), you should also see a change in the number of available COM Ports (you may need to restart the Arduino IDE for the board to populate). Without the CH340 connected to your computer, click on **Tools** \> **Port**. Depending on the Linux flavor that you have, the **Ports** may not open to display any serial ports. Take note of the **Serial Ports** available if it opens up.

[![Linux Ubuntu Arduino COM Ports](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Linux_Ubuntu_Arduino_IDE_COM-ports.png)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Linux_Ubuntu_Arduino_IDE_COM-ports.png)

Connect the CH340 to your computer\'s USB port. Click on somewhere else on the screen for the menu to refresh itself. Then head back to the menu by clicking on **Tools** \> **Port**. A new COM port should pop up. By process of elimination, the CH340 should have enumerated to the new COM port! Feel free to click on the COM port to select if you are uploading code to a microcontroller. Depending on your computer, the COM port may show a different number.

[![Linux Ubuntu Arduino COM Ports CH340](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Linux_Ubuntu_Arduino_IDE_COM-ports-CH340.png)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Linux_Ubuntu_Arduino_IDE_COM-ports-CH340.png)

#### Serial Loop Back Test

You can also verify if the USB-to-serial converter is working by doing a serial loop back test or [echo test](https://learn.sparkfun.com/tutorials/terminal-basics/connecting-to-your-device). If you are using the breakout board, you can add a jumper between the Tx and Rx to try and echo a character in a terminal program. For more information, try checking out the [Hardware Test for the serial basic hookup guide](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test).

[![Serial Loop Back Test](https://cdn.sparkfun.com/assets/learn_tutorials/8/3/7/USB-C_and_Jumper_Wire.jpg)](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test)

*[Serial Loop Back Test with a Jumper Wire](https://learn.sparkfun.com/tutorials/sparkfun-serial-basic-ch340c-hookup-guide#hardware-test)*

## Troubleshooting

### COM Port is Not Showing Up as CH340 [Windows]

We have had a few reports on Windows 10 where the driver will automatically install and the board will show up under a new COM port as **USB-Serial CH340**, but with a different device name. However, the board cannot be accessed on the Arduino IDE. Others have had issues where the installation process hangs.

Based on the customer experiences, this might be specific to the manufacturer and are usually isolated cases. Users seem to be able to eventually get the board recognized by a combination of giving the computer time to finish the install (*close to 20 min*), plugging the board back in multiple times, reinstalling the drivers, and/or resetting the computer multiple times (*repeat both steps*).

### COM Port Not Available [Windows, Mac, and Linux]

If you installed the drivers for the CH340 on your computer but have issues connecting via serial terminal or uploading code using the Arduino IDE, there may be an issue with your user settings preventing you from using the CH340. You may receive an `avrdude: ser_open(): can't open device` error similar to the output shown below.

    language:bash
    avrdude: ser_open(): can't open device "/dev/ttyUSB0": No such file or directory

In this case, the error appeared on a Linux when trying to upload code due to the drivers not being installed and the root permissions.

[![Arduino ser_open() error](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Linux_Failed_Arduino-IDE_Upload_CH340.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/9/0/8/Linux_Failed_Arduino-IDE_Upload_CH340.jpg)

Make sure to check your configuration settings and ensure that the serial port for the CH340 is enabled for your OS. You may also need to reinstall the drivers for your operating system.

### USB Cable [Windows, Mac, and Linux]

Certain USB cables are for power only and may not have the data lines available. Try checking your USB cable and ensure that the data lines are intact.

### Issues Uploading at Fast Baud Rates

If you are uploading to certain boards like the Apollo3 on the Artemis development boards with fast baud rates, there are some platforms (Linux flavors) where the standard CH340 USB to serial drivers don\'t operate well at speeds higher than **115200**. So if you run into upload problems, consider reducing the upload speed. For more information about upload issues, see [this forum post](https://forum.sparkfun.com/viewtopic.php?f=153&t=49585&start=30) and consider upgrading with [these drivers for Mac OSX](https://github.com/adrianmihalko/ch340g-ch34g-ch34x-mac-os-x-driver) or [these for Linux](https://github.com/juliagoda/CH341SER).