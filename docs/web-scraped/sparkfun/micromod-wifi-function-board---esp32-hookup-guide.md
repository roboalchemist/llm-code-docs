# Source: https://learn.sparkfun.com/tutorials/micromod-wifi-function-board---esp32-hookup-guide

## Introduction

The [SparkFun MicroMod ESP32 Function Board](https://www.sparkfun.com/products/18430) adds additional wireless options to MicroMod Processor Boards that do not have that capability. This special function board acts as a coprocessor that takes advantage of Espressif\'s ESP32 WROOM to add WiFi and Bluetooth® to your applications.

[![SparkFun MicroMod WiFi Function Board - ESP32](https://cdn.sparkfun.com/r/600-600/assets/parts/1/7/8/5/7/18430-SparkFun_MicroMod_ESP32_Function_Board-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-wifi-function-board-esp32.html)

### [SparkFun MicroMod WiFi Function Board - ESP32](https://www.sparkfun.com/sparkfun-micromod-wifi-function-board-esp32.html) 

[ WRL-18430 ]

The SparkFun MicroMod ESP32 Function Board adds additional wireless options to MicroMod Processor Boards that do not have tha...

[\$14.95] [ [\$8.97] ]

### Required Materials

To follow along with this tutorial, you will need the following materials at a minimum. You may not need everything though depending on what you have. Add it to your cart, read through the guide, and adjust the cart as necessary.

[![Reversible USB A to C Cable - 2m](https://cdn.sparkfun.com/r/140-140/assets/parts/1/3/9/8/3/15424-Reversible_USB_A_to_C_Cable_-_2m-01.jpg)](https://www.sparkfun.com/reversible-usb-a-to-c-cable-2m.html)

### [Reversible USB A to C Cable - 2m](https://www.sparkfun.com/reversible-usb-a-to-c-cable-2m.html) 

[ CAB-15424 ]

These 2m cables have minor modifications that allow them to be be plugged into their ports regardless of orientation on the U...

[ [\$10.50] ]

[![SparkFun MicroMod Artemis Processor](https://cdn.sparkfun.com/r/140-140/assets/parts/1/5/1/3/0/16401-SparkFun_MicroMod_Artemis_Processor-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-artemis-processor.html)

### [SparkFun MicroMod Artemis Processor](https://www.sparkfun.com/sparkfun-micromod-artemis-processor.html) 

[ DEV-16401 ]

Featuring the Artemis Module, this processor is capable of machine learning, Bluetooth, I2C, GPIO, PWM, SPI & packaged to fit...

[ [\$17.50] ]

[![SparkFun MicroMod WiFi Function Board - ESP32](https://cdn.sparkfun.com/r/140-140/assets/parts/1/7/8/5/7/18430-SparkFun_MicroMod_ESP32_Function_Board-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-wifi-function-board-esp32.html)

### [SparkFun MicroMod WiFi Function Board - ESP32](https://www.sparkfun.com/sparkfun-micromod-wifi-function-board-esp32.html) 

[ WRL-18430 ]

The SparkFun MicroMod ESP32 Function Board adds additional wireless options to MicroMod Processor Boards that do not have tha...

[\$14.95] [ [\$8.97] ]

[![SparkFun MicroMod Main Board - Single](https://cdn.sparkfun.com/r/140-140/assets/parts/1/8/0/4/2/18575-SparkFun_MicroMod_Main_Board_-_Single-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-main-board-single-dev-18575.html)

### [SparkFun MicroMod Main Board - Single](https://www.sparkfun.com/sparkfun-micromod-main-board-single-dev-18575.html) 

[ DEV-18575 ]

The MicroMod Main Board is a specialized carrier board that allows you to interface a MicroMod Processor Board with a single ...

**Retired**

#### MicroMod Main Board

To hold the processor board and function board, you will need one Main board. Depending on your application, you may choose to have one or two additional function boards.

[![SparkFun MicroMod Main Board - Single](https://cdn.sparkfun.com/r/140-140/assets/parts/1/8/0/4/2/18575-SparkFun_MicroMod_Main_Board_-_Single-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-main-board-single-dev-18575.html)

### [SparkFun MicroMod Main Board - Single](https://www.sparkfun.com/sparkfun-micromod-main-board-single-dev-18575.html) 

[ DEV-18575 ]

The MicroMod Main Board is a specialized carrier board that allows you to interface a MicroMod Processor Board with a single ...

**Retired**

[![SparkFun MicroMod Main Board - Double](https://cdn.sparkfun.com/r/140-140/assets/parts/1/8/0/4/3/18576-SparkFun_MicroMod_Main_Board_-_Double-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-main-board-double-dev-18576.html)

### [SparkFun MicroMod Main Board - Double](https://www.sparkfun.com/sparkfun-micromod-main-board-double-dev-18576.html) 

[ DEV-18576 ]

The MicroMod Main Board is a specialized carrier board that allows you to interface a MicroMod Processor Board with up to two...

**Retired**

#### MicroMod Processor Board

There are a variety of MicroMod Processor Boards available to choose from. You will probably want to avoid having the same Processor and Function Board since there is an ESP32 on both types of boards.

[![SparkFun MicroMod nRF52840 Processor](https://cdn.sparkfun.com/r/140-140/assets/parts/1/5/9/2/1/16984-SparkFun_MicroMod_nRF52840_Processor-04.jpg)](https://www.sparkfun.com/sparkfun-micromod-nrf52840-processor.html)

### [SparkFun MicroMod nRF52840 Processor](https://www.sparkfun.com/sparkfun-micromod-nrf52840-processor.html) 

[ WRL-16984 ]

The SparkFun MicroMod nRF52840 Processor offers a powerful combination of ARM Cortex-M4 CPU and 2.4 GHz Bluetooth transceiver...

[ [\$29.50] ]

[![SparkFun MicroMod Teensy Processor with Copy Protection](https://cdn.sparkfun.com/r/140-140/assets/parts/1/8/3/2/6/18771-_DEV_SparkFun_MircroMod_Teensy_Processor-_01.jpg)](https://www.sparkfun.com/sparkfun-micromod-teensy-processor-with-copy-protection.html)

### [SparkFun MicroMod Teensy Processor with Copy Protection](https://www.sparkfun.com/sparkfun-micromod-teensy-processor-with-copy-protection.html) 

[ DEV-18771 ]

This copy-protected board leverages the awesome computing power of the NXP iMXRT1062 chip (ARM Cortex-M7) and pairs it with t...

[ [\$29.95] ]

[![SparkFun MicroMod mikroBUS Starter Kit](https://cdn.sparkfun.com/r/140-140/assets/parts/1/9/6/7/0/19935-SparkFun_MicroMod_mikroBUS_Starter_Kit-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-mikrobus-starter-kit.html)

### [SparkFun MicroMod mikroBUS Starter Kit](https://www.sparkfun.com/sparkfun-micromod-mikrobus-starter-kit.html) 

[ KIT-19935 ]

The SparkFun MicroMod mikroBUS™ Starter Kit is designed to give you just what you need to start using the MicroMod and Clic...

[\$79.95] [ [\$59.95] ]

[![SparkFun MicroMod STM32WB5MMG Processor](https://cdn.sparkfun.com/r/140-140/assets/parts/2/1/2/6/8/21438-_DEV_MM_STM32WB-_01.jpg)](https://www.sparkfun.com/sparkfun-micromod-stm32wb5mmg-processor.html)

### [SparkFun MicroMod STM32WB5MMG Processor](https://www.sparkfun.com/sparkfun-micromod-stm32wb5mmg-processor.html) 

[ DEV-21438 ]

The MicroMod STM32WB5MMG Processor has a powerful combination of computing and wireless capabilities all on one Processor.

[ [\$19.95] ]

#### MicroMod Function Board

To add additional functionality to your Processor Board, you\'ll want to include one or two function boards when connecting them to the Main Board.

[![SparkFun MicroMod WiFi Function Board - ESP32](https://cdn.sparkfun.com/r/140-140/assets/parts/1/7/8/5/7/18430-SparkFun_MicroMod_ESP32_Function_Board-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-wifi-function-board-esp32.html)

### [SparkFun MicroMod WiFi Function Board - ESP32](https://www.sparkfun.com/sparkfun-micromod-wifi-function-board-esp32.html) 

[ WRL-18430 ]

The SparkFun MicroMod ESP32 Function Board adds additional wireless options to MicroMod Processor Boards that do not have tha...

[\$14.95] [ [\$8.97] ]

[![SparkFun MicroMod Environmental Function Board](https://cdn.sparkfun.com/r/140-140/assets/parts/1/8/1/4/8/18632-SparkFun_MicroMod_Environmental_Function_Board-01.jpg)](https://www.sparkfun.com/sparkfun-micromod-environmental-function-board.html)

### [SparkFun MicroMod Environmental Function Board](https://www.sparkfun.com/sparkfun-micromod-environmental-function-board.html) 

[ SEN-18632 ]

The MicroMod Environmental Function Board includes three sensors to monitor air quality, humidity / temperature, & CO2 concen...

[\$149.95] [ [\$112.46] ]

### Tools

You will need a screw driver to secure the Processor and Function boards.

[![SparkFun Mini Screwdriver](https://cdn.sparkfun.com/r/140-140/assets/parts/2/5/6/3/09146-SparkFun_Mini_Screwdriver-01.jpg)](https://www.sparkfun.com/sparkfun-mini-screwdriver.html)

### [SparkFun Mini Screwdriver](https://www.sparkfun.com/sparkfun-mini-screwdriver.html) 

[ TOL-09146 ]

This is just your basic reversible screwdriver - pocket sized! Both flat and phillips heads available. Comes with pin clip an...

[ [\$1.50] ]

### Suggested Reading

If you aren\'t familiar with the MicroMod ecosystem, we recommend reading [here for an overview](https://www.sparkfun.com/micromod).

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [![MicroMod Logo](https://cdn.sparkfun.com/r/457-457/assets/learn_tutorials/1/1/8/9/micromod-logo.jpg "Click to learn more about the MicroMod ecosystem!")](https://www.sparkfun.com/micromod)
  *[MicroMod Ecosystem](https://www.sparkfun.com/micromod)*
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

If you aren't familiar with the following concepts, we also recommend checking out a few of these tutorials before continuing. Make sure to check the respective hookup guides for your processor board and function board to ensure that you are installing the correct USB-to-serial converter. You may also need to follow additional instructions that are not outlined in this tutorial to install the appropriate software.

[](https://learn.sparkfun.com/tutorials/what-is-an-arduino)

### What is an Arduino? 

What is this \'Arduino\' thing anyway? This tutorials dives into what an Arduino is and along with Arduino projects and widgets.

[](https://learn.sparkfun.com/tutorials/installing-arduino-ide)

### Installing Arduino IDE 

A step-by-step guide to installing and testing the Arduino software on Windows, Mac, and Linux.

[](https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers)

### How to Install CH340 Drivers 

How to install CH340 drivers (if you need them) on Windows, Mac OS X, and Linux.

[](https://learn.sparkfun.com/tutorials/getting-started-with-micromod)

### Getting Started with MicroMod 

Dive into the world of MicroMod - a compact interface to connect a microcontroller to various peripherals via the M.2 Connector!

## Hardware Overview

### ESP32

The MicroMod WiFi Function Board includes the ESP32-WROOM module with AT command firmware. The module can be accessed through the serial UART pins.

[![ESP32 WROOM Module](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_ESP32_WROOM_Module.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_ESP32_WROOM_Module.jpg)

### USB

**Note:** The CP2101X is powered through the Main Board\'s VIN pin. Make sure to connect a second USB cable to the Main Board.

The board includes a USB Type C connector on the board to update ESP32\'s firmware. You will need a Main Board and a second USB cable to update the firmware.

[![USB C Connector](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_USB.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_USB.jpg)

### Power

To power the board, you will need to apply power to a SparkFun Main Board. Power applied will connect to the Function Board\'s VIN pin, which will be regulated down for the rest of the board with the AP2112 3.3V/600mA voltage regulator. Users can control the 3.3V voltage regulator using a Processor Board\'s I/O pin. For more information, [check out the MicroMod Main Board Examples](https://learn.sparkfun.com/tutorials/micromod-main-board#example) to toggle the pin.

[![Voltage Regulator](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Voltage_Regulator.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Voltage_Regulator.jpg)

### CP2102

The board is populated with the CP2102 USB-to-Serial converter to update firmware on the ESP32 through its USB Type C connector. This allows the board to show up as a device on the serial (or COM) port of the computer. You will need a Main Board and a second USB cable to update the firmware.

[![USB-to-Serial Converter](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_CP2102_USB-to-Serial_Converter.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_CP2102_USB-to-Serial_Converter.jpg)

### Reset and Boot Buttons

The reset button allows users to reset the program running on the ESP32 module without unplugging the board. The boot button allows users to manually flash new firmware to the ESP32.

[![Reset and Boot Buttons](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Reset_Boot_Buttons.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Reset_Boot_Buttons.jpg)

### Transistor

The IC next to the USB-to-Serial converter includes two transistors. This is used by the USB-to-Serial Converter to auto-reset the ESP32 when updating its firmware.

[![Transistors](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Transistor.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Transistor.jpg)

### EEPROM

The board includes an I^2^C EEPROM. Unfortunately, this is not available for the user and was meant to hold board specific information.

[![EEPROM](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_EEPROM.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_EEPROM.jpg)

### LED

There is only one LED available which is the PWR LED. The LED lights up to indicate when available for the ESP32 and CP2102 from the 3.3V voltage regulator. You can disable it by cutting the jumper on the back of the board.

[![PWR LED](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_LED.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_LED.jpg)

### Jumpers

**Note:** If this is your first time working with jumpers, check out the [How to Work with Jumper Pads and PCB Traces](https://learn.sparkfun.com/tutorials/how-to-work-with-jumper-pads-and-pcb-traces/all) tutorial for more information.

The following jumpers are included to configure the board.

- **PWR** - By default, the jumper with the label `PWR` is closed. This jumper connects the 3.3V line and LED. Cutting this jumper will disable the LED.
- **I^2^C Pull-up Resistors** - By default, this three way jumper labeled `I`^`2`^`C` is closed and connects two pull-up resistors to the I^2^C data lines. If you have [many devices on your I^2^C data lines](https://learn.sparkfun.com/tutorials/i2c/all#i2c-at-the-hardware-level), then you may consider cutting these two jumpers.

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [![I2C Pull-up Resistor Jumper](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Top_Jumpers.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Top_Jumpers.jpg)   [![PWR LED Jumper](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Bottom_Jumper.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/18430-SparkFun_MicroMod_ESP32_Function_Board_Bottom_Jumper.jpg)
  *I^2^C Pull-up Resistor Jumpers*                                                                                                                                                                                                                                               *PWR LED Jumper*
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### Hardware Pinout

Depending on your window size, you may need to use the horizontal scroll bar at the bottom of the table to view the additional pin functions. Note that the M.2 connector pins on opposing sides are offset from each other as indicated by the bottom pins where it says (Not Connected)\*. There is no connection to pins that have a \"-\" under the primary function.

- [MicroMod WiFi Function Board - ESP32 Pinout Table](#esp32)
- [MicroMod General Processor Pinout Table](#MMGen)
- [MicroMod General Pin Descriptions](#MMDescript)

**AUDIO**

**UART**

**GPIO/BUS**

**I^2^C**

**SDIO**

**SPI0**

**Dedicated**

+-----------------------------------------------------------+---------+------------+---------------------------------------------------------------+
| Function                                                  | Bottom\ |    Top   \ | Function                                                      |
|                                                           | Pin     | Pin        |                                                               |
+==========+==========+===========+=========================+=========+============+====================================+=========+===========+====+
|          |          |           | (Not Connected)         |         | **75**     | GND                                |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | 3.3V                    | **74**  | **73**     | G5 / BUS5                          |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | RTC_3V_BATT             | **72**  | **71**     | G6 / BUS6                          |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          | SPI_CS1#  | SDIO_DATA3 (I/O)        | **70**  | **69**     | G7 / BUS7                          |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | SDIO_DATA2 (I/O)        | **68**  | **67**     | G8                                 |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | SDIO_DATA1 (I/O)        | **66**  | **65**     | G9                                 | ADC_D-  | CAM_HSYNC |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          | SPI_CIPO1 | SDIO_DATA0 (I/O)        | **64**  | **63**     | G10                                | ADC_D+  | CAM_VSYNC |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          | SPI COPI1 | SDIO_CMD (I/O)          | **62**  | **61**     | SPI_CIPO (I)                       |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          | SPI SCK1  | SDIO_SCK (O)            | **60**  | **59**     | SPI_COPI (O)                       | LED_DAT |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | AUD_MCLK (O)            | **58**  | **57**     | SPI_SCK (O)                        | LED_CLK |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
| CAM_MCLK | PCM_OUT  | I2S_OUT   | AUD_OUT                 | **56**  | **55**     | SPI_CS#                            |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
| CAM_PCLK | PCM_IN   | I2S_IN    | AUD_IN                  | **54**  | **53**     | I2C_SCL1 (I/O)                     |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
| PDM_DATA | PCM_SYNC | I2S_WS    | AUD_LRCLK               | **52**  | **51**     | I2C_SDA1 (I/O)                     |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
| PDM_CLK  | PCM_CLK  | I2S_SCK   | AUD_BCLK                | **50**  | **49**     | BATT_VIN / 3 (I - ADC) (0 to 3.3V) |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | G4 / BUS4               | **48**  | **47**     | PWM1                               |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | G3 / BUS3               | **46**  | **45**     | GND                                |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | G2 / BUS2               | **44**  | **43**     | CAN_TX                             |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | G1 / BUS1               | **42**  | **41**     | CAN_RX                             |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | G0 / BUS0               | **40**  | **39**     | GND                                |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | A1                      | **38**  | **37**     | USBHOST_D-                         |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | GND                     | **36**  | **35**     | USBHOST_D+                         |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | A0                      | **34**  | **33**     | GND                                |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | PWM0                    | **32**  | **31**     | Module Key                         |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | Module Key              | **30**  | **29**     | Module Key                         |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | Module Key              | **28**  | **27**     | Module Key                         |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | Module Key              | **26**  | **25**     | Module Key                         |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | Module Key              | **24**  | **23**     | SWDIO                              |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | UART_TX2 (O)            | **22**  | **21**     | SWDCK                              |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | UART_RX2 (I)            | **20**  | **19**     | UART_RX1 (I)                       |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          | CAM_TRIG  | D1                      | **18**  | **17**     | UART_TX1 (0)                       |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | I2C_INT#                | **16**  | **15**     | UART_CTS1 (I)                      |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | I2C_SCL (I/0)           | **14**  | **13**     | UART_RTS1 (O)                      |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | I2C_SDA (I/0)           | **12**  | **11**     | BOOT (I - Open Drain)              |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | D0                      | **10**  | **9**      | USB_VIN                            |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          | SWO       | G11                     | **8**   | **7**      | GND                                |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | RESET# (I - Open Drain) | **6**   | **5**      | USB_D-                             |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | 3.3V_EN                 | **4**   | **3**      | USB_D+                             |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+
|          |          |           | 3.3V                    | **2**   | **1**      | GND                                |         |           |    |
+----------+----------+-----------+-------------------------+---------+------------+------------------------------------+---------+-----------+----+

  --------------------------------------------------------------------------------------------------
  Alternative\   Primary Function   Bottom\      Top   \   Primary Function   Alternative Function
  Function                          Pin       Pin                             
  -------------- ------------------ --------- ------------ ------------------ ----------------------
                 (Not Connected)              **75**       GND                

                 VIN                **74**    **73**       3.3V               

                 VIN                **72**    **71**       Power EN           

                 \-                 **70**    **69**       \-                 

                 \-                 **66**    **65**       \-                 

                 \-                 **64**    **63**       \-                 

                 \-                 **62**    **61**       \-                 

                 \-                 **60**    **59**       \-                 

                 \-                 **58**    **57**       \-                 

                 \-                 **56**    **55**       \-                 

                 \-                 **54**    **53**       \-                 

                 \-                 **52**    **51**       \-                 

                 \-                 **50**    **49**       \-                 

                 \-                 **48**    **47**       \-                 

                 \-                 **46**    **45**       GND                

                 \-                 **44**    **43**       \-                 

                 \-                 **42**    **41**       \-                 

                 \-                 **40**    **39**       GND                

                 \-                 **38**    **37**       \-                 

                 EEPROM_A0          **36**    **35**       \-                 

                 EEPROM_A1          **34**    **33**       GND                

                 EEPROM_A2          **32**    **31**       Module Key         

                 Module Key         **30**    **29**       Module Key         

                 Module Key         **28**    **27**       Module Key         

                 Module Key         **26**    **25**       Module Key         

                 Module Key         **24**    **23**       \-                 

                 \-                 **22**    **21**       I2C_SCL            

                 \-                 **20**    **19**       I2C_SDA            

                 \-                 **18**    **17**       \-                 

                 \-                 **16**    **15**       UART_RX            

                 \-                 **14**    **13**       UART_TX            

                 \-                 **12**    **11**       \-                 

                 \-                 **10**    **9**        \-                 

                 \-                 **8**     **7**        \-                 

                 \-                 **6**     **5**        \-                 

                 \-                 **4**     **3**        \-                 

                 \-                 **2**     **1**        GND                
  --------------------------------------------------------------------------------------------------

Signal Group

Signal

I/O

Description

Voltage

Power

3.3V

I

3.3V Source

3.3V

GND

Return current path

0V

USB_VIN

I

USB VIN compliant to USB 2.0 specification. Connect to pins on processor board that require 5V for USB functionality

4.8-5.2V

RTC_3V_BATT

I

3V provided by external coin cell or mini battery. Max draw=100μA. Connect to pins maintaining an RTC during power loss. Can be left NC.

3V

3.3V_EN

O

Controls the carrier board\'s main voltage regulator. Voltage above 1V will enable 3.3V power path.

3.3V

BATT_VIN/3

I

Carrier board raw voltage over 3. 1/3 resistor divider is implemented on carrier board. Amplify the analog signal as needed for full 0-3.3V range

3.3V

Reset

Reset

I

Input to processor. Open drain with pullup on processor board. Pulling low resets processor.

3.3V

Boot

I

Input to processor. Open drain with pullup on processor board. Pulling low puts processor into special boot mode. Can be left NC.

3.3V

USB

USB_D±

I/O

USB Data ±. Differential serial data interface compliant to USB 2.0 specification. If UART is required for programming, USB± must be routed to a USB-to-serial conversion IC on the processor board.

USB Host

USBHOST_D±

I/O

For processors that support USB Host Mode. USB Data±. Differential serial data interface compliant to USB 2.0 specification. Can be left NC.

CAN

CAN_RX

I

CAN Bus receive data.

3.3V

CAN_TX

O

CAN Bus transmit data.

3.3V

UART

UART_RX1

I

UART receive data.

3.3V

UART_TX1

O

UART transmit data.

3.3V

UART_RTS1

O

UART ready to send.

3.3V

UART_CTS1

I

UART clear to send.

3.3V

UART_RX2

I

2nd UART receive data.

3.3V

UART_TX2

O

2nd UART transmit data.

3.3V

I2C

I2C_SCL

I/O

I^2^C clock. Open drain with pullup on carrier board.

3.3V

I2C_SDA

I/O

I^2^C data. Open drain with pullup on carrier board

3.3V

I2C_INT#

I

Interrupt notification from carrier board to processor. Open drain with pullup on carrier board. Active LOW

3.3V

I2C_SCL1

I/O

2nd I^2^C clock. Open drain with pullup on carrier board.

3.3V

I2C_SDA1

I/O

2nd I^2^C data. Open drain with pullup on carrier board.

3.3V

SPI

SPI_COPI

O

SPI Controller Output/Peripheral Input.

3.3V

SPI_CIPO

I

SPI Controller Input/Peripheral Output.

3.3V

SPI_SCK

O

SPI Clock.

3.3V

SPI_CS#

O

SPI Chip Select. Active LOW. Can be routed to GPIO if hardware CS is unused.

3.3V

SPI/SDIO

SPI_SCK1/SDIO_CLK

O

2nd SPI Clock. Secondary use is SDIO Clock.

3.3V

SPI_COPI1/SDIO_CMD

I/O

2nd SPI Controller Output/Peripheral Input. Secondary use is SDIO command interface.

3.3V

SPI_CIPO1/SDIO_DATA0

I/O

2nd SPI Peripheral Input/Controller Output. Secondary use is SDIO data exchange bit 0.

3.3V

SDIO_DATA1

I/O

SDIO data exchange bit 1.

3.3V

SDIO_DATA2

I/O

SDIO data exchange bit 2.

3.3V

SPI_CS1/SDIO_DATA3

I/O

2nd SPI Chip Select. Secondary use is SDIO data exchange bit 3.

3.3V

Audio

AUD_MCLK

O

Audio master clock.

3.3V

AUD_OUT/PCM_OUT/I2S_OUT/CAM_MCLK

O

Audio data output. PCM synchronous data output. I2S serial data out. Camera master clock.

3.3V

AUD_IN/PCM_IN/I2S_IN/CAM_PCLK

I

Audio data input. PCM syncrhonous data input. I2S serial data in. Camera periphperal clock.

3.3V

AUD_LRCLK/PCM_SYNC/I2S_WS/PDM_DATA

I/O

Audio left/right clock. PCM syncrhonous data SYNC. I2S word select. PDM data.

3.3V

AUD_BCLK/PCM_CLK/I2S_CLK/PDM_CLK

O

Audio bit clock. PCM clock. I2S continuous serial clock. PDM clock.

3.3V

SWD

SWDIO

I/O

Serial Wire Debug I/O. Connect if processor board supports SWD. Can be left NC.

3.3V

SWDCK

I

Serial Wire Debug clock. Connect if processor board supports SWD. Can be left NC.

3.3V

ADC

A0

I

Analog to digital converter 0. Amplify the analog signal as needed to enable full 0-3.3V range.

3.3V

A1

I

Analog to digital converter 1. Amplify the analog signal as needed to enable full 0-3.3V range.

3.3V

PWM

PWM0

O

Pulse width modulated output 0.

3.3V

PWM1

O

Pulse width modulated output 1.

3.3V

Digital

D0

I/O

General digital input/output pin.

3.3V

D1/CAM_TRIG

I/O

General digital input/output pin. Camera trigger.

3.3V

General/Bus

G0/BUS0

I/O

General purpose pins. Any unused processor pins should be assigned to Gx with ADC + PWM capable pins given priority (0, 1, 2, etc.) positions. The intent is to guarantee PWM, ADC and Digital Pin functionality on respective ADC/PWM/Digital pins. Gx pins do not guarantee ADC/PWM function. Alternative use is pins can support a fast read/write 8-bit or 4-bit wide bus.

3.3V

G1/BUS1

I/O

3.3V

G2/BUS2

I/O

3.3V

G3/BUS3

I/O

3.3V

G4/BUS4

I/O

3.3V

G5/BUS5

I/O

3.3V

G6/BUS6

I/O

3.3V

G7/BUS7

I/O

3.3V

G8

I/O

General purpose pin

3.3V

G9/ADC_D-/CAM_HSYNC

I/O

Differential ADC input if available. Camera horizontal sync.

3.3V

G10/ADC_D+/CAM_VSYNC

I/O

Differential ADC input if available. Camera vertical sync.

3.3V

G11/SWO

I/O

General purpose pin. Serial Wire Output

3.3V

### Board Dimensions

The board uses the standard MicroMod Function Board size which measures about 1.50\"x2.56\".

[![Board Dimensions](https://cdn.sparkfun.com/r/600-600/assets/9/f/8/b/e/MicroMod_WiFi_Function_Board_ESP32_Board_Dimensions.png)](https://cdn.sparkfun.com/assets/9/f/8/b/e/MicroMod_WiFi_Function_Board_ESP32_Board_Dimensions.png)

## Hardware Hookup

If you have not already, make sure to check out the [Getting Started with MicroMod: Hardware Hookup](https://learn.sparkfun.com/tutorials/getting-started-with-micromod#hardware-hookup) for information on inserting your Processor and Function Boards to the Main Board.

[](https://learn.sparkfun.com/tutorials/getting-started-with-micromod)

### Getting Started with MicroMod 

October 21, 2020

Dive into the world of MicroMod - a compact interface to connect a microcontroller to various peripherals via the M.2 Connector!

### Adding a Function Board to the Main Board

We\'ll assume that you have inserted a Processor Board into the Main Board already. The process is the same for adding a Function Board. The only difference is that you will be adding two screws to hold the Function board down.

Align the Function Board\'s key into its M.2 connector\'s socket. Insert the board at an angle (\~25°), push down, and tighten one of the screw to hold the board down. Attach the second screw on the other side of the board. Once the board is aligned, tighten both screws fully to secure the board. In this case, we had the WiFi Function Board secured in the M.2 connector socket. Depending on your application, you may have a different Function Board.

[![Main - Double, Processor, and Function Board](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/1/9/9/8/SparkFun_MicroMod_Main_Board_-Single_Processor_and_Function_Board_ESP32.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/SparkFun_MicroMod_Main_Board_-Single_Processor_and_Function_Board_ESP32.jpg)

If you decide to have two function boards attached to the Main Board - Double, we recommend tightening the screw between the two Function Boards first to hold them down before attaching the remaining screws on either side of the Function Boards. In this case, we had the WiFi Function Board and the Environmental Function Board secured in the M.2 connector socket. Depending on your application, you may have different function boards.

[![Main - Double, Processor, and Function Boards](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/1/9/9/4/SparkFun_MicroMod_Main_Board_-Double_Processor_and_Function_Boards.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/4/SparkFun_MicroMod_Main_Board_-Double_Processor_and_Function_Boards.jpg)

### ESP32 Firmware Update

To update the firmware you will need to connect the USB C cable to the MicroMod WiFi Function Board (ESP32) to a computer\'s COM port. An additional Main Board with a second USB C cable is also needed to power the Main Board and MicroMod WiFi Function Board.

[![ESP32 Firmware Update](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/1/9/9/8/ESP32_AT_Firmware_Update.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/ESP32_AT_Firmware_Update.jpg)

## Software Installation

**Note:** This example assumes you are using the latest version of the Arduino IDE on your desktop. If this is your first time using Arduino, please review the following tutorials.\
\

- [Installing the Arduino IDE](https://learn.sparkfun.com/tutorials/installing-arduino-ide)
- [Installing Board Definitions in the Arduino IDE](https://learn.sparkfun.com/tutorials/installing-board-definitions-in-the-arduino-ide)

### Arduino Board Definitions and Driver

We\'ll assume that you installed the necessary board files and drivers for your Processor Board. In this case, we used the MicroMod Artemis Processor Board which uses the CH340 USB-to-serial converter. If you are using a Processor Board, make sure to check out its hookup guide for your Processor Board.

[](https://learn.sparkfun.com/tutorials/installing-board-definitions-in-the-arduino-ide)

### Installing Board Definitions in the Arduino IDE 

September 9, 2020

How do I install a custom Arduino board/core? It\'s easy! This tutorial will go over how to install an Arduino board definition using the Arduino Board Manager. We will also go over manually installing third-party cores, such as the board definitions required for many of the SparkFun development boards.

[](https://learn.sparkfun.com/tutorials/micromod-artemis-processor-board-hookup-guide)

### MicroMod Artemis Processor Board Hookup Guide 

October 21, 2020

Get started with the Artemis MicroMod Processor Board in this tutorial!

[](https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers)

### How to Install CH340 Drivers 

August 6, 2019

How to install CH340 drivers (if you need them) on Windows, Mac OS X, and Linux.

### CP2102 Drivers

For users looking to update the AT Command Firmware, you will need to install a the separate Silicon Labs CP210X Driver for the WiFi Function Board - ESP32. The latest can be found from [Silicon Labs: USB to UART Bridge VCP Driver](https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers#software).

[Download Windows VCP Driver (ZIP)](https://cdn.sparkfun.com/assets/learn_tutorials/8/5/2/CP210x_Universal_Windows_Driver.zip)

[Download Mac OSX VCP Driver (ZIP)](https://www.silabs.com/documents/public/software/Mac_OSX_VCP_Driver.zip)

**Note:** If applicable, make sure you are using the proper driver files for your CPU architecture. This is usually indicated by a folder or file name with \"*x86*\" for 32-bit processors or \"*x64*\" for 64-bit processors.

## Arduino Examples

### Example 1: Connecting to WiFi

This example shows you how to send AT commands from your Processor Board to scan and connect to a WiFi Router. Note that this example runs once in the `setup()` function.

If you have not already, select your Board (in this case the **MicroMod Artemis**), and associated COM port. Copy and paste the code below in your Arduino IDE. Make sure to modify the SSID (`YOUR_NETWORK_HERE`) and password (`YOUR_PASSWORD_HERE`) for your wireless router. Hit the upload button and set the serial monitor to **115200** baud.

    language:c
    const char* newLineCarriageReturn = "\r\n";                                                     // Used at beginning of code to clear out anything in buffer
    const char* toSend = "AT+GMR\r\n";                                                              // Check version information.
    const char* enableSys = "AT+SYSLOG=1\r\n";                                                      // Enable AT error code prompt
    const char* wifiMode = "AT+CWMODE=3\r\n";                                                       // Set the WiFi mode of ESP devices
    const char* whatWifi = "AT+CWLAP\r\n";                                                          // List available APs
    const char* connectTo = "AT+CWJAP=\"YOUR_NETWORK_HERE\",\"YOUR_PASSWORD_HERE\"\r\n";            // Connect an ESP station to a targeted AP, where YOUR_NETWORK_HERE is your network SSID, and YOUR_PASSWORD_HERE.
    const char* wifiInfo = "AT+CWSTATE?\r\n";                                                       // Query the Wi-Fi state and Wi-Fi information
    const char* atReset = "AT+RST\r\n";                                                             // Restart module
    const char* whatStandard = "AT+CWAPPROTO?\r\n";                                                 // Sets the 802.11 b/g/n protocol standard of SoftAP mode
    //const char* sendLight = "AT+HTTPCLIENT=1,3,192.168.1.116/TEMP86";                             // Send HTTP Client Request

    //String composedMess = "";
    //uint8_t powerEnableZero = A1;
    //uint8_t powerEnableOne = 34;

    void setup() 

      Serial1.write(enableSys);
      delay(1000);//wait for ESP32

      //check on ESP32 response
      while (Serial1.available()) 

      Serial1.write(wifiMode);
      delay(2000);//wait for ESP32

      //check on ESP32 response
      while (Serial1.available()) 

      Serial1.write(whatWifi);
      delay(5000);//wait for ESP32

      //check on ESP32 response
      while (Serial1.available()) 

      Serial1.write(connectTo);
      delay(5000);//wait for ESP32

      //check on ESP32 response
      while (Serial1.available()) 

      Serial1.write(wifiInfo);
      delay(5000);//wait for ESP32

      //check on ESP32 response
      while (Serial1.available()) 

      Serial.println("Done.");
      while (1);
      delay(2000);
    }

    void loop()
    

If all goes well, your ESP32 be configured for each AT command. At one point, the ESP32 will see what other wireless routers (if there are any) are in range before connecting to your WiFi router and providing a status on the connection to your network.

### Example 2: Serial Passthrough

This example allows you to use your Processor Board as a serial passthrough to send characters to and from the ESP32 and the USB-to-serial converter. This is useful for testing different AT commands from the [Arduino Serial Monitor or terminal window](https://learn.sparkfun.com/tutorials/terminal-basics/arduino-serial-monitor-windows-mac-linux).

If you have not already, select your Board (in this case the **MicroMod Artemis**), and associated COM port. Copy and paste the code below in your Arduino IDE. Hit the upload button and set the serial monitor to **115200** baud.

    language:c
    char val; //init global var for serial characters being sent from ESP32

    void setup()
    

    void loop()
    

      if (Serial1.available())
      

    }

## Firmware Update

If you decide to update the firmware, make sure to have the ESP32 connected to the Main Board. Then insert a USB cable to the Main Board and the WiFi Function Board.

[![ESP32 Firmware Update](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/1/9/9/8/ESP32_AT_Firmware_Update.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/ESP32_AT_Firmware_Update.jpg)

When updating firmware for the ESP32, you will need to make sure you select the port that the WiFi Function Board is connected on. It should be the port that is connected to the CP2102. In this case, the port was named as **Silicon Labs CP210x USB to UART Bridge** under **COM11** under the Windows Device Manager.

[![CP2101 in the Device Manager](https://cdn.sparkfun.com/r/600-600/assets/learn_tutorials/1/9/9/8/Device_Manager_CP2102_COM_Port.jpg)](https://cdn.sparkfun.com/assets/learn_tutorials/1/9/9/8/Device_Manager_CP2102_COM_Port.jpg)

Head over to Espressif\'s user guide for instructions, tools, and the latest firmware to update the ESP32. You\'ll want to use the ESP32 factory binary. Depending on your needs, you could download multiple binaries or generate your own for the ESP32.

[ReadTheDocs: ESP-AT User Guide - Downloading Guide](https://docs.espressif.com/projects/esp-at/en/latest/Get_Started/Downloading_guide.html)

## Troubleshooting

[] **Not working as expected and need help?**\
\
If you need technical assistance and more information on a product that is not working as you expected, we recommend heading on over to the [SparkFun Technical Assistance](https://www.sparkfun.com/technical_assistance) page for some initial troubleshooting.\
\

[SparkFun Technical Assistance Page](https://www.sparkfun.com/technical_assistance)

\
\
If you don\'t find what you need there, the [SparkFun Forums: MicroMod](https://forum.sparkfun.com/viewforum.php?f=180) are a great place to find and ask for help. If this is your first visit, you\'ll need to [create a Forum Account](https://forum.sparkfun.com/ucp.php?mode=register) to search product forums and post questions.\
\

[SparkFun Forums: MicroMod](https://forum.sparkfun.com/viewforum.php?f=180)