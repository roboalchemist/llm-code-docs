AWS IntegrationRead the 2025 State of Containers and Serverless Report!
Read the State of Containers and Serverless Report!

Home

Docs

API- 
- Agent
- API
- APM Tracing
- ContainersAutodiscovery
- Datadog Operator
- Dashboards
- Database Monitoring
- Datadog
- Datadog Site
- DevSecOps
- Incident Management
- IntegrationsAWS
- Azure
- Google Cloud
- Terraform
- Internal Developer Portal
- Logs
- Monitors
- Notebooks
- OpenTelemetry
- Profiler
- SearchProduct-Specific Search
- Session Replay
- SecurityApp and API Protection
- Cloud Security
- Cloud SIEM
- Code Security
- Serverless for AWS Lambda
- Software DeliveryCI Visibility
- Feature Flags
- Test Optimization
- Test Impact Analysis
- Synthetic Monitoring and TestingAPI Tests
- Browser Tests
- Mobile App Tests
- Continuous Testing
- Private Locations
- TagsAssigning Tags
- Unified Service Tagging
- Using Tags
- Workflow Automation
- Learning Center
- Support
- 
- 
- 
- Architecture
- IoT
- Supported PlatformsAIX
- Linux
- Ansible
- Chef
- Heroku
- MacOS
- Puppet
- SaltStack
- SCCM
- Windows
- From Source
- Log CollectionLog Agent tags
- Advanced Configurations
- Proxy
- Transport
- Multi-Line Detection
- ConfigurationCommands
- Configuration Files
- Log Files
- Status Page
- Network Traffic
- Proxy Configuration
- FIPS Compliance
- Dual Shipping
- Secrets Management
- Fleet AutomationRemote Agent Management
- TroubleshootingContainer Hostname Detection
- Debug Mode
- Agent Flare
- Agent Check Status
- NTP Issues
- Permission Issues
- Integrations Issues
- Site Issues
- Autodiscovery Issues
- Windows Container Issues
- Agent Runtime Configuration
- High CPU or Memory Consumption
- Guides
- Data Security
- Guides
- AuthorizationOAuth2 in Datadog
- Authorization Endpoints
- DogStatsDDatagram Format
- Unix Domain Socket
- High Throughput Data
- Data Aggregation
- DogStatsD Mapper
- Custom ChecksWriting a Custom Agent Check
- Writing a Custom OpenMetrics Check
- IntegrationsBuild an Integration with Datadog
- Create an Agent-based Integration
- Create an API-based Integration
- Create a Log Pipeline
- Integration Assets Reference
- Build a Marketplace Offering
- Create an Integration Dashboard
- Create a Monitor Template
- Create a Cloud SIEM Detection Rule
- Install Agent Integration Developer Tool
- Service ChecksSubmission - Agent Check
- Submission - DogStatsD
- Submission - API
- IDE PluginsJetBrains IDEs
- VS Code & Cursor
- CommunityLibraries
- Guides
- Getting StartedDatadog Example Application
- OpenTelemetry Demo Application
- Feature Compatibility
- Instrument Your ApplicationsOTel SDKs
- OTel APIs with Datadog SDKs
- OTel Instrumentation Libraries
- Configuration
- Send Data to DatadogDDOT Collector (Recommended)
- Other Setup Options
- Semantic MappingResource Attribute Mapping
- Metrics Mapping
- Infrastructure Host Mapping
- Hostname Mapping
- Service-entry Spans Mapping
- Ingestion Sampling
- Correlate DataLogs and Traces
- Metrics and Traces
- RUM and Traces
- DBM and Traces
- IntegrationsApache Metrics
- Apache Spark Metrics
- Collector Health Metrics
- Datadog Extension
- Docker Metrics
- HAProxy Metrics
- Host Metrics
- IIS Metrics
- Kafka Metrics
- Kubernetes Metrics
- MySQL Metrics
- NGINX Metrics
- Podman Metrics
- Runtime Metrics
- Trace Metrics
- Troubleshooting
- Guides and ResourcesProduce Delta Temporality Metrics
- Visualize Histograms as Heatmaps
- Migration Guides
- ReferenceTerms and Concepts
- Trace Context Propagation
- Trace IDs
- OTLP Metric Types
- Getting Started
- Plan
- Build
- Run
- 
- 
- Enterprise Configuration
- Datadog for Intune
- Shortcut Configurations
- Push Notifications
- Widgets
- Guides
- Data Directory
- Troubleshooting
- Install
- Using CoTerm
- Configuration Rules
- 
- Getting Started
- Account Management
- Components: Common
- Components: Azure
- Components: AWS
- Advanced
- FAQ
- APIAWS Accounts
- Azure Accounts
- Blueprints
- Budgets
- Teams
- Users
- Configure
- Dashboard List
- WidgetsConfiguration
- Widget Types
- Querying
- FunctionsAlgorithms
- Arithmetic
- Count
- Exclusion
- Interpolation
- Rank
- Rate
- Regression
- Rollup
- Smoothing
- Timeshift
- Beta
- Graph InsightsMetric Correlations
- Watchdog Explains
- Template Variables
- Overlays
- Annotations
- Guides
- SharingShared Dashboards
- Share Graphs
- Scheduled Reports
- Analysis FeaturesGetting Started
- Guides
- 
- 
- Functions and Operators
- Guides
- Draft Monitors
- Configure Monitors
- Monitor Templates
- Monitor TypesHost
- Metric
- Analysis
- Anomaly
- APM
- Audit Trail
- Change
- CI/CD & Test
- Cloud Cost
- Composite
- Database Monitoring
- Error Tracking
- Event
- Forecast
- Integration
- Live Process
- Logs
- Network
- Cloud Network Monitoring
- NetFlow
- Outlier
- Process Check
- Real User Monitoring
- Service Check
- SLO Alerts
- Synthetic Monitoring
- Watchdog
- NotificationsNotification Rules
- Variables
- DowntimesExamples
- Manage MonitorsSearch Monitors
- Check Summary
- Monitor StatusStatus Graphs
- Status Events
- Monitor Settings
- Monitor Quality
- Guides
- Monitor-based SLOs
- Metric-based SLOs
- Time Slice SLOs
- Error Budget Alerts
- Burn Rate Alerts
- Guides
- Custom MetricsMetric Type Modifiers
- Historical Metrics Ingestion
- Submission - Agent Check
- Submission - DogStatsD
- Submission - Powershell
- Submission - API
- OpenTelemetry MetricsOTLP Metric Types
- Query OpenTelemetry Metrics
- Metrics Types
- Distributions
- Overview
- ExplorerMetrics Units
- Summary
- Volume
- Advanced Filtering
- Nested Queries
- Composite Metrics Queries
- Derived Metrics
- Metrics Without Limits™
- Guides
- Alerts
- Impact Analysis
- RCA
- Insights
- Faulty Deployment Detection
- Faulty Cloud & SaaS API Detection
- Bits AI SREInvestigate issues
- Remediate issues
- Bits AI SRE integrations and settings
- Help Bits learn
- Chat with Bits AI SRE
- Bits AI Dev AgentSetup
- Chat with Bits AI
- MCP Server
- Software CatalogSet Up
- Entity Model
- Troubleshooting
- ScorecardsScorecard Configuration
- Custom Rules
- Using Scorecards
- Self-Service ActionsSoftware Templates
- Engineering ReportsReliability Overview
- Scorecards Performance
- DORA Metrics
- Custom Reports
- Developer Homepage
- Campaigns
- External Provider Status
- Plugins
- Integrations
- Use CasesAPI Management
- Cloud Cost Management
- App and API Protection
- Developer Onboarding
- Dependency Management
- Production Readiness
- Incident Response
- CI Pipeline Visibility
- Onboarding Guide
- Explorer
- Issue States
- Regression Detection
- Suspected Causes
- Error Grouping
- Bits AI Dev Agent
- Monitors
- Issue Correlation
- Identify Suspect Commits
- Auto Assign
- Issue Team Ownership
- Track Browser and Mobile ErrorsBrowser Error Tracking
- Collecting Browser Errors
- Mobile Crash Tracking
- Replay Errors
- Real User Monitoring
- Logs
- Track Backend ErrorsGetting Started
- Exception Replay
- Capturing Handled Errors
- APM
- Logs
- Manage Data Collection
- Troubleshooting
- Guides
- Feature Flags
- Ingest Events
- Pipelines and ProcessorsAggregation Key Processor
- Arithmetic Processor
- Date Remapper
- Category Processor
- Grok Parser
- Lookup Processor
- Remapper
- Service Remapper
- Status Remapper
- String Builder Processor
- ExplorerSearching
- Navigate the Explorer
- Customization
- Facets
- Attributes
- Notifications
- Analytics
- Saved Views
- Triage Inbox
- CorrelationConfiguration
- Triaging & Notifying
- Analytics
- Guides
- Declare an Incident
- Describe an Incident
- Response Team
- Notification
- Investigate an IncidentTimeline
- Follow-ups
- Incident AI
- Incident SettingsInformation
- Property Fields
- Responder Types
- Integrations
- Notification Rules
- Templates
- Incident Analytics
- IntegrationsSlack
- Microsoft Teams
- Jira
- ServiceNow
- Status Pages
- Atlassian Statuspage
- Datadog Clipboard
- Onboard a Team
- Trigger a PageLive Call Routing
- Routing Rules
- Escalation Policies
- Schedules
- Automations
- Profile Settings
- Guides
- 
- ProjectsSettings
- Create a Case
- Customization
- View and Manage Cases
- Notifications and Integrations
- Case Automation Rules
- Troubleshooting
- 
- Build Workflows
- Access and Authentication
- Trigger Workflows
- Variables and parameters
- ActionsWorkflow Logic
- Save and Reuse Actions
- Test and Debug
- JavaScript Expressions
- Track Workflows
- Limits
- Build Apps
- Access and Authentication
- Queries
- Variables
- Events
- ComponentsCustom Charts
- React Renderer
- Tables
- Reusable Modules
- JavaScript Expressions
- Embedded AppsInput Parameters
- Save and Reuse Actions
- Create and Manage Datastores
- Use Datastores with Apps and Workflows
- Automation Rules
- Access and Authentication
- 
- ConnectionsAWS Integration
- HTTP Request
- Private ActionsUse Private Actions
- Run a Script
- Update the Private Action Runner
- Private Action Credentials
- OverlaysInfrastructure
- Observability
- Security
- Cloud Cost Management
- Cloud Resources Schema
- Policies
- Resource Changes
- Setup
- Guides
- Setup
- Host List
- Monitoring ContainersConfiguration
- Container Images View
- Orchestrator Explorer
- Kubernetes Resource Utilization
- Kubernetes Autoscaling
- Amazon Elastic Container Explorer
- Autoscaling
- Docker and other runtimesAPM
- Log collection
- Tag extraction
- Integrations
- Prometheus
- Data Collected
- KubernetesInstallation
- Further Configuration
- Distributions
- APM
- Log collection
- Tag extraction
- Integrations
- Prometheus & OpenMetrics
- Control plane monitoring
- Data collected
- kubectl Plugin
- Datadog CSI Driver
- Data security
- Cluster AgentSetup
- Commands & Options
- Cluster Checks
- Endpoint Checks
- Admission Controller
- Amazon ECSAPM
- Log collection
- Tag extraction
- Data collected
- Managed Instances
- AWS Fargate with ECS
- Datadog OperatorAdvanced Install
- Configuration
- Custom Checks
- Data Collected
- Secret Management
- DatadogDashboard CRD
- DatadogMonitor CRD
- DatadogSLO CRD
- TroubleshootingDuplicate hosts
- Cluster Agent
- Cluster Checks
- HPA and Metrics Provider
- Admission Controller
- Log Collection
- Guides
- Increase Process Retention
- AWS LambdaInstrumentation
- Managed Instances
- Lambda Metrics
- Distributed Tracing
- Log Collection
- Remote Instrumentation
- Advanced Configuration
- Continuous Profiler
- Securing Functions
- Deployment Tracking
- OpenTelemetry
- Troubleshooting
- Lambda Web Adapter
- FIPS Compliance
- AWS Step FunctionsInstallation
- Merge Step Functions and Lambda Traces
- Enhanced Metrics
- Redrive Executions
- Distributed Map States
- Troubleshooting
- AWS Fargate
- Azure App ServiceLinux - Code
- Linux - Container
- Windows - Code
- Azure Container AppsIn-Container
- Sidecar
- Azure Functions
- Google Cloud RunContainers
- Functions
- Functions (1st generation)
- Libraries & Integrations
- Glossary
- Guides
- Cloud Network MonitoringSetup
- Network Health
- Network Analytics
- Network Map
- Guides
- Supported Cloud Services
- Terms and Concepts
- DNS Monitoring
- Network Device MonitoringSetup
- Integrations
- Profiles
- Configuration Management
- Maps
- SNMP Metrics Reference
- Troubleshooting
- Guides
- Terms and Concepts
- NetFlow MonitoringMonitors
- Network PathSetup
- List View
- Path View
- Guides
- Terms and Concepts
- Amazon S3
- Google Cloud Storage
- Azure Blob Storage
- Datadog Costs
- SetupAWS
- Azure
- Google Cloud
- Oracle
- SaaS Integrations
- Custom
- TagsTag Explorer
- Multisource Querying
- AllocationTag Pipelines
- Container Cost Allocation
- BigQuery Costs
- Custom Allocation Rules
- ReportingExplorer
- Scheduled Reports
- RecommendationsCustom Recommendations
- PlanningBudgets
- Commitment Programs
- Cost ChangesMonitors
- Anomalies
- Real-Time Costs
- APM Terms and Concepts
- Application InstrumentationSingle Step Instrumentation
- Manually managed SDKs
- Code-based Custom Instrumentation
- Dynamic Instrumentation
- Library Compatibility
- Library Configuration
- Configuration at Runtime
- Trace Context Propagation
- Serverless Application Tracing
- Proxy Tracing
- Span Tag Semantics
- Span Links
- APM Metrics CollectionTrace Metrics
- Runtime Metrics
- Trace Pipeline ConfigurationIngestion Mechanisms
- Ingestion Controls
- Adaptive Sampling
- Generate Metrics
- Trace Retention
- Usage Metrics
- Correlate Traces with Other TelemetryCorrelate DBM and Traces
- Correlate Logs and Traces
- Correlate RUM and Traces
- Correlate Synthetics and Traces
- Correlate Profiles and Traces
- Trace ExplorerSearch Spans
- Query Syntax
- Trace Queries
- Span Tags and Attributes
- Span Visualizations
- Trace View
- Tag Analysis
- Recommendations
- Code Origin for Spans
- Service ObservabilitySoftware Catalog
- Service Page
- Resource Page
- Deployment Tracking
- Service Map
- Inferred Services
- Remapping Rules for Inferred Entities
- Service Remapping Rules
- Service Override Removal
- APM Monitors
- Endpoint ObservabilityExplore Endpoints
- Monitor Endpoints
- Live Debugger
- Error TrackingIssue States
- Error Tracking Explorer
- Error Grouping
- Monitors
- Identify Suspect Commits
- Exception Replay
- Troubleshooting
- Data Security
- Guides
- TroubleshootingAgent Rate Limits
- Agent APM metrics
- Agent Resource Usage
- Correlated Logs
- PHP 5 Deep Call Stacks
- .NET diagnostic tool
- APM Quantization
- Go Compile-Time Instrumentation
- Tracer Startup Logs
- Tracer Debug Logs
- Connection Errors
- Enabling the ProfilerSupported Language and Tracer Versions
- Java
- Python
- Go
- Ruby
- Node.js
- .NET
- PHP
- C/C++/Rust
- Profile Types
- Profile Visualizations
- Investigate Slow Traces or Endpoints
- Compare Profiles
- Automated Analysis
- Profiler TroubleshootingJava
- Python
- Go
- Ruby
- Node.js
- .NET
- PHP
- C/C++/Rust
- Guides
- Agent Integration Overhead
- Setup Architectures
- Setting Up PostgresSelf-hosted
- RDS
- Aurora
- Google Cloud SQL
- AlloyDB
- Azure
- Supabase
- Heroku
- Advanced Configuration
- Troubleshooting
- Setting Up MySQLSelf-hosted
- RDS
- Aurora
- Google Cloud SQL
- Azure
- Advanced Configuration
- Troubleshooting
- Setting Up SQL ServerSelf-hosted
- RDS
- Azure
- Google Cloud SQL
- Troubleshooting
- Setting Up OracleSelf-hosted
- RDS
- RAC
- Exadata
- Autonomous Database
- Troubleshooting
- Setting Up Amazon DocumentDBAmazon DocumentDB
- Setting Up MongoDBSelf-hosted
- MongoDB Atlas
- Troubleshooting
- Connecting DBM and Traces
- Data Collected
- Exploring Database Hosts
- Exploring Query Metrics
- Exploring Query Samples
- Exploring Database Schemas
- Exploring Recommendations
- Troubleshooting
- Guides
- Setup
- Kafka Messages
- Schema Tracking
- Dead Letter Queues
- Metrics and Tags
- 
- Data WarehousesSnowflake
- Databricks
- BigQuery
- Business Intelligence IntegrationsTableau
- Sigma
- Metabase
- Power BI
- Databricks
- Airflow
- dbt
- Spark on Kubernetes
- Spark on Amazon EMR
- Spark on Google Dataproc
- Custom Jobs (OpenLineage)Datadog Agent for OpenLineage Proxy
- Application MonitoringBrowser
- Android and Android TV
- iOS and tvOS
- Flutter
- Kotlin Multiplatform
- React Native
- Roku
- Unity
- PlatformDashboards
- Monitors
- Generate Custom Metrics
- Exploring RUM DataSearch RUM Events
- Search Syntax
- Group
- Visualize
- Events
- Export
- Saved Views
- Watchdog Insights for RUM
- Correlate RUM with Other TelemetryCorrelate LLM with RUM
- Correlate Logs with RUM
- Correlate Profiling with RUM
- Correlate Synthetics with RUM
- Correlate Traces with RUM
- Feature Flag TrackingSetup
- Using Feature Flags
- Error TrackingExplorer
- Issue States
- Track Browser Errors
- Track Mobile Errors
- Error Grouping
- Monitors
- Identify Suspect Commits
- Troubleshooting
- RUM Without LimitsMetrics
- Retention Filters
- Operations Monitoring
- Ownership of Views
- Guides
- Data Security
- API TestingHTTP
- SSL
- DNS
- WebSocket
- TCP
- UDP
- ICMP
- GRPC
- Error codes
- Multistep API Testing
- Browser TestingRecording Steps
- Browser Testing Results
- Advanced Options for Steps
- Authentication in Browser Testing
- Network Path TestingTerms and Concepts
- Mobile Application TestingTesting Steps
- Testing Results
- Advanced Options for Steps
- Supported Devices
- Restricted Networks
- Settings
- Test Suites
- PlatformDashboards
- Metrics
- Test Coverage
- Private Locations
- Connect APM
- Settings
- Exploring Synthetics DataSaved Views
- Results Explorer
- Guides
- NotificationsTemplate Variables
- Conditional Alerting
- Advanced Notifications
- Integrate with Statuspage
- Troubleshooting
- Data Security
- Local and Staging EnvironmentsTesting Multiple Environments
- Testing With Proxy, Firewall, or VPN
- CI/CD IntegrationsConfiguration
- Azure DevOps Extension
- CircleCI Orb
- GitHub Actions
- GitLab
- Jenkins
- Bitrise (Upload Application)
- Bitrise (Run Tests)
- Settings
- Results Explorer
- Metrics
- Guides
- Troubleshooting
- Vizualizing with ChartsChart Basics
- Pathways Diagram
- Funnel Analysis
- Retention Analysis
- Analytics Explorer
- Dashboards
- Segments
- Managing Profiles
- ExperimentsDefine Metrics
- Reading Experiment Results
- Minimum Detectable Effects
- Guides
- Troubleshooting
- BrowserSetup
- Privacy Options
- Developer Tools
- Troubleshooting
- MobileSetup and Configuration
- Privacy Options
- Developer Tools
- Impact on App Performance
- Troubleshooting
- Playlists
- Heatmaps
- Pipeline VisibilityAWS CodePipeline
- Azure Pipelines
- Buildkite
- CircleCI
- Codefresh
- GitHub Actions
- GitLab
- Jenkins
- TeamCity
- Other CI Providers
- Custom Commands
- Custom Tags and Measures
- Search and Manage
- ExplorerSearch Syntax
- Search Pipeline Executions
- Export
- Saved Views
- [Monitors](https://docs.datadoghq.com/monitors/types/ci/?tab=pipelines)
- Guides
- Troubleshooting
- Deployment VisibilityArgo CD
- CI Providers
- Explore DeploymentsSearch Syntax
- Facets
- Saved Views
- FeaturesCode Changes Detection
- Rollback Detection
- [Monitors](https://docs.datadoghq.com/monitors/types/ci/?tab=deployments)
- Setup
- Explore
- Setup.NET
- Java and JVM Languages
- JavaScript and TypeScript
- Python
- Ruby
- Swift
- Go
- JUnit Report Uploads
- Network Settings
- Tests in Containers
- Repositories
- ExplorerSearch Syntax
- Search Test Runs
- Export
- Saved Views
- [Monitors](https://docs.datadoghq.com/monitors/types/ci/?tab=tests)
- Test Health
- Flaky Test Management
- Working with Flaky TestsEarly Flake Detection
- Auto Test Retries
- Test Impact AnalysisSetup
- How It Works
- Troubleshooting
- Developer Workflows
- Code Coverage
- Instrument Browser Tests with RUM
- Instrument Swift Tests with RUM
- Correlate Logs and Tests
- Guides
- Troubleshooting
- Setup
- Data Collected
- Setup
- SetupDeployment Data Sources
- Failure Data Sources
- Change Failure Detection
- Data Collected
- Client SDKsAndroid and Android TV
- iOS and tvOS
- JavaScript
- React
- Server SDKsGo
- Java
- Node.js
- Python
- Ruby
- MCP Server
- Guides
- Detection RulesOOTB Rules
- NotificationsRules
- Variables
- Suppressions
- Automation PipelinesMute
- Add to Security Inbox
- Set Due Date Rules
- Security Inbox
- Threat Intelligence
- Audit Trail
- Access Control
- Account Takeover Protection
- Ticketing Integrations
- Research Feed
- Guides
- Ingest and EnrichContent Packs
- Bring Your Own Threat Intelligence
- Open Cybersecurity Schema Framework
- Detect and MonitorOOTB Rules
- Custom Detection Rules
- Version History
- Suppressions
- Historical Jobs
- MITRE ATT&CK Map
- Triage and InvestigateInvestigate Security Signals
- Risk Insights
- IOC Explorer
- Investigator
- Respond and ReportSecurity Operational Metrics
- Guides
- Data Security
- Static Code Analysis (SAST)Setup
- GitHub Actions
- Generic CI Providers
- AI-Enhanced Static Code Analysis
- SAST Custom Rule Creation Tutorial
- SAST Custom Rules
- SAST Custom Rules Guide
- Static Code Analysis (SAST) rules
- Software Composition Analysis (SCA)Static Setup
- Runtime Setup
- Library Inventory
- Secret ScanningGitHub Actions
- Generic CI Providers
- Secret Validation
- Runtime Code Analysis (IAST)Setup
- Security Controls
- Infrastructure as Code (IaC) SecuritySetup
- Exclusions
- Rules
- Developer Tool IntegrationsPull Request Comments
- PR Gates
- IDE Plugins
- Git Hooks
- Troubleshooting
- Guides
- SetupSupported Deployment Types
- Agentless Scanning
- Deploy the Agent
- Set Up CloudTrail Logs
- Set Up without Infrastructure Monitoring
- Deploy via Cloud Integrations
- Security Graph
- MisconfigurationsManage Compliance Rules
- Create Custom Rules
- Manage Compliance Posture
- Explore Misconfigurations
- Kubernetes Security Posture Management
- Identity Risks
- VulnerabilitiesHosts and Containers Compatibility
- OOTB Rules
- Review and RemediateMute Issues
- Automate Security Workflows
- Create Jira Issues
- Severity Scoring
- Guides
- TroubleshootingVulnerabilities
- Terms and Concepts
- How It WorksThreat Intelligence
- Trace Qualification
- User Monitoring and Protection
- Setup
- Overview
- Security SignalsAttackers Explorer
- Attacker Fingerprint
- Attacker Clustering
- Users Explorer
- PoliciesCustom Rules
- OOTB Rules
- In-App WAF Rules
- Tracing Library Configuration
- Exploit Prevention
- WAF Integrations
- API Security Inventory
- Guides
- Troubleshooting
- SetupDeploy the Agent
- Workload Protection Agent Variables
- Detection RulesOOTB Rules
- Custom Rules
- Investigate Security Signals
- Investigate Agent Events
- Creating Agent Rule ExpressionsWriting Custom Rule Expressions
- Linux Syntax
- Windows Syntax
- Coverage and Posture ManagementHosts and Containers
- Serverless
- Coverage
- Guides
- Troubleshooting
- SetupTelemetry Data
- Cloud Storage
- Scanning RulesLibrary Rules
- Custom Rules
- Guides
- Quickstart
- InstrumentationAutomatic
- SDK Reference
- HTTP API
- OpenTelemetry
- MonitoringQuerying spans and traces
- Correlate with APM
- Cluster Map
- Agent Monitoring
- MCP Clients
- Prompt Tracking
- Metrics
- Cost
- EvaluationsManaged Evaluations
- Custom LLM-as-a-Judge
- External Evaluations
- Compatibility
- Export API
- Experiments
- Data Security and RBAC
- Terms and Concepts
- Guides
- ConfigurationExplore Templates
- Set Up Pipelines
- Install the Worker
- Live Capture
- Update Existing Pipelines
- Access Control
- SourcesAkamai DataStream
- Amazon Data Firehose
- Amazon S3
- Azure Event Hubs
- Datadog Agent
- Datadog Lambda Extension
- Datadog Lambda Forwarder
- Filebeat
- Fluent
- Google Pub/Sub
- HTTP Client
- HTTP Server
- OpenTelemetry
- Kafka
- Logstash
- Socket
- Splunk HEC
- Splunk TCP
- Sumo Logic Hosted Collector
- Syslog
- ProcessorsAdd Environment Variables
- Add hostname
- Custom Processor
- Deduplicate
- Edit fields
- Enrichment Table
- Filter
- Generate Metrics
- Grok Parser
- Parse JSON
- Parse XML
- Quota
- Reduce
- Remap to OCSF
- Sample
- Sensitive Data Scanner
- Split Array
- Tag Control
- Throttle
- DestinationsAmazon OpenSearch
- Amazon S3
- Amazon Security Lake
- Azure Storage
- CrowdStrike NG-SIEM
- Datadog CloudPrem
- Datadog Logs
- Datadog Metrics
- Elasticsearch
- Google Cloud Storage
- Google Pub/Sub
- Google SecOps
- HTTP Client
- Kafka
- Microsoft Sentinel
- New Relic
- OpenSearch
- SentinelOne
- Socket
- Splunk HEC
- Sumo Logic Hosted Collector
- Syslog
- PacksAkamai CDN
- Amazon CloudFront
- Amazon VPC Flow Logs
- AWS CloudTrail
- Cisco ASA
- Cloudflare
- F5
- Fastly
- Fortinet Firewall
- HAProxy Ingress
- Istio Proxy
- Netskope
- NGINX
- Okta
- Palo Alto Firewall
- Windows XML
- ZScaler ZIA DNS
- Zscaler ZIA Firewall
- Zscaler ZIA Tunnel
- Zscaler ZIA Web Logs
- Search Syntax
- Scaling and PerformanceHandling Load and Backpressure
- Scaling Best Practices
- Monitoring and TroubleshootingWorker CLI Commands
- Monitoring Pipelines
- Pipeline Usage Metrics
- Troubleshooting
- Guides and ResourcesUpgrade Worker Guide
- Log Collection & IntegrationsBrowser
- Android
- iOS
- Flutter
- React Native
- Roku
- Kotlin Multiplatform
- C#
- Go
- Java
- Node.js
- PHP
- Python
- Ruby
- OpenTelemetry
- Agent Integrations
- Other Integrations
- Log ConfigurationPipelines
- Processors
- Parsing
- Pipeline Scanner
- Attributes and Aliasing
- Generate Metrics
- Indexes
- Flex Logs
- Archives
- Rehydrate from Archives
- Archive Search
- Forwarding
- Log ExplorerLive Tail
- Search Logs
- Search Syntax
- Advanced Search
- Facets
- Calculated Fields
- Analytics
- Patterns
- Transactions
- Visualize
- Log Side Panel
- Export
- Watchdog Insights for Logs
- Saved Views
- Error TrackingError Tracking Explorer
- Issue States
- Track Browser and Mobile Errors
- Track Backend Errors
- Error Grouping
- Manage Data Collection
- Dynamic Sampling
- Monitors
- Identify Suspect Commits
- Troubleshooting
- Reports
- Guides
- Data Security
- TroubleshootingLive Tail
- Quickstart
- Architecture
- InstallationAWS EKS
- Azure AKS
- Install Locally with Docker
- Log IngestionDatadog Agent
- Observability Pipelines
- REST API
- ConfigurationDatadog Account
- AWS Configuration
- Azure Configuration
- Cluster Sizing
- Ingress
- Processing
- Reverse Connection
- Management
- Supported Features
- Troubleshooting
- Switching Between Orgs
- Organization SettingsUser Management
- Login Methods
- OAuth Apps
- Custom Organization Landing Page
- Service Accounts
- IP Allowlist
- Domain Allowlist
- Cross-Organization Visibility
- Access ControlGranular Access
- Permissions
- Data Access
- SSO with SAMLConfiguring SAML
- User Group Mapping
- Active Directory
- Auth0
- Entra ID
- Google
- LastPass
- Okta
- SafeNet
- Troubleshooting
- SCIMOkta
- Microsoft Entra ID
- API and Application Keys
- TeamsTeam Management
- Provision with GitHub
- Governance Console
- Multi-Factor Authentication
- Audit TrailEvents
- Forwarding
- Guides
- Safety Center
- Plan and UsageCost Details
- Usage Details
- BillingPricing
- Credit Card
- Product Allotments
- Usage Metrics
- Usage Attribution
- Custom Metrics
- Containers
- Log Management
- APM
- Serverless
- Real User Monitoring
- CI Visibility
- Incident Response
- AWS Integration
- Azure Integration
- Google Cloud Integration
- Alibaba Integration
- vSphere Integration
- Workflow Automation
- Multi-org Accounts
- Guides
- Cloud-based Authentication
- Agent
- Cloud SIEM
- Kubernetes
- Log Management
- Real User Monitoring
- Synthetic Monitoring
- Tracing
- PCI Compliance
- HIPAA Compliance
- Data Retention Periods
- Guides
- 
Docs > 
API Reference > 
AWS IntegrationLanguage

English[English](https://docs.datadoghq.com/api/latest/aws-integration/?lang_pref=en)
[Français](https://docs.datadoghq.com/fr/api/latest/aws-integration/?lang_pref=fr)
[日本語](https://docs.datadoghq.com/ja/api/latest/aws-integration/?lang_pref=ja)
[한국어](https://docs.datadoghq.com/ko/api/latest/aws-integration/?lang_pref=ko)
[Español](https://docs.datadoghq.com/es/api/latest/aws-integration/?lang_pref=es)Datadog Site

US1
US3
US5
EU
AP1
AP2
US1-FED# AWS IntegrationConfigure your Datadog-AWS integration directly through the Datadog API.
For more information, see the AWS integration page.## Get all AWS tag filters- v1 (deprecated)
GET https://api.ap1.datadoghq.com/api/v1/integration/aws/filteringhttps://api.ap2.datadoghq.com/api/v1/integration/aws/filteringhttps://api.datadoghq.eu/api/v1/integration/aws/filteringhttps://api.ddog-gov.com/api/v1/integration/aws/filteringhttps://api.datadoghq.com/api/v1/integration/aws/filteringhttps://api.us3.datadoghq.com/api/v1/integration/aws/filteringhttps://api.us5.datadoghq.com/api/v1/integration/aws/filtering
### OverviewGet all AWS tag filters.
This endpoint requires the `aws_configuration_read` permission.### Arguments#### Query StringsName
Type
Description
account_id [*required*]
string
Only return AWS filters that matches this `account_id`.
### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
An array of tag filter rules by `namespace` and tag filter string.
Expand All
Field
Type
Description
filters
[object]
An array of tag filters.
namespace
enum
The namespace associated with the tag filter entry.
Allowed enum values: `elb,application_elb,sqs,rds,custom,network_elb,lambda,step_functions`tag_filter_str
string
The tag filter string.
```
{
"filters": [
{
"namespace": "string",
"tag_filter_str": "prod*"
}
]
}
```Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Get all AWS tag filtersCopy```

# Required query argumentsexport account_id="CHANGE_ME"# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/filtering?account_id=${account_id}" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Get all AWS tag filters```
"""
Get all AWS tag filters returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.list_aws_tag_filters(
account_id="account_id",
)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Get all AWS tag filters```
# Get all AWS tag filters returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new
p api_instance.list_aws_tag_filters("account_id")

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Get all AWS tag filters```
// Get all AWS tag filters returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.ListAWSTagFilters(ctx, "account_id")

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.ListAWSTagFilters`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.ListAWSTagFilters`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Get all AWS tag filters```
// Get all AWS tag filters returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSTagFilterListResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSTagFilterListResponse result = apiInstance.listAWSTagFilters("account_id");
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#listAWSTagFilters");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Get all AWS tag filters```
// Get all AWS tag filters returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.list_aws_tag_filters("account_id".to_string()).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Get all AWS tag filters```
/**
* Get all AWS tag filters returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiListAWSTagFiltersRequest = {
accountId: "account_id",
};

apiInstance
.listAWSTagFilters(params)
.then((data: v1.AWSTagFilterListResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## List available namespaces- v2 (latest)
GET https://api.ap1.datadoghq.com/api/v2/integration/aws/available_namespaceshttps://api.ap2.datadoghq.com/api/v2/integration/aws/available_namespaceshttps://api.datadoghq.eu/api/v2/integration/aws/available_namespaceshttps://api.ddog-gov.com/api/v2/integration/aws/available_namespaceshttps://api.datadoghq.com/api/v2/integration/aws/available_namespaceshttps://api.us3.datadoghq.com/api/v2/integration/aws/available_namespaceshttps://api.us5.datadoghq.com/api/v2/integration/aws/available_namespaces
### OverviewGet a list of available AWS CloudWatch namespaces that can send metrics to Datadog.
This endpoint requires the `aws_configuration_read` permission.### Response- 200
- 403
- 429
AWS Namespaces List object
- Model
- Example
AWS Namespaces response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS Namespaces response data.
attributes
object
AWS Namespaces response attributes.
namespaces [*required*]
[string]
AWS CloudWatch namespace.
id [*required*]
string
The `AWSNamespacesResponseData` `id`.
default: `namespaces`
type [*required*]
enum
The `AWSNamespacesResponseData` `type`.
Allowed enum values: `namespaces`default: `namespaces`
```
{
"data": {
"attributes": {
"namespaces": [
"AWS/ApiGateway"
]
},
"id": "namespaces",
"type": "namespaces"
}
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

List available namespacesCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/available_namespaces" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
List available namespaces```
"""
List available namespaces returns "AWS Namespaces List object" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.list_aws_namespaces()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
List available namespaces```
# List available namespaces returns "AWS Namespaces List object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new
p api_instance.list_aws_namespaces()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
List available namespaces```
// List available namespaces returns "AWS Namespaces List object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.ListAWSNamespaces(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.ListAWSNamespaces`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.ListAWSNamespaces`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
List available namespaces```
// List available namespaces returns "AWS Namespaces List object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSNamespacesResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSNamespacesResponse result = apiInstance.listAWSNamespaces();
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#listAWSNamespaces");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
List available namespaces```
// List available namespaces returns "AWS Namespaces List object" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.list_aws_namespaces().await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
List available namespaces```
/**
* List available namespaces returns "AWS Namespaces List object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

apiInstance
.listAWSNamespaces()
.then((data: v2.AWSNamespacesResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Set an AWS tag filter- v1 (deprecated)
POST https://api.ap1.datadoghq.com/api/v1/integration/aws/filteringhttps://api.ap2.datadoghq.com/api/v1/integration/aws/filteringhttps://api.datadoghq.eu/api/v1/integration/aws/filteringhttps://api.ddog-gov.com/api/v1/integration/aws/filteringhttps://api.datadoghq.com/api/v1/integration/aws/filteringhttps://api.us3.datadoghq.com/api/v1/integration/aws/filteringhttps://api.us5.datadoghq.com/api/v1/integration/aws/filtering
### OverviewSet an AWS tag filter.
This endpoint requires the `aws_configuration_edit` permission.### Request#### Body Data (required)Set an AWS tag filter using an `aws_account_identifier`, `namespace`, and filtering string.
Namespace options are `application_elb`, `elb`, `lambda`, `network_elb`, `rds`, `sqs`, and `custom`.- Model
- Example
Expand All
Field
Type
Description
account_id
string
Your AWS Account ID without dashes.
namespace
enum
The namespace associated with the tag filter entry.
Allowed enum values: `elb,application_elb,sqs,rds,custom,network_elb,lambda,step_functions`tag_filter_str
string
The tag filter string.
```
{
"account_id": "123456789012",
"namespace": "string",
"tag_filter_str": "prod*"
}
```### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
Expand All
Field
Type
Description
No response body
`{}`Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Set an AWS tag filterCopy```

# Curl commandcurl -X POST "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/filtering" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{}
EOF

```
Set an AWS tag filter```
"""
Set an AWS tag filter returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_namespace import AWSNamespace
from datadog_api_client.v1.model.aws_tag_filter_create_request import AWSTagFilterCreateRequest

body = AWSTagFilterCreateRequest(
account_id="123456789012",
namespace=AWSNamespace.ELB,
tag_filter_str="prod*",
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_aws_tag_filter(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Set an AWS tag filter```
# Set an AWS tag filter returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSTagFilterCreateRequest.new({
account_id: "123456789012",
namespace: DatadogAPIClient::V1::AWSNamespace::ELB,
tag_filter_str: "prod*",
})
p api_instance.create_aws_tag_filter(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Set an AWS tag filter```
// Set an AWS tag filter returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSTagFilterCreateRequest{
		AccountId: datadog.PtrString("123456789012"),
		Namespace: datadogV1.AWSNAMESPACE_ELB.Ptr(),
		TagFilterStr: datadog.PtrString("prod*"),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateAWSTagFilter(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateAWSTagFilter`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateAWSTagFilter`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Set an AWS tag filter```
// Set an AWS tag filter returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSNamespace;
import com.datadog.api.client.v1.model.AWSTagFilterCreateRequest;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSTagFilterCreateRequest body =
new AWSTagFilterCreateRequest()
.accountId("123456789012")
.namespace(AWSNamespace.ELB)
.tagFilterStr("prod*");

try {
apiInstance.createAWSTagFilter(body);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createAWSTagFilter");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Set an AWS tag filter```
// Set an AWS tag filter returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::model::AWSNamespace;
use datadog_api_client::datadogV1::model::AWSTagFilterCreateRequest;

#[tokio::main]
async fn main() {
let body = AWSTagFilterCreateRequest::new()
.account_id("123456789012".to_string())
.namespace(AWSNamespace::ELB)
.tag_filter_str("prod*".to_string());
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_aws_tag_filter(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Set an AWS tag filter```
/**
* Set an AWS tag filter returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiCreateAWSTagFilterRequest = {
body: {
accountId: "123456789012",
namespace: "elb",
tagFilterStr: "prod*",
},
};

apiInstance
.createAWSTagFilter(params)
.then((data: any) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Delete a tag filtering entry- v1 (deprecated)
DELETE https://api.ap1.datadoghq.com/api/v1/integration/aws/filteringhttps://api.ap2.datadoghq.com/api/v1/integration/aws/filteringhttps://api.datadoghq.eu/api/v1/integration/aws/filteringhttps://api.ddog-gov.com/api/v1/integration/aws/filteringhttps://api.datadoghq.com/api/v1/integration/aws/filteringhttps://api.us3.datadoghq.com/api/v1/integration/aws/filteringhttps://api.us5.datadoghq.com/api/v1/integration/aws/filtering
### OverviewDelete a tag filtering entry.
This endpoint requires the `aws_configuration_edit` permission.### Request#### Body Data (required)Delete a tag filtering entry for a given AWS account and `dd-aws` namespace.
- Model
- Example
Expand All
Field
Type
Description
account_id
string
The unique identifier of your AWS account.
namespace
enum
The namespace associated with the tag filter entry.
Allowed enum values: `elb,application_elb,sqs,rds,custom,network_elb,lambda,step_functions````
{
"account_id": "FAKEAC0FAKEAC2FAKEAC",
"namespace": "string"
}
```### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
Expand All
Field
Type
Description
No response body
`{}`Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Delete a tag filtering entryCopy```

# Curl commandcurl -X DELETE "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/filtering" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{}
EOF

```
Delete a tag filtering entry```
"""
Delete a tag filtering entry returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_namespace import AWSNamespace
from datadog_api_client.v1.model.aws_tag_filter_delete_request import AWSTagFilterDeleteRequest

body = AWSTagFilterDeleteRequest(
account_id="FAKEAC0FAKEAC2FAKEAC",
namespace=AWSNamespace.ELB,
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.delete_aws_tag_filter(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Delete a tag filtering entry```
# Delete a tag filtering entry returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSTagFilterDeleteRequest.new({
account_id: "FAKEAC0FAKEAC2FAKEAC",
namespace: DatadogAPIClient::V1::AWSNamespace::ELB,
})
p api_instance.delete_aws_tag_filter(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Delete a tag filtering entry```
// Delete a tag filtering entry returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSTagFilterDeleteRequest{
		AccountId: datadog.PtrString("FAKEAC0FAKEAC2FAKEAC"),
		Namespace: datadogV1.AWSNAMESPACE_ELB.Ptr(),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.DeleteAWSTagFilter(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.DeleteAWSTagFilter`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.DeleteAWSTagFilter`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Delete a tag filtering entry```
// Delete a tag filtering entry returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSNamespace;
import com.datadog.api.client.v1.model.AWSTagFilterDeleteRequest;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSTagFilterDeleteRequest body =
new AWSTagFilterDeleteRequest()
.accountId("FAKEAC0FAKEAC2FAKEAC")
.namespace(AWSNamespace.ELB);

try {
apiInstance.deleteAWSTagFilter(body);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#deleteAWSTagFilter");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Delete a tag filtering entry```
// Delete a tag filtering entry returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::model::AWSNamespace;
use datadog_api_client::datadogV1::model::AWSTagFilterDeleteRequest;

#[tokio::main]
async fn main() {
let body = AWSTagFilterDeleteRequest::new()
.account_id("FAKEAC0FAKEAC2FAKEAC".to_string())
.namespace(AWSNamespace::ELB);
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.delete_aws_tag_filter(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Delete a tag filtering entry```
/**
* Delete a tag filtering entry returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiDeleteAWSTagFilterRequest = {
body: {
accountId: "FAKEAC0FAKEAC2FAKEAC",
namespace: "elb",
},
};

apiInstance
.deleteAWSTagFilter(params)
.then((data: any) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Get an AWS integration by config ID- v2 (latest)
GET https://api.ap1.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.ap2.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.datadoghq.eu/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.ddog-gov.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.us3.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.us5.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}
### OverviewGet an AWS Account Integration Config by config ID.
This endpoint requires the `aws_configuration_read` permission.### Arguments#### Path ParametersName
Type
Description
aws_account_config_id [*required*]
string
Unique Datadog ID of the AWS Account Integration Config. To get the config ID for an account, use the
List all AWS integrations endpoint and query by AWS Account ID.### Response- 200
- 400
- 403
- 404
- 429
AWS Account object
- Model
- Example
AWS Account response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS Account response data.
attributes
object
AWS Account response attributes.
account_tags
[string]
Tags to apply to all hosts and metrics reporting for this account. Defaults to `[]`.
auth_config
 <oneOf>
AWS Authentication config.
Option 1
object
AWS Authentication config to integrate your account using an access key pair.
access_key_id [*required*]
string
AWS Access Key ID.
secret_access_key
string
AWS Secret Access Key.
Option 2
object
AWS Authentication config to integrate your account using an IAM role.
external_id
string
AWS IAM External ID for associated role.
role_name [*required*]
string
AWS IAM Role name.
aws_account_id [*required*]
string
AWS Account ID.
aws_partition
enum
AWS partition your AWS account is scoped to. Defaults to `aws`.
See Partitions
in the AWS documentation for more information.
Allowed enum values: `aws,aws-cn,aws-us-gov` aws_regions
 <oneOf>
AWS Regions to collect data from. Defaults to `include_all`.
Option 1
object
Include all regions. Defaults to `true`.
include_all [*required*]
boolean
Include all regions.
Option 2
object
Include only these regions.
include_only [*required*]
[string]
Include only these regions.
created_at
date-time
Timestamp of when the account integration was created.
logs_config
object
AWS Logs Collection config.
lambda_forwarder
object
Log Autosubscription configuration for Datadog Forwarder Lambda functions.
Automatically set up triggers for existing and new logs for some services,
ensuring no logs from new resources are missed and saving time spent on manual configuration.lambdas
[string]
List of Datadog Lambda Log Forwarder ARNs in your AWS account. Defaults to `[]`.
log_source_config
object
Log source configuration.
tag_filters
[object]
List of AWS log source tag filters. Defaults to `[]`.
source
string
The AWS log source to which the tag filters defined in `tags` are applied.
tags
[string]
The AWS resource tags to filter on for the log source specified by `source`.
sources
[string]
List of service IDs set to enable automatic log collection.
Discover the list of available services with the
Get list of AWS log ready services
endpoint. metrics_config
object
AWS Metrics Collection config.
automute_enabled
boolean
Enable EC2 automute for AWS metrics. Defaults to `true`.
collect_cloudwatch_alarms
boolean
Enable CloudWatch alarms collection. Defaults to `false`.
collect_custom_metrics
boolean
Enable custom metrics collection. Defaults to `false`.
enabled
boolean
Enable AWS metrics collection. Defaults to `true`.
namespace_filters
 <oneOf>
AWS Metrics namespace filters. Defaults to `exclude_only`.
Option 1
object
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls.exclude_only [*required*]
[string]
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls. Option 2
object
Include only these namespaces.
include_only [*required*]
[string]
Include only these namespaces.
tag_filters
[object]
AWS Metrics collection tag filters list. Defaults to `[]`.
namespace
string
The AWS service for which the tag filters defined in `tags` will be applied.
tags
[string]
The AWS resource tags to filter on for the service specified by `namespace`.
modified_at
date-time
Timestamp of when the account integration was updated.
resources_config
object
AWS Resources Collection config.
cloud_security_posture_management_collection
boolean
Enable Cloud Security Management to scan AWS resources for vulnerabilities, misconfigurations,
identity risks, and compliance violations. Defaults to `false`.
Requires `extended_collection` to be set to `true`.extended_collection
boolean
Whether Datadog collects additional attributes and configuration information about the resources
in your AWS account. Defaults to `true`. Required for `cloud_security_posture_management_collection`. traces_config
object
AWS Traces Collection config.
xray_services
 <oneOf>
AWS X-Ray services to collect traces from. Defaults to `include_only`.
Option 1
object
Include all services.
include_all [*required*]
boolean
Include all services.
Option 2
object
Include only these services. Defaults to `[]`.
include_only [*required*]
[string]
Include only these services.
id [*required*]
string
Unique Datadog ID of the AWS Account Integration Config.
To get the config ID for an account, use the
List all AWS integrations
endpoint and query by AWS Account ID.type [*required*]
enum
AWS Account resource type.
Allowed enum values: `account`default: `account`
```
{
"data": {
"attributes": {
"account_tags": [
"env:prod"
],
"auth_config": {
"access_key_id": "AKIAIOSFODNN7EXAMPLE",
"secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"aws_regions": {
"include_all": true
},
"created_at": "2019-09-19T10:00:00.000Z",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"env:prod"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": false,
"collect_custom_metrics": false,
"enabled": true,
"namespace_filters": {
"exclude_only": [
"AWS/SQS",
"AWS/ElasticMapReduce",
"AWS/Usage"
]
},
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"datadog:true"
]
}
]
},
"modified_at": "2019-09-19T10:00:00.000Z",
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": true
},
"traces_config": {
"xray_services": {
"include_all": false
}
}
},
"id": "00000000-abcd-0001-0000-000000000000",
"type": "account"
}
}
```Bad Request
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Not Found
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Get an AWS integration by config IDCopy```

# Path parametersexport aws_account_config_id="CHANGE_ME"# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/accounts/${aws_account_config_id}" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Get an AWS integration by config ID```
"""
Get an AWS integration by config ID returns "AWS Account object" response
"""

from os import environ
from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

# there is a valid "aws_account_v2" in the system
AWS_ACCOUNT_V2_DATA_ID = environ["AWS_ACCOUNT_V2_DATA_ID"]

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.get_aws_account(
aws_account_config_id=AWS_ACCOUNT_V2_DATA_ID,
)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Get an AWS integration by config ID```
# Get an AWS integration by config ID returns "AWS Account object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new

# there is a valid "aws_account_v2" in the system
AWS_ACCOUNT_V2_DATA_ID = ENV["AWS_ACCOUNT_V2_DATA_ID"]
p api_instance.get_aws_account(AWS_ACCOUNT_V2_DATA_ID)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Get an AWS integration by config ID```
// Get an AWS integration by config ID returns "AWS Account object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	// there is a valid "aws_account_v2" in the system
	AwsAccountV2DataID := os.Getenv("AWS_ACCOUNT_V2_DATA_ID")

	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.GetAWSAccount(ctx, AwsAccountV2DataID)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.GetAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.GetAWSAccount`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Get an AWS integration by config ID```
// Get an AWS integration by config ID returns "AWS Account object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSAccountResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

// there is a valid "aws_account_v2" in the system
String AWS_ACCOUNT_V2_DATA_ID = System.getenv("AWS_ACCOUNT_V2_DATA_ID");

try {
AWSAccountResponse result = apiInstance.getAWSAccount(AWS_ACCOUNT_V2_DATA_ID);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#getAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Get an AWS integration by config ID```
// Get an AWS integration by config ID returns "AWS Account object" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
// there is a valid "aws_account_v2" in the system
let aws_account_v2_data_id = std::env::var("AWS_ACCOUNT_V2_DATA_ID").unwrap();
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.get_aws_account(aws_account_v2_data_id.clone()).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Get an AWS integration by config ID```
/**
* Get an AWS integration by config ID returns "AWS Account object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

// there is a valid "aws_account_v2" in the system
const AWS_ACCOUNT_V2_DATA_ID = process.env.AWS_ACCOUNT_V2_DATA_ID as string;

const params: v2.AWSIntegrationApiGetAWSAccountRequest = {
awsAccountConfigId: AWS_ACCOUNT_V2_DATA_ID,
};

apiInstance
.getAWSAccount(params)
.then((data: v2.AWSAccountResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Generate a new external ID- v1
- v2 (latest)
PUT https://api.ap1.datadoghq.com/api/v1/integration/aws/generate_new_external_idhttps://api.ap2.datadoghq.com/api/v1/integration/aws/generate_new_external_idhttps://api.datadoghq.eu/api/v1/integration/aws/generate_new_external_idhttps://api.ddog-gov.com/api/v1/integration/aws/generate_new_external_idhttps://api.datadoghq.com/api/v1/integration/aws/generate_new_external_idhttps://api.us3.datadoghq.com/api/v1/integration/aws/generate_new_external_idhttps://api.us5.datadoghq.com/api/v1/integration/aws/generate_new_external_id
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** Generate a new AWS external ID for a given AWS account ID and role name pair.
This endpoint requires the `aws_configuration_edit` permission.### Request#### Body Data (required)Your Datadog role delegation name.
For more information about your AWS account Role name,
see the Datadog AWS integration configuration info.- Model
- Example
Expand All
Field
Type
Description
access_key_id
string
Your AWS access key ID. Only required if your AWS account is a GovCloud or China account.
account_id
string
Your AWS Account ID without dashes.
account_specific_namespace_rules
object
An object (in the form `{"namespace1":true/false, "namespace2":true/false}`) containing user-supplied overrides
for AWS namespace metric collection. **Important**: This field only contains namespaces explicitly configured through API calls,
not the comprehensive enabled or disabled status of all namespaces. If a namespace is absent from this field, it uses Datadog's
internal defaults (all namespaces enabled by default, except `AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage`).
For a complete view of all namespace statuses, use the V2 AWS Integration API instead.<any-key>
boolean
A list of additional properties.
cspm_resource_collection_enabled
boolean
Whether Datadog collects cloud security posture management resources from your AWS account. This includes additional resources not covered under the general `resource_collection`.
excluded_regions
[string]
An array of AWS regions
to exclude from metrics collection.extended_resource_collection_enabled
boolean
Whether Datadog collects additional attributes and configuration information about the resources in your AWS account. Required for `cspm_resource_collection`.
filter_tags
[string]
The array of EC2 tags (in the form `key:value`) defines a filter that Datadog uses when collecting metrics from EC2.
Wildcards, such as `?` (for single characters) and `*` (for multiple characters) can also be used.
Only hosts that match one of the defined tags
will be imported into Datadog. The rest will be ignored.
Host matching a given tag can also be excluded by adding `!` before the tag.
For example, `env:production,instance-type:c1.*,!region:us-east-1`host_tags
[string]
Array of tags (in the form `key:value`) to add to all hosts
and metrics reporting through this integration.metrics_collection_enabled
boolean
Whether Datadog collects metrics for this AWS account.
default: `true`
resource_collection_enabled
boolean
**DEPRECATED**: Deprecated in favor of 'extended_resource_collection_enabled'. Whether Datadog collects a standard set of resources from your AWS account.
role_name
string
Your Datadog role delegation name.
secret_access_key
string
Your AWS secret access key. Only required if your AWS account is a GovCloud or China account.
```
{
"access_key_id": "string",
"account_id": "123456789012",
"account_specific_namespace_rules": {
"<any-key>": false
},
"cspm_resource_collection_enabled": true,
"excluded_regions": [
"us-east-1",
"us-west-2"
],
"extended_resource_collection_enabled": true,
"filter_tags": [
"$KEY:$VALUE"
],
"host_tags": [
"$KEY:$VALUE"
],
"metrics_collection_enabled": false,
"resource_collection_enabled": true,
"role_name": "DatadogAWSIntegrationRole",
"secret_access_key": "string"
}
```### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
The Response returned by the AWS Create Account call.
Expand All
Field
Type
Description
external_id
string
AWS external_id.
```
{
"external_id": "string"
}
```Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Generate a new external IDCopy```

# Curl commandcurl -X PUT "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/generate_new_external_id" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{}
EOF

```
Generate a new external ID```
"""
Generate a new external ID returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_account import AWSAccount

body = AWSAccount(
account_id="123456789012",
account_specific_namespace_rules=dict(
auto_scaling=False,
opswork=False,
),
cspm_resource_collection_enabled=True,
excluded_regions=[
"us-east-1",
"us-west-2",
],
extended_resource_collection_enabled=True,
filter_tags=[
"$KEY:$VALUE",
],
host_tags=[
"$KEY:$VALUE",
],
metrics_collection_enabled=False,
resource_collection_enabled=True,
role_name="DatadogAWSIntegrationRole",
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_new_aws_external_id(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Generate a new external ID```
# Generate a new external ID returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSAccount.new({
account_id: "123456789012",
account_specific_namespace_rules: {
auto_scaling: false, opswork: false,
},
cspm_resource_collection_enabled: true,
excluded_regions: [
"us-east-1",
"us-west-2",
],
extended_resource_collection_enabled: true,
filter_tags: [
"$KEY:$VALUE",
],
host_tags: [
"$KEY:$VALUE",
],
metrics_collection_enabled: false,
resource_collection_enabled: true,
role_name: "DatadogAWSIntegrationRole",
})
p api_instance.create_new_aws_external_id(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Generate a new external ID```
// Generate a new external ID returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSAccount{
		AccountId: datadog.PtrString("123456789012"),
		AccountSpecificNamespaceRules: map[string]bool{
			"auto_scaling": false,
			"opswork": false,
		},
		CspmResourceCollectionEnabled: datadog.PtrBool(true),
		ExcludedRegions: []string{
			"us-east-1",
			"us-west-2",
		},
		ExtendedResourceCollectionEnabled: datadog.PtrBool(true),
		FilterTags: []string{
			"$KEY:$VALUE",
		},
		HostTags: []string{
			"$KEY:$VALUE",
		},
		MetricsCollectionEnabled: datadog.PtrBool(false),
		ResourceCollectionEnabled: datadog.PtrBool(true),
		RoleName: datadog.PtrString("DatadogAWSIntegrationRole"),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateNewAWSExternalID(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateNewAWSExternalID`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateNewAWSExternalID`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Generate a new external ID```
// Generate a new external ID returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSAccount;
import com.datadog.api.client.v1.model.AWSAccountCreateResponse;
import java.util.Arrays;
import java.util.Collections;
import java.util.Map;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSAccount body =
new AWSAccount()
.accountId("123456789012")
.accountSpecificNamespaceRules(
Map.ofEntries(Map.entry("auto_scaling", false), Map.entry("opswork", false)))
.cspmResourceCollectionEnabled(true)
.excludedRegions(Arrays.asList("us-east-1", "us-west-2"))
.extendedResourceCollectionEnabled(true)
.filterTags(Collections.singletonList("$KEY:$VALUE"))
.hostTags(Collections.singletonList("$KEY:$VALUE"))
.metricsCollectionEnabled(false)
.resourceCollectionEnabled(true)
.roleName("DatadogAWSIntegrationRole");

try {
AWSAccountCreateResponse result = apiInstance.createNewAWSExternalID(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createNewAWSExternalID");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Generate a new external ID```
// Generate a new external ID returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::model::AWSAccount;
use std::collections::BTreeMap;

#[tokio::main]
async fn main() {
let body = AWSAccount::new()
.account_id("123456789012".to_string())
.account_specific_namespace_rules(BTreeMap::from([
("auto_scaling".to_string(), false),
("opswork".to_string(), false),
]))
.cspm_resource_collection_enabled(true)
.excluded_regions(vec!["us-east-1".to_string(), "us-west-2".to_string()])
.extended_resource_collection_enabled(true)
.filter_tags(vec!["$KEY:$VALUE".to_string()])
.host_tags(vec!["$KEY:$VALUE".to_string()])
.metrics_collection_enabled(false)
.resource_collection_enabled(true)
.role_name("DatadogAWSIntegrationRole".to_string());
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_new_aws_external_id(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Generate a new external ID```
/**
* Generate a new external ID returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiCreateNewAWSExternalIDRequest = {
body: {
accountId: "123456789012",
accountSpecificNamespaceRules: {
auto_scaling: false,
opswork: false,
},
cspmResourceCollectionEnabled: true,
excludedRegions: ["us-east-1", "us-west-2"],
extendedResourceCollectionEnabled: true,
filterTags: ["$KEY:$VALUE"],
hostTags: ["$KEY:$VALUE"],
metricsCollectionEnabled: false,
resourceCollectionEnabled: true,
roleName: "DatadogAWSIntegrationRole",
},
};

apiInstance
.createNewAWSExternalID(params)
.then((data: v1.AWSAccountCreateResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```POST https://api.ap1.datadoghq.com/api/v2/integration/aws/generate_new_external_idhttps://api.ap2.datadoghq.com/api/v2/integration/aws/generate_new_external_idhttps://api.datadoghq.eu/api/v2/integration/aws/generate_new_external_idhttps://api.ddog-gov.com/api/v2/integration/aws/generate_new_external_idhttps://api.datadoghq.com/api/v2/integration/aws/generate_new_external_idhttps://api.us3.datadoghq.com/api/v2/integration/aws/generate_new_external_idhttps://api.us5.datadoghq.com/api/v2/integration/aws/generate_new_external_id
### OverviewGenerate a new external ID for AWS role-based authentication.
This endpoint requires the `aws_configuration_edit` permission.### Response- 200
- 403
- 429
AWS External ID object
- Model
- Example
AWS External ID response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS External ID response body.
attributes
object
AWS External ID response body.
external_id [*required*]
string
AWS IAM External ID for associated role.
id [*required*]
string
The `AWSNewExternalIDResponseData` `id`.
default: `external_id`
type [*required*]
enum
The `AWSNewExternalIDResponseData` `type`.
Allowed enum values: `external_id`default: `external_id`
```
{
"data": {
"attributes": {
"external_id": "acb8f6b8a844443dbb726d07dcb1a870"
},
"id": "external_id",
"type": "external_id"
}
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Generate a new external IDCopy```

# Curl commandcurl -X POST "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/generate_new_external_id" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Generate a new external ID```
"""
Generate a new external ID returns "AWS External ID object" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_new_aws_external_id()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Generate a new external ID```
# Generate a new external ID returns "AWS External ID object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new
p api_instance.create_new_aws_external_id()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Generate a new external ID```
// Generate a new external ID returns "AWS External ID object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateNewAWSExternalID(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateNewAWSExternalID`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateNewAWSExternalID`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Generate a new external ID```
// Generate a new external ID returns "AWS External ID object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSNewExternalIDResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSNewExternalIDResponse result = apiInstance.createNewAWSExternalID();
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createNewAWSExternalID");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Generate a new external ID```
// Generate a new external ID returns "AWS External ID object" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_new_aws_external_id().await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Generate a new external ID```
/**
* Generate a new external ID returns "AWS External ID object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

apiInstance
.createNewAWSExternalID()
.then((data: v2.AWSNewExternalIDResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## List namespace rules- v1 (deprecated)
GET https://api.ap1.datadoghq.com/api/v1/integration/aws/available_namespace_ruleshttps://api.ap2.datadoghq.com/api/v1/integration/aws/available_namespace_ruleshttps://api.datadoghq.eu/api/v1/integration/aws/available_namespace_ruleshttps://api.ddog-gov.com/api/v1/integration/aws/available_namespace_ruleshttps://api.datadoghq.com/api/v1/integration/aws/available_namespace_ruleshttps://api.us3.datadoghq.com/api/v1/integration/aws/available_namespace_ruleshttps://api.us5.datadoghq.com/api/v1/integration/aws/available_namespace_rules
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** List all namespace rules for a given Datadog-AWS integration. This endpoint takes no arguments.
This endpoint requires the `aws_configuration_read` permission.### Response- 200
- 403
- 429
OK
- Model
- Example
Expand All
Field
Type
Description

string
```
[
"namespace1",
"namespace2",
"namespace3"
]
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)
- [Ruby [legacy]](?code-lang=ruby-legacy#)
- [Python [legacy]](?code-lang=python-legacy#)

List namespace rulesCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/available_namespace_rules" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
List namespace rules```
"""
List namespace rules returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.list_available_aws_namespaces()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
List namespace rules```
# List namespace rules returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new
p api_instance.list_available_aws_namespaces()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
List namespace rules```
require 'rubygems'
require 'dogapi'

api_key = '<DATADOG_API_KEY>'
app_key = '<DATADOG_APPLICATION_KEY>'

dog = Dogapi::Client.new(api_key, app_key)

dog.aws_integration_list_namespaces

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby-legacy) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
List namespace rules```
// List namespace rules returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.ListAvailableAWSNamespaces(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.ListAvailableAWSNamespaces`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.ListAvailableAWSNamespaces`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
List namespace rules```
// List namespace rules returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import java.util.List;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
List<String> result = apiInstance.listAvailableAWSNamespaces();
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#listAvailableAWSNamespaces");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
List namespace rules```
from datadog import initialize, api

options = {
'api_key': '<DATADOG_API_KEY>',
'app_key': '<DATADOG_APPLICATION_KEY>'
}

initialize(**options)

api.AwsIntegration.list_namespace_rules()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python-legacy) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python "example.py"`
```
List namespace rules```
// List namespace rules returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.list_available_aws_namespaces().await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
List namespace rules```
/**
* List namespace rules returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

apiInstance
.listAvailableAWSNamespaces()
.then((data: string[]) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Get AWS integration IAM permissions- v2 (latest)
GET https://api.ap1.datadoghq.com/api/v2/integration/aws/iam_permissionshttps://api.ap2.datadoghq.com/api/v2/integration/aws/iam_permissionshttps://api.datadoghq.eu/api/v2/integration/aws/iam_permissionshttps://api.ddog-gov.com/api/v2/integration/aws/iam_permissionshttps://api.datadoghq.com/api/v2/integration/aws/iam_permissionshttps://api.us3.datadoghq.com/api/v2/integration/aws/iam_permissionshttps://api.us5.datadoghq.com/api/v2/integration/aws/iam_permissions
### OverviewGet all AWS IAM permissions required for the AWS integration.
### Response- 200
- 429
AWS IAM Permissions object
- Model
- Example
AWS Integration IAM Permissions response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS Integration IAM Permissions response data.
attributes
object
AWS Integration IAM Permissions response attributes.
permissions [*required*]
[string]
List of AWS IAM permissions required for the integration.
id
string
The `AWSIntegrationIamPermissionsResponseData` `id`.
default: `permissions`
type
enum
The `AWSIntegrationIamPermissionsResponseData` `type`.
Allowed enum values: `permissions`default: `permissions`
```
{
"data": {
"attributes": {
"permissions": [
"account:GetContactInformation",
"amplify:ListApps",
"amplify:ListArtifacts",
"amplify:ListBackendEnvironments",
"amplify:ListBranches"
]
},
"id": "permissions",
"type": "permissions"
}
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Get AWS integration IAM permissionsCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/iam_permissions" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Get AWS integration IAM permissions```
"""
Get AWS integration IAM permissions returns "AWS IAM Permissions object" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.get_aws_integration_iam_permissions()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Get AWS integration IAM permissions```
# Get AWS integration IAM permissions returns "AWS IAM Permissions object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new
p api_instance.get_aws_integration_iam_permissions()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Get AWS integration IAM permissions```
// Get AWS integration IAM permissions returns "AWS IAM Permissions object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.GetAWSIntegrationIAMPermissions(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.GetAWSIntegrationIAMPermissions`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.GetAWSIntegrationIAMPermissions`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Get AWS integration IAM permissions```
// Get AWS integration IAM permissions returns "AWS IAM Permissions object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSIntegrationIamPermissionsResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSIntegrationIamPermissionsResponse result = apiInstance.getAWSIntegrationIAMPermissions();
System.out.println(result);
} catch (ApiException e) {
System.err.println(
"Exception when calling AwsIntegrationApi#getAWSIntegrationIAMPermissions");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Get AWS integration IAM permissions```
// Get AWS integration IAM permissions returns "AWS IAM Permissions object"
// response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.get_aws_integration_iam_permissions().await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Get AWS integration IAM permissions```
/**
* Get AWS integration IAM permissions returns "AWS IAM Permissions object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

apiInstance
.getAWSIntegrationIAMPermissions()
.then((data: v2.AWSIntegrationIamPermissionsResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## List all AWS integrations- v1
- v2 (latest)
GET https://api.ap1.datadoghq.com/api/v1/integration/awshttps://api.ap2.datadoghq.com/api/v1/integration/awshttps://api.datadoghq.eu/api/v1/integration/awshttps://api.ddog-gov.com/api/v1/integration/awshttps://api.datadoghq.com/api/v1/integration/awshttps://api.us3.datadoghq.com/api/v1/integration/awshttps://api.us5.datadoghq.com/api/v1/integration/aws
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** List all Datadog-AWS integrations available in your Datadog organization.
This endpoint requires the `aws_configuration_read` permission.### Arguments#### Query StringsName
Type
Description
account_id
string
Only return AWS accounts that matches this `account_id`.
role_name
string
Only return AWS accounts that matches this role_name.
access_key_id
string
Only return AWS accounts that matches this `access_key_id`.
### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
List of enabled AWS accounts.
Expand All
Field
Type
Description
accounts
[object]
List of enabled AWS accounts.
access_key_id
string
Your AWS access key ID. Only required if your AWS account is a GovCloud or China account.
account_id
string
Your AWS Account ID without dashes.
account_specific_namespace_rules
object
An object (in the form `{"namespace1":true/false, "namespace2":true/false}`) containing user-supplied overrides
for AWS namespace metric collection. **Important**: This field only contains namespaces explicitly configured through API calls,
not the comprehensive enabled or disabled status of all namespaces. If a namespace is absent from this field, it uses Datadog's
internal defaults (all namespaces enabled by default, except `AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage`).
For a complete view of all namespace statuses, use the V2 AWS Integration API instead.<any-key>
boolean
A list of additional properties.
cspm_resource_collection_enabled
boolean
Whether Datadog collects cloud security posture management resources from your AWS account. This includes additional resources not covered under the general `resource_collection`.
excluded_regions
[string]
An array of AWS regions
to exclude from metrics collection.extended_resource_collection_enabled
boolean
Whether Datadog collects additional attributes and configuration information about the resources in your AWS account. Required for `cspm_resource_collection`.
filter_tags
[string]
The array of EC2 tags (in the form `key:value`) defines a filter that Datadog uses when collecting metrics from EC2.
Wildcards, such as `?` (for single characters) and `*` (for multiple characters) can also be used.
Only hosts that match one of the defined tags
will be imported into Datadog. The rest will be ignored.
Host matching a given tag can also be excluded by adding `!` before the tag.
For example, `env:production,instance-type:c1.*,!region:us-east-1`host_tags
[string]
Array of tags (in the form `key:value`) to add to all hosts
and metrics reporting through this integration.metrics_collection_enabled
boolean
Whether Datadog collects metrics for this AWS account.
default: `true`
resource_collection_enabled
boolean
**DEPRECATED**: Deprecated in favor of 'extended_resource_collection_enabled'. Whether Datadog collects a standard set of resources from your AWS account.
role_name
string
Your Datadog role delegation name.
secret_access_key
string
Your AWS secret access key. Only required if your AWS account is a GovCloud or China account.
```
{
"accounts": [
{
"access_key_id": "string",
"account_id": "123456789012",
"account_specific_namespace_rules": {
"<any-key>": false
},
"cspm_resource_collection_enabled": true,
"excluded_regions": [
"us-east-1",
"us-west-2"
],
"extended_resource_collection_enabled": true,
"filter_tags": [
"$KEY:$VALUE"
],
"host_tags": [
"$KEY:$VALUE"
],
"metrics_collection_enabled": false,
"resource_collection_enabled": true,
"role_name": "DatadogAWSIntegrationRole",
"secret_access_key": "string"
}
]
}
```Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)
- [Ruby [legacy]](?code-lang=ruby-legacy#)
- [Python [legacy]](?code-lang=python-legacy#)

List all AWS integrationsCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
List all AWS integrations```
"""
List all AWS integrations returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.list_aws_accounts()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
List all AWS integrations```
# List all AWS integrations returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new
p api_instance.list_aws_accounts()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
List all AWS integrations```
require 'rubygems'
require 'dogapi'

api_key = '<DATADOG_API_KEY>'
app_key = '<DATADOG_APPLICATION_KEY>'

dog = Dogapi::Client.new(api_key, app_key)

dog.aws_integration_list

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby-legacy) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
List all AWS integrations```
// List all AWS integrations returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.ListAWSAccounts(ctx, *datadogV1.NewListAWSAccountsOptionalParameters())

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.ListAWSAccounts`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.ListAWSAccounts`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
List all AWS integrations```
// List all AWS integrations returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSAccountListResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSAccountListResponse result = apiInstance.listAWSAccounts();
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#listAWSAccounts");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
List all AWS integrations```
from datadog import initialize, api

options = {
'api_key': '<DATADOG_API_KEY>',
'app_key': '<DATADOG_APPLICATION_KEY>'
}

initialize(**options)

api.AwsIntegration.list()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python-legacy) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python "example.py"`
```
List all AWS integrations```
// List all AWS integrations returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::api_aws_integration::ListAWSAccountsOptionalParams;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api
.list_aws_accounts(ListAWSAccountsOptionalParams::default())
.await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
List all AWS integrations```
/**
* List all AWS integrations returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

apiInstance
.listAWSAccounts()
.then((data: v1.AWSAccountListResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```GET https://api.ap1.datadoghq.com/api/v2/integration/aws/accountshttps://api.ap2.datadoghq.com/api/v2/integration/aws/accountshttps://api.datadoghq.eu/api/v2/integration/aws/accountshttps://api.ddog-gov.com/api/v2/integration/aws/accountshttps://api.datadoghq.com/api/v2/integration/aws/accountshttps://api.us3.datadoghq.com/api/v2/integration/aws/accountshttps://api.us5.datadoghq.com/api/v2/integration/aws/accounts
### OverviewGet a list of AWS Account Integration Configs.
This endpoint requires the `aws_configuration_read` permission.### Arguments#### Query StringsName
Type
Description
aws_account_id
string
Optional query parameter to filter accounts by AWS Account ID.
If not provided, all accounts are returned.### Response- 200
- 403
- 429
AWS Accounts List object
- Model
- Example
AWS Accounts response body.
Expand All
Field
Type
Description
data [*required*]
[object]
List of AWS Account Integration Configs.
attributes
object
AWS Account response attributes.
account_tags
[string]
Tags to apply to all hosts and metrics reporting for this account. Defaults to `[]`.
auth_config
 <oneOf>
AWS Authentication config.
Option 1
object
AWS Authentication config to integrate your account using an access key pair.
access_key_id [*required*]
string
AWS Access Key ID.
secret_access_key
string
AWS Secret Access Key.
Option 2
object
AWS Authentication config to integrate your account using an IAM role.
external_id
string
AWS IAM External ID for associated role.
role_name [*required*]
string
AWS IAM Role name.
aws_account_id [*required*]
string
AWS Account ID.
aws_partition
enum
AWS partition your AWS account is scoped to. Defaults to `aws`.
See Partitions
in the AWS documentation for more information.
Allowed enum values: `aws,aws-cn,aws-us-gov` aws_regions
 <oneOf>
AWS Regions to collect data from. Defaults to `include_all`.
Option 1
object
Include all regions. Defaults to `true`.
include_all [*required*]
boolean
Include all regions.
Option 2
object
Include only these regions.
include_only [*required*]
[string]
Include only these regions.
created_at
date-time
Timestamp of when the account integration was created.
logs_config
object
AWS Logs Collection config.
lambda_forwarder
object
Log Autosubscription configuration for Datadog Forwarder Lambda functions.
Automatically set up triggers for existing and new logs for some services,
ensuring no logs from new resources are missed and saving time spent on manual configuration.lambdas
[string]
List of Datadog Lambda Log Forwarder ARNs in your AWS account. Defaults to `[]`.
log_source_config
object
Log source configuration.
tag_filters
[object]
List of AWS log source tag filters. Defaults to `[]`.
source
string
The AWS log source to which the tag filters defined in `tags` are applied.
tags
[string]
The AWS resource tags to filter on for the log source specified by `source`.
sources
[string]
List of service IDs set to enable automatic log collection.
Discover the list of available services with the
Get list of AWS log ready services
endpoint. metrics_config
object
AWS Metrics Collection config.
automute_enabled
boolean
Enable EC2 automute for AWS metrics. Defaults to `true`.
collect_cloudwatch_alarms
boolean
Enable CloudWatch alarms collection. Defaults to `false`.
collect_custom_metrics
boolean
Enable custom metrics collection. Defaults to `false`.
enabled
boolean
Enable AWS metrics collection. Defaults to `true`.
namespace_filters
 <oneOf>
AWS Metrics namespace filters. Defaults to `exclude_only`.
Option 1
object
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls.exclude_only [*required*]
[string]
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls. Option 2
object
Include only these namespaces.
include_only [*required*]
[string]
Include only these namespaces.
tag_filters
[object]
AWS Metrics collection tag filters list. Defaults to `[]`.
namespace
string
The AWS service for which the tag filters defined in `tags` will be applied.
tags
[string]
The AWS resource tags to filter on for the service specified by `namespace`.
modified_at
date-time
Timestamp of when the account integration was updated.
resources_config
object
AWS Resources Collection config.
cloud_security_posture_management_collection
boolean
Enable Cloud Security Management to scan AWS resources for vulnerabilities, misconfigurations,
identity risks, and compliance violations. Defaults to `false`.
Requires `extended_collection` to be set to `true`.extended_collection
boolean
Whether Datadog collects additional attributes and configuration information about the resources
in your AWS account. Defaults to `true`. Required for `cloud_security_posture_management_collection`. traces_config
object
AWS Traces Collection config.
xray_services
 <oneOf>
AWS X-Ray services to collect traces from. Defaults to `include_only`.
Option 1
object
Include all services.
include_all [*required*]
boolean
Include all services.
Option 2
object
Include only these services. Defaults to `[]`.
include_only [*required*]
[string]
Include only these services.
id [*required*]
string
Unique Datadog ID of the AWS Account Integration Config.
To get the config ID for an account, use the
List all AWS integrations
endpoint and query by AWS Account ID.type [*required*]
enum
AWS Account resource type.
Allowed enum values: `account`default: `account`
```
{
"data": [
{
"attributes": {
"account_tags": [
"env:prod"
],
"auth_config": {
"access_key_id": "AKIAIOSFODNN7EXAMPLE",
"secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"aws_regions": {
"include_all": true
},
"created_at": "2019-09-19T10:00:00.000Z",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"env:prod"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": false,
"collect_custom_metrics": false,
"enabled": true,
"namespace_filters": {
"exclude_only": [
"AWS/SQS",
"AWS/ElasticMapReduce",
"AWS/Usage"
]
},
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"datadog:true"
]
}
]
},
"modified_at": "2019-09-19T10:00:00.000Z",
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": true
},
"traces_config": {
"xray_services": {
"include_all": false
}
}
},
"id": "00000000-abcd-0001-0000-000000000000",
"type": "account"
}
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

List all AWS integrationsCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/accounts" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
List all AWS integrations```
"""
List all AWS integrations returns "AWS Accounts List object" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.list_aws_accounts()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
List all AWS integrations```
# List all AWS integrations returns "AWS Accounts List object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new
p api_instance.list_aws_accounts()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
List all AWS integrations```
// List all AWS integrations returns "AWS Accounts List object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.ListAWSAccounts(ctx, *datadogV2.NewListAWSAccountsOptionalParameters())

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.ListAWSAccounts`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.ListAWSAccounts`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
List all AWS integrations```
// List all AWS integrations returns "AWS Accounts List object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSAccountsResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSAccountsResponse result = apiInstance.listAWSAccounts();
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#listAWSAccounts");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
List all AWS integrations```
// List all AWS integrations returns "AWS Accounts List object" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV2::api_aws_integration::ListAWSAccountsOptionalParams;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api
.list_aws_accounts(ListAWSAccountsOptionalParams::default())
.await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
List all AWS integrations```
/**
* List all AWS integrations returns "AWS Accounts List object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

apiInstance
.listAWSAccounts()
.then((data: v2.AWSAccountsResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Delete an AWS integration- v1
- v2 (latest)
DELETE https://api.ap1.datadoghq.com/api/v1/integration/awshttps://api.ap2.datadoghq.com/api/v1/integration/awshttps://api.datadoghq.eu/api/v1/integration/awshttps://api.ddog-gov.com/api/v1/integration/awshttps://api.datadoghq.com/api/v1/integration/awshttps://api.us3.datadoghq.com/api/v1/integration/awshttps://api.us5.datadoghq.com/api/v1/integration/aws
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** Delete a Datadog-AWS integration matching the specified `account_id` and `role_name parameters`.
This endpoint requires the `aws_configurations_manage` permission.### Request#### Body Data (required)AWS request object
- Model
- Example
Expand All
Field
Type
Description
access_key_id
string
Your AWS access key ID. Only required if your AWS account is a GovCloud or China account.
account_id
string
Your AWS Account ID without dashes.
role_name
string
Your Datadog role delegation name.
```
{
"account_id": "163662907100",
"role_name": "DatadogAWSIntegrationRole"
}
```### Response- 200
- 400
- 403
- 409
- 429
OK
- Model
- Example
Expand All
Field
Type
Description
No response body
`{}`Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Conflict Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)
- [Python [legacy]](?code-lang=python-legacy#)
- [Ruby [legacy]](?code-lang=ruby-legacy#)

Delete an AWS integration returns "OK" responseCopy```

# Curl commandcurl -X DELETE "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"account_id": "163662907100",
"role_name": "DatadogAWSIntegrationRole"
}
EOF

```
Delete an AWS integration returns "OK" response```
// Delete an AWS integration returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSAccountDeleteRequest{
		AccountId: datadog.PtrString("163662907100"),
		RoleName: datadog.PtrString("DatadogAWSIntegrationRole"),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.DeleteAWSAccount(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.DeleteAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.DeleteAWSAccount`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Delete an AWS integration returns "OK" response```
// Delete an AWS integration returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSAccountDeleteRequest;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSAccountDeleteRequest body =
new AWSAccountDeleteRequest()
.accountId("163662907100")
.roleName("DatadogAWSIntegrationRole");

try {
apiInstance.deleteAWSAccount(body);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#deleteAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Delete an AWS integration returns "OK" response```
from datadog import initialize, api

options = {
'api_key': '<DATADOG_API_KEY>',
'app_key': '<DATADOG_APPLICATION_KEY>'
}

initialize(**options)

account_id = "<AWS_ACCOUNT_ID>"
role_name = "<AWS_ROLE_NAME>"

api.AwsIntegration.delete(account_id=account_id, role_name=role_name)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python-legacy) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python "example.py"`
```
Delete an AWS integration returns "OK" response```
"""
Delete an AWS integration returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_account_delete_request import AWSAccountDeleteRequest

body = AWSAccountDeleteRequest(
account_id="163662907100",
role_name="DatadogAWSIntegrationRole",
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.delete_aws_account(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Delete an AWS integration returns "OK" response```
require 'rubygems'
require 'dogapi'

api_key = '<DATADOG_API_KEY>'
app_key = '<DATADOG_APPLICATION_KEY>'

config = {
"account_id": '<AWS_ACCOUNT_ID>',
"role_name": 'DatadogAWSIntegrationRole'
}

dog = Dogapi::Client.new(api_key, app_key)

dog.aws_integration_delete(config)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby-legacy) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Delete an AWS integration returns "OK" response```
# Delete an AWS integration returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSAccountDeleteRequest.new({
account_id: "163662907100",
role_name: "DatadogAWSIntegrationRole",
})
p api_instance.delete_aws_account(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Delete an AWS integration returns "OK" response```
// Delete an AWS integration returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::model::AWSAccountDeleteRequest;

#[tokio::main]
async fn main() {
let body = AWSAccountDeleteRequest::new()
.account_id("163662907100".to_string())
.role_name("DatadogAWSIntegrationRole".to_string());
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.delete_aws_account(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Delete an AWS integration returns "OK" response```
/**
* Delete an AWS integration returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiDeleteAWSAccountRequest = {
body: {
accountId: "163662907100",
roleName: "DatadogAWSIntegrationRole",
},
};

apiInstance
.deleteAWSAccount(params)
.then((data: any) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```DELETE https://api.ap1.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.ap2.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.datadoghq.eu/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.ddog-gov.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.us3.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.us5.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}
### OverviewDelete an AWS Account Integration Config by config ID.
This endpoint requires the `aws_configurations_manage` permission.### Arguments#### Path ParametersName
Type
Description
aws_account_config_id [*required*]
string
Unique Datadog ID of the AWS Account Integration Config. To get the config ID for an account, use the
List all AWS integrations endpoint and query by AWS Account ID.### Response- 204
- 400
- 403
- 404
- 429
No Content
Bad Request
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Not Found
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Delete an AWS integrationCopy```

# Path parametersexport aws_account_config_id="CHANGE_ME"# Curl commandcurl -X DELETE "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/accounts/${aws_account_config_id}" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Delete an AWS integration```
"""
Delete an AWS integration returns "No Content" response
"""

from os import environ
from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

# there is a valid "aws_account_v2" in the system
AWS_ACCOUNT_V2_DATA_ID = environ["AWS_ACCOUNT_V2_DATA_ID"]

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
api_instance.delete_aws_account(
aws_account_config_id=AWS_ACCOUNT_V2_DATA_ID,
)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Delete an AWS integration```
# Delete an AWS integration returns "No Content" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new

# there is a valid "aws_account_v2" in the system
AWS_ACCOUNT_V2_DATA_ID = ENV["AWS_ACCOUNT_V2_DATA_ID"]
api_instance.delete_aws_account(AWS_ACCOUNT_V2_DATA_ID)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Delete an AWS integration```
// Delete an AWS integration returns "No Content" response

package main

import (
	"context"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	// there is a valid "aws_account_v2" in the system
	AwsAccountV2DataID := os.Getenv("AWS_ACCOUNT_V2_DATA_ID")

	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	r, err := api.DeleteAWSAccount(ctx, AwsAccountV2DataID)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.DeleteAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Delete an AWS integration```
// Delete an AWS integration returns "No Content" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

// there is a valid "aws_account_v2" in the system
String AWS_ACCOUNT_V2_DATA_ID = System.getenv("AWS_ACCOUNT_V2_DATA_ID");

try {
apiInstance.deleteAWSAccount(AWS_ACCOUNT_V2_DATA_ID);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#deleteAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Delete an AWS integration```
// Delete an AWS integration returns "No Content" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
// there is a valid "aws_account_v2" in the system
let aws_account_v2_data_id = std::env::var("AWS_ACCOUNT_V2_DATA_ID").unwrap();
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.delete_aws_account(aws_account_v2_data_id.clone()).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Delete an AWS integration```
/**
* Delete an AWS integration returns "No Content" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

// there is a valid "aws_account_v2" in the system
const AWS_ACCOUNT_V2_DATA_ID = process.env.AWS_ACCOUNT_V2_DATA_ID as string;

const params: v2.AWSIntegrationApiDeleteAWSAccountRequest = {
awsAccountConfigId: AWS_ACCOUNT_V2_DATA_ID,
};

apiInstance
.deleteAWSAccount(params)
.then((data: any) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Get AWS integration standard IAM permissions- v2 (latest)
GET https://api.ap1.datadoghq.com/api/v2/integration/aws/iam_permissions/standardhttps://api.ap2.datadoghq.com/api/v2/integration/aws/iam_permissions/standardhttps://api.datadoghq.eu/api/v2/integration/aws/iam_permissions/standardhttps://api.ddog-gov.com/api/v2/integration/aws/iam_permissions/standardhttps://api.datadoghq.com/api/v2/integration/aws/iam_permissions/standardhttps://api.us3.datadoghq.com/api/v2/integration/aws/iam_permissions/standardhttps://api.us5.datadoghq.com/api/v2/integration/aws/iam_permissions/standard
### OverviewGet all standard AWS IAM permissions required for the AWS integration.
### Response- 200
- 429
AWS integration standard IAM permissions.
- Model
- Example
AWS Integration IAM Permissions response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS Integration IAM Permissions response data.
attributes
object
AWS Integration IAM Permissions response attributes.
permissions [*required*]
[string]
List of AWS IAM permissions required for the integration.
id
string
The `AWSIntegrationIamPermissionsResponseData` `id`.
default: `permissions`
type
enum
The `AWSIntegrationIamPermissionsResponseData` `type`.
Allowed enum values: `permissions`default: `permissions`
```
{
"data": {
"attributes": {
"permissions": [
"account:GetContactInformation",
"amplify:ListApps",
"amplify:ListArtifacts",
"amplify:ListBackendEnvironments",
"amplify:ListBranches"
]
},
"id": "permissions",
"type": "permissions"
}
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Get AWS integration standard IAM permissionsCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/iam_permissions/standard" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Get AWS integration standard IAM permissions```
"""
Get AWS integration standard IAM permissions returns "AWS integration standard IAM permissions." response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.get_aws_integration_iam_permissions_standard()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Get AWS integration standard IAM permissions```
# Get AWS integration standard IAM permissions returns "AWS integration standard IAM permissions." response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new
p api_instance.get_aws_integration_iam_permissions_standard()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Get AWS integration standard IAM permissions```
// Get AWS integration standard IAM permissions returns "AWS integration standard IAM permissions." response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.GetAWSIntegrationIAMPermissionsStandard(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.GetAWSIntegrationIAMPermissionsStandard`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.GetAWSIntegrationIAMPermissionsStandard`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Get AWS integration standard IAM permissions```
// Get AWS integration standard IAM permissions returns "AWS integration standard IAM permissions."
// response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSIntegrationIamPermissionsResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSIntegrationIamPermissionsResponse result =
apiInstance.getAWSIntegrationIAMPermissionsStandard();
System.out.println(result);
} catch (ApiException e) {
System.err.println(
"Exception when calling AwsIntegrationApi#getAWSIntegrationIAMPermissionsStandard");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Get AWS integration standard IAM permissions```
// Get AWS integration standard IAM permissions returns "AWS integration standard
// IAM permissions." response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.get_aws_integration_iam_permissions_standard().await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Get AWS integration standard IAM permissions```
/**
* Get AWS integration standard IAM permissions returns "AWS integration standard IAM permissions." response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

apiInstance
.getAWSIntegrationIAMPermissionsStandard()
.then((data: v2.AWSIntegrationIamPermissionsResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Create an AWS integration- v1
- v2 (latest)
POST https://api.ap1.datadoghq.com/api/v1/integration/awshttps://api.ap2.datadoghq.com/api/v1/integration/awshttps://api.datadoghq.eu/api/v1/integration/awshttps://api.ddog-gov.com/api/v1/integration/awshttps://api.datadoghq.com/api/v1/integration/awshttps://api.us3.datadoghq.com/api/v1/integration/awshttps://api.us5.datadoghq.com/api/v1/integration/aws
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** Create a Datadog-Amazon Web Services integration.
Using the `POST` method updates your integration configuration
by adding your new configuration to the existing one in your Datadog organization.
A unique AWS Account ID for role based authentication.
This endpoint requires the `aws_configurations_manage` permission.### Request#### Body Data (required)AWS Request Object
- Model
- Example
Expand All
Field
Type
Description
access_key_id
string
Your AWS access key ID. Only required if your AWS account is a GovCloud or China account.
account_id
string
Your AWS Account ID without dashes.
account_specific_namespace_rules
object
An object (in the form `{"namespace1":true/false, "namespace2":true/false}`) containing user-supplied overrides
for AWS namespace metric collection. **Important**: This field only contains namespaces explicitly configured through API calls,
not the comprehensive enabled or disabled status of all namespaces. If a namespace is absent from this field, it uses Datadog's
internal defaults (all namespaces enabled by default, except `AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage`).
For a complete view of all namespace statuses, use the V2 AWS Integration API instead.<any-key>
boolean
A list of additional properties.
cspm_resource_collection_enabled
boolean
Whether Datadog collects cloud security posture management resources from your AWS account. This includes additional resources not covered under the general `resource_collection`.
excluded_regions
[string]
An array of AWS regions
to exclude from metrics collection.extended_resource_collection_enabled
boolean
Whether Datadog collects additional attributes and configuration information about the resources in your AWS account. Required for `cspm_resource_collection`.
filter_tags
[string]
The array of EC2 tags (in the form `key:value`) defines a filter that Datadog uses when collecting metrics from EC2.
Wildcards, such as `?` (for single characters) and `*` (for multiple characters) can also be used.
Only hosts that match one of the defined tags
will be imported into Datadog. The rest will be ignored.
Host matching a given tag can also be excluded by adding `!` before the tag.
For example, `env:production,instance-type:c1.*,!region:us-east-1`host_tags
[string]
Array of tags (in the form `key:value`) to add to all hosts
and metrics reporting through this integration.metrics_collection_enabled
boolean
Whether Datadog collects metrics for this AWS account.
default: `true`
resource_collection_enabled
boolean
**DEPRECATED**: Deprecated in favor of 'extended_resource_collection_enabled'. Whether Datadog collects a standard set of resources from your AWS account.
role_name
string
Your Datadog role delegation name.
secret_access_key
string
Your AWS secret access key. Only required if your AWS account is a GovCloud or China account.
```
{
"account_id": "163662907100",
"account_specific_namespace_rules": {
"auto_scaling": false
},
"cspm_resource_collection_enabled": true,
"excluded_regions": [
"us-east-1",
"us-west-2"
],
"extended_resource_collection_enabled": true,
"filter_tags": [
"$KEY:$VALUE"
],
"host_tags": [
"$KEY:$VALUE"
],
"metrics_collection_enabled": false,
"role_name": "DatadogAWSIntegrationRole"
}
```### Response- 200
- 400
- 403
- 409
- 429
OK
- Model
- Example
The Response returned by the AWS Create Account call.
Expand All
Field
Type
Description
external_id
string
AWS external_id.
```
{
"external_id": "string"
}
```Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Conflict Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)
- [Python [legacy]](?code-lang=python-legacy#)
- [Ruby [legacy]](?code-lang=ruby-legacy#)

Create an AWS integration returns "OK" responseCopy```

# Curl commandcurl -X POST "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"account_id": "163662907100",
"account_specific_namespace_rules": {
"auto_scaling": false
},
"cspm_resource_collection_enabled": true,
"excluded_regions": [
"us-east-1",
"us-west-2"
],
"extended_resource_collection_enabled": true,
"filter_tags": [
"$KEY:$VALUE"
],
"host_tags": [
"$KEY:$VALUE"
],
"metrics_collection_enabled": false,
"role_name": "DatadogAWSIntegrationRole"
}
EOF

```
Create an AWS integration returns "OK" response```
// Create an AWS integration returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSAccount{
		AccountId: datadog.PtrString("163662907100"),
		AccountSpecificNamespaceRules: map[string]bool{
			"auto_scaling": false,
		},
		CspmResourceCollectionEnabled: datadog.PtrBool(true),
		ExcludedRegions: []string{
			"us-east-1",
			"us-west-2",
		},
		ExtendedResourceCollectionEnabled: datadog.PtrBool(true),
		FilterTags: []string{
			"$KEY:$VALUE",
		},
		HostTags: []string{
			"$KEY:$VALUE",
		},
		MetricsCollectionEnabled: datadog.PtrBool(false),
		RoleName: datadog.PtrString("DatadogAWSIntegrationRole"),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateAWSAccount(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateAWSAccount`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Create an AWS integration returns "OK" response```
// Create an AWS integration returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSAccount;
import com.datadog.api.client.v1.model.AWSAccountCreateResponse;
import java.util.Arrays;
import java.util.Collections;
import java.util.Map;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSAccount body =
new AWSAccount()
.accountId("163662907100")
.accountSpecificNamespaceRules(Map.ofEntries(Map.entry("auto_scaling", false)))
.cspmResourceCollectionEnabled(true)
.excludedRegions(Arrays.asList("us-east-1", "us-west-2"))
.extendedResourceCollectionEnabled(true)
.filterTags(Collections.singletonList("$KEY:$VALUE"))
.hostTags(Collections.singletonList("$KEY:$VALUE"))
.metricsCollectionEnabled(false)
.roleName("DatadogAWSIntegrationRole");

try {
AWSAccountCreateResponse result = apiInstance.createAWSAccount(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Create an AWS integration returns "OK" response```
from datadog import initialize, api

options = {
'api_key': '<DATADOG_API_KEY>',
'app_key': '<DATADOG_APPLICATION_KEY>'
}

initialize(**options)

api.AwsIntegration.create(
account_id="<AWS_ACCOUNT_ID>",
host_tags=["tag:example"],
filter_tags=["filter:example"],
role_name="<AWS_ROLE_NAME>",
account_specific_namespace_rules={'namespace1': True/False, 'namespace2': True/False},
excluded_regions=["us-east-1", "us-west-1"]
)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python-legacy) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python "example.py"`
```
Create an AWS integration returns "OK" response```
"""
Create an AWS integration returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_account import AWSAccount

body = AWSAccount(
account_id="163662907100",
account_specific_namespace_rules=dict(
auto_scaling=False,
),
cspm_resource_collection_enabled=True,
excluded_regions=[
"us-east-1",
"us-west-2",
],
extended_resource_collection_enabled=True,
filter_tags=[
"$KEY:$VALUE",
],
host_tags=[
"$KEY:$VALUE",
],
metrics_collection_enabled=False,
role_name="DatadogAWSIntegrationRole",
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_aws_account(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Create an AWS integration returns "OK" response```
require 'rubygems'
require 'dogapi'

api_key = '<DATADOG_API_KEY>'
app_key = '<DATADOG_APPLICATION_KEY>'

dog = Dogapi::Client.new(api_key, app_key)

config = {
"account_id": "<AWS_ACCOUNT_ID>",
"filter_tags": ["<KEY>:<VALUE>"],
"host_tags": ["<KEY>:<VALUE>"],
"role_name": "DatadogAWSIntegrationRole",
"account_specific_namespace_rules": {"auto_scaling": false, "opsworks": false},
"excluded_regions": ["us-east-1", "us-west-1"]
}

dog.aws_integration_create(config)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby-legacy) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Create an AWS integration returns "OK" response```
# Create an AWS integration returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSAccount.new({
account_id: "163662907100",
account_specific_namespace_rules: {
auto_scaling: false,
},
cspm_resource_collection_enabled: true,
excluded_regions: [
"us-east-1",
"us-west-2",
],
extended_resource_collection_enabled: true,
filter_tags: [
"$KEY:$VALUE",
],
host_tags: [
"$KEY:$VALUE",
],
metrics_collection_enabled: false,
role_name: "DatadogAWSIntegrationRole",
})
p api_instance.create_aws_account(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Create an AWS integration returns "OK" response```
// Create an AWS integration returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::model::AWSAccount;
use std::collections::BTreeMap;

#[tokio::main]
async fn main() {
let body = AWSAccount::new()
.account_id("163662907100".to_string())
.account_specific_namespace_rules(BTreeMap::from([("auto_scaling".to_string(), false)]))
.cspm_resource_collection_enabled(true)
.excluded_regions(vec!["us-east-1".to_string(), "us-west-2".to_string()])
.extended_resource_collection_enabled(true)
.filter_tags(vec!["$KEY:$VALUE".to_string()])
.host_tags(vec!["$KEY:$VALUE".to_string()])
.metrics_collection_enabled(false)
.role_name("DatadogAWSIntegrationRole".to_string());
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_aws_account(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Create an AWS integration returns "OK" response```
/**
* Create an AWS integration returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiCreateAWSAccountRequest = {
body: {
accountId: "163662907100",
accountSpecificNamespaceRules: {
auto_scaling: false,
},
cspmResourceCollectionEnabled: true,
excludedRegions: ["us-east-1", "us-west-2"],
extendedResourceCollectionEnabled: true,
filterTags: ["$KEY:$VALUE"],
hostTags: ["$KEY:$VALUE"],
metricsCollectionEnabled: false,
roleName: "DatadogAWSIntegrationRole",
},
};

apiInstance
.createAWSAccount(params)
.then((data: v1.AWSAccountCreateResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```POST https://api.ap1.datadoghq.com/api/v2/integration/aws/accountshttps://api.ap2.datadoghq.com/api/v2/integration/aws/accountshttps://api.datadoghq.eu/api/v2/integration/aws/accountshttps://api.ddog-gov.com/api/v2/integration/aws/accountshttps://api.datadoghq.com/api/v2/integration/aws/accountshttps://api.us3.datadoghq.com/api/v2/integration/aws/accountshttps://api.us5.datadoghq.com/api/v2/integration/aws/accounts
### OverviewCreate a new AWS Account Integration Config.
This endpoint requires the `aws_configurations_manage` permission.### Request#### Body Data (required)
- Model
- Example
Expand All
Field
Type
Description
data [*required*]
object
AWS Account Create Request data.
attributes [*required*]
object
The AWS Account Integration Config to be created.
account_tags
[string]
Tags to apply to all hosts and metrics reporting for this account. Defaults to `[]`.
auth_config [*required*]
 <oneOf>
AWS Authentication config.
Option 1
object
AWS Authentication config to integrate your account using an access key pair.
access_key_id [*required*]
string
AWS Access Key ID.
secret_access_key
string
AWS Secret Access Key.
Option 2
object
AWS Authentication config to integrate your account using an IAM role.
external_id
string
AWS IAM External ID for associated role.
role_name [*required*]
string
AWS IAM Role name.
aws_account_id [*required*]
string
AWS Account ID.
aws_partition [*required*]
enum
AWS partition your AWS account is scoped to. Defaults to `aws`.
See Partitions
in the AWS documentation for more information.
Allowed enum values: `aws,aws-cn,aws-us-gov` aws_regions
 <oneOf>
AWS Regions to collect data from. Defaults to `include_all`.
Option 1
object
Include all regions. Defaults to `true`.
include_all [*required*]
boolean
Include all regions.
Option 2
object
Include only these regions.
include_only [*required*]
[string]
Include only these regions.
logs_config
object
AWS Logs Collection config.
lambda_forwarder
object
Log Autosubscription configuration for Datadog Forwarder Lambda functions.
Automatically set up triggers for existing and new logs for some services,
ensuring no logs from new resources are missed and saving time spent on manual configuration.lambdas
[string]
List of Datadog Lambda Log Forwarder ARNs in your AWS account. Defaults to `[]`.
log_source_config
object
Log source configuration.
tag_filters
[object]
List of AWS log source tag filters. Defaults to `[]`.
source
string
The AWS log source to which the tag filters defined in `tags` are applied.
tags
[string]
The AWS resource tags to filter on for the log source specified by `source`.
sources
[string]
List of service IDs set to enable automatic log collection.
Discover the list of available services with the
Get list of AWS log ready services
endpoint. metrics_config
object
AWS Metrics Collection config.
automute_enabled
boolean
Enable EC2 automute for AWS metrics. Defaults to `true`.
collect_cloudwatch_alarms
boolean
Enable CloudWatch alarms collection. Defaults to `false`.
collect_custom_metrics
boolean
Enable custom metrics collection. Defaults to `false`.
enabled
boolean
Enable AWS metrics collection. Defaults to `true`.
namespace_filters
 <oneOf>
AWS Metrics namespace filters. Defaults to `exclude_only`.
Option 1
object
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls.exclude_only [*required*]
[string]
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls. Option 2
object
Include only these namespaces.
include_only [*required*]
[string]
Include only these namespaces.
tag_filters
[object]
AWS Metrics collection tag filters list. Defaults to `[]`.
namespace
string
The AWS service for which the tag filters defined in `tags` will be applied.
tags
[string]
The AWS resource tags to filter on for the service specified by `namespace`.
resources_config
object
AWS Resources Collection config.
cloud_security_posture_management_collection
boolean
Enable Cloud Security Management to scan AWS resources for vulnerabilities, misconfigurations,
identity risks, and compliance violations. Defaults to `false`.
Requires `extended_collection` to be set to `true`.extended_collection
boolean
Whether Datadog collects additional attributes and configuration information about the resources
in your AWS account. Defaults to `true`. Required for `cloud_security_posture_management_collection`. traces_config
object
AWS Traces Collection config.
xray_services
 <oneOf>
AWS X-Ray services to collect traces from. Defaults to `include_only`.
Option 1
object
Include all services.
include_all [*required*]
boolean
Include all services.
Option 2
object
Include only these services. Defaults to `[]`.
include_only [*required*]
[string]
Include only these services.
type [*required*]
enum
AWS Account resource type.
Allowed enum values: `account`default: `account`

Create an AWS account returns "AWS Account object" response```
{
"data": {
"attributes": {
"account_tags": [
"key:value"
],
"auth_config": {
"role_name": "DatadogIntegrationRole"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"test:test"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": true,
"collect_custom_metrics": true,
"enabled": true,
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"key:value"
]
}
]
},
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": false
},
"traces_config": {}
},
"type": "account"
}
}
```
Create an AWS integration returns "AWS Account object" response```
{
"data": {
"attributes": {
"account_tags": [
"key:value"
],
"auth_config": {
"access_key_id": "AKIAIOSFODNN7EXAMPLE",
"secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"test:test"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": true,
"collect_custom_metrics": true,
"enabled": true,
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"key:value"
]
}
]
},
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": false
},
"traces_config": {}
},
"type": "account"
}
}
```### Response- 200
- 400
- 403
- 409
- 429
AWS Account object
- Model
- Example
AWS Account response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS Account response data.
attributes
object
AWS Account response attributes.
account_tags
[string]
Tags to apply to all hosts and metrics reporting for this account. Defaults to `[]`.
auth_config
 <oneOf>
AWS Authentication config.
Option 1
object
AWS Authentication config to integrate your account using an access key pair.
access_key_id [*required*]
string
AWS Access Key ID.
secret_access_key
string
AWS Secret Access Key.
Option 2
object
AWS Authentication config to integrate your account using an IAM role.
external_id
string
AWS IAM External ID for associated role.
role_name [*required*]
string
AWS IAM Role name.
aws_account_id [*required*]
string
AWS Account ID.
aws_partition
enum
AWS partition your AWS account is scoped to. Defaults to `aws`.
See Partitions
in the AWS documentation for more information.
Allowed enum values: `aws,aws-cn,aws-us-gov` aws_regions
 <oneOf>
AWS Regions to collect data from. Defaults to `include_all`.
Option 1
object
Include all regions. Defaults to `true`.
include_all [*required*]
boolean
Include all regions.
Option 2
object
Include only these regions.
include_only [*required*]
[string]
Include only these regions.
created_at
date-time
Timestamp of when the account integration was created.
logs_config
object
AWS Logs Collection config.
lambda_forwarder
object
Log Autosubscription configuration for Datadog Forwarder Lambda functions.
Automatically set up triggers for existing and new logs for some services,
ensuring no logs from new resources are missed and saving time spent on manual configuration.lambdas
[string]
List of Datadog Lambda Log Forwarder ARNs in your AWS account. Defaults to `[]`.
log_source_config
object
Log source configuration.
tag_filters
[object]
List of AWS log source tag filters. Defaults to `[]`.
source
string
The AWS log source to which the tag filters defined in `tags` are applied.
tags
[string]
The AWS resource tags to filter on for the log source specified by `source`.
sources
[string]
List of service IDs set to enable automatic log collection.
Discover the list of available services with the
Get list of AWS log ready services
endpoint. metrics_config
object
AWS Metrics Collection config.
automute_enabled
boolean
Enable EC2 automute for AWS metrics. Defaults to `true`.
collect_cloudwatch_alarms
boolean
Enable CloudWatch alarms collection. Defaults to `false`.
collect_custom_metrics
boolean
Enable custom metrics collection. Defaults to `false`.
enabled
boolean
Enable AWS metrics collection. Defaults to `true`.
namespace_filters
 <oneOf>
AWS Metrics namespace filters. Defaults to `exclude_only`.
Option 1
object
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls.exclude_only [*required*]
[string]
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls. Option 2
object
Include only these namespaces.
include_only [*required*]
[string]
Include only these namespaces.
tag_filters
[object]
AWS Metrics collection tag filters list. Defaults to `[]`.
namespace
string
The AWS service for which the tag filters defined in `tags` will be applied.
tags
[string]
The AWS resource tags to filter on for the service specified by `namespace`.
modified_at
date-time
Timestamp of when the account integration was updated.
resources_config
object
AWS Resources Collection config.
cloud_security_posture_management_collection
boolean
Enable Cloud Security Management to scan AWS resources for vulnerabilities, misconfigurations,
identity risks, and compliance violations. Defaults to `false`.
Requires `extended_collection` to be set to `true`.extended_collection
boolean
Whether Datadog collects additional attributes and configuration information about the resources
in your AWS account. Defaults to `true`. Required for `cloud_security_posture_management_collection`. traces_config
object
AWS Traces Collection config.
xray_services
 <oneOf>
AWS X-Ray services to collect traces from. Defaults to `include_only`.
Option 1
object
Include all services.
include_all [*required*]
boolean
Include all services.
Option 2
object
Include only these services. Defaults to `[]`.
include_only [*required*]
[string]
Include only these services.
id [*required*]
string
Unique Datadog ID of the AWS Account Integration Config.
To get the config ID for an account, use the
List all AWS integrations
endpoint and query by AWS Account ID.type [*required*]
enum
AWS Account resource type.
Allowed enum values: `account`default: `account`
```
{
"data": {
"attributes": {
"account_tags": [
"env:prod"
],
"auth_config": {
"access_key_id": "AKIAIOSFODNN7EXAMPLE",
"secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"aws_regions": {
"include_all": true
},
"created_at": "2019-09-19T10:00:00.000Z",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"env:prod"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": false,
"collect_custom_metrics": false,
"enabled": true,
"namespace_filters": {
"exclude_only": [
"AWS/SQS",
"AWS/ElasticMapReduce",
"AWS/Usage"
]
},
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"datadog:true"
]
}
]
},
"modified_at": "2019-09-19T10:00:00.000Z",
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": true
},
"traces_config": {
"xray_services": {
"include_all": false
}
}
},
"id": "00000000-abcd-0001-0000-000000000000",
"type": "account"
}
}
```Bad Request
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Conflict
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Create an AWS account returns "AWS Account object" responseCopy```

# Curl commandcurl -X POST "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/accounts" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"data": {
"attributes": {
"account_tags": [
"key:value"
],
"auth_config": {
"role_name": "DatadogIntegrationRole"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"test:test"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": true,
"collect_custom_metrics": true,
"enabled": true,
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"key:value"
]
}
]
},
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": false
},
"traces_config": {}
},
"type": "account"
}
}
EOF

```
Create an AWS integration returns "AWS Account object" responseCopy```

# Curl commandcurl -X POST "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/accounts" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"data": {
"attributes": {
"account_tags": [
"key:value"
],
"auth_config": {
"access_key_id": "AKIAIOSFODNN7EXAMPLE",
"secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"test:test"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": true,
"collect_custom_metrics": true,
"enabled": true,
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"key:value"
]
}
]
},
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": false
},
"traces_config": {}
},
"type": "account"
}
}
EOF

```
Create an AWS account returns "AWS Account object" response
**```
// Create an AWS account returns "AWS Account object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	body := datadogV2.AWSAccountCreateRequest{
		Data: datadogV2.AWSAccountCreateRequestData{
			Attributes: datadogV2.AWSAccountCreateRequestAttributes{
				AccountTags: *datadog.NewNullableList(&[]string{
					"key:value",
				}),
				AuthConfig: datadogV2.AWSAuthConfig{
					AWSAuthConfigRole: &datadogV2.AWSAuthConfigRole{
						RoleName: "DatadogIntegrationRole",
					}},
				AwsAccountId: "123456789012",
				AwsPartition: datadogV2.AWSACCOUNTPARTITION_AWS,
				CcmConfig: &datadogV2.AWSCCMConfig{
					DataExportConfigs: []datadogV2.DataExportConfig{
						{
							BucketName: datadog.PtrString("my-bucket"),
							BucketRegion: datadog.PtrString("us-east-1"),
							ReportName: datadog.PtrString("my-report"),
							ReportPrefix: datadog.PtrString("reports"),
							ReportType: datadog.PtrString("CUR2.0"),
						},
					},
				},
				LogsConfig: &datadogV2.AWSLogsConfig{
					LambdaForwarder: &datadogV2.AWSLambdaForwarderConfig{
						Lambdas: []string{
							"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
						},
						LogSourceConfig: &datadogV2.AWSLambdaForwarderConfigLogSourceConfig{
							TagFilters: []datadogV2.AWSLogSourceTagFilter{
								{
									Source: datadog.PtrString("s3"),
									Tags: *datadog.NewNullableList(&[]string{
										"test:test",
									}),
								},
							},
						},
						Sources: []string{
							"s3",
						},
					},
				},
				MetricsConfig: &datadogV2.AWSMetricsConfig{
					AutomuteEnabled: datadog.PtrBool(true),
					CollectCloudwatchAlarms: datadog.PtrBool(true),
					CollectCustomMetrics: datadog.PtrBool(true),
					Enabled: datadog.PtrBool(true),
					TagFilters: []datadogV2.AWSNamespaceTagFilter{
						{
							Namespace: datadog.PtrString("AWS/EC2"),
							Tags: *datadog.NewNullableList(&[]string{
								"key:value",
							}),
						},
					},
				},
				ResourcesConfig: &datadogV2.AWSResourcesConfig{
					CloudSecurityPostureManagementCollection: datadog.PtrBool(false),
					ExtendedCollection: datadog.PtrBool(false),
				},
				TracesConfig: &datadogV2.AWSTracesConfig{},
			},
			Type: datadogV2.AWSACCOUNTTYPE_ACCOUNT,
		},
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateAWSAccount(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateAWSAccount`:\n%s\n", responseContent)
}

```
Create an AWS integration returns "AWS Account object" response
**```
// Create an AWS integration returns "AWS Account object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	body := datadogV2.AWSAccountCreateRequest{
		Data: datadogV2.AWSAccountCreateRequestData{
			Attributes: datadogV2.AWSAccountCreateRequestAttributes{
				AccountTags: *datadog.NewNullableList(&[]string{
					"key:value",
				}),
				AuthConfig: datadogV2.AWSAuthConfig{
					AWSAuthConfigKeys: &datadogV2.AWSAuthConfigKeys{
						AccessKeyId: "AKIAIOSFODNN7EXAMPLE",
						SecretAccessKey: datadog.PtrString("wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"),
					}},
				AwsAccountId: "123456789012",
				AwsPartition: datadogV2.AWSACCOUNTPARTITION_AWS,
				CcmConfig: &datadogV2.AWSCCMConfig{
					DataExportConfigs: []datadogV2.DataExportConfig{
						{
							BucketName: datadog.PtrString("my-bucket"),
							BucketRegion: datadog.PtrString("us-east-1"),
							ReportName: datadog.PtrString("my-report"),
							ReportPrefix: datadog.PtrString("reports"),
							ReportType: datadog.PtrString("CUR2.0"),
						},
					},
				},
				LogsConfig: &datadogV2.AWSLogsConfig{
					LambdaForwarder: &datadogV2.AWSLambdaForwarderConfig{
						Lambdas: []string{
							"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
						},
						LogSourceConfig: &datadogV2.AWSLambdaForwarderConfigLogSourceConfig{
							TagFilters: []datadogV2.AWSLogSourceTagFilter{
								{
									Source: datadog.PtrString("s3"),
									Tags: *datadog.NewNullableList(&[]string{
										"test:test",
									}),
								},
							},
						},
						Sources: []string{
							"s3",
						},
					},
				},
				MetricsConfig: &datadogV2.AWSMetricsConfig{
					AutomuteEnabled: datadog.PtrBool(true),
					CollectCloudwatchAlarms: datadog.PtrBool(true),
					CollectCustomMetrics: datadog.PtrBool(true),
					Enabled: datadog.PtrBool(true),
					TagFilters: []datadogV2.AWSNamespaceTagFilter{
						{
							Namespace: datadog.PtrString("AWS/EC2"),
							Tags: *datadog.NewNullableList(&[]string{
								"key:value",
							}),
						},
					},
				},
				ResourcesConfig: &datadogV2.AWSResourcesConfig{
					CloudSecurityPostureManagementCollection: datadog.PtrBool(false),
					ExtendedCollection: datadog.PtrBool(false),
				},
				TracesConfig: &datadogV2.AWSTracesConfig{},
			},
			Type: datadogV2.AWSACCOUNTTYPE_ACCOUNT,
		},
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateAWSAccount(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateAWSAccount`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Create an AWS account returns "AWS Account object" response
**```
// Create an AWS account returns "AWS Account object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSAccountCreateRequest;
import com.datadog.api.client.v2.model.AWSAccountCreateRequestAttributes;
import com.datadog.api.client.v2.model.AWSAccountCreateRequestData;
import com.datadog.api.client.v2.model.AWSAccountPartition;
import com.datadog.api.client.v2.model.AWSAccountResponse;
import com.datadog.api.client.v2.model.AWSAccountType;
import com.datadog.api.client.v2.model.AWSAuthConfig;
import com.datadog.api.client.v2.model.AWSAuthConfigRole;
import com.datadog.api.client.v2.model.AWSCCMConfig;
import com.datadog.api.client.v2.model.AWSLambdaForwarderConfig;
import com.datadog.api.client.v2.model.AWSLambdaForwarderConfigLogSourceConfig;
import com.datadog.api.client.v2.model.AWSLogSourceTagFilter;
import com.datadog.api.client.v2.model.AWSLogsConfig;
import com.datadog.api.client.v2.model.AWSMetricsConfig;
import com.datadog.api.client.v2.model.AWSNamespaceTagFilter;
import com.datadog.api.client.v2.model.AWSResourcesConfig;
import com.datadog.api.client.v2.model.AWSTracesConfig;
import com.datadog.api.client.v2.model.DataExportConfig;
import java.util.Collections;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSAccountCreateRequest body =
new AWSAccountCreateRequest()
.data(
new AWSAccountCreateRequestData()
.attributes(
new AWSAccountCreateRequestAttributes()
.accountTags(Collections.singletonList("key:value"))
.authConfig(
new AWSAuthConfig(
new AWSAuthConfigRole().roleName("DatadogIntegrationRole")))
.awsAccountId("123456789012")
.awsPartition(AWSAccountPartition.AWS)
.ccmConfig(
new AWSCCMConfig()
.dataExportConfigs(
Collections.singletonList(
new DataExportConfig()
.bucketName("my-bucket")
.bucketRegion("us-east-1")
.reportName("my-report")
.reportPrefix("reports")
.reportType("CUR2.0"))))
.logsConfig(
new AWSLogsConfig()
.lambdaForwarder(
new AWSLambdaForwarderConfig()
.lambdas(
Collections.singletonList(
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"))
.logSourceConfig(
new AWSLambdaForwarderConfigLogSourceConfig()
.tagFilters(
Collections.singletonList(
new AWSLogSourceTagFilter()
.source("s3")
.tags(
Collections.singletonList(
"test:test")))))
.sources(Collections.singletonList("s3"))))
.metricsConfig(
new AWSMetricsConfig()
.automuteEnabled(true)
.collectCloudwatchAlarms(true)
.collectCustomMetrics(true)
.enabled(true)
.tagFilters(
Collections.singletonList(
new AWSNamespaceTagFilter()
.namespace("AWS/EC2")
.tags(Collections.singletonList("key:value")))))
.resourcesConfig(
new AWSResourcesConfig()
.cloudSecurityPostureManagementCollection(false)
.extendedCollection(false))
.tracesConfig(new AWSTracesConfig()))
.type(AWSAccountType.ACCOUNT));

try {
AWSAccountResponse result = apiInstance.createAWSAccount(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```
Create an AWS integration returns "AWS Account object" response
**```
// Create an AWS integration returns "AWS Account object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSAccountCreateRequest;
import com.datadog.api.client.v2.model.AWSAccountCreateRequestAttributes;
import com.datadog.api.client.v2.model.AWSAccountCreateRequestData;
import com.datadog.api.client.v2.model.AWSAccountPartition;
import com.datadog.api.client.v2.model.AWSAccountResponse;
import com.datadog.api.client.v2.model.AWSAccountType;
import com.datadog.api.client.v2.model.AWSAuthConfig;
import com.datadog.api.client.v2.model.AWSAuthConfigKeys;
import com.datadog.api.client.v2.model.AWSCCMConfig;
import com.datadog.api.client.v2.model.AWSLambdaForwarderConfig;
import com.datadog.api.client.v2.model.AWSLambdaForwarderConfigLogSourceConfig;
import com.datadog.api.client.v2.model.AWSLogSourceTagFilter;
import com.datadog.api.client.v2.model.AWSLogsConfig;
import com.datadog.api.client.v2.model.AWSMetricsConfig;
import com.datadog.api.client.v2.model.AWSNamespaceTagFilter;
import com.datadog.api.client.v2.model.AWSResourcesConfig;
import com.datadog.api.client.v2.model.AWSTracesConfig;
import com.datadog.api.client.v2.model.DataExportConfig;
import java.util.Collections;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSAccountCreateRequest body =
new AWSAccountCreateRequest()
.data(
new AWSAccountCreateRequestData()
.attributes(
new AWSAccountCreateRequestAttributes()
.accountTags(Collections.singletonList("key:value"))
.authConfig(
new AWSAuthConfig(
new AWSAuthConfigKeys()
.accessKeyId("AKIAIOSFODNN7EXAMPLE")
.secretAccessKey(
"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY")))
.awsAccountId("123456789012")
.awsPartition(AWSAccountPartition.AWS)
.ccmConfig(
new AWSCCMConfig()
.dataExportConfigs(
Collections.singletonList(
new DataExportConfig()
.bucketName("my-bucket")
.bucketRegion("us-east-1")
.reportName("my-report")
.reportPrefix("reports")
.reportType("CUR2.0"))))
.logsConfig(
new AWSLogsConfig()
.lambdaForwarder(
new AWSLambdaForwarderConfig()
.lambdas(
Collections.singletonList(
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"))
.logSourceConfig(
new AWSLambdaForwarderConfigLogSourceConfig()
.tagFilters(
Collections.singletonList(
new AWSLogSourceTagFilter()
.source("s3")
.tags(
Collections.singletonList(
"test:test")))))
.sources(Collections.singletonList("s3"))))
.metricsConfig(
new AWSMetricsConfig()
.automuteEnabled(true)
.collectCloudwatchAlarms(true)
.collectCustomMetrics(true)
.enabled(true)
.tagFilters(
Collections.singletonList(
new AWSNamespaceTagFilter()
.namespace("AWS/EC2")
.tags(Collections.singletonList("key:value")))))
.resourcesConfig(
new AWSResourcesConfig()
.cloudSecurityPostureManagementCollection(false)
.extendedCollection(false))
.tracesConfig(new AWSTracesConfig()))
.type(AWSAccountType.ACCOUNT));

try {
AWSAccountResponse result = apiInstance.createAWSAccount(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Create an AWS account returns "AWS Account object" response
**```
"""
Create an AWS account returns "AWS Account object" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v2.model.aws_account_create_request import AWSAccountCreateRequest
from datadog_api_client.v2.model.aws_account_create_request_attributes import AWSAccountCreateRequestAttributes
from datadog_api_client.v2.model.aws_account_create_request_data import AWSAccountCreateRequestData
from datadog_api_client.v2.model.aws_account_partition import AWSAccountPartition
from datadog_api_client.v2.model.aws_account_type import AWSAccountType
from datadog_api_client.v2.model.aws_auth_config_role import AWSAuthConfigRole
from datadog_api_client.v2.model.aws_lambda_forwarder_config import AWSLambdaForwarderConfig
from datadog_api_client.v2.model.aws_lambda_forwarder_config_log_source_config import (
AWSLambdaForwarderConfigLogSourceConfig,
)
from datadog_api_client.v2.model.aws_log_source_tag_filter import AWSLogSourceTagFilter
from datadog_api_client.v2.model.aws_logs_config import AWSLogsConfig
from datadog_api_client.v2.model.aws_metrics_config import AWSMetricsConfig
from datadog_api_client.v2.model.aws_namespace_tag_filter import AWSNamespaceTagFilter
from datadog_api_client.v2.model.aws_resources_config import AWSResourcesConfig
from datadog_api_client.v2.model.aws_traces_config import AWSTracesConfig
from datadog_api_client.v2.model.awsccm_config import AWSCCMConfig
from datadog_api_client.v2.model.data_export_config import DataExportConfig

body = AWSAccountCreateRequest(
data=AWSAccountCreateRequestData(
attributes=AWSAccountCreateRequestAttributes(
account_tags=[
"key:value",
],
auth_config=AWSAuthConfigRole(
role_name="DatadogIntegrationRole",
),
aws_account_id="123456789012",
aws_partition=AWSAccountPartition.AWS,
ccm_config=AWSCCMConfig(
data_export_configs=[
DataExportConfig(
bucket_name="my-bucket",
bucket_region="us-east-1",
report_name="my-report",
report_prefix="reports",
report_type="CUR2.0",
),
],
),
logs_config=AWSLogsConfig(
lambda_forwarder=AWSLambdaForwarderConfig(
lambdas=[
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
log_source_config=AWSLambdaForwarderConfigLogSourceConfig(
tag_filters=[
AWSLogSourceTagFilter(
source="s3",
tags=[
"test:test",
],
),
],
),
sources=[
"s3",
],
),
),
metrics_config=AWSMetricsConfig(
automute_enabled=True,
collect_cloudwatch_alarms=True,
collect_custom_metrics=True,
enabled=True,
tag_filters=[
AWSNamespaceTagFilter(
namespace="AWS/EC2",
tags=[
"key:value",
],
),
],
),
resources_config=AWSResourcesConfig(
cloud_security_posture_management_collection=False,
extended_collection=False,
),
traces_config=AWSTracesConfig(),
),
type=AWSAccountType.ACCOUNT,
),
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_aws_account(body=body)

print(response)

```
Create an AWS integration returns "AWS Account object" response
**```
"""
Create an AWS integration returns "AWS Account object" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v2.model.aws_account_create_request import AWSAccountCreateRequest
from datadog_api_client.v2.model.aws_account_create_request_attributes import AWSAccountCreateRequestAttributes
from datadog_api_client.v2.model.aws_account_create_request_data import AWSAccountCreateRequestData
from datadog_api_client.v2.model.aws_account_partition import AWSAccountPartition
from datadog_api_client.v2.model.aws_account_type import AWSAccountType
from datadog_api_client.v2.model.aws_auth_config_keys import AWSAuthConfigKeys
from datadog_api_client.v2.model.aws_lambda_forwarder_config import AWSLambdaForwarderConfig
from datadog_api_client.v2.model.aws_lambda_forwarder_config_log_source_config import (
AWSLambdaForwarderConfigLogSourceConfig,
)
from datadog_api_client.v2.model.aws_log_source_tag_filter import AWSLogSourceTagFilter
from datadog_api_client.v2.model.aws_logs_config import AWSLogsConfig
from datadog_api_client.v2.model.aws_metrics_config import AWSMetricsConfig
from datadog_api_client.v2.model.aws_namespace_tag_filter import AWSNamespaceTagFilter
from datadog_api_client.v2.model.aws_resources_config import AWSResourcesConfig
from datadog_api_client.v2.model.aws_traces_config import AWSTracesConfig
from datadog_api_client.v2.model.awsccm_config import AWSCCMConfig
from datadog_api_client.v2.model.data_export_config import DataExportConfig

body = AWSAccountCreateRequest(
data=AWSAccountCreateRequestData(
attributes=AWSAccountCreateRequestAttributes(
account_tags=[
"key:value",
],
auth_config=AWSAuthConfigKeys(
access_key_id="AKIAIOSFODNN7EXAMPLE",
secret_access_key="wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
),
aws_account_id="123456789012",
aws_partition=AWSAccountPartition.AWS,
ccm_config=AWSCCMConfig(
data_export_configs=[
DataExportConfig(
bucket_name="my-bucket",
bucket_region="us-east-1",
report_name="my-report",
report_prefix="reports",
report_type="CUR2.0",
),
],
),
logs_config=AWSLogsConfig(
lambda_forwarder=AWSLambdaForwarderConfig(
lambdas=[
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
log_source_config=AWSLambdaForwarderConfigLogSourceConfig(
tag_filters=[
AWSLogSourceTagFilter(
source="s3",
tags=[
"test:test",
],
),
],
),
sources=[
"s3",
],
),
),
metrics_config=AWSMetricsConfig(
automute_enabled=True,
collect_cloudwatch_alarms=True,
collect_custom_metrics=True,
enabled=True,
tag_filters=[
AWSNamespaceTagFilter(
namespace="AWS/EC2",
tags=[
"key:value",
],
),
],
),
resources_config=AWSResourcesConfig(
cloud_security_posture_management_collection=False,
extended_collection=False,
),
traces_config=AWSTracesConfig(),
),
type=AWSAccountType.ACCOUNT,
),
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_aws_account(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Create an AWS account returns "AWS Account object" response
**```
# Create an AWS account returns "AWS Account object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new

body = DatadogAPIClient::V2::AWSAccountCreateRequest.new({
data: DatadogAPIClient::V2::AWSAccountCreateRequestData.new({
attributes: DatadogAPIClient::V2::AWSAccountCreateRequestAttributes.new({
account_tags: [
"key:value",
],
auth_config: DatadogAPIClient::V2::AWSAuthConfigRole.new({
role_name: "DatadogIntegrationRole",
}),
aws_account_id: "123456789012",
aws_partition: DatadogAPIClient::V2::AWSAccountPartition::AWS,
ccm_config: DatadogAPIClient::V2::AWSCCMConfig.new({
data_export_configs: [
DatadogAPIClient::V2::DataExportConfig.new({
bucket_name: "my-bucket",
bucket_region: "us-east-1",
report_name: "my-report",
report_prefix: "reports",
report_type: "CUR2.0",
}),
],
}),
logs_config: DatadogAPIClient::V2::AWSLogsConfig.new({
lambda_forwarder: DatadogAPIClient::V2::AWSLambdaForwarderConfig.new({
lambdas: [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
log_source_config: DatadogAPIClient::V2::AWSLambdaForwarderConfigLogSourceConfig.new({
tag_filters: [
DatadogAPIClient::V2::AWSLogSourceTagFilter.new({
source: "s3",
tags: [
"test:test",
],
}),
],
}),
sources: [
"s3",
],
}),
}),
metrics_config: DatadogAPIClient::V2::AWSMetricsConfig.new({
automute_enabled: true,
collect_cloudwatch_alarms: true,
collect_custom_metrics: true,
enabled: true,
tag_filters: [
DatadogAPIClient::V2::AWSNamespaceTagFilter.new({
namespace: "AWS/EC2",
tags: [
"key:value",
],
}),
],
}),
resources_config: DatadogAPIClient::V2::AWSResourcesConfig.new({
cloud_security_posture_management_collection: false,
extended_collection: false,
}),
traces_config: DatadogAPIClient::V2::AWSTracesConfig.new({}),
}),
type: DatadogAPIClient::V2::AWSAccountType::ACCOUNT,
}),
})
p api_instance.create_aws_account(body)

```
Create an AWS integration returns "AWS Account object" response
**```
# Create an AWS integration returns "AWS Account object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new

body = DatadogAPIClient::V2::AWSAccountCreateRequest.new({
data: DatadogAPIClient::V2::AWSAccountCreateRequestData.new({
attributes: DatadogAPIClient::V2::AWSAccountCreateRequestAttributes.new({
account_tags: [
"key:value",
],
auth_config: DatadogAPIClient::V2::AWSAuthConfigKeys.new({
access_key_id: "AKIAIOSFODNN7EXAMPLE",
secret_access_key: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
}),
aws_account_id: "123456789012",
aws_partition: DatadogAPIClient::V2::AWSAccountPartition::AWS,
ccm_config: DatadogAPIClient::V2::AWSCCMConfig.new({
data_export_configs: [
DatadogAPIClient::V2::DataExportConfig.new({
bucket_name: "my-bucket",
bucket_region: "us-east-1",
report_name: "my-report",
report_prefix: "reports",
report_type: "CUR2.0",
}),
],
}),
logs_config: DatadogAPIClient::V2::AWSLogsConfig.new({
lambda_forwarder: DatadogAPIClient::V2::AWSLambdaForwarderConfig.new({
lambdas: [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
log_source_config: DatadogAPIClient::V2::AWSLambdaForwarderConfigLogSourceConfig.new({
tag_filters: [
DatadogAPIClient::V2::AWSLogSourceTagFilter.new({
source: "s3",
tags: [
"test:test",
],
}),
],
}),
sources: [
"s3",
],
}),
}),
metrics_config: DatadogAPIClient::V2::AWSMetricsConfig.new({
automute_enabled: true,
collect_cloudwatch_alarms: true,
collect_custom_metrics: true,
enabled: true,
tag_filters: [
DatadogAPIClient::V2::AWSNamespaceTagFilter.new({
namespace: "AWS/EC2",
tags: [
"key:value",
],
}),
],
}),
resources_config: DatadogAPIClient::V2::AWSResourcesConfig.new({
cloud_security_posture_management_collection: false,
extended_collection: false,
}),
traces_config: DatadogAPIClient::V2::AWSTracesConfig.new({}),
}),
type: DatadogAPIClient::V2::AWSAccountType::ACCOUNT,
}),
})
p api_instance.create_aws_account(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Create an AWS account returns "AWS Account object" response
**```
// Create an AWS account returns "AWS Account object" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV2::model::AWSAccountCreateRequest;
use datadog_api_client::datadogV2::model::AWSAccountCreateRequestAttributes;
use datadog_api_client::datadogV2::model::AWSAccountCreateRequestData;
use datadog_api_client::datadogV2::model::AWSAccountPartition;
use datadog_api_client::datadogV2::model::AWSAccountType;
use datadog_api_client::datadogV2::model::AWSAuthConfig;
use datadog_api_client::datadogV2::model::AWSAuthConfigRole;
use datadog_api_client::datadogV2::model::AWSCCMConfig;
use datadog_api_client::datadogV2::model::AWSLambdaForwarderConfig;
use datadog_api_client::datadogV2::model::AWSLambdaForwarderConfigLogSourceConfig;
use datadog_api_client::datadogV2::model::AWSLogSourceTagFilter;
use datadog_api_client::datadogV2::model::AWSLogsConfig;
use datadog_api_client::datadogV2::model::AWSMetricsConfig;
use datadog_api_client::datadogV2::model::AWSNamespaceTagFilter;
use datadog_api_client::datadogV2::model::AWSResourcesConfig;
use datadog_api_client::datadogV2::model::AWSTracesConfig;
use datadog_api_client::datadogV2::model::DataExportConfig;

#[tokio::main]
async fn main() {
let body = AWSAccountCreateRequest::new(AWSAccountCreateRequestData::new(
AWSAccountCreateRequestAttributes::new(
AWSAuthConfig::AWSAuthConfigRole(Box::new(AWSAuthConfigRole::new(
"DatadogIntegrationRole".to_string(),
))),
"123456789012".to_string(),
AWSAccountPartition::AWS,
)
.account_tags(Some(vec!["key:value".to_string()]))
.ccm_config(AWSCCMConfig::new().data_export_configs(vec![
DataExportConfig::new()
.bucket_name("my-bucket".to_string())
.bucket_region("us-east-1".to_string())
.report_name("my-report".to_string())
.report_prefix("reports".to_string())
.report_type("CUR2.0".to_string())
]))
.logs_config(
AWSLogsConfig::new().lambda_forwarder(
AWSLambdaForwarderConfig::new()
.lambdas(vec![
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
.to_string(),
])
.log_source_config(AWSLambdaForwarderConfigLogSourceConfig::new().tag_filters(
vec![
AWSLogSourceTagFilter::new()
.source("s3".to_string())
.tags(Some(vec!["test:test".to_string()]))
],
))
.sources(vec!["s3".to_string()]),
),
)
.metrics_config(
AWSMetricsConfig::new()
.automute_enabled(true)
.collect_cloudwatch_alarms(true)
.collect_custom_metrics(true)
.enabled(true)
.tag_filters(vec![AWSNamespaceTagFilter::new()
.namespace("AWS/EC2".to_string())
.tags(Some(vec!["key:value".to_string()]))]),
)
.resources_config(
AWSResourcesConfig::new()
.cloud_security_posture_management_collection(false)
.extended_collection(false),
)
.traces_config(AWSTracesConfig::new()),
AWSAccountType::ACCOUNT,
));
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_aws_account(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```
Create an AWS integration returns "AWS Account object" response
**```
// Create an AWS integration returns "AWS Account object" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV2::model::AWSAccountCreateRequest;
use datadog_api_client::datadogV2::model::AWSAccountCreateRequestAttributes;
use datadog_api_client::datadogV2::model::AWSAccountCreateRequestData;
use datadog_api_client::datadogV2::model::AWSAccountPartition;
use datadog_api_client::datadogV2::model::AWSAccountType;
use datadog_api_client::datadogV2::model::AWSAuthConfig;
use datadog_api_client::datadogV2::model::AWSAuthConfigKeys;
use datadog_api_client::datadogV2::model::AWSCCMConfig;
use datadog_api_client::datadogV2::model::AWSLambdaForwarderConfig;
use datadog_api_client::datadogV2::model::AWSLambdaForwarderConfigLogSourceConfig;
use datadog_api_client::datadogV2::model::AWSLogSourceTagFilter;
use datadog_api_client::datadogV2::model::AWSLogsConfig;
use datadog_api_client::datadogV2::model::AWSMetricsConfig;
use datadog_api_client::datadogV2::model::AWSNamespaceTagFilter;
use datadog_api_client::datadogV2::model::AWSResourcesConfig;
use datadog_api_client::datadogV2::model::AWSTracesConfig;
use datadog_api_client::datadogV2::model::DataExportConfig;

#[tokio::main]
async fn main() {
let body = AWSAccountCreateRequest::new(AWSAccountCreateRequestData::new(
AWSAccountCreateRequestAttributes::new(
AWSAuthConfig::AWSAuthConfigKeys(Box::new(
AWSAuthConfigKeys::new("AKIAIOSFODNN7EXAMPLE".to_string())
.secret_access_key("wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY".to_string()),
)),
"123456789012".to_string(),
AWSAccountPartition::AWS,
)
.account_tags(Some(vec!["key:value".to_string()]))
.ccm_config(AWSCCMConfig::new().data_export_configs(vec![
DataExportConfig::new()
.bucket_name("my-bucket".to_string())
.bucket_region("us-east-1".to_string())
.report_name("my-report".to_string())
.report_prefix("reports".to_string())
.report_type("CUR2.0".to_string())
]))
.logs_config(
AWSLogsConfig::new().lambda_forwarder(
AWSLambdaForwarderConfig::new()
.lambdas(vec![
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
.to_string(),
])
.log_source_config(AWSLambdaForwarderConfigLogSourceConfig::new().tag_filters(
vec![
AWSLogSourceTagFilter::new()
.source("s3".to_string())
.tags(Some(vec!["test:test".to_string()]))
],
))
.sources(vec!["s3".to_string()]),
),
)
.metrics_config(
AWSMetricsConfig::new()
.automute_enabled(true)
.collect_cloudwatch_alarms(true)
.collect_custom_metrics(true)
.enabled(true)
.tag_filters(vec![AWSNamespaceTagFilter::new()
.namespace("AWS/EC2".to_string())
.tags(Some(vec!["key:value".to_string()]))]),
)
.resources_config(
AWSResourcesConfig::new()
.cloud_security_posture_management_collection(false)
.extended_collection(false),
)
.traces_config(AWSTracesConfig::new()),
AWSAccountType::ACCOUNT,
));
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_aws_account(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Create an AWS account returns "AWS Account object" response
**```
/**
* Create an AWS account returns "AWS Account object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

const params: v2.AWSIntegrationApiCreateAWSAccountRequest = {
body: {
data: {
attributes: {
accountTags: ["key:value"],
authConfig: {
roleName: "DatadogIntegrationRole",
},
awsAccountId: "123456789012",
awsPartition: "aws",
ccmConfig: {
dataExportConfigs: [
{
bucketName: "my-bucket",
bucketRegion: "us-east-1",
reportName: "my-report",
reportPrefix: "reports",
reportType: "CUR2.0",
},
],
},
logsConfig: {
lambdaForwarder: {
lambdas: [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
logSourceConfig: {
tagFilters: [
{
source: "s3",
tags: ["test:test"],
},
],
},
sources: ["s3"],
},
},
metricsConfig: {
automuteEnabled: true,
collectCloudwatchAlarms: true,
collectCustomMetrics: true,
enabled: true,
tagFilters: [
{
namespace: "AWS/EC2",
tags: ["key:value"],
},
],
},
resourcesConfig: {
cloudSecurityPostureManagementCollection: false,
extendedCollection: false,
},
tracesConfig: {},
},
type: "account",
},
},
};

apiInstance
.createAWSAccount(params)
.then((data: v2.AWSAccountResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```
Create an AWS integration returns "AWS Account object" response
**```
/**
* Create an AWS integration returns "AWS Account object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

const params: v2.AWSIntegrationApiCreateAWSAccountRequest = {
body: {
data: {
attributes: {
accountTags: ["key:value"],
authConfig: {
accessKeyId: "AKIAIOSFODNN7EXAMPLE",
secretAccessKey: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
},
awsAccountId: "123456789012",
awsPartition: "aws",
ccmConfig: {
dataExportConfigs: [
{
bucketName: "my-bucket",
bucketRegion: "us-east-1",
reportName: "my-report",
reportPrefix: "reports",
reportType: "CUR2.0",
},
],
},
logsConfig: {
lambdaForwarder: {
lambdas: [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
logSourceConfig: {
tagFilters: [
{
source: "s3",
tags: ["test:test"],
},
],
},
sources: ["s3"],
},
},
metricsConfig: {
automuteEnabled: true,
collectCloudwatchAlarms: true,
collectCustomMetrics: true,
enabled: true,
tagFilters: [
{
namespace: "AWS/EC2",
tags: ["key:value"],
},
],
},
resourcesConfig: {
cloudSecurityPostureManagementCollection: false,
extendedCollection: false,
},
tracesConfig: {},
},
type: "account",
},
},
};

apiInstance
.createAWSAccount(params)
.then((data: v2.AWSAccountResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Get resource collection IAM permissions- v2 (latest)
GET https://api.ap1.datadoghq.com/api/v2/integration/aws/iam_permissions/resource_collectionhttps://api.ap2.datadoghq.com/api/v2/integration/aws/iam_permissions/resource_collectionhttps://api.datadoghq.eu/api/v2/integration/aws/iam_permissions/resource_collectionhttps://api.ddog-gov.com/api/v2/integration/aws/iam_permissions/resource_collectionhttps://api.datadoghq.com/api/v2/integration/aws/iam_permissions/resource_collectionhttps://api.us3.datadoghq.com/api/v2/integration/aws/iam_permissions/resource_collectionhttps://api.us5.datadoghq.com/api/v2/integration/aws/iam_permissions/resource_collection
### OverviewGet all resource collection AWS IAM permissions required for the AWS integration.
### Response- 200
- 429
AWS integration resource collection IAM permissions.
- Model
- Example
AWS Integration IAM Permissions response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS Integration IAM Permissions response data.
attributes
object
AWS Integration IAM Permissions response attributes.
permissions [*required*]
[string]
List of AWS IAM permissions required for the integration.
id
string
The `AWSIntegrationIamPermissionsResponseData` `id`.
default: `permissions`
type
enum
The `AWSIntegrationIamPermissionsResponseData` `type`.
Allowed enum values: `permissions`default: `permissions`
```
{
"data": {
"attributes": {
"permissions": [
"account:GetContactInformation",
"amplify:ListApps",
"amplify:ListArtifacts",
"amplify:ListBackendEnvironments",
"amplify:ListBranches"
]
},
"id": "permissions",
"type": "permissions"
}
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Get resource collection IAM permissionsCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/iam_permissions/resource_collection" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Get resource collection IAM permissions```
"""
Get resource collection IAM permissions returns "AWS integration resource collection IAM permissions." response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.get_aws_integration_iam_permissions_resource_collection()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Get resource collection IAM permissions```
# Get resource collection IAM permissions returns "AWS integration resource collection IAM permissions." response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new
p api_instance.get_aws_integration_iam_permissions_resource_collection()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Get resource collection IAM permissions```
// Get resource collection IAM permissions returns "AWS integration resource collection IAM permissions." response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.GetAWSIntegrationIAMPermissionsResourceCollection(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.GetAWSIntegrationIAMPermissionsResourceCollection`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.GetAWSIntegrationIAMPermissionsResourceCollection`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Get resource collection IAM permissions```
// Get resource collection IAM permissions returns "AWS integration resource collection IAM
// permissions." response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSIntegrationIamPermissionsResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSIntegrationIamPermissionsResponse result =
apiInstance.getAWSIntegrationIAMPermissionsResourceCollection();
System.out.println(result);
} catch (ApiException e) {
System.err.println(
"Exception when calling"
+ " AwsIntegrationApi#getAWSIntegrationIAMPermissionsResourceCollection");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Get resource collection IAM permissions```
// Get resource collection IAM permissions returns "AWS integration resource
// collection IAM permissions." response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api
.get_aws_integration_iam_permissions_resource_collection()
.await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Get resource collection IAM permissions```
/**
* Get resource collection IAM permissions returns "AWS integration resource collection IAM permissions." response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

apiInstance
.getAWSIntegrationIAMPermissionsResourceCollection()
.then((data: v2.AWSIntegrationIamPermissionsResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Update an AWS integration- v1
- v2 (latest)
PUT https://api.ap1.datadoghq.com/api/v1/integration/awshttps://api.ap2.datadoghq.com/api/v1/integration/awshttps://api.datadoghq.eu/api/v1/integration/awshttps://api.ddog-gov.com/api/v1/integration/awshttps://api.datadoghq.com/api/v1/integration/awshttps://api.us3.datadoghq.com/api/v1/integration/awshttps://api.us5.datadoghq.com/api/v1/integration/aws
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** Update a Datadog-Amazon Web Services integration.
This endpoint requires the `aws_configuration_edit` permission.### Arguments#### Query StringsName
Type
Description
account_id
string
Only return AWS accounts that matches this `account_id`.
role_name
string
Only return AWS accounts that match this `role_name`.
Required if `account_id` is specified.access_key_id
string
Only return AWS accounts that matches this `access_key_id`.
Required if none of the other two options are specified.### Request#### Body Data (required)AWS request object
- Model
- Example
Expand All
Field
Type
Description
access_key_id
string
Your AWS access key ID. Only required if your AWS account is a GovCloud or China account.
account_id
string
Your AWS Account ID without dashes.
account_specific_namespace_rules
object
An object (in the form `{"namespace1":true/false, "namespace2":true/false}`) containing user-supplied overrides
for AWS namespace metric collection. **Important**: This field only contains namespaces explicitly configured through API calls,
not the comprehensive enabled or disabled status of all namespaces. If a namespace is absent from this field, it uses Datadog's
internal defaults (all namespaces enabled by default, except `AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage`).
For a complete view of all namespace statuses, use the V2 AWS Integration API instead.<any-key>
boolean
A list of additional properties.
cspm_resource_collection_enabled
boolean
Whether Datadog collects cloud security posture management resources from your AWS account. This includes additional resources not covered under the general `resource_collection`.
excluded_regions
[string]
An array of AWS regions
to exclude from metrics collection.extended_resource_collection_enabled
boolean
Whether Datadog collects additional attributes and configuration information about the resources in your AWS account. Required for `cspm_resource_collection`.
filter_tags
[string]
The array of EC2 tags (in the form `key:value`) defines a filter that Datadog uses when collecting metrics from EC2.
Wildcards, such as `?` (for single characters) and `*` (for multiple characters) can also be used.
Only hosts that match one of the defined tags
will be imported into Datadog. The rest will be ignored.
Host matching a given tag can also be excluded by adding `!` before the tag.
For example, `env:production,instance-type:c1.*,!region:us-east-1`host_tags
[string]
Array of tags (in the form `key:value`) to add to all hosts
and metrics reporting through this integration.metrics_collection_enabled
boolean
Whether Datadog collects metrics for this AWS account.
default: `true`
resource_collection_enabled
boolean
**DEPRECATED**: Deprecated in favor of 'extended_resource_collection_enabled'. Whether Datadog collects a standard set of resources from your AWS account.
role_name
string
Your Datadog role delegation name.
secret_access_key
string
Your AWS secret access key. Only required if your AWS account is a GovCloud or China account.
```
{
"account_id": "163662907100",
"account_specific_namespace_rules": {
"auto_scaling": false
},
"cspm_resource_collection_enabled": false,
"excluded_regions": [
"us-east-1",
"us-west-2"
],
"extended_resource_collection_enabled": true,
"filter_tags": [
"$KEY:$VALUE"
],
"host_tags": [
"$KEY:$VALUE"
],
"metrics_collection_enabled": true,
"role_name": "DatadogAWSIntegrationRole"
}
```### Response- 200
- 400
- 403
- 409
- 429
OK
- Model
- Example
Expand All
Field
Type
Description
No response body
`{}`Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Conflict Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Update an AWS integration returns "OK" responseCopy```

# Curl commandcurl -X PUT "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"account_id": "163662907100",
"account_specific_namespace_rules": {
"auto_scaling": false
},
"cspm_resource_collection_enabled": false,
"excluded_regions": [
"us-east-1",
"us-west-2"
],
"extended_resource_collection_enabled": true,
"filter_tags": [
"$KEY:$VALUE"
],
"host_tags": [
"$KEY:$VALUE"
],
"metrics_collection_enabled": true,
"role_name": "DatadogAWSIntegrationRole"
}
EOF

```
Update an AWS integration returns "OK" response```
// Update an AWS integration returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSAccount{
		AccountId: datadog.PtrString("163662907100"),
		AccountSpecificNamespaceRules: map[string]bool{
			"auto_scaling": false,
		},
		CspmResourceCollectionEnabled: datadog.PtrBool(false),
		ExcludedRegions: []string{
			"us-east-1",
			"us-west-2",
		},
		ExtendedResourceCollectionEnabled: datadog.PtrBool(true),
		FilterTags: []string{
			"$KEY:$VALUE",
		},
		HostTags: []string{
			"$KEY:$VALUE",
		},
		MetricsCollectionEnabled: datadog.PtrBool(true),
		RoleName: datadog.PtrString("DatadogAWSIntegrationRole"),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.UpdateAWSAccount(ctx, body, *datadogV1.NewUpdateAWSAccountOptionalParameters().WithAccountId("163662907100").WithRoleName("DatadogAWSIntegrationRole"))

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.UpdateAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.UpdateAWSAccount`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Update an AWS integration returns "OK" response```
// Update an AWS integration returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.api.AwsIntegrationApi.UpdateAWSAccountOptionalParameters;
import com.datadog.api.client.v1.model.AWSAccount;
import java.util.Arrays;
import java.util.Collections;
import java.util.Map;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSAccount body =
new AWSAccount()
.accountId("163662907100")
.accountSpecificNamespaceRules(Map.ofEntries(Map.entry("auto_scaling", false)))
.cspmResourceCollectionEnabled(false)
.excludedRegions(Arrays.asList("us-east-1", "us-west-2"))
.extendedResourceCollectionEnabled(true)
.filterTags(Collections.singletonList("$KEY:$VALUE"))
.hostTags(Collections.singletonList("$KEY:$VALUE"))
.metricsCollectionEnabled(true)
.roleName("DatadogAWSIntegrationRole");

try {
apiInstance.updateAWSAccount(
body,
new UpdateAWSAccountOptionalParameters()
.accountId("163662907100")
.roleName("DatadogAWSIntegrationRole"));
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#updateAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Update an AWS integration returns "OK" response```
"""
Update an AWS integration returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_account import AWSAccount

body = AWSAccount(
account_id="163662907100",
account_specific_namespace_rules=dict(
auto_scaling=False,
),
cspm_resource_collection_enabled=False,
excluded_regions=[
"us-east-1",
"us-west-2",
],
extended_resource_collection_enabled=True,
filter_tags=[
"$KEY:$VALUE",
],
host_tags=[
"$KEY:$VALUE",
],
metrics_collection_enabled=True,
role_name="DatadogAWSIntegrationRole",
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.update_aws_account(
account_id="163662907100", role_name="DatadogAWSIntegrationRole", body=body
)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Update an AWS integration returns "OK" response```
# Update an AWS integration returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSAccount.new({
account_id: "163662907100",
account_specific_namespace_rules: {
auto_scaling: false,
},
cspm_resource_collection_enabled: false,
excluded_regions: [
"us-east-1",
"us-west-2",
],
extended_resource_collection_enabled: true,
filter_tags: [
"$KEY:$VALUE",
],
host_tags: [
"$KEY:$VALUE",
],
metrics_collection_enabled: true,
role_name: "DatadogAWSIntegrationRole",
})
opts = {
account_id: "163662907100",
role_name: "DatadogAWSIntegrationRole",
}
p api_instance.update_aws_account(body, opts)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Update an AWS integration returns "OK" response```
// Update an AWS integration returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::api_aws_integration::UpdateAWSAccountOptionalParams;
use datadog_api_client::datadogV1::model::AWSAccount;
use std::collections::BTreeMap;

#[tokio::main]
async fn main() {
let body = AWSAccount::new()
.account_id("163662907100".to_string())
.account_specific_namespace_rules(BTreeMap::from([("auto_scaling".to_string(), false)]))
.cspm_resource_collection_enabled(false)
.excluded_regions(vec!["us-east-1".to_string(), "us-west-2".to_string()])
.extended_resource_collection_enabled(true)
.filter_tags(vec!["$KEY:$VALUE".to_string()])
.host_tags(vec!["$KEY:$VALUE".to_string()])
.metrics_collection_enabled(true)
.role_name("DatadogAWSIntegrationRole".to_string());
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api
.update_aws_account(
body,
UpdateAWSAccountOptionalParams::default()
.account_id("163662907100".to_string())
.role_name("DatadogAWSIntegrationRole".to_string()),
)
.await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Update an AWS integration returns "OK" response```
/**
* Update an AWS integration returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiUpdateAWSAccountRequest = {
body: {
accountId: "163662907100",
accountSpecificNamespaceRules: {
auto_scaling: false,
},
cspmResourceCollectionEnabled: false,
excludedRegions: ["us-east-1", "us-west-2"],
extendedResourceCollectionEnabled: true,
filterTags: ["$KEY:$VALUE"],
hostTags: ["$KEY:$VALUE"],
metricsCollectionEnabled: true,
roleName: "DatadogAWSIntegrationRole",
},
accountId: "163662907100",
roleName: "DatadogAWSIntegrationRole",
};

apiInstance
.updateAWSAccount(params)
.then((data: any) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```PATCH https://api.ap1.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.ap2.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.datadoghq.eu/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.ddog-gov.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.us3.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}https://api.us5.datadoghq.com/api/v2/integration/aws/accounts/{aws_account_config_id}
### OverviewUpdate an AWS Account Integration Config by config ID.
This endpoint requires the `aws_configuration_edit` permission.### Arguments#### Path ParametersName
Type
Description
aws_account_config_id [*required*]
string
Unique Datadog ID of the AWS Account Integration Config. To get the config ID for an account, use the
List all AWS integrations endpoint and query by AWS Account ID.### Request#### Body Data (required)
- Model
- Example
Expand All
Field
Type
Description
data [*required*]
object
AWS Account Update Request data.
attributes [*required*]
object
The AWS Account Integration Config to be updated.
account_tags
[string]
Tags to apply to all hosts and metrics reporting for this account. Defaults to `[]`.
auth_config
 <oneOf>
AWS Authentication config.
Option 1
object
AWS Authentication config to integrate your account using an access key pair.
access_key_id [*required*]
string
AWS Access Key ID.
secret_access_key
string
AWS Secret Access Key.
Option 2
object
AWS Authentication config to integrate your account using an IAM role.
external_id
string
AWS IAM External ID for associated role.
role_name [*required*]
string
AWS IAM Role name.
aws_account_id [*required*]
string
AWS Account ID.
aws_partition
enum
AWS partition your AWS account is scoped to. Defaults to `aws`.
See Partitions
in the AWS documentation for more information.
Allowed enum values: `aws,aws-cn,aws-us-gov` aws_regions
 <oneOf>
AWS Regions to collect data from. Defaults to `include_all`.
Option 1
object
Include all regions. Defaults to `true`.
include_all [*required*]
boolean
Include all regions.
Option 2
object
Include only these regions.
include_only [*required*]
[string]
Include only these regions.
logs_config
object
AWS Logs Collection config.
lambda_forwarder
object
Log Autosubscription configuration for Datadog Forwarder Lambda functions.
Automatically set up triggers for existing and new logs for some services,
ensuring no logs from new resources are missed and saving time spent on manual configuration.lambdas
[string]
List of Datadog Lambda Log Forwarder ARNs in your AWS account. Defaults to `[]`.
log_source_config
object
Log source configuration.
tag_filters
[object]
List of AWS log source tag filters. Defaults to `[]`.
source
string
The AWS log source to which the tag filters defined in `tags` are applied.
tags
[string]
The AWS resource tags to filter on for the log source specified by `source`.
sources
[string]
List of service IDs set to enable automatic log collection.
Discover the list of available services with the
Get list of AWS log ready services
endpoint. metrics_config
object
AWS Metrics Collection config.
automute_enabled
boolean
Enable EC2 automute for AWS metrics. Defaults to `true`.
collect_cloudwatch_alarms
boolean
Enable CloudWatch alarms collection. Defaults to `false`.
collect_custom_metrics
boolean
Enable custom metrics collection. Defaults to `false`.
enabled
boolean
Enable AWS metrics collection. Defaults to `true`.
namespace_filters
 <oneOf>
AWS Metrics namespace filters. Defaults to `exclude_only`.
Option 1
object
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls.exclude_only [*required*]
[string]
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls. Option 2
object
Include only these namespaces.
include_only [*required*]
[string]
Include only these namespaces.
tag_filters
[object]
AWS Metrics collection tag filters list. Defaults to `[]`.
namespace
string
The AWS service for which the tag filters defined in `tags` will be applied.
tags
[string]
The AWS resource tags to filter on for the service specified by `namespace`.
resources_config
object
AWS Resources Collection config.
cloud_security_posture_management_collection
boolean
Enable Cloud Security Management to scan AWS resources for vulnerabilities, misconfigurations,
identity risks, and compliance violations. Defaults to `false`.
Requires `extended_collection` to be set to `true`.extended_collection
boolean
Whether Datadog collects additional attributes and configuration information about the resources
in your AWS account. Defaults to `true`. Required for `cloud_security_posture_management_collection`. traces_config
object
AWS Traces Collection config.
xray_services
 <oneOf>
AWS X-Ray services to collect traces from. Defaults to `include_only`.
Option 1
object
Include all services.
include_all [*required*]
boolean
Include all services.
Option 2
object
Include only these services. Defaults to `[]`.
include_only [*required*]
[string]
Include only these services.
id
string
Unique Datadog ID of the AWS Account Integration Config.
To get the config ID for an account, use the
List all AWS integrations
endpoint and query by AWS Account ID.type [*required*]
enum
AWS Account resource type.
Allowed enum values: `account`default: `account`
```
{
"data": {
"attributes": {
"account_tags": [
"key:value"
],
"auth_config": {
"role_name": "DatadogIntegrationRole"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"test:test"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": true,
"collect_custom_metrics": true,
"enabled": true,
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"key:value"
]
}
]
},
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": false
},
"traces_config": {}
},
"type": "account"
}
}
```### Response- 200
- 400
- 403
- 404
- 429
AWS Account object
- Model
- Example
AWS Account response body.
Expand All
Field
Type
Description
data [*required*]
object
AWS Account response data.
attributes
object
AWS Account response attributes.
account_tags
[string]
Tags to apply to all hosts and metrics reporting for this account. Defaults to `[]`.
auth_config
 <oneOf>
AWS Authentication config.
Option 1
object
AWS Authentication config to integrate your account using an access key pair.
access_key_id [*required*]
string
AWS Access Key ID.
secret_access_key
string
AWS Secret Access Key.
Option 2
object
AWS Authentication config to integrate your account using an IAM role.
external_id
string
AWS IAM External ID for associated role.
role_name [*required*]
string
AWS IAM Role name.
aws_account_id [*required*]
string
AWS Account ID.
aws_partition
enum
AWS partition your AWS account is scoped to. Defaults to `aws`.
See Partitions
in the AWS documentation for more information.
Allowed enum values: `aws,aws-cn,aws-us-gov` aws_regions
 <oneOf>
AWS Regions to collect data from. Defaults to `include_all`.
Option 1
object
Include all regions. Defaults to `true`.
include_all [*required*]
boolean
Include all regions.
Option 2
object
Include only these regions.
include_only [*required*]
[string]
Include only these regions.
created_at
date-time
Timestamp of when the account integration was created.
logs_config
object
AWS Logs Collection config.
lambda_forwarder
object
Log Autosubscription configuration for Datadog Forwarder Lambda functions.
Automatically set up triggers for existing and new logs for some services,
ensuring no logs from new resources are missed and saving time spent on manual configuration.lambdas
[string]
List of Datadog Lambda Log Forwarder ARNs in your AWS account. Defaults to `[]`.
log_source_config
object
Log source configuration.
tag_filters
[object]
List of AWS log source tag filters. Defaults to `[]`.
source
string
The AWS log source to which the tag filters defined in `tags` are applied.
tags
[string]
The AWS resource tags to filter on for the log source specified by `source`.
sources
[string]
List of service IDs set to enable automatic log collection.
Discover the list of available services with the
Get list of AWS log ready services
endpoint. metrics_config
object
AWS Metrics Collection config.
automute_enabled
boolean
Enable EC2 automute for AWS metrics. Defaults to `true`.
collect_cloudwatch_alarms
boolean
Enable CloudWatch alarms collection. Defaults to `false`.
collect_custom_metrics
boolean
Enable custom metrics collection. Defaults to `false`.
enabled
boolean
Enable AWS metrics collection. Defaults to `true`.
namespace_filters
 <oneOf>
AWS Metrics namespace filters. Defaults to `exclude_only`.
Option 1
object
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls.exclude_only [*required*]
[string]
Exclude only these namespaces from metrics collection.
Defaults to `["AWS/SQS", "AWS/ElasticMapReduce", "AWS/Usage"]`.
`AWS/SQS`, `AWS/ElasticMapReduce`, and `AWS/Usage` are excluded by default
to reduce your AWS CloudWatch costs from `GetMetricData` API calls. Option 2
object
Include only these namespaces.
include_only [*required*]
[string]
Include only these namespaces.
tag_filters
[object]
AWS Metrics collection tag filters list. Defaults to `[]`.
namespace
string
The AWS service for which the tag filters defined in `tags` will be applied.
tags
[string]
The AWS resource tags to filter on for the service specified by `namespace`.
modified_at
date-time
Timestamp of when the account integration was updated.
resources_config
object
AWS Resources Collection config.
cloud_security_posture_management_collection
boolean
Enable Cloud Security Management to scan AWS resources for vulnerabilities, misconfigurations,
identity risks, and compliance violations. Defaults to `false`.
Requires `extended_collection` to be set to `true`.extended_collection
boolean
Whether Datadog collects additional attributes and configuration information about the resources
in your AWS account. Defaults to `true`. Required for `cloud_security_posture_management_collection`. traces_config
object
AWS Traces Collection config.
xray_services
 <oneOf>
AWS X-Ray services to collect traces from. Defaults to `include_only`.
Option 1
object
Include all services.
include_all [*required*]
boolean
Include all services.
Option 2
object
Include only these services. Defaults to `[]`.
include_only [*required*]
[string]
Include only these services.
id [*required*]
string
Unique Datadog ID of the AWS Account Integration Config.
To get the config ID for an account, use the
List all AWS integrations
endpoint and query by AWS Account ID.type [*required*]
enum
AWS Account resource type.
Allowed enum values: `account`default: `account`
```
{
"data": {
"attributes": {
"account_tags": [
"env:prod"
],
"auth_config": {
"access_key_id": "AKIAIOSFODNN7EXAMPLE",
"secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"aws_regions": {
"include_all": true
},
"created_at": "2019-09-19T10:00:00.000Z",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"env:prod"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": false,
"collect_custom_metrics": false,
"enabled": true,
"namespace_filters": {
"exclude_only": [
"AWS/SQS",
"AWS/ElasticMapReduce",
"AWS/Usage"
]
},
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"datadog:true"
]
}
]
},
"modified_at": "2019-09-19T10:00:00.000Z",
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": true
},
"traces_config": {
"xray_services": {
"include_all": false
}
}
},
"id": "00000000-abcd-0001-0000-000000000000",
"type": "account"
}
}
```Bad Request
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Not Found
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Update an AWS integration returns "AWS Account object" responseCopy```

# Path parametersexport aws_account_config_id="CHANGE_ME"# Curl commandcurl -X PATCH "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/accounts/${aws_account_config_id}" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"data": {
"attributes": {
"account_tags": [
"key:value"
],
"auth_config": {
"role_name": "DatadogIntegrationRole"
},
"aws_account_id": "123456789012",
"aws_partition": "aws",
"logs_config": {
"lambda_forwarder": {
"lambdas": [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"
],
"log_source_config": {
"tag_filters": [
{
"source": "s3",
"tags": [
"test:test"
]
}
]
},
"sources": [
"s3"
]
}
},
"metrics_config": {
"automute_enabled": true,
"collect_cloudwatch_alarms": true,
"collect_custom_metrics": true,
"enabled": true,
"tag_filters": [
{
"namespace": "AWS/EC2",
"tags": [
"key:value"
]
}
]
},
"resources_config": {
"cloud_security_posture_management_collection": false,
"extended_collection": false
},
"traces_config": {}
},
"type": "account"
}
}
EOF

```
Update an AWS integration returns "AWS Account object" response```
// Update an AWS integration returns "AWS Account object" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	// there is a valid "aws_account_v2" in the system
	AwsAccountV2DataID := os.Getenv("AWS_ACCOUNT_V2_DATA_ID")

	body := datadogV2.AWSAccountUpdateRequest{
		Data: datadogV2.AWSAccountUpdateRequestData{
			Attributes: datadogV2.AWSAccountUpdateRequestAttributes{
				AccountTags: *datadog.NewNullableList(&[]string{
					"key:value",
				}),
				AuthConfig: &datadogV2.AWSAuthConfig{
					AWSAuthConfigRole: &datadogV2.AWSAuthConfigRole{
						RoleName: "DatadogIntegrationRole",
					}},
				AwsAccountId: "123456789012",
				AwsPartition: datadogV2.AWSACCOUNTPARTITION_AWS.Ptr(),
				CcmConfig: &datadogV2.AWSCCMConfig{
					DataExportConfigs: []datadogV2.DataExportConfig{
						{
							BucketName: datadog.PtrString("updated-bucket"),
							BucketRegion: datadog.PtrString("us-west-2"),
							ReportName: datadog.PtrString("updated-report"),
							ReportPrefix: datadog.PtrString("cost-reports"),
							ReportType: datadog.PtrString("CUR2.0"),
						},
					},
				},
				LogsConfig: &datadogV2.AWSLogsConfig{
					LambdaForwarder: &datadogV2.AWSLambdaForwarderConfig{
						Lambdas: []string{
							"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
						},
						LogSourceConfig: &datadogV2.AWSLambdaForwarderConfigLogSourceConfig{
							TagFilters: []datadogV2.AWSLogSourceTagFilter{
								{
									Source: datadog.PtrString("s3"),
									Tags: *datadog.NewNullableList(&[]string{
										"test:test",
									}),
								},
							},
						},
						Sources: []string{
							"s3",
						},
					},
				},
				MetricsConfig: &datadogV2.AWSMetricsConfig{
					AutomuteEnabled: datadog.PtrBool(true),
					CollectCloudwatchAlarms: datadog.PtrBool(true),
					CollectCustomMetrics: datadog.PtrBool(true),
					Enabled: datadog.PtrBool(true),
					TagFilters: []datadogV2.AWSNamespaceTagFilter{
						{
							Namespace: datadog.PtrString("AWS/EC2"),
							Tags: *datadog.NewNullableList(&[]string{
								"key:value",
							}),
						},
					},
				},
				ResourcesConfig: &datadogV2.AWSResourcesConfig{
					CloudSecurityPostureManagementCollection: datadog.PtrBool(false),
					ExtendedCollection: datadog.PtrBool(false),
				},
				TracesConfig: &datadogV2.AWSTracesConfig{},
			},
			Type: datadogV2.AWSACCOUNTTYPE_ACCOUNT,
		},
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.UpdateAWSAccount(ctx, AwsAccountV2DataID, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.UpdateAWSAccount`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.UpdateAWSAccount`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Update an AWS integration returns "AWS Account object" response```
// Update an AWS integration returns "AWS Account object" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSAccountPartition;
import com.datadog.api.client.v2.model.AWSAccountResponse;
import com.datadog.api.client.v2.model.AWSAccountType;
import com.datadog.api.client.v2.model.AWSAccountUpdateRequest;
import com.datadog.api.client.v2.model.AWSAccountUpdateRequestAttributes;
import com.datadog.api.client.v2.model.AWSAccountUpdateRequestData;
import com.datadog.api.client.v2.model.AWSAuthConfig;
import com.datadog.api.client.v2.model.AWSAuthConfigRole;
import com.datadog.api.client.v2.model.AWSCCMConfig;
import com.datadog.api.client.v2.model.AWSLambdaForwarderConfig;
import com.datadog.api.client.v2.model.AWSLambdaForwarderConfigLogSourceConfig;
import com.datadog.api.client.v2.model.AWSLogSourceTagFilter;
import com.datadog.api.client.v2.model.AWSLogsConfig;
import com.datadog.api.client.v2.model.AWSMetricsConfig;
import com.datadog.api.client.v2.model.AWSNamespaceTagFilter;
import com.datadog.api.client.v2.model.AWSResourcesConfig;
import com.datadog.api.client.v2.model.AWSTracesConfig;
import com.datadog.api.client.v2.model.DataExportConfig;
import java.util.Collections;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

// there is a valid "aws_account_v2" in the system
String AWS_ACCOUNT_V2_DATA_ID = System.getenv("AWS_ACCOUNT_V2_DATA_ID");

AWSAccountUpdateRequest body =
new AWSAccountUpdateRequest()
.data(
new AWSAccountUpdateRequestData()
.attributes(
new AWSAccountUpdateRequestAttributes()
.accountTags(Collections.singletonList("key:value"))
.authConfig(
new AWSAuthConfig(
new AWSAuthConfigRole().roleName("DatadogIntegrationRole")))
.awsAccountId("123456789012")
.awsPartition(AWSAccountPartition.AWS)
.ccmConfig(
new AWSCCMConfig()
.dataExportConfigs(
Collections.singletonList(
new DataExportConfig()
.bucketName("updated-bucket")
.bucketRegion("us-west-2")
.reportName("updated-report")
.reportPrefix("cost-reports")
.reportType("CUR2.0"))))
.logsConfig(
new AWSLogsConfig()
.lambdaForwarder(
new AWSLambdaForwarderConfig()
.lambdas(
Collections.singletonList(
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder"))
.logSourceConfig(
new AWSLambdaForwarderConfigLogSourceConfig()
.tagFilters(
Collections.singletonList(
new AWSLogSourceTagFilter()
.source("s3")
.tags(
Collections.singletonList(
"test:test")))))
.sources(Collections.singletonList("s3"))))
.metricsConfig(
new AWSMetricsConfig()
.automuteEnabled(true)
.collectCloudwatchAlarms(true)
.collectCustomMetrics(true)
.enabled(true)
.tagFilters(
Collections.singletonList(
new AWSNamespaceTagFilter()
.namespace("AWS/EC2")
.tags(Collections.singletonList("key:value")))))
.resourcesConfig(
new AWSResourcesConfig()
.cloudSecurityPostureManagementCollection(false)
.extendedCollection(false))
.tracesConfig(new AWSTracesConfig()))
.type(AWSAccountType.ACCOUNT));

try {
AWSAccountResponse result = apiInstance.updateAWSAccount(AWS_ACCOUNT_V2_DATA_ID, body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#updateAWSAccount");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Update an AWS integration returns "AWS Account object" response```
"""
Update an AWS integration returns "AWS Account object" response
"""

from os import environ
from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v2.model.aws_account_partition import AWSAccountPartition
from datadog_api_client.v2.model.aws_account_type import AWSAccountType
from datadog_api_client.v2.model.aws_account_update_request import AWSAccountUpdateRequest
from datadog_api_client.v2.model.aws_account_update_request_attributes import AWSAccountUpdateRequestAttributes
from datadog_api_client.v2.model.aws_account_update_request_data import AWSAccountUpdateRequestData
from datadog_api_client.v2.model.aws_auth_config_role import AWSAuthConfigRole
from datadog_api_client.v2.model.aws_lambda_forwarder_config import AWSLambdaForwarderConfig
from datadog_api_client.v2.model.aws_lambda_forwarder_config_log_source_config import (
AWSLambdaForwarderConfigLogSourceConfig,
)
from datadog_api_client.v2.model.aws_log_source_tag_filter import AWSLogSourceTagFilter
from datadog_api_client.v2.model.aws_logs_config import AWSLogsConfig
from datadog_api_client.v2.model.aws_metrics_config import AWSMetricsConfig
from datadog_api_client.v2.model.aws_namespace_tag_filter import AWSNamespaceTagFilter
from datadog_api_client.v2.model.aws_resources_config import AWSResourcesConfig
from datadog_api_client.v2.model.aws_traces_config import AWSTracesConfig
from datadog_api_client.v2.model.awsccm_config import AWSCCMConfig
from datadog_api_client.v2.model.data_export_config import DataExportConfig

# there is a valid "aws_account_v2" in the system
AWS_ACCOUNT_V2_DATA_ID = environ["AWS_ACCOUNT_V2_DATA_ID"]

body = AWSAccountUpdateRequest(
data=AWSAccountUpdateRequestData(
attributes=AWSAccountUpdateRequestAttributes(
account_tags=[
"key:value",
],
auth_config=AWSAuthConfigRole(
role_name="DatadogIntegrationRole",
),
aws_account_id="123456789012",
aws_partition=AWSAccountPartition.AWS,
ccm_config=AWSCCMConfig(
data_export_configs=[
DataExportConfig(
bucket_name="updated-bucket",
bucket_region="us-west-2",
report_name="updated-report",
report_prefix="cost-reports",
report_type="CUR2.0",
),
],
),
logs_config=AWSLogsConfig(
lambda_forwarder=AWSLambdaForwarderConfig(
lambdas=[
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
log_source_config=AWSLambdaForwarderConfigLogSourceConfig(
tag_filters=[
AWSLogSourceTagFilter(
source="s3",
tags=[
"test:test",
],
),
],
),
sources=[
"s3",
],
),
),
metrics_config=AWSMetricsConfig(
automute_enabled=True,
collect_cloudwatch_alarms=True,
collect_custom_metrics=True,
enabled=True,
tag_filters=[
AWSNamespaceTagFilter(
namespace="AWS/EC2",
tags=[
"key:value",
],
),
],
),
resources_config=AWSResourcesConfig(
cloud_security_posture_management_collection=False,
extended_collection=False,
),
traces_config=AWSTracesConfig(),
),
type=AWSAccountType.ACCOUNT,
),
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.update_aws_account(aws_account_config_id=AWS_ACCOUNT_V2_DATA_ID, body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Update an AWS integration returns "AWS Account object" response```
# Update an AWS integration returns "AWS Account object" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new

# there is a valid "aws_account_v2" in the system
AWS_ACCOUNT_V2_DATA_ID = ENV["AWS_ACCOUNT_V2_DATA_ID"]

body = DatadogAPIClient::V2::AWSAccountUpdateRequest.new({
data: DatadogAPIClient::V2::AWSAccountUpdateRequestData.new({
attributes: DatadogAPIClient::V2::AWSAccountUpdateRequestAttributes.new({
account_tags: [
"key:value",
],
auth_config: DatadogAPIClient::V2::AWSAuthConfigRole.new({
role_name: "DatadogIntegrationRole",
}),
aws_account_id: "123456789012",
aws_partition: DatadogAPIClient::V2::AWSAccountPartition::AWS,
ccm_config: DatadogAPIClient::V2::AWSCCMConfig.new({
data_export_configs: [
DatadogAPIClient::V2::DataExportConfig.new({
bucket_name: "updated-bucket",
bucket_region: "us-west-2",
report_name: "updated-report",
report_prefix: "cost-reports",
report_type: "CUR2.0",
}),
],
}),
logs_config: DatadogAPIClient::V2::AWSLogsConfig.new({
lambda_forwarder: DatadogAPIClient::V2::AWSLambdaForwarderConfig.new({
lambdas: [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
log_source_config: DatadogAPIClient::V2::AWSLambdaForwarderConfigLogSourceConfig.new({
tag_filters: [
DatadogAPIClient::V2::AWSLogSourceTagFilter.new({
source: "s3",
tags: [
"test:test",
],
}),
],
}),
sources: [
"s3",
],
}),
}),
metrics_config: DatadogAPIClient::V2::AWSMetricsConfig.new({
automute_enabled: true,
collect_cloudwatch_alarms: true,
collect_custom_metrics: true,
enabled: true,
tag_filters: [
DatadogAPIClient::V2::AWSNamespaceTagFilter.new({
namespace: "AWS/EC2",
tags: [
"key:value",
],
}),
],
}),
resources_config: DatadogAPIClient::V2::AWSResourcesConfig.new({
cloud_security_posture_management_collection: false,
extended_collection: false,
}),
traces_config: DatadogAPIClient::V2::AWSTracesConfig.new({}),
}),
type: DatadogAPIClient::V2::AWSAccountType::ACCOUNT,
}),
})
p api_instance.update_aws_account(AWS_ACCOUNT_V2_DATA_ID, body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Update an AWS integration returns "AWS Account object" response```
// Update an AWS integration returns "AWS Account object" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV2::model::AWSAccountPartition;
use datadog_api_client::datadogV2::model::AWSAccountType;
use datadog_api_client::datadogV2::model::AWSAccountUpdateRequest;
use datadog_api_client::datadogV2::model::AWSAccountUpdateRequestAttributes;
use datadog_api_client::datadogV2::model::AWSAccountUpdateRequestData;
use datadog_api_client::datadogV2::model::AWSAuthConfig;
use datadog_api_client::datadogV2::model::AWSAuthConfigRole;
use datadog_api_client::datadogV2::model::AWSCCMConfig;
use datadog_api_client::datadogV2::model::AWSLambdaForwarderConfig;
use datadog_api_client::datadogV2::model::AWSLambdaForwarderConfigLogSourceConfig;
use datadog_api_client::datadogV2::model::AWSLogSourceTagFilter;
use datadog_api_client::datadogV2::model::AWSLogsConfig;
use datadog_api_client::datadogV2::model::AWSMetricsConfig;
use datadog_api_client::datadogV2::model::AWSNamespaceTagFilter;
use datadog_api_client::datadogV2::model::AWSResourcesConfig;
use datadog_api_client::datadogV2::model::AWSTracesConfig;
use datadog_api_client::datadogV2::model::DataExportConfig;

#[tokio::main]
async fn main() {
// there is a valid "aws_account_v2" in the system
let aws_account_v2_data_id = std::env::var("AWS_ACCOUNT_V2_DATA_ID").unwrap();
let body =
AWSAccountUpdateRequest::new(
AWSAccountUpdateRequestData::new(
AWSAccountUpdateRequestAttributes::new("123456789012".to_string())
.account_tags(Some(vec!["key:value".to_string()]))
.auth_config(
AWSAuthConfig::AWSAuthConfigRole(
Box::new(AWSAuthConfigRole::new("DatadogIntegrationRole".to_string())),
),
)
.aws_partition(AWSAccountPartition::AWS)
.ccm_config(
AWSCCMConfig
::new().data_export_configs(
vec![
DataExportConfig::new()
.bucket_name("updated-bucket".to_string())
.bucket_region("us-west-2".to_string())
.report_name("updated-report".to_string())
.report_prefix("cost-reports".to_string())
.report_type("CUR2.0".to_string())
],
),
)
.logs_config(
AWSLogsConfig
::new().lambda_forwarder(
AWSLambdaForwarderConfig::new()
.lambdas(
vec![
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder".to_string()
],
)
.log_source_config(
AWSLambdaForwarderConfigLogSourceConfig
::new().tag_filters(
vec![
AWSLogSourceTagFilter::new()
.source("s3".to_string())
.tags(Some(vec!["test:test".to_string()]))
],
),
)
.sources(vec!["s3".to_string()]),
),
)
.metrics_config(
AWSMetricsConfig::new()
.automute_enabled(true)
.collect_cloudwatch_alarms(true)
.collect_custom_metrics(true)
.enabled(true)
.tag_filters(
vec![
AWSNamespaceTagFilter::new()
.namespace("AWS/EC2".to_string())
.tags(Some(vec!["key:value".to_string()]))
],
),
)
.resources_config(
AWSResourcesConfig::new()
.cloud_security_posture_management_collection(false)
.extended_collection(false),
)
.traces_config(AWSTracesConfig::new()),
AWSAccountType::ACCOUNT,
),
);
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api
.update_aws_account(aws_account_v2_data_id.clone(), body)
.await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Update an AWS integration returns "AWS Account object" response```
/**
* Update an AWS integration returns "AWS Account object" response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

// there is a valid "aws_account_v2" in the system
const AWS_ACCOUNT_V2_DATA_ID = process.env.AWS_ACCOUNT_V2_DATA_ID as string;

const params: v2.AWSIntegrationApiUpdateAWSAccountRequest = {
body: {
data: {
attributes: {
accountTags: ["key:value"],
authConfig: {
roleName: "DatadogIntegrationRole",
},
awsAccountId: "123456789012",
awsPartition: "aws",
ccmConfig: {
dataExportConfigs: [
{
bucketName: "updated-bucket",
bucketRegion: "us-west-2",
reportName: "updated-report",
reportPrefix: "cost-reports",
reportType: "CUR2.0",
},
],
},
logsConfig: {
lambdaForwarder: {
lambdas: [
"arn:aws:lambda:us-east-1:123456789012:function:DatadogLambdaLogForwarder",
],
logSourceConfig: {
tagFilters: [
{
source: "s3",
tags: ["test:test"],
},
],
},
sources: ["s3"],
},
},
metricsConfig: {
automuteEnabled: true,
collectCloudwatchAlarms: true,
collectCustomMetrics: true,
enabled: true,
tagFilters: [
{
namespace: "AWS/EC2",
tags: ["key:value"],
},
],
},
resourcesConfig: {
cloudSecurityPostureManagementCollection: false,
extendedCollection: false,
},
tracesConfig: {},
},
type: "account",
},
},
awsAccountConfigId: AWS_ACCOUNT_V2_DATA_ID,
};

apiInstance
.updateAWSAccount(params)
.then((data: v2.AWSAccountResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Get all Amazon EventBridge sources- v1
- v2 (latest)
GET https://api.ap1.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.ap2.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.datadoghq.eu/api/v1/integration/aws/event_bridgehttps://api.ddog-gov.com/api/v1/integration/aws/event_bridgehttps://api.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.us3.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.us5.datadoghq.com/api/v1/integration/aws/event_bridge
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** Get all Amazon EventBridge sources.
### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
An object describing the EventBridge configuration for multiple accounts.
Expand All
Field
Type
Description
accounts
[object]
List of accounts with their event sources.
accountId
string
Your AWS Account ID without dashes.
eventHubs
[object]
Array of AWS event sources associated with this account.
name
string
The event source name.
region
string
The event source's AWS region.
tags
[string]
Array of tags (in the form `key:value`) which are added to all hosts
and metrics reporting through the main AWS integration.isInstalled
boolean
True if the EventBridge sub-integration is enabled for your organization.
```
{
"accounts": [
{
"accountId": "123456789012",
"eventHubs": [
{
"name": "string",
"region": "string"
}
],
"tags": [
"$KEY:$VALUE"
]
}
],
"isInstalled": false
}
```Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Get all Amazon EventBridge sourcesCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/event_bridge" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Get all Amazon EventBridge sources```
"""
Get all Amazon EventBridge sources returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.list_aws_event_bridge_sources()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Get all Amazon EventBridge sources```
# Get all Amazon EventBridge sources returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new
p api_instance.list_aws_event_bridge_sources()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Get all Amazon EventBridge sources```
// Get all Amazon EventBridge sources returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.ListAWSEventBridgeSources(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.ListAWSEventBridgeSources`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.ListAWSEventBridgeSources`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Get all Amazon EventBridge sources```
// Get all Amazon EventBridge sources returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSEventBridgeListResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSEventBridgeListResponse result = apiInstance.listAWSEventBridgeSources();
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#listAWSEventBridgeSources");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Get all Amazon EventBridge sources```
// Get all Amazon EventBridge sources returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.list_aws_event_bridge_sources().await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Get all Amazon EventBridge sources```
/**
* Get all Amazon EventBridge sources returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

apiInstance
.listAWSEventBridgeSources()
.then((data: v1.AWSEventBridgeListResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```GET https://api.ap1.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.ap2.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.datadoghq.eu/api/v2/integration/aws/event_bridgehttps://api.ddog-gov.com/api/v2/integration/aws/event_bridgehttps://api.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.us3.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.us5.datadoghq.com/api/v2/integration/aws/event_bridge
### OverviewGet all Amazon EventBridge sources.
This endpoint requires the `integrations_read` permission.### Response- 200
- 400
- 403
- 429
Amazon EventBridge sources list.
- Model
- Example
Amazon EventBridge list response body.
Expand All
Field
Type
Description
data [*required*]
object
Amazon EventBridge list response data.
attributes [*required*]
object
An object describing the EventBridge configuration for multiple accounts.
accounts
[object]
List of accounts with their event sources.
account_id
string
Your AWS Account ID without dashes.
event_hubs
[object]
Array of AWS event sources associated with this account.
name
string
The event source name.
region
string
The event source's
AWS region.tags
[string]
Array of tags (in the form `key:value`) which are added to all hosts
and metrics reporting through the main AWS integration.is_installed
boolean
True if the EventBridge integration is enabled for your organization.
id [*required*]
string
The ID of the Amazon EventBridge list response data.
default: `get_event_bridge`
type [*required*]
enum
Amazon EventBridge resource type.
Allowed enum values: `event_bridge`default: `event_bridge`
```
{
"data": {
"attributes": {
"accounts": [
{
"account_id": "123456789012",
"event_hubs": [
{
"name": "app-alerts-zyxw3210",
"region": "us-east-1"
}
],
"tags": [
"$KEY:$VALUE"
]
}
],
"is_installed": false
},
"id": "get_event_bridge",
"type": "event_bridge"
}
}
```Bad Request
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Get all Amazon EventBridge sourcesCopy```

# Curl commandcurl -X GET "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/event_bridge" \
-H "Accept: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}"

```
Get all Amazon EventBridge sources```
"""
Get all Amazon EventBridge sources returns "Amazon EventBridge sources list." response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.list_aws_event_bridge_sources()

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Get all Amazon EventBridge sources```
# Get all Amazon EventBridge sources returns "Amazon EventBridge sources list." response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new
p api_instance.list_aws_event_bridge_sources()

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Get all Amazon EventBridge sources```
// Get all Amazon EventBridge sources returns "Amazon EventBridge sources list." response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.ListAWSEventBridgeSources(ctx)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.ListAWSEventBridgeSources`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.ListAWSEventBridgeSources`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Get all Amazon EventBridge sources```
// Get all Amazon EventBridge sources returns "Amazon EventBridge sources list." response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSEventBridgeListResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

try {
AWSEventBridgeListResponse result = apiInstance.listAWSEventBridgeSources();
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#listAWSEventBridgeSources");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Get all Amazon EventBridge sources```
// Get all Amazon EventBridge sources returns "Amazon EventBridge sources list."
// response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;

#[tokio::main]
async fn main() {
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.list_aws_event_bridge_sources().await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Get all Amazon EventBridge sources```
/**
* Get all Amazon EventBridge sources returns "Amazon EventBridge sources list." response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

apiInstance
.listAWSEventBridgeSources()
.then((data: v2.AWSEventBridgeListResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Create an Amazon EventBridge source- v1
- v2 (latest)
POST https://api.ap1.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.ap2.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.datadoghq.eu/api/v1/integration/aws/event_bridgehttps://api.ddog-gov.com/api/v1/integration/aws/event_bridgehttps://api.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.us3.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.us5.datadoghq.com/api/v1/integration/aws/event_bridge
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** Create an Amazon EventBridge source.
This endpoint requires the `manage_integrations` permission.### Request#### Body Data (required)Create an Amazon EventBridge source for an AWS account with a given name and region.
- Model
- Example
Expand All
Field
Type
Description
account_id
string
Your AWS Account ID without dashes.
create_event_bus
boolean
True if Datadog should create the event bus in addition to the event
source. Requires the `events:CreateEventBus` permission.event_generator_name
string
The given part of the event source name, which is then combined with an
assigned suffix to form the full name.region
string
The event source's AWS region.
```
{
"account_id": "123456789012",
"create_event_bus": true,
"event_generator_name": "app-alerts",
"region": "us-east-1"
}
```### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
A created EventBridge source.
Expand All
Field
Type
Description
event_source_name
string
The event source name.
has_bus
boolean
True if the event bus was created in addition to the source.
region
string
The event source's AWS region.
status
enum
The event source status "created".
Allowed enum values: `created````
{
"event_source_name": "app-alerts-zyxw3210",
"has_bus": true,
"region": "us-east-1",
"status": "created"
}
```Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Create an Amazon EventBridge sourceCopy```

# Curl commandcurl -X POST "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/event_bridge" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{}
EOF

```
Create an Amazon EventBridge source```
"""
Create an Amazon EventBridge source returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_event_bridge_create_request import AWSEventBridgeCreateRequest

body = AWSEventBridgeCreateRequest(
account_id="123456789012",
create_event_bus=True,
event_generator_name="app-alerts",
region="us-east-1",
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_aws_event_bridge_source(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Create an Amazon EventBridge source```
# Create an Amazon EventBridge source returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSEventBridgeCreateRequest.new({
account_id: "123456789012",
create_event_bus: true,
event_generator_name: "app-alerts",
region: "us-east-1",
})
p api_instance.create_aws_event_bridge_source(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Create an Amazon EventBridge source```
// Create an Amazon EventBridge source returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSEventBridgeCreateRequest{
		AccountId: datadog.PtrString("123456789012"),
		CreateEventBus: datadog.PtrBool(true),
		EventGeneratorName: datadog.PtrString("app-alerts"),
		Region: datadog.PtrString("us-east-1"),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateAWSEventBridgeSource(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateAWSEventBridgeSource`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateAWSEventBridgeSource`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Create an Amazon EventBridge source```
// Create an Amazon EventBridge source returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSEventBridgeCreateRequest;
import com.datadog.api.client.v1.model.AWSEventBridgeCreateResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSEventBridgeCreateRequest body =
new AWSEventBridgeCreateRequest()
.accountId("123456789012")
.createEventBus(true)
.eventGeneratorName("app-alerts")
.region("us-east-1");

try {
AWSEventBridgeCreateResponse result = apiInstance.createAWSEventBridgeSource(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createAWSEventBridgeSource");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Create an Amazon EventBridge source```
// Create an Amazon EventBridge source returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::model::AWSEventBridgeCreateRequest;

#[tokio::main]
async fn main() {
let body = AWSEventBridgeCreateRequest::new()
.account_id("123456789012".to_string())
.create_event_bus(true)
.event_generator_name("app-alerts".to_string())
.region("us-east-1".to_string());
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_aws_event_bridge_source(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Create an Amazon EventBridge source```
/**
* Create an Amazon EventBridge source returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiCreateAWSEventBridgeSourceRequest = {
body: {
accountId: "123456789012",
createEventBus: true,
eventGeneratorName: "app-alerts",
region: "us-east-1",
},
};

apiInstance
.createAWSEventBridgeSource(params)
.then((data: v1.AWSEventBridgeCreateResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```POST https://api.ap1.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.ap2.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.datadoghq.eu/api/v2/integration/aws/event_bridgehttps://api.ddog-gov.com/api/v2/integration/aws/event_bridgehttps://api.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.us3.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.us5.datadoghq.com/api/v2/integration/aws/event_bridge
### OverviewCreate an Amazon EventBridge source.
This endpoint requires the `manage_integrations` permission.### Request#### Body Data (required)Create an Amazon EventBridge source for an AWS account with a given name and region.
- Model
- Example
Expand All
Field
Type
Description
data [*required*]
object
Amazon EventBridge create request data.
attributes [*required*]
object
The EventBridge source to be created.
account_id [*required*]
string
AWS Account ID.
create_event_bus
boolean
Set to true if Datadog should create the event bus in addition to the event
source. Requires the `events:CreateEventBus` permission.event_generator_name [*required*]
string
The given part of the event source name, which is then combined with an
assigned suffix to form the full name.region [*required*]
string
The event source's
AWS region.type [*required*]
enum
Amazon EventBridge resource type.
Allowed enum values: `event_bridge`default: `event_bridge`
```
{
"data": {
"attributes": {
"account_id": "123456789012",
"create_event_bus": true,
"event_generator_name": "app-alerts",
"region": "us-east-1"
},
"type": "event_bridge"
}
}
```### Response- 200
- 400
- 403
- 409
- 429
Amazon EventBridge source created.
- Model
- Example
Amazon EventBridge create response body.
Expand All
Field
Type
Description
data [*required*]
object
Amazon EventBridge create response data.
attributes [*required*]
object
A created EventBridge source.
event_source_name
string
The event source name.
has_bus
boolean
True if the event bus was created in addition to the source.
region
string
The event source's
AWS region.status
enum
The event source status "created".
Allowed enum values: `created`id
string
The ID of the Amazon EventBridge create response data.
default: `create_event_bridge`
type [*required*]
enum
Amazon EventBridge resource type.
Allowed enum values: `event_bridge`default: `event_bridge`
```
{
"data": {
"attributes": {
"event_source_name": "app-alerts-zyxw3210",
"has_bus": true,
"region": "us-east-1",
"status": "created"
},
"id": "create_event_bridge",
"type": "event_bridge"
}
}
```Bad Request
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Conflict
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Create an Amazon EventBridge sourceCopy```

# Curl commandcurl -X POST "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/event_bridge" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"data": {
"attributes": {
"account_id": "123456789012",
"event_generator_name": "app-alerts",
"region": "us-east-1"
},
"type": "event_bridge"
}
}
EOF

```
Create an Amazon EventBridge source```
"""
Create an Amazon EventBridge source returns "Amazon EventBridge source created." response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v2.model.aws_event_bridge_create_request import AWSEventBridgeCreateRequest
from datadog_api_client.v2.model.aws_event_bridge_create_request_attributes import AWSEventBridgeCreateRequestAttributes
from datadog_api_client.v2.model.aws_event_bridge_create_request_data import AWSEventBridgeCreateRequestData
from datadog_api_client.v2.model.aws_event_bridge_type import AWSEventBridgeType

body = AWSEventBridgeCreateRequest(
data=AWSEventBridgeCreateRequestData(
attributes=AWSEventBridgeCreateRequestAttributes(
account_id="123456789012",
create_event_bus=True,
event_generator_name="app-alerts",
region="us-east-1",
),
type=AWSEventBridgeType.EVENT_BRIDGE,
),
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.create_aws_event_bridge_source(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Create an Amazon EventBridge source```
# Create an Amazon EventBridge source returns "Amazon EventBridge source created." response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new

body = DatadogAPIClient::V2::AWSEventBridgeCreateRequest.new({
data: DatadogAPIClient::V2::AWSEventBridgeCreateRequestData.new({
attributes: DatadogAPIClient::V2::AWSEventBridgeCreateRequestAttributes.new({
account_id: "123456789012",
create_event_bus: true,
event_generator_name: "app-alerts",
region: "us-east-1",
}),
type: DatadogAPIClient::V2::AWSEventBridgeType::EVENT_BRIDGE,
}),
})
p api_instance.create_aws_event_bridge_source(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Create an Amazon EventBridge source```
// Create an Amazon EventBridge source returns "Amazon EventBridge source created." response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	body := datadogV2.AWSEventBridgeCreateRequest{
		Data: datadogV2.AWSEventBridgeCreateRequestData{
			Attributes: datadogV2.AWSEventBridgeCreateRequestAttributes{
				AccountId: "123456789012",
				CreateEventBus: datadog.PtrBool(true),
				EventGeneratorName: "app-alerts",
				Region: "us-east-1",
			},
			Type: datadogV2.AWSEVENTBRIDGETYPE_EVENT_BRIDGE,
		},
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.CreateAWSEventBridgeSource(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.CreateAWSEventBridgeSource`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.CreateAWSEventBridgeSource`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Create an Amazon EventBridge source```
// Create an Amazon EventBridge source returns "Amazon EventBridge source created." response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSEventBridgeCreateRequest;
import com.datadog.api.client.v2.model.AWSEventBridgeCreateRequestAttributes;
import com.datadog.api.client.v2.model.AWSEventBridgeCreateRequestData;
import com.datadog.api.client.v2.model.AWSEventBridgeCreateResponse;
import com.datadog.api.client.v2.model.AWSEventBridgeType;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSEventBridgeCreateRequest body =
new AWSEventBridgeCreateRequest()
.data(
new AWSEventBridgeCreateRequestData()
.attributes(
new AWSEventBridgeCreateRequestAttributes()
.accountId("123456789012")
.createEventBus(true)
.eventGeneratorName("app-alerts")
.region("us-east-1"))
.type(AWSEventBridgeType.EVENT_BRIDGE));

try {
AWSEventBridgeCreateResponse result = apiInstance.createAWSEventBridgeSource(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#createAWSEventBridgeSource");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Create an Amazon EventBridge source```
// Create an Amazon EventBridge source returns "Amazon EventBridge source
// created." response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV2::model::AWSEventBridgeCreateRequest;
use datadog_api_client::datadogV2::model::AWSEventBridgeCreateRequestAttributes;
use datadog_api_client::datadogV2::model::AWSEventBridgeCreateRequestData;
use datadog_api_client::datadogV2::model::AWSEventBridgeType;

#[tokio::main]
async fn main() {
let body = AWSEventBridgeCreateRequest::new(AWSEventBridgeCreateRequestData::new(
AWSEventBridgeCreateRequestAttributes::new(
"123456789012".to_string(),
"app-alerts".to_string(),
"us-east-1".to_string(),
)
.create_event_bus(true),
AWSEventBridgeType::EVENT_BRIDGE,
));
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.create_aws_event_bridge_source(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Create an Amazon EventBridge source```
/**
* Create an Amazon EventBridge source returns "Amazon EventBridge source created." response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

const params: v2.AWSIntegrationApiCreateAWSEventBridgeSourceRequest = {
body: {
data: {
attributes: {
accountId: "123456789012",
createEventBus: true,
eventGeneratorName: "app-alerts",
region: "us-east-1",
},
type: "event_bridge",
},
},
};

apiInstance
.createAWSEventBridgeSource(params)
.then((data: v2.AWSEventBridgeCreateResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```## Delete an Amazon EventBridge source- v1
- v2 (latest)
DELETE https://api.ap1.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.ap2.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.datadoghq.eu/api/v1/integration/aws/event_bridgehttps://api.ddog-gov.com/api/v1/integration/aws/event_bridgehttps://api.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.us3.datadoghq.com/api/v1/integration/aws/event_bridgehttps://api.us5.datadoghq.com/api/v1/integration/aws/event_bridge
### Overview**This endpoint is deprecated - use the V2 endpoints instead.** Delete an Amazon EventBridge source.
This endpoint requires the `manage_integrations` permission.### Request#### Body Data (required)Delete the Amazon EventBridge source with the given name, region, and associated AWS account.
- Model
- Example
Expand All
Field
Type
Description
account_id
string
Your AWS Account ID without dashes.
event_generator_name
string
The event source name.
region
string
The event source's AWS region.
```
{
"account_id": "123456789012",
"event_generator_name": "app-alerts-zyxw3210",
"region": "us-east-1"
}
```### Response- 200
- 400
- 403
- 429
OK
- Model
- Example
An indicator of the successful deletion of an EventBridge source.
Expand All
Field
Type
Description
status
enum
The event source status "empty".
Allowed enum values: `empty````
{
"status": "empty"
}
```Bad Request
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Authentication Error
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
Error response object.
Expand All
Field
Type
Description
errors [*required*]
[string]
Array of errors returned by the API.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Delete an Amazon EventBridge sourceCopy```

# Curl commandcurl -X DELETE "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v1/integration/aws/event_bridge" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{}
EOF

```
Delete an Amazon EventBridge source```
"""
Delete an Amazon EventBridge source returns "OK" response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v1.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v1.model.aws_event_bridge_delete_request import AWSEventBridgeDeleteRequest

body = AWSEventBridgeDeleteRequest(
account_id="123456789012",
event_generator_name="app-alerts-zyxw3210",
region="us-east-1",
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.delete_aws_event_bridge_source(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Delete an Amazon EventBridge source```
# Delete an Amazon EventBridge source returns "OK" response

require "datadog_api_client"
api_instance = DatadogAPIClient::V1::AWSIntegrationAPI.new

body = DatadogAPIClient::V1::AWSEventBridgeDeleteRequest.new({
account_id: "123456789012",
event_generator_name: "app-alerts-zyxw3210",
region: "us-east-1",
})
p api_instance.delete_aws_event_bridge_source(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Delete an Amazon EventBridge source```
// Delete an Amazon EventBridge source returns "OK" response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV1"
)

func main() {
	body := datadogV1.AWSEventBridgeDeleteRequest{
		AccountId: datadog.PtrString("123456789012"),
		EventGeneratorName: datadog.PtrString("app-alerts-zyxw3210"),
		Region: datadog.PtrString("us-east-1"),
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV1.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.DeleteAWSEventBridgeSource(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.DeleteAWSEventBridgeSource`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.DeleteAWSEventBridgeSource`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Delete an Amazon EventBridge source```
// Delete an Amazon EventBridge source returns "OK" response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v1.api.AwsIntegrationApi;
import com.datadog.api.client.v1.model.AWSEventBridgeDeleteRequest;
import com.datadog.api.client.v1.model.AWSEventBridgeDeleteResponse;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSEventBridgeDeleteRequest body =
new AWSEventBridgeDeleteRequest()
.accountId("123456789012")
.eventGeneratorName("app-alerts-zyxw3210")
.region("us-east-1");

try {
AWSEventBridgeDeleteResponse result = apiInstance.deleteAWSEventBridgeSource(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#deleteAWSEventBridgeSource");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Delete an Amazon EventBridge source```
// Delete an Amazon EventBridge source returns "OK" response
use datadog_api_client::datadog;
use datadog_api_client::datadogV1::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV1::model::AWSEventBridgeDeleteRequest;

#[tokio::main]
async fn main() {
let body = AWSEventBridgeDeleteRequest::new()
.account_id("123456789012".to_string())
.event_generator_name("app-alerts-zyxw3210".to_string())
.region("us-east-1".to_string());
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.delete_aws_event_bridge_source(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Delete an Amazon EventBridge source```
/**
* Delete an Amazon EventBridge source returns "OK" response
*/

import { client, v1 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v1.AWSIntegrationApi(configuration);

const params: v1.AWSIntegrationApiDeleteAWSEventBridgeSourceRequest = {
body: {
accountId: "123456789012",
eventGeneratorName: "app-alerts-zyxw3210",
region: "us-east-1",
},
};

apiInstance
.deleteAWSEventBridgeSource(params)
.then((data: v1.AWSEventBridgeDeleteResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```DELETE https://api.ap1.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.ap2.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.datadoghq.eu/api/v2/integration/aws/event_bridgehttps://api.ddog-gov.com/api/v2/integration/aws/event_bridgehttps://api.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.us3.datadoghq.com/api/v2/integration/aws/event_bridgehttps://api.us5.datadoghq.com/api/v2/integration/aws/event_bridge
### OverviewDelete an Amazon EventBridge source.
This endpoint requires the `manage_integrations` permission.### Request#### Body Data (required)Delete the Amazon EventBridge source with the given name, region, and associated AWS account.
- Model
- Example
Expand All
Field
Type
Description
data [*required*]
object
Amazon EventBridge delete request data.
attributes [*required*]
object
The EventBridge source to be deleted.
account_id [*required*]
string
AWS Account ID.
event_generator_name [*required*]
string
The event source name.
region [*required*]
string
The event source's
AWS region.type [*required*]
enum
Amazon EventBridge resource type.
Allowed enum values: `event_bridge`default: `event_bridge`
```
{
"data": {
"attributes": {
"account_id": "123456789012",
"event_generator_name": "app-alerts-zyxw3210",
"region": "us-east-1"
},
"type": "event_bridge"
}
}
```### Response- 200
- 400
- 403
- 429
Amazon EventBridge source deleted.
- Model
- Example
Amazon EventBridge delete response body.
Expand All
Field
Type
Description
data [*required*]
object
Amazon EventBridge delete response data.
attributes [*required*]
object
The EventBridge source delete response attributes.
status
enum
The event source status "empty".
Allowed enum values: `empty`id
string
The ID of the Amazon EventBridge list response data.
default: `delete_event_bridge`
type [*required*]
enum
Amazon EventBridge resource type.
Allowed enum values: `event_bridge`default: `event_bridge`
```
{
"data": {
"attributes": {
"status": "empty"
},
"id": "delete_event_bridge",
"type": "event_bridge"
}
}
```Bad Request
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Forbidden
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```Too many requests
- Model
- Example
API error response.
Expand All
Field
Type
Description
errors [*required*]
[string]
A list of errors.
```
{
"errors": [
"Bad Request"
]
}
```### Code Example- [Curl](?code-lang=curl#)
- [Python](?code-lang=python#)
- [Ruby](?code-lang=ruby#)
- [Go](?code-lang=go#)
- [Java](?code-lang=java#)
- [Rust](?code-lang=rust#)
- [Typescript](?code-lang=typescript#)

Delete an Amazon EventBridge sourceCopy```

# Curl commandcurl -X DELETE "https://api.ap1.datadoghq.com"https://api.ap2.datadoghq.com"https://api.datadoghq.eu"https://api.ddog-gov.com"https://api.datadoghq.com"https://api.us3.datadoghq.com"https://api.us5.datadoghq.com/api/v2/integration/aws/event_bridge" \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-H "DD-API-KEY: ${DD_API_KEY}" \
-H "DD-APPLICATION-KEY: ${DD_APP_KEY}" \
-d @- << EOF
{
"data": {
"attributes": {
"account_id": "123456789012",
"event_generator_name": "app-alerts-zyxw3210",
"region": "us-east-1"
},
"type": "event_bridge"
}
}
EOF

```
Delete an Amazon EventBridge source```
"""
Delete an Amazon EventBridge source returns "Amazon EventBridge source deleted." response
"""

from datadog_api_client import ApiClient, Configuration
from datadog_api_client.v2.api.aws_integration_api import AWSIntegrationApi
from datadog_api_client.v2.model.aws_event_bridge_delete_request import AWSEventBridgeDeleteRequest
from datadog_api_client.v2.model.aws_event_bridge_delete_request_attributes import AWSEventBridgeDeleteRequestAttributes
from datadog_api_client.v2.model.aws_event_bridge_delete_request_data import AWSEventBridgeDeleteRequestData
from datadog_api_client.v2.model.aws_event_bridge_type import AWSEventBridgeType

body = AWSEventBridgeDeleteRequest(
data=AWSEventBridgeDeleteRequestData(
attributes=AWSEventBridgeDeleteRequestAttributes(
account_id="123456789012",
event_generator_name="app-alerts-zyxw3210",
region="us-east-1",
),
type=AWSEventBridgeType.EVENT_BRIDGE,
),
)

configuration = Configuration()
with ApiClient(configuration) as api_client:
api_instance = AWSIntegrationApi(api_client)
response = api_instance.delete_aws_event_bridge_source(body=body)

print(response)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=python) and then save the example to `example.py` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" python3 "example.py"`
```
Delete an Amazon EventBridge source```
# Delete an Amazon EventBridge source returns "Amazon EventBridge source deleted." response

require "datadog_api_client"
api_instance = DatadogAPIClient::V2::AWSIntegrationAPI.new

body = DatadogAPIClient::V2::AWSEventBridgeDeleteRequest.new({
data: DatadogAPIClient::V2::AWSEventBridgeDeleteRequestData.new({
attributes: DatadogAPIClient::V2::AWSEventBridgeDeleteRequestAttributes.new({
account_id: "123456789012",
event_generator_name: "app-alerts-zyxw3210",
region: "us-east-1",
}),
type: DatadogAPIClient::V2::AWSEventBridgeType::EVENT_BRIDGE,
}),
})
p api_instance.delete_aws_event_bridge_source(body)

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=ruby) and then save the example to `example.rb` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" rb "example.rb"`
```
Delete an Amazon EventBridge source```
// Delete an Amazon EventBridge source returns "Amazon EventBridge source deleted." response

package main

import (
	"context"
	"encoding/json"
	"fmt"
	"os"

	"github.com/DataDog/datadog-api-client-go/v2/api/datadog"
	"github.com/DataDog/datadog-api-client-go/v2/api/datadogV2"
)

func main() {
	body := datadogV2.AWSEventBridgeDeleteRequest{
		Data: datadogV2.AWSEventBridgeDeleteRequestData{
			Attributes: datadogV2.AWSEventBridgeDeleteRequestAttributes{
				AccountId: "123456789012",
				EventGeneratorName: "app-alerts-zyxw3210",
				Region: "us-east-1",
			},
			Type: datadogV2.AWSEVENTBRIDGETYPE_EVENT_BRIDGE,
		},
	}
	ctx := datadog.NewDefaultContext(context.Background())
	configuration := datadog.NewConfiguration()
	apiClient := datadog.NewAPIClient(configuration)
	api := datadogV2.NewAWSIntegrationApi(apiClient)
	resp, r, err := api.DeleteAWSEventBridgeSource(ctx, body)

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `AWSIntegrationApi.DeleteAWSEventBridgeSource`: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}

	responseContent, _ := json.MarshalIndent(resp, "", " ")
	fmt.Fprintf(os.Stdout, "Response from `AWSIntegrationApi.DeleteAWSEventBridgeSource`:\n%s\n", responseContent)
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=go) and then save the example to `main.go` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" go run "main.go"`
```
Delete an Amazon EventBridge source```
// Delete an Amazon EventBridge source returns "Amazon EventBridge source deleted." response

import com.datadog.api.client.ApiClient;
import com.datadog.api.client.ApiException;
import com.datadog.api.client.v2.api.AwsIntegrationApi;
import com.datadog.api.client.v2.model.AWSEventBridgeDeleteRequest;
import com.datadog.api.client.v2.model.AWSEventBridgeDeleteRequestAttributes;
import com.datadog.api.client.v2.model.AWSEventBridgeDeleteRequestData;
import com.datadog.api.client.v2.model.AWSEventBridgeDeleteResponse;
import com.datadog.api.client.v2.model.AWSEventBridgeType;

public class Example {
public static void main(String[] args) {
ApiClient defaultClient = ApiClient.getDefaultApiClient();
AwsIntegrationApi apiInstance = new AwsIntegrationApi(defaultClient);

AWSEventBridgeDeleteRequest body =
new AWSEventBridgeDeleteRequest()
.data(
new AWSEventBridgeDeleteRequestData()
.attributes(
new AWSEventBridgeDeleteRequestAttributes()
.accountId("123456789012")
.eventGeneratorName("app-alerts-zyxw3210")
.region("us-east-1"))
.type(AWSEventBridgeType.EVENT_BRIDGE));

try {
AWSEventBridgeDeleteResponse result = apiInstance.deleteAWSEventBridgeSource(body);
System.out.println(result);
} catch (ApiException e) {
System.err.println("Exception when calling AwsIntegrationApi#deleteAWSEventBridgeSource");
System.err.println("Status code: " + e.getCode());
System.err.println("Reason: " + e.getResponseBody());
System.err.println("Response headers: " + e.getResponseHeaders());
e.printStackTrace();
}
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=java) and then save the example to `Example.java` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" java "Example.java"`
```
Delete an Amazon EventBridge source```
// Delete an Amazon EventBridge source returns "Amazon EventBridge source
// deleted." response
use datadog_api_client::datadog;
use datadog_api_client::datadogV2::api_aws_integration::AWSIntegrationAPI;
use datadog_api_client::datadogV2::model::AWSEventBridgeDeleteRequest;
use datadog_api_client::datadogV2::model::AWSEventBridgeDeleteRequestAttributes;
use datadog_api_client::datadogV2::model::AWSEventBridgeDeleteRequestData;
use datadog_api_client::datadogV2::model::AWSEventBridgeType;

#[tokio::main]
async fn main() {
let body = AWSEventBridgeDeleteRequest::new(AWSEventBridgeDeleteRequestData::new(
AWSEventBridgeDeleteRequestAttributes::new(
"123456789012".to_string(),
"app-alerts-zyxw3210".to_string(),
"us-east-1".to_string(),
),
AWSEventBridgeType::EVENT_BRIDGE,
));
let configuration = datadog::Configuration::new();
let api = AWSIntegrationAPI::with_config(configuration);
let resp = api.delete_aws_event_bridge_source(body).await;
if let Ok(value) = resp {
println!("{:#?}", value);
} else {
println!("{:#?}", resp.unwrap_err());
}
}

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=rust) and then save the example to `src/main.rs` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" cargo run`
```
Delete an Amazon EventBridge source```
/**
* Delete an Amazon EventBridge source returns "Amazon EventBridge source deleted." response
*/

import { client, v2 } from "@datadog/datadog-api-client";

const configuration = client.createConfiguration();
const apiInstance = new v2.AWSIntegrationApi(configuration);

const params: v2.AWSIntegrationApiDeleteAWSEventBridgeSourceRequest = {
body: {
data: {
attributes: {
accountId: "123456789012",
eventGeneratorName: "app-alerts-zyxw3210",
region: "us-east-1",
},
type: "event_bridge",
},
},
};

apiInstance
.deleteAWSEventBridgeSource(params)
.then((data: v2.AWSEventBridgeDeleteResponse) => {
console.log(
"API called successfully. Returned data: " + JSON.stringify(data)
);
})
.catch((error: any) => console.error(error));

```#### InstructionsFirst [install the library and its dependencies](https://docs.datadoghq.com/api/latest/?code-lang=typescript) and then save the example to `example.ts` and run following commands:
```

`DD_SITE="datadoghq.comus3.datadoghq.comus5.datadoghq.comdatadoghq.euap1.datadoghq.comap2.datadoghq.comddog-gov.com" DD_API_KEY="<API-KEY>" DD_APP_KEY="<APP-KEY>" tsc "example.ts"`
```###### Request a personalized demo×##### Get Started with Datadog