# Plate Documentation
# Source: https://platejs.org/docs/autoformat
# Generated by llm-code-docs plate-docs.py scraper

Autoformat
Previous
Next
Automatic text formatting via shortcodes and markdown-like shortcuts.
Copy Markdown
Open
Basic Elements
Basic Marks
Code Block
List
Preview
Code
Loading...
Files
components
demo.tsx
autoformat-value.tsx
editor
plugins
autoformat-kit.tsx
align-base-kit.tsx
basic-blocks-base-kit.tsx
basic-marks-base-kit.tsx
callout-base-kit.tsx
code-block-base-kit.tsx
column-base-kit.tsx
comment-base-kit.tsx
date-base-kit.tsx
font-base-kit.tsx
line-height-base-kit.tsx
link-base-kit.tsx
list-base-kit.tsx
indent-base-kit.tsx
math-base-kit.tsx
media-base-kit.tsx
mention-base-kit.tsx
suggestion-base-kit.tsx
suggestion-kit.tsx
discussion-kit.tsx
basic-marks-kit.tsx
table-base-kit.tsx
toc-base-kit.tsx
toggle-base-kit.tsx
markdown-kit.tsx
ai-kit.tsx
cursor-overlay-kit.tsx
align-kit.tsx
basic-nodes-kit.tsx
basic-blocks-kit.tsx
block-menu-kit.tsx
block-selection-kit.tsx
block-placeholder-kit.tsx
callout-kit.tsx
code-block-kit.tsx
column-kit.tsx
comment-kit.tsx
date-kit.tsx
dnd-kit.tsx
docx-kit.tsx
emoji-kit.tsx
excalidraw-kit.tsx
exit-break-kit.tsx
fixed-toolbar-kit.tsx
floating-toolbar-kit.tsx
font-kit.tsx
line-height-kit.tsx
link-kit.tsx
list-kit.tsx
indent-kit.tsx
math-kit.tsx
media-kit.tsx
mention-kit.tsx
slash-kit.tsx
table-kit.tsx
toc-kit.tsx
toggle-kit.tsx
editor-kit.tsx
editor-base-kit.tsx
use-chat.ts
transforms.ts
ui
editor.tsx
editor-static.tsx
blockquote-node.tsx
blockquote-node-static.tsx
heading-node.tsx
heading-node-static.tsx
hr-node.tsx
hr-node-static.tsx
paragraph-node.tsx
paragraph-node-static.tsx
code-node.tsx
code-node-static.tsx
highlight-node.tsx
highlight-node-static.tsx
kbd-node.tsx
kbd-node-static.tsx
callout-node.tsx
callout-node-static.tsx
emoji-toolbar-button.tsx
toolbar.tsx
code-block-node.tsx
code-block-node-static.tsx
column-node.tsx
column-node-static.tsx
resize-handle.tsx
comment-node.tsx
comment-node-static.tsx
date-node.tsx
date-node-static.tsx
link-node.tsx
link-node-static.tsx
block-list.tsx
block-list-static.tsx
equation-node.tsx
equation-node-static.tsx
media-audio-node.tsx
media-audio-node-static.tsx
caption.tsx
media-file-node.tsx
media-file-node-static.tsx
media-image-node.tsx
media-image-node-static.tsx
media-toolbar.tsx
media-video-node.tsx
media-video-node-static.tsx
mention-node.tsx
mention-node-static.tsx
inline-combobox.tsx
suggestion-node.tsx
suggestion-node-static.tsx
suggestion-toolbar-button.tsx
block-discussion.tsx
block-suggestion.tsx
comment.tsx
ai-node.tsx
emoji-node.tsx
mark-toolbar-button.tsx
table-node.tsx
table-icons.tsx
table-node-static.tsx
block-selection.tsx
font-color-toolbar-button.tsx
toc-node.tsx
toc-node-static.tsx
toggle-node.tsx
toggle-node-static.tsx
cursor-overlay.tsx
ai-menu.tsx
ai-chat-editor.tsx
ai-toolbar-button.tsx
align-toolbar-button.tsx
block-context-menu.tsx
comment-toolbar-button.tsx
block-draggable.tsx
excalidraw-node.tsx
fixed-toolbar.tsx
fixed-toolbar-buttons.tsx
font-size-toolbar-button.tsx
history-toolbar-button.tsx
list-toolbar-button.tsx
indent-toolbar-button.tsx
import-toolbar-button.tsx
insert-toolbar-button.tsx
line-height-toolbar-button.tsx
link-toolbar-button.tsx
media-toolbar-button.tsx
mode-toolbar-button.tsx
more-toolbar-button.tsx
table-toolbar-button.tsx
toggle-toolbar-button.tsx
turn-into-toolbar-button.tsx
export-toolbar-button.tsx
floating-toolbar.tsx
floating-toolbar-buttons.tsx
equation-toolbar-button.tsx
link-toolbar.tsx
media-embed-node.tsx
media-placeholder-node.tsx
media-preview-dialog.tsx
media-upload-toast.tsx
slash-node.tsx
hooks
use-mounted.ts
use-debounce.ts
use-is-touch-device.ts
use-upload-file.ts
app
api
ai
command
route.ts
utils.ts
prompts.ts
copilot
route.ts
lib
markdown-joiner-transform.ts
uploadthing.ts
components/demo.tsx
Copy
'use client'
;
import
*
as
React
from
'react'
;
import
{ Plate, usePlateEditor }
from
'platejs/react'
;
import
{ EditorKit }
from
'@/components/editor/editor-kit'
;
import
{ Editor, EditorContainer }
from
'@/components/ui/editor'
;
import
{ DEMO_VALUES }
from
'./values/demo-values'
;
export
default
function
Demo
({ id }
:
{ id
:
string
})
{
const
editor
=
usePlateEditor
({
plugins: EditorKit,
value:
DEMO_VALUES
[id],
});
return
(
<
Plate
editor
={
editor
}
>
<
EditorContainer
variant
=
"demo"
>
<
Editor
/>
</
EditorContainer
>
</
Plate
>
);
}
Features
Markdown-style shortcuts for blocks (e.g.,
#
to H1,
>
for blockquote).
Inline mark formatting (e.g.,
**bold**
,
*italic*
,
~~strikethrough~~
).
Smart punctuation conversion (e.g.,
--
to
—
,
...
to
…
).
Mathematical symbols and fractions.
Legal symbols and arrows.
Undo support on delete to reverse autoformatting.
Kit Usage
Installation
The fastest way to add autoformatting is with the
AutoformatKit
, which includes comprehensive formatting rules for blocks, marks, and text replacements.
autoformat-kit.tsx
npx shadcn@latest add
autoformat-kit
'use client'
;
import
type
{ AutoformatRule }
from
'@platejs/autoformat'
;
import
{
autoformatArrow,
autoformatLegal,
autoformatLegalHtml,
autoformatMath,
AutoformatPlugin,
autoformatPunctuation,
autoformatSmartQuotes,
}
from
'@platejs/autoformat'
;
import
{ insertEmptyCodeBlock }
from
'@platejs/code-block'
;
import
{ toggleList }
from
'@platejs/list'
;
import
{ KEYS }
from
'platejs'
;
const
autoformatMarks
:
AutoformatRule
[]
=
[
{
match:
'***'
,
mode:
'mark'
,
type: [
KEYS
.bold,
KEYS
.italic],
},
{
match:
'__*'
,
mode:
'mark'
,
type: [
KEYS
.underline,
KEYS
.italic],
},
{
match:
'__**'
,
mode:
'mark'
,
type: [
KEYS
.underline,
KEYS
.bold],
},
{
match:
'___***'
,
mode:
'mark'
,
type: [
KEYS
.underline,
KEYS
.bold,
KEYS
.italic],
},
{
match:
'**'
,
mode:
'mark'
,
type:
KEYS
.bold,
},
{
match:
'__'
,
mode:
'mark'
,
type:
KEYS
.underline,
},
{
match:
'*'
,
mode:
'mark'
,
type:
KEYS
.italic,
},
{
match:
'_'
,
mode:
'mark'
,
type:
KEYS
.italic,
},
{
match:
'~~'
,
mode:
'mark'
,
type:
KEYS
.strikethrough,
},
{
match:
'^'
,
mode:
'mark'
,
type:
KEYS
.sup,
},
{
match:
'~'
,
mode:
'mark'
,
type:
KEYS
.sub,
},
{
match:
'=='
,
mode:
'mark'
,
type:
KEYS
.highlight,
},
{
match:
'≡'
,
mode:
'mark'
,
type:
KEYS
.highlight,
},
{
match:
'`'
,
mode:
'mark'
,
type:
KEYS
.code,
},
];
const
autoformatBlocks
:
AutoformatRule
[]
=
[
{
match:
'# '
,
mode:
'block'
,
type:
KEYS
.h1,
},
{
match:
'## '
,
mode:
'block'
,
type:
KEYS
.h2,
},
{
match:
'### '
,
mode:
'block'
,
type:
KEYS
.h3,
},
{
match:
'#### '
,
mode:
'block'
,
type:
KEYS
.h4,
},
{
match:
'##### '
,
mode:
'block'
,
type:
KEYS
.h5,
},
{
match:
'###### '
,
mode:
'block'
,
type:
KEYS
.h6,
},
{
match:
'> '
,
mode:
'block'
,
type:
KEYS
.blockquote,
},
{
match:
'```'
,
mode:
'block'
,
type:
KEYS
.codeBlock,
format
: (
editor
)
=>
{
insertEmptyCodeBlock
(editor, {
defaultType:
KEYS
.p,
insertNodesOptions: { select:
true
},
});
},
},
// {
//   match: '+ ',
//   mode: 'block',
//   preFormat: openNextToggles,
//   type: KEYS.toggle,
// },
{
match: [
'---'
,
'—-'
,
'___ '
],
mode:
'block'
,
type:
KEYS
.hr,
format
: (
editor
)
=>
{
editor.tf.
setNodes
({ type:
KEYS
.hr });
editor.tf.
insertNodes
({
children: [{ text:
''
}],
type:
KEYS
.p,
});
},
},
];
const
autoformatLists
:
AutoformatRule
[]
=
[
{
match: [
'* '
,
'- '
],
mode:
'block'
,
type:
'list'
,
format
: (
editor
)
=>
{
toggleList
(editor, {
listStyleType:
KEYS
.ul,
});
},
},
{
match: [String.
raw
`^
\d
+
\.
$ `
, String.
raw
`^
\d
+
\)
$ `
],
matchByRegex:
true
,
mode:
'block'
,
type:
'list'
,
format
: (
editor
, {
matchString
})
=>
{
toggleList
(editor, {
listRestartPolite:
Number
(matchString)
||
1
,
listStyleType:
KEYS
.ol,
});
},
},
{
match: [
'[] '
],
mode:
'block'
,
type:
'list'
,
format
: (
editor
)
=>
{
toggleList
(editor, {
listStyleType:
KEYS
.listTodo,
});
editor.tf.
setNodes
({
checked:
false
,
listStyleType:
KEYS
.listTodo,
});
},
},
{
match: [
'[x] '
],
mode:
'block'
,
type:
'list'
,
format
: (
editor
)
=>
{
toggleList
(editor, {
listStyleType:
KEYS
.listTodo,
});
editor.tf.
setNodes
({
checked:
true
,
listStyleType:
KEYS
.listTodo,
});
},
},
];
export
const
AutoformatKit
=
[
AutoformatPlugin.
configure
({
options: {
enableUndoOnDelete:
true
,
rules: [
...
autoformatBlocks,
...
autoformatMarks,
...
autoformatSmartQuotes,
...
autoformatPunctuation,
...
autoformatLegal,
...
autoformatLegalHtml,
...
autoformatArrow,
...
autoformatMath,
...
autoformatLists,
].
map
(
(
rule
)
:
AutoformatRule
=>
({
...
rule,
query
: (
editor
)
=>
!
editor.api.
some
({
match: { type: editor.
getType
(
KEYS
.codeBlock) },
}),
})
),
},
}),
];
Copy
Add Kit
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ AutoformatKit }
from
'@/components/editor/plugins/autoformat-kit'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
...
AutoformatKit,
],
});
Copy
Manual Usage
Installation
bun
npm
pnpm
yarn
pnpm add @platejs/autoformat
Copy
Add Plugin
import
{ AutoformatPlugin }
from
'@platejs/autoformat'
;
import
{ createPlateEditor }
from
'platejs/react'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
AutoformatPlugin,
],
});
Copy
Configure Plugin
Configure autoformat with custom rules:
import
{ AutoformatPlugin }
from
'@platejs/autoformat'
;
AutoformatPlugin.
configure
({
options: {
rules: [
// Block rules
{
match:
'# '
,
mode:
'block'
,
type:
'h1'
,
},
{
match:
'> '
,
mode:
'block'
,
type:
'blockquote'
,
},
// Mark rules
{
match:
'**'
,
mode:
'mark'
,
type:
'bold'
,
},
{
match:
'*'
,
mode:
'mark'
,
type:
'italic'
,
},
],
enableUndoOnDelete:
true
,
},
});
Copy
Advanced Configuration
Import predefined rule sets for comprehensive autoformatting:
import
{ AutoformatPlugin }
from
'@platejs/autoformat'
;
import
{
autoformatArrow,
autoformatLegal,
autoformatMath,
autoformatPunctuation,
autoformatSmartQuotes,
}
from
'@platejs/autoformat'
;
AutoformatPlugin.
configure
({
options: {
enableUndoOnDelete:
true
,
rules: [
// Custom block rules
{
match:
'# '
,
mode:
'block'
,
type:
'h1'
,
},
// Predefined rule sets
...
autoformatSmartQuotes,
...
autoformatPunctuation,
...
autoformatArrow,
...
autoformatLegal,
...
autoformatMath,
].
map
((
rule
)
=>
({
...
rule,
// Disable autoformat in code blocks
query
: (
editor
)
=>
!
editor.api.
some
({
match: { type:
'code_block'
},
}),
})),
},
});
Copy
rules
: Array of autoformat rules defining triggers and formatting actions.
enableUndoOnDelete
: Allows undoing autoformat by pressing backspace.
query
: Function to conditionally enable/disable rules based on context.
Using Regex Patterns
For more complex matching patterns, you can use regular expressions:
import
{ AutoformatPlugin }
from
'@platejs/autoformat'
;
import
{ toggleList }
from
'@platejs/list'
;
AutoformatPlugin.
configure
({
options: {
rules: [
{
match: [String.
raw
`^
\d
+
\.
$ `
, String.
raw
`^
\d
+
\)
$ `
],
matchByRegex:
true
,
mode:
'block'
,
type:
'list'
,
format
: (
editor
, {
matchString
})
=>
{
const
number
=
Number
(matchString.
match
(
/
\d
+
/
)?.[
0
])
||
1
;
toggleList
(editor, {
listRestartPolite: number,
listStyleType:
'ol'
,
});
},
},
],
},
});
Copy
matchByRegex
: Enables regex pattern matching instead of string equality.
Note that Regex patterns only work with
mode: 'block'
and are applied at block start (
triggerAtBlockStart: true
).
Plugins
AutoformatPlugin
Plugin for automatic text formatting based on typing patterns.
Options
Collapse all
rules
optional
AutoformatRule[]
A list of triggering rules. Can be one of:
AutoformatBlockRule
,
AutoformatMarkRule
,
AutoformatTextRule
. Each extends
AutoformatCommonRule
.
Default:
[]
enableUndoOnDelete
optional
boolean
Enable undo on delete to reverse autoformatting.
Default:
false
Predefined Rules
You can import the following predefined rule sets:
Name
Description
autoformatSmartQuotes
Converts
"text"
to
"text"
.
Converts
'text'
to
'text'
.
autoformatPunctuation
Converts
--
to
—
.
Converts
...
to
…
.
Converts
>>
to
»
.
Converts
<<
to
«
.
autoformatArrow
Converts
->
to
→
.
Converts
<-
to
←
.
Converts
=>
to
⇒
.
Converts
<=
and
≤=
to
⇐
.
autoformatLegal
Converts
(tm)
and
(TM)
to
™
.
Converts
(r)
and
(R)
to
®
.
Converts
(c)
and
(C)
to
©
.
autoformatLegalHtml
Converts
&trade;
to
™
.
Converts
&reg;
to
®
.
Converts
&copy;
to
©
.
Converts
&sect;
to
§
.
autoformatComparison
Converts
!>
to
≯
.
Converts
!<
to
≮
.
Converts
>=
to
≥
.
Converts
<=
to
≤
.
Converts
!>=
to
≱
.
Converts
!<=
to
≰
.
autoformatEquality
Converts
!=
to
≠
.
Converts
==
to
≡
.
Converts
!==
and
≠=
to
≢
.
Converts
~=
to
≈
.
Converts
!~=
to
≉
.
autoformatFraction
Converts
1/2
to
½
.
Converts
1/3
to
⅓
.
...
Converts
7/8
to
⅞
.
autoformatDivision
Converts
//
to
÷
.
autoformatOperation
Converts
+-
to
±
.
Converts
%%
to
‰
.
Converts
%%%
and
‰%
to
‱
.
autoformatDivision
rules.
autoformatSubscriptNumbers
Converts
~0
to
₀
.
Converts
~1
to
₁
.
...
Converts
~9
to
₉
.
autoformatSubscriptSymbols
Converts
~+
to
₊
.
Converts
~-
to
₋
.
autoformatSuperscriptNumbers
Converts
^0
to
⁰
.
Converts
^1
to
¹
.
...
Converts
^9
to
⁹
.
autoformatSuperscriptSymbols
Converts
^+
to
⁺
.
Converts
^-
to
⁻
.
autoformatMath
autoformatComparison
rules
autoformatEquality
rules
autoformatOperation
rules
autoformatFraction
rules
autoformatSubscriptNumbers
rules
autoformatSubscriptSymbols
rules
autoformatSuperscriptNumbers
rules
autoformatSuperscriptSymbols
rules
Types
AutoformatCommonRule
An interface for the common structure of autoformat rules, regardless of their mode.
Attributes
Collapse all
match
string | string[] | MatchRange | MatchRange[]
The rule applies when the trigger and the text just before the cursor matches.
For
mode: 'block'
: lookup for the end match(es) before the cursor.
For
mode: 'text'
: lookup for the end match(es) before the cursor. If
format
is an array, also lookup for the start match(es).
For
mode: 'mark'
: lookup for the start and end matches.
Note:
'_*'
,
['_*']
and
{ start: '_*', end: '*_' }
are equivalent.
MatchRange
:
Show
child attributes
trigger
optional
string | string[]
Triggering character to autoformat.
insertTrigger
optional
boolean
If true, insert the triggering character after autoformatting.
Default:
false
query
optional
(editor: PlateEditor, options: AutoformatQueryOptions) => boolean
A query function to allow autoformat.
Options
AutoformatQueryOptions
Collapse all
text
string
insertText
text.
AutoformatBlockRule
An interface for autoformat rules for block mode.
Attributes
Collapse all
mode
'block'
Block mode: set block type or custom format.
match
string | string[]
Pattern to match for the autoformat rule.
type
optional
string
For
mode: 'block'
: set block type. If
format
is defined, this field is ignored.
triggerAtBlockStart
optional
boolean
Whether trigger should be at block start.
Default:
true
allowSameTypeAbove
optional
boolean
Whether to allow autoformat with same block type above.
Default:
false
preFormat
optional
(editor: PlateEditor) => void
Function called before
format
. Used to reset selected block.
format
optional
(editor: PlateEditor) => void
Custom formatting function.
AutoformatMarkRule
An interface for autoformat rules for mark mode.
Attributes
Collapse all
mode
'mark'
Mark mode: insert mark(s) between matches.
type
string | string[]
Mark(s) to add.
ignoreTrim
optional
boolean
Whether to format when string can be trimmed.
AutoformatTextRule
An interface for autoformat rules for text mode.
Parameters
Collapse all
mode
'text'
Text mode: insert text.
match
string | string[]
Pattern to match for the autoformat rule.
format
string | string[] | ((editor: PlateEditor, options: GetMatchPointsReturnType) => void)
Text replacement or formatting function.
Trailing Block
Block Menu
On This Page
Features
Kit Usage
Installation
Add Kit
Manual Usage
Installation
Add Plugin
Configure Plugin
Advanced Configuration
Using Regex Patterns
Plugins
AutoformatPlugin
Predefined Rules
Types
AutoformatCommonRule
AutoformatBlockRule
AutoformatMarkRule
AutoformatTextRule
Build your editor
Production-ready AI template and reusable components.
Get all-access
Get all-access