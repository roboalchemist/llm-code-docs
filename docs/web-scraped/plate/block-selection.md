# Plate Documentation
# Source: https://platejs.org/docs/block-selection
# Generated by llm-code-docs plate-docs.py scraper

Block Selection
Previous
Next
Copy Markdown
Open
Block Selection
Preview
Code
Loading...
Files
components
demo.tsx
block-selection-value.tsx
editor
plugins
block-selection-kit.tsx
align-base-kit.tsx
basic-blocks-base-kit.tsx
basic-marks-base-kit.tsx
callout-base-kit.tsx
code-block-base-kit.tsx
column-base-kit.tsx
comment-base-kit.tsx
date-base-kit.tsx
font-base-kit.tsx
line-height-base-kit.tsx
link-base-kit.tsx
list-base-kit.tsx
indent-base-kit.tsx
math-base-kit.tsx
media-base-kit.tsx
mention-base-kit.tsx
suggestion-base-kit.tsx
suggestion-kit.tsx
discussion-kit.tsx
basic-marks-kit.tsx
table-base-kit.tsx
toc-base-kit.tsx
toggle-base-kit.tsx
markdown-kit.tsx
ai-kit.tsx
cursor-overlay-kit.tsx
align-kit.tsx
autoformat-kit.tsx
basic-nodes-kit.tsx
basic-blocks-kit.tsx
block-menu-kit.tsx
block-placeholder-kit.tsx
callout-kit.tsx
code-block-kit.tsx
column-kit.tsx
comment-kit.tsx
date-kit.tsx
dnd-kit.tsx
docx-kit.tsx
emoji-kit.tsx
excalidraw-kit.tsx
exit-break-kit.tsx
fixed-toolbar-kit.tsx
floating-toolbar-kit.tsx
font-kit.tsx
line-height-kit.tsx
link-kit.tsx
list-kit.tsx
indent-kit.tsx
math-kit.tsx
media-kit.tsx
mention-kit.tsx
slash-kit.tsx
table-kit.tsx
toc-kit.tsx
toggle-kit.tsx
editor-kit.tsx
editor-base-kit.tsx
use-chat.ts
transforms.ts
ui
block-selection.tsx
editor.tsx
editor-static.tsx
blockquote-node.tsx
blockquote-node-static.tsx
heading-node.tsx
heading-node-static.tsx
hr-node.tsx
hr-node-static.tsx
paragraph-node.tsx
paragraph-node-static.tsx
code-node.tsx
code-node-static.tsx
highlight-node.tsx
highlight-node-static.tsx
kbd-node.tsx
kbd-node-static.tsx
callout-node.tsx
callout-node-static.tsx
emoji-toolbar-button.tsx
toolbar.tsx
code-block-node.tsx
code-block-node-static.tsx
column-node.tsx
column-node-static.tsx
resize-handle.tsx
comment-node.tsx
comment-node-static.tsx
date-node.tsx
date-node-static.tsx
link-node.tsx
link-node-static.tsx
block-list.tsx
block-list-static.tsx
equation-node.tsx
equation-node-static.tsx
media-audio-node.tsx
media-audio-node-static.tsx
caption.tsx
media-file-node.tsx
media-file-node-static.tsx
media-image-node.tsx
media-image-node-static.tsx
media-toolbar.tsx
media-video-node.tsx
media-video-node-static.tsx
mention-node.tsx
mention-node-static.tsx
inline-combobox.tsx
suggestion-node.tsx
suggestion-node-static.tsx
suggestion-toolbar-button.tsx
block-discussion.tsx
block-suggestion.tsx
comment.tsx
ai-node.tsx
emoji-node.tsx
mark-toolbar-button.tsx
table-node.tsx
table-icons.tsx
table-node-static.tsx
font-color-toolbar-button.tsx
toc-node.tsx
toc-node-static.tsx
toggle-node.tsx
toggle-node-static.tsx
cursor-overlay.tsx
ai-menu.tsx
ai-chat-editor.tsx
ai-toolbar-button.tsx
align-toolbar-button.tsx
block-context-menu.tsx
comment-toolbar-button.tsx
block-draggable.tsx
excalidraw-node.tsx
fixed-toolbar.tsx
fixed-toolbar-buttons.tsx
font-size-toolbar-button.tsx
history-toolbar-button.tsx
list-toolbar-button.tsx
indent-toolbar-button.tsx
import-toolbar-button.tsx
insert-toolbar-button.tsx
line-height-toolbar-button.tsx
link-toolbar-button.tsx
media-toolbar-button.tsx
mode-toolbar-button.tsx
more-toolbar-button.tsx
table-toolbar-button.tsx
toggle-toolbar-button.tsx
turn-into-toolbar-button.tsx
export-toolbar-button.tsx
floating-toolbar.tsx
floating-toolbar-buttons.tsx
equation-toolbar-button.tsx
link-toolbar.tsx
media-embed-node.tsx
media-placeholder-node.tsx
media-preview-dialog.tsx
media-upload-toast.tsx
slash-node.tsx
hooks
use-mounted.ts
use-debounce.ts
use-is-touch-device.ts
use-upload-file.ts
app
api
ai
command
route.ts
utils.ts
prompts.ts
copilot
route.ts
lib
markdown-joiner-transform.ts
uploadthing.ts
components/demo.tsx
Copy
'use client'
;
import
*
as
React
from
'react'
;
import
{ Plate, usePlateEditor }
from
'platejs/react'
;
import
{ EditorKit }
from
'@/components/editor/editor-kit'
;
import
{ Editor, EditorContainer }
from
'@/components/ui/editor'
;
import
{ DEMO_VALUES }
from
'./values/demo-values'
;
export
default
function
Demo
({ id }
:
{ id
:
string
})
{
const
editor
=
usePlateEditor
({
plugins: EditorKit,
value:
DEMO_VALUES
[id],
});
return
(
<
Plate
editor
={
editor
}
>
<
EditorContainer
variant
=
"demo"
>
<
Editor
/>
</
EditorContainer
>
</
Plate
>
);
}
The Block Selection feature allows users to select and manipulate entire text blocks, as opposed to individual words or characters.
Features
Select entire blocks with a single action.
Multi-block selection using mouse drag or keyboard shortcuts.
Copy, cut, and delete operations on selected blocks.
Keyboard shortcuts for quick selection:
Cmd+A
: Select all blocks.
Arrow keys: Select the block above or below.
Customizable styling for selected blocks.
Kit Usage
Installation
The fastest way to add Block Selection is with the
BlockSelectionKit
, which includes the pre-configured
BlockSelectionPlugin
and the
BlockSelection
UI component.
block-selection-kit.tsx
npx shadcn@latest add
block-selection-kit
'use client'
;
import
{ AIChatPlugin }
from
'@platejs/ai/react'
;
import
{ BlockSelectionPlugin }
from
'@platejs/selection/react'
;
import
{ getPluginTypes, isHotkey, KEYS }
from
'platejs'
;
import
{ BlockSelection }
from
'@/components/ui/block-selection'
;
export
const
BlockSelectionKit
=
[
BlockSelectionPlugin.
configure
(({
editor
})
=>
({
options: {
enableContextMenu:
true
,
isSelectable
: (
element
)
=>
!
getPluginTypes
(editor, [
KEYS
.column,
KEYS
.codeLine,
KEYS
.td]).
includes
(
element.type
),
onKeyDownSelecting
: (
editor
,
e
)
=>
{
if
(
isHotkey
(
'mod+j'
)(e)) {
editor.
getApi
(AIChatPlugin).aiChat.
show
();
}
},
},
render: {
belowRootNodes
: (
props
)
=>
{
if
(
!
props.attributes.className?.
includes
(
'slate-selectable'
))
return
null
;
return
<
BlockSelection
{
...
(props
as
any
)} />;
},
},
})),
];
Copy
BlockSelection
: Renders the selection rectangle around selected blocks.
Add Kit
The
BlockSelectionKit
enables the context menu by default and provides a default
isSelectable
logic to exclude common non-selectable blocks like code lines and table cells.
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ BlockSelectionKit }
from
'@/components/editor/plugins/block-selection-kit'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
...
BlockSelectionKit,
],
});
Copy
Manual Usage
Installation
bun
npm
pnpm
yarn
pnpm add @platejs/selection
Copy
Add Plugin
import
{ BlockSelectionPlugin }
from
'@platejs/selection/react'
;
import
{ createPlateEditor }
from
'platejs/react'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
BlockSelectionPlugin,
],
});
Copy
Put this plugin before any other plugins overriding
selectAll
â€“
Cmd+A
(code block, table, column, etc.) to avoid any conflicts.
Excluding Blocks from Selection
You can control which blocks are selectable using
options.isSelectable
. This function receives an element and its path, and should return
true
if the block is selectable.
For example, to exclude code lines, columns, and table cells:
import
{ BlockSelectionPlugin }
from
'@platejs/selection/react'
;
BlockSelectionPlugin.
configure
({
options: {
isSelectable
: (
element
,
path
)
=>
{
if
([
'code_line'
,
'column'
,
'td'
].
includes
(element.type)) {
return
false
;
}
// Exclude blocks inside table rows
if
(editor.api.
block
({ above:
true
, at: path, match: { type:
'tr'
} })) {
return
false
;
}
return
true
;
},
},
});
Copy
Customizing Scroll Behavior
If your editor is inside a scrollable container, you may need to configure the selection area's boundaries and scroll speed.
Add an
id
to your scroll container, e.g.,
id={editor.meta.uid}
.
Set
position: relative
on the container.
Use the
areaOptions
to configure the boundaries and scrolling behavior.
BlockSelectionPlugin.
configure
({
options: {
areaOptions: {
boundaries:
`#${
editor
.
meta
.
uid
}`
,
container:
`#${
editor
.
meta
.
uid
}`
,
behaviour: {
scrolling: {
// Recommended speed, close to native
speedDivider:
0.8
,
},
// Threshold to start selection area
startThreshold:
4
,
},
},
},
});
Copy
Full Page Selection
You can enable block selection for elements outside the
<Editor />
component by adding the
data-plate-selectable
attribute.
<
Cover
data-plate-selectable
/>
<
Sidebar
data-plate-selectable
/>
Copy
To prevent unselecting blocks when clicking on certain elements (e.g., a toolbar button), add the
data-plate-prevent-unselect
attribute.
<
YourToolbarButton
data-plate-prevent-unselect
/>
Copy
To reset the selection when clicking outside selectable areas, you can use a click handler or call the API directly:
// 1. Direct API call
editor.api.blockSelection.
deselect
();
// 2. Click outside handler
const
handleClickOutside
=
(
event
:
MouseEvent
)
=>
{
if
(
!
(event.target
as
HTMLElement
).
closest
(
'[data-plate-selectable]'
)) {
editor.api.blockSelection.
deselect
();
}
};
Copy
Styling
Selection Area
Style the selection area by targeting the
.slate-selection-area
class, which is added to the editor container.
/* Example using Tailwind CSS utility classes */
'[&_.
slate-selection-area
]:border [&_.
slate-selection-area
]:
border-primary
[&_.
slate-selection-area
]:
bg-primary
/10'
Copy
Selected Element
Use the
useBlockSelected
hook to determine if a block is selected. You can render a visual indicator, like the
BlockSelection
component, which is designed for this purpose.
Plate UI renders this component for all selectable blocks using
render.belowRootNodes
:
render
: {
belowRootNodes
: (
props
)
=>
{
if
(
!
props.className?.
includes
(
'slate-selectable'
))
return
null
;
return
<
BlockSelection
/>;
},
},
Copy
Plugins
BlockSelectionPlugin
Plugin for block selection functionality.
Options
Collapse all
areaOptions
optional
PartialSelectionOptions
Options for the selection area. See
SelectionJS docs
for all available options.
{
boundaries
: [
`#${
editor
.
meta
.
uid
}`
],
container
: [
`#${
editor
.
meta
.
uid
}`
],
selectables
: [
`#${
editor
.
meta
.
uid
} .slate-selectable`
],
selectionAreaClass
:
'slate-selection-area'
,
}
Copy
enableContextMenu
optional
boolean
Enables or disables the context menu for block selection.
Default:
false
isSelecting
optional
boolean
Indicates whether block selection is currently active.
Default:
false
onKeyDownSelecting
optional
(e: KeyboardEvent) => void
A function to handle the keydown event when selecting.
query
optional
QueryNodeOptions
Options for querying nodes during block selection.
Default:
{ maxLevel: 1 }
selectedIds
optional
Set<string>
A set of IDs for the currently selected blocks.
Default:
new Set()
anchorId
optional
string | null
(Internal) The ID of the anchor block in the current selection. Used for shift-based selection.
Default:
null
isSelectable
optional
(element: TElement, path: Path) => boolean
Function to determine if a block element is selectable.
Default:
() => true
API
api.blockSelection.add
Adds one or more blocks to the selection.
Parameters
Collapse all
id
string | string[]
The ID(s) of the block(s) to be selected.
api.blockSelection.clear
Resets the set of selected IDs to an empty set.
api.blockSelection.delete
Removes one or more blocks from the selection.
Parameters
Collapse all
id
string | string[]
The ID(s) of the block(s) to remove from selection.
api.blockSelection.deselect
Deselects all blocks and sets the
isSelecting
flag to false.
api.blockSelection.focus
Focuses the block selection shadow input. This input handles copy, delete, and paste events for selected blocks.
api.blockSelection.getNodes
Gets the selected blocks in the editor.
Parameters
Collapse all
options
optional
{ selectionFallback?: boolean }
Options for getting nodes.
Options
object
Collapse all
selectionFallback
optional
boolean
If true, and no blocks are selected by block selection, the method will use
the editor's original selection to retrieve blocks. -
Default:
false
Returns
NodeEntry[]
Array of selected block entries.
api.blockSelection.has
Checks if one or more blocks are selected.
Parameters
Collapse all
id
string | string[]
The ID(s) of the block(s) to check.
Returns
Collapse all
boolean
Whether the block(s) are selected.
api.blockSelection.isSelectable
Checks if a block at a given path is selectable based on the
isSelectable
plugin option.
Parameters
Collapse all
element
TElement
Block element to check.
path
Path
Path to the block element.
Returns
boolean
Whether the block is selectable.
api.blockSelection.moveSelection
Moves the selection up or down to the next selectable block.
When moving up:
Gets the previous selectable block from the top-most selected block
Sets it as the new anchor
Clears previous selection and selects only this block
When moving down:
Gets the next selectable block from the bottom-most selected block
Sets it as the new anchor
Clears previous selection and selects only this block
Parameters
Collapse all
direction
'up' | 'down'
Direction to move selection.
api.blockSelection.selectAll
Selects all selectable blocks in the editor.
api.blockSelection.set
Sets the selection to one or more blocks, clearing any existing selection.
Parameters
Collapse all
id
string | string[]
The ID(s) of the block(s) to be selected.
api.blockSelection.shiftSelection
Expands or shrinks the selection based on the anchor block.
For
Shift+ArrowDown
:
If anchor is top-most: Expands down by adding block below bottom-most
Otherwise: Shrinks from top-most (unless top-most is the anchor)
For
Shift+ArrowUp
:
If anchor is bottom-most: Expands up by adding block above top-most
Otherwise: Shrinks from bottom-most (unless bottom-most is the anchor)
The anchor block always remains selected. If no anchor is set, it defaults to:
Bottom-most block for
Shift+ArrowUp
Top-most block for
Shift+ArrowDown
Parameters
Collapse all
direction
'up' | 'down'
Direction to expand/shrink selection.
Transforms
tf.blockSelection.duplicate
Duplicates the selected blocks.
tf.blockSelection.removeNodes
Removes the selected nodes from the editor.
tf.blockSelection.select
Selects the nodes returned by
getNodes()
in the editor and resets selected IDs.
tf.blockSelection.setNodes
Sets properties on the selected nodes.
Parameters
Collapse all
props
Partial<NodeProps<TElement>>
Properties to set on selected nodes.
options
optional
SetNodesOptions
Options for setting nodes.
tf.blockSelection.setTexts
Sets text properties on the selected nodes.
Parameters
Collapse all
props
Partial<NodeProps<TText>>
Text properties to set on selected nodes.
options
optional
Omit<SetNodesOptions, 'at'>
Options for setting text nodes, excluding the 'at' property.
Hooks
useBlockSelectable
A hook that provides props for making a block element selectable, including context menu behavior.
Returns
object
Collapse all
props
object
Props to be spread on the block element.
Show
child attributes
useBlockSelected
Returns
boolean
Whether the context block is selected.
useBlockSelectionNodes
Returns
NodeEntry[]
Array of selected block entries.
useBlockSelectionFragment
Returns
Node[]
Array of selected block nodes.
useBlockSelectionFragmentProp
Returns
Node[]
Fragment prop for selected blocks.
useSelectionArea
Initialize and manage selection area functionality.
Block Placeholder
Caption
On This Page
Features
Kit Usage
Installation
Add Kit
Manual Usage
Installation
Add Plugin
Excluding Blocks from Selection
Customizing Scroll Behavior
Full Page Selection
Styling
Selection Area
Selected Element
Plugins
BlockSelectionPlugin
API
api.blockSelection.add
api.blockSelection.clear
api.blockSelection.delete
api.blockSelection.deselect
api.blockSelection.focus
api.blockSelection.getNodes
api.blockSelection.has
api.blockSelection.isSelectable
api.blockSelection.moveSelection
api.blockSelection.selectAll
api.blockSelection.set
api.blockSelection.shiftSelection
Transforms
tf.blockSelection.duplicate
tf.blockSelection.removeNodes
tf.blockSelection.select
tf.blockSelection.setNodes
tf.blockSelection.setTexts
Hooks
useBlockSelectable
useBlockSelected
useBlockSelectionNodes
useBlockSelectionFragment
useBlockSelectionFragmentProp
useSelectionArea
Build your editor
Production-ready AI template and reusable components.
Get all-access
Get all-access