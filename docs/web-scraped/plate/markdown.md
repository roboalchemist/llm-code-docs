# Plate Documentation
# Source: https://platejs.org/docs/markdown
# Generated by llm-code-docs plate-docs.py scraper

Markdown
Previous
Next
Convert Plate content to Markdown and vice-versa.
Copy Markdown
Open
The
@platejs/markdown
package provides robust, two-way conversion between Markdown and Plate's content structure.
Preview
Code
Loading...
Files
components
markdown-to-slate-demo.tsx
editor
editor-kit.tsx
editor-base-kit.tsx
plugins
align-base-kit.tsx
basic-blocks-base-kit.tsx
basic-marks-base-kit.tsx
callout-base-kit.tsx
code-block-base-kit.tsx
column-base-kit.tsx
comment-base-kit.tsx
date-base-kit.tsx
font-base-kit.tsx
line-height-base-kit.tsx
link-base-kit.tsx
list-base-kit.tsx
indent-base-kit.tsx
math-base-kit.tsx
media-base-kit.tsx
mention-base-kit.tsx
suggestion-base-kit.tsx
suggestion-kit.tsx
discussion-kit.tsx
basic-marks-kit.tsx
table-base-kit.tsx
toc-base-kit.tsx
toggle-base-kit.tsx
markdown-kit.tsx
ai-kit.tsx
cursor-overlay-kit.tsx
align-kit.tsx
autoformat-kit.tsx
basic-nodes-kit.tsx
basic-blocks-kit.tsx
block-menu-kit.tsx
block-selection-kit.tsx
block-placeholder-kit.tsx
callout-kit.tsx
code-block-kit.tsx
column-kit.tsx
comment-kit.tsx
date-kit.tsx
dnd-kit.tsx
docx-kit.tsx
emoji-kit.tsx
excalidraw-kit.tsx
exit-break-kit.tsx
fixed-toolbar-kit.tsx
floating-toolbar-kit.tsx
font-kit.tsx
line-height-kit.tsx
link-kit.tsx
list-kit.tsx
indent-kit.tsx
math-kit.tsx
media-kit.tsx
mention-kit.tsx
slash-kit.tsx
table-kit.tsx
toc-kit.tsx
toggle-kit.tsx
use-chat.ts
transforms.ts
ui
editor.tsx
editor-static.tsx
blockquote-node.tsx
blockquote-node-static.tsx
heading-node.tsx
heading-node-static.tsx
hr-node.tsx
hr-node-static.tsx
paragraph-node.tsx
paragraph-node-static.tsx
code-node.tsx
code-node-static.tsx
highlight-node.tsx
highlight-node-static.tsx
kbd-node.tsx
kbd-node-static.tsx
callout-node.tsx
callout-node-static.tsx
emoji-toolbar-button.tsx
toolbar.tsx
code-block-node.tsx
code-block-node-static.tsx
column-node.tsx
column-node-static.tsx
resize-handle.tsx
comment-node.tsx
comment-node-static.tsx
date-node.tsx
date-node-static.tsx
link-node.tsx
link-node-static.tsx
block-list.tsx
block-list-static.tsx
equation-node.tsx
equation-node-static.tsx
media-audio-node.tsx
media-audio-node-static.tsx
caption.tsx
media-file-node.tsx
media-file-node-static.tsx
media-image-node.tsx
media-image-node-static.tsx
media-toolbar.tsx
media-video-node.tsx
media-video-node-static.tsx
mention-node.tsx
mention-node-static.tsx
inline-combobox.tsx
suggestion-node.tsx
suggestion-node-static.tsx
suggestion-toolbar-button.tsx
block-discussion.tsx
block-suggestion.tsx
comment.tsx
ai-node.tsx
emoji-node.tsx
mark-toolbar-button.tsx
table-node.tsx
table-icons.tsx
table-node-static.tsx
block-selection.tsx
font-color-toolbar-button.tsx
toc-node.tsx
toc-node-static.tsx
toggle-node.tsx
toggle-node-static.tsx
cursor-overlay.tsx
ai-menu.tsx
ai-chat-editor.tsx
ai-toolbar-button.tsx
align-toolbar-button.tsx
block-context-menu.tsx
comment-toolbar-button.tsx
block-draggable.tsx
excalidraw-node.tsx
fixed-toolbar.tsx
fixed-toolbar-buttons.tsx
font-size-toolbar-button.tsx
history-toolbar-button.tsx
list-toolbar-button.tsx
indent-toolbar-button.tsx
import-toolbar-button.tsx
insert-toolbar-button.tsx
line-height-toolbar-button.tsx
link-toolbar-button.tsx
media-toolbar-button.tsx
mode-toolbar-button.tsx
more-toolbar-button.tsx
table-toolbar-button.tsx
toggle-toolbar-button.tsx
turn-into-toolbar-button.tsx
export-toolbar-button.tsx
floating-toolbar.tsx
floating-toolbar-buttons.tsx
equation-toolbar-button.tsx
link-toolbar.tsx
media-embed-node.tsx
media-placeholder-node.tsx
media-preview-dialog.tsx
media-upload-toast.tsx
slash-node.tsx
hooks
use-mounted.ts
use-debounce.ts
use-is-touch-device.ts
use-upload-file.ts
app
api
ai
command
route.ts
utils.ts
prompts.ts
copilot
route.ts
lib
markdown-joiner-transform.ts
uploadthing.ts
components/markdown-to-slate-demo.tsx
Copy
'use client'
;
import
*
as
React
from
'react'
;
import
{ MarkdownPlugin, remarkMdx, remarkMention }
from
'@platejs/markdown'
;
import
{ Plate, usePlateEditor }
from
'platejs/react'
;
import
remarkEmoji
from
'remark-emoji'
;
import
remarkGfm
from
'remark-gfm'
;
import
remarkMath
from
'remark-math'
;
import
{ EditorKit }
from
'@/components/editor/editor-kit'
;
import
{ useDebounce }
from
'@/hooks/use-debounce'
;
import
{ Editor, EditorContainer }
from
'@/components/ui/editor'
;
const
initialMarkdown
=
`## Basic Markdown
> The following node and marks is supported by the Markdown standard.
Format text with **bold**, _italic_, _**combined styles**_, ~~strikethrough~~,
\`
code
\`
formatting, and [hyperlinks](https://en.wikipedia.org/wiki/Hypertext).
\`\`\`
javascript
// Use code blocks to showcase code snippets
function greet() {
console.info("Hello World!")
}
\`\`\`
- Simple lists for organizing content
1. Numbered lists for sequential steps
| **Plugin**  | **Element** | **Inline** | **Void** |
| ----------- | ----------- | ---------- | -------- |
| **Heading** |             |            | No       |
| **Image**   | Yes         | No         | Yes      |
| **Mention** | Yes         | Yes        | Yes      |
![](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)
- [x] Completed tasks
- [ ] Pending tasks
---
## Advanced Features
<callout>
The following node and marks are not supported in Markdown but can be serialized and deserialized using MDX or specialized UnifiedJS plugins.
</callout>
Advanced marks: <kbd>⌘ + B</kbd>,<u>underlined</u>, <mark>highlighted</mark> text, <span style="color: #93C47D;">colored text</span> and <span style="background-color: #6C9EEB;">background highlights</span> for visual emphasis.
Superscript like E=mc<sup>2</sup> and subscript like H<sub>2</sub>O demonstrate mathematical and chemical notation capabilities.
Add mentions like [Aayla Sxecura](mention:mention_id) 12312
, dates (<date>2025-05-08</date>), and math formulas ($E=mc^2$).
The table of contents feature automatically generates document structure for easy navigation.
<toc />
Math formula support makes displaying complex mathematical expressions simple.
$$
\\
frac{-b
\\
pm
\\
sqrt{b^2 - 4ac}}{2a}
$$
Multi-column layout features enable richer page designs and content layouts.
<column_group layout="[50,50]">
<column width="50%">
left
</column>
<column width="50%">
right
</column>
</column_group>
PDF embedding makes document referencing simple and intuitive.
<file name="sample.pdf" align="center" src="https://s26.q4cdn.com/900411403/files/doc_downloads/test.pdf" width="80%" isUpload="true" />
Audio players can be embedded directly into documents, supporting online audio resources.
<audio align="center" src="https://samplelib.com/lib/preview/mp3/sample-3s.mp3" width="80%" />
Video playback features support embedding various online video resources, enriching document content.
<video align="center" src="https://videos.pexels.com/video-files/6769791/6769791-uhd_2560_1440_24fps.mp4" width="80%" isUpload="true" />
:smile: :heart:
`
;
export
default
function
MarkdownDemo
()
{
const
[
markdownValue
,
setMarkdownValue
]
=
React.
useState
(initialMarkdown);
const
debouncedMarkdownValue
=
useDebounce
(markdownValue,
300
);
const
markdownEditor
=
usePlateEditor
({
plugins: [],
value: [{ children: [{ text: markdownValue }], type:
'p'
}],
});
const
editor
=
usePlateEditor
(
{
plugins: EditorKit,
value
: (
editor
)
=>
editor.
getApi
(MarkdownPlugin).markdown.
deserialize
(initialMarkdown, {
remarkPlugins: [
remarkMath,
remarkGfm,
remarkMdx,
remarkMention,
remarkEmoji
as
any
,
],
}),
},
[]
);
React.
useEffect
(()
=>
{
if
(debouncedMarkdownValue
!==
initialMarkdown) {
editor.tf.
reset
();
editor.tf.
setValue
(
editor.api.markdown.
deserialize
(debouncedMarkdownValue, {
remarkPlugins: [
remarkMath,
remarkGfm,
remarkMdx,
remarkMention,
remarkEmoji
as
any
,
],
})
);
}
}, [debouncedMarkdownValue, editor]);
return
(
<
div
className
=
"grid h-full grid-cols-2 overflow-y-auto"
>
<
Plate
onValueChange
={
()
=>
{
const
value
=
markdownEditor.children
.
map
((
node
:
any
)
=>
markdownEditor.api.
string
(node))
.
join
(
'
\n
'
);
setMarkdownValue
(value);
}
}
editor
={
markdownEditor
}
>
<
EditorContainer
>
<
Editor
variant
=
"none"
className
=
"bg-muted/50 p-2 font-mono text-sm"
/>
</
EditorContainer
>
</
Plate
>
<
Plate
editor
={
editor
}
>
<
EditorContainer
>
<
Editor
variant
=
"none"
className
=
"px-4 py-2"
/>
</
EditorContainer
>
</
Plate
>
</
div
>
);
}
Preview
Code
Loading...
Files
components
demo.tsx
deserialize-md-value.tsx
editor
plugins
markdown-kit.tsx
align-base-kit.tsx
basic-blocks-base-kit.tsx
basic-marks-base-kit.tsx
callout-base-kit.tsx
code-block-base-kit.tsx
column-base-kit.tsx
comment-base-kit.tsx
date-base-kit.tsx
font-base-kit.tsx
line-height-base-kit.tsx
link-base-kit.tsx
list-base-kit.tsx
indent-base-kit.tsx
math-base-kit.tsx
media-base-kit.tsx
mention-base-kit.tsx
suggestion-base-kit.tsx
suggestion-kit.tsx
discussion-kit.tsx
basic-marks-kit.tsx
table-base-kit.tsx
toc-base-kit.tsx
toggle-base-kit.tsx
ai-kit.tsx
cursor-overlay-kit.tsx
align-kit.tsx
autoformat-kit.tsx
basic-nodes-kit.tsx
basic-blocks-kit.tsx
block-menu-kit.tsx
block-selection-kit.tsx
block-placeholder-kit.tsx
callout-kit.tsx
code-block-kit.tsx
column-kit.tsx
comment-kit.tsx
date-kit.tsx
dnd-kit.tsx
docx-kit.tsx
emoji-kit.tsx
excalidraw-kit.tsx
exit-break-kit.tsx
fixed-toolbar-kit.tsx
floating-toolbar-kit.tsx
font-kit.tsx
line-height-kit.tsx
link-kit.tsx
list-kit.tsx
indent-kit.tsx
math-kit.tsx
media-kit.tsx
mention-kit.tsx
slash-kit.tsx
table-kit.tsx
toc-kit.tsx
toggle-kit.tsx
editor-kit.tsx
editor-base-kit.tsx
use-chat.ts
transforms.ts
ui
editor.tsx
editor-static.tsx
blockquote-node.tsx
blockquote-node-static.tsx
heading-node.tsx
heading-node-static.tsx
hr-node.tsx
hr-node-static.tsx
paragraph-node.tsx
paragraph-node-static.tsx
code-node.tsx
code-node-static.tsx
highlight-node.tsx
highlight-node-static.tsx
kbd-node.tsx
kbd-node-static.tsx
callout-node.tsx
callout-node-static.tsx
emoji-toolbar-button.tsx
toolbar.tsx
code-block-node.tsx
code-block-node-static.tsx
column-node.tsx
column-node-static.tsx
resize-handle.tsx
comment-node.tsx
comment-node-static.tsx
date-node.tsx
date-node-static.tsx
link-node.tsx
link-node-static.tsx
block-list.tsx
block-list-static.tsx
equation-node.tsx
equation-node-static.tsx
media-audio-node.tsx
media-audio-node-static.tsx
caption.tsx
media-file-node.tsx
media-file-node-static.tsx
media-image-node.tsx
media-image-node-static.tsx
media-toolbar.tsx
media-video-node.tsx
media-video-node-static.tsx
mention-node.tsx
mention-node-static.tsx
inline-combobox.tsx
suggestion-node.tsx
suggestion-node-static.tsx
suggestion-toolbar-button.tsx
block-discussion.tsx
block-suggestion.tsx
comment.tsx
ai-node.tsx
emoji-node.tsx
mark-toolbar-button.tsx
table-node.tsx
table-icons.tsx
table-node-static.tsx
block-selection.tsx
font-color-toolbar-button.tsx
toc-node.tsx
toc-node-static.tsx
toggle-node.tsx
toggle-node-static.tsx
cursor-overlay.tsx
ai-menu.tsx
ai-chat-editor.tsx
ai-toolbar-button.tsx
align-toolbar-button.tsx
block-context-menu.tsx
comment-toolbar-button.tsx
block-draggable.tsx
excalidraw-node.tsx
fixed-toolbar.tsx
fixed-toolbar-buttons.tsx
font-size-toolbar-button.tsx
history-toolbar-button.tsx
list-toolbar-button.tsx
indent-toolbar-button.tsx
import-toolbar-button.tsx
insert-toolbar-button.tsx
line-height-toolbar-button.tsx
link-toolbar-button.tsx
media-toolbar-button.tsx
mode-toolbar-button.tsx
more-toolbar-button.tsx
table-toolbar-button.tsx
toggle-toolbar-button.tsx
turn-into-toolbar-button.tsx
export-toolbar-button.tsx
floating-toolbar.tsx
floating-toolbar-buttons.tsx
equation-toolbar-button.tsx
link-toolbar.tsx
media-embed-node.tsx
media-placeholder-node.tsx
media-preview-dialog.tsx
media-upload-toast.tsx
slash-node.tsx
hooks
use-mounted.ts
use-debounce.ts
use-is-touch-device.ts
use-upload-file.ts
app
api
ai
command
route.ts
utils.ts
prompts.ts
copilot
route.ts
lib
markdown-joiner-transform.ts
uploadthing.ts
components/demo.tsx
Copy
'use client'
;
import
*
as
React
from
'react'
;
import
{ Plate, usePlateEditor }
from
'platejs/react'
;
import
{ EditorKit }
from
'@/components/editor/editor-kit'
;
import
{ Editor, EditorContainer }
from
'@/components/ui/editor'
;
import
{ DEMO_VALUES }
from
'./values/demo-values'
;
export
default
function
Demo
({ id }
:
{ id
:
string
})
{
const
editor
=
usePlateEditor
({
plugins: EditorKit,
value:
DEMO_VALUES
[id],
});
return
(
<
Plate
editor
={
editor
}
>
<
EditorContainer
variant
=
"demo"
>
<
Editor
/>
</
EditorContainer
>
</
Plate
>
);
}
Features
Markdown to Plate JSON:
Convert Markdown strings to Plate's editable format (
deserialize
).
Plate JSON to Markdown:
Convert Plate content back to Markdown strings (
serialize
).
Safe by Default:
Handles Markdown conversion without
dangerouslySetInnerHTML
.
Customizable Rules:
Define how specific Markdown syntax or custom Plate elements are converted using
rules
. Supports MDX.
Extensible:
Utilize
remark plugins
via the
remarkPlugins
option.
Compliant:
Supports CommonMark, with GFM (GitHub Flavored Markdown) available via
remark-gfm
.
Round-Trip Serialization:
Preserves custom elements through MDX syntax during conversion cycles.
Why Use Plate Markdown?
While libraries like
react-markdown
render Markdown to React elements,
@platejs/markdown
offers deeper integration with the Plate ecosystem:
Rich Text Editing:
Enables advanced editing features by converting Markdown to Plate's structured format.
WYSIWYG Experience:
Edit content in a rich text view and serialize it back to Markdown.
Custom Elements & Data:
Handles complex custom Plate elements (mentions, embeds) by converting them to/from MDX.
Extensibility:
Leverages Plate's plugin system and the unified/remark ecosystem for powerful customization.
If you only need to display Markdown as HTML without editing or custom
elements,
react-markdown
might be sufficient. For a rich text editor with
Markdown import/export and custom content,
@platejs/markdown
is the
integrated solution.
Kit Usage
Installation
The fastest way to add Markdown functionality is with the
MarkdownKit
, which includes pre-configured
MarkdownPlugin
with essential remark plugins for
Plate UI
compatibility.
markdown-kit.tsx
npx shadcn@latest add
markdown-kit
import
{ MarkdownPlugin, remarkMdx, remarkMention }
from
'@platejs/markdown'
;
import
{ KEYS }
from
'platejs'
;
import
remarkGfm
from
'remark-gfm'
;
import
remarkMath
from
'remark-math'
;
export
const
MarkdownKit
=
[
MarkdownPlugin.
configure
({
options: {
plainMarks: [
KEYS
.suggestion,
KEYS
.comment],
remarkPlugins: [remarkMath, remarkGfm, remarkMdx, remarkMention],
},
}),
];
Copy
Add Kit
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ MarkdownKit }
from
'@/components/editor/plugins/markdown-kit'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
...
MarkdownKit,
],
});
Copy
Manual Usage
Installation
bun
npm
pnpm
yarn
pnpm add platejs @platejs/markdown
Copy
Add Plugin
import
{ MarkdownPlugin }
from
'@platejs/markdown'
;
import
{ createPlateEditor }
from
'platejs/react'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
MarkdownPlugin,
],
});
Copy
Configure Plugin
Configuring
MarkdownPlugin
is recommended to enable Markdown paste handling and set default conversion
rules
.
lib/plate-editor.ts
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ MarkdownPlugin, remarkMention, remarkMdx }
from
'@platejs/markdown'
;
import
remarkGfm
from
'remark-gfm'
;
import
remarkMath
from
'remark-math'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...other Plate plugins
MarkdownPlugin.
configure
({
options: {
// Add remark plugins for syntax extensions (GFM, Math, MDX)
remarkPlugins: [remarkMath, remarkGfm, remarkMdx, remarkMention],
// Define custom rules if needed
rules: {
// date: { /* ... rule implementation ... */ },
},
},
}),
],
});
// To disable Markdown paste handling:
const
editorWithoutPaste
=
createPlateEditor
({
plugins: [
// ...other Plate plugins
MarkdownPlugin.
configure
(()
=>
({ parser:
null
})),
],
});
Copy
If you don't use
MarkdownPlugin
with
configure
, you can still use
editor.api.markdown.deserialize
and
editor.api.markdown.serialize
directly, but without plugin-configured default rules or paste handling.
Markdown to Plate (Deserialization)
Use
editor.api.markdown.deserialize
to convert a Markdown string into a Plate
Value
(an array of nodes). This is often used for the editor's initial content.
components/my-editor.tsx
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ MarkdownPlugin }
from
'@platejs/markdown'
;
// ... import other necessary Plate plugins for rendering elements
const
markdownString
=
'# Hello, *Plate*!'
;
const
editor
=
createPlateEditor
({
plugins: [
// MarkdownPlugin must be included
MarkdownPlugin,
// ... other plugins needed to render the deserialized elements (e.g., HeadingPlugin, ItalicPlugin)
],
// Use deserialize in the value factory for initial content
value
: (
editor
)
=>
editor.
getApi
(MarkdownPlugin).markdown.
deserialize
(markdownString),
});
Copy
Plugin Requirements
Ensure all Plate plugins required to render the deserialized Markdown (e.g.,
HeadingPlugin
for
#
,
TablePlugin
for tables) are included in your
editor's
plugins
array.
Plate to Markdown (Serialization)
Use
editor.api.markdown.serialize
to convert the current editor content (or a specific array of nodes) into a Markdown string.
Serializing Current Editor Content:
// Assuming `editor` is your Plate editor instance with content
const
markdownOutput
=
editor.api.markdown.
serialize
();
console.
info
(markdownOutput);
Copy
Serializing Specific Nodes:
const
specificNodes
=
[
{ type:
'p'
, children: [{ text:
'Serialize just this paragraph.'
}] },
{ type:
'h1'
, children: [{ text:
'And this heading.'
}] },
];
// Assuming `editor` is your Plate editor instance
const
partialMarkdownOutput
=
editor.api.markdown.
serialize
({
value: specificNodes,
});
console.
info
(partialMarkdownOutput);
Copy
Round-Trip Serialization with Custom Elements (MDX)
A key feature is handling custom Plate elements that lack standard Markdown representation (e.g., underline, mentions).
@platejs/markdown
converts these to
MDX
elements during serialization and parses them back during deserialization.
Example:
Handling a custom
date
element.
Plate Node Structure:
{
type
:
'p'
,
children
: [
{ text:
'Today is '
},
{ type:
'date'
, date:
'2025-03-31'
, children: [{ text:
''
}] }
// Leaf elements need a text child
],
}
Copy
Plugin Configuration with
rules
:
lib/plate-editor.ts
import
type
{ MdMdxJsxTextElement }
from
'@platejs/markdown'
;
import
{ MarkdownPlugin, remarkMdx }
from
'@platejs/markdown'
;
// ... other imports
MarkdownPlugin.
configure
({
options: {
rules: {
// Key matches:
// 1. Plate element's plugin 'key' or 'type'.
// 2. mdast node type.
// 3. MDX tag name.
date: {
// Markdown -> Plate
deserialize
(
mdastNode
:
MdMdxJsxTextElement
,
deco
,
options
) {
const
dateValue
=
(mdastNode.children?.[
0
]
as
any
)?.value
||
''
;
return
{
type:
'date'
,
// Your Plate element type
date: dateValue,
children: [{ text:
''
}],
// Valid Plate structure
};
},
// Plate -> Markdown (MDX)
serialize
: (
slateNode
)
:
MdMdxJsxTextElement
=>
{
return
{
type:
'mdxJsxTextElement'
,
name:
'date'
,
// MDX tag name
attributes: [],
// Optional: [{ type: 'mdxJsxAttribute', name: 'date', value: slateNode.date }]
children: [{ type:
'text'
, value: slateNode.date
||
'1999-01-01'
}],
};
},
},
// ... rules for other custom elements
},
remarkPlugins: [remarkMdx
/*, ... other remark plugins like remarkGfm */
],
},
});
Copy
Conversion Process:
Serialization (Plate → Markdown):
The Plate
date
node becomes
<date>2025-03-31</date>
.
Deserialization (Markdown → Plate):
The MDX tag
<date>2025-03-31</date>
converts back to the Plate
date
node.
API Reference
MarkdownPlugin
The core plugin configuration object. Use
MarkdownPlugin.configure({ options: {} })
to set global options for Markdown processing.
Options
Collapse all
allowedNodes
PlateType | null
Whitelist specific node types (Plate types and Markdown AST types like
strong
). Cannot be used with
disallowedNodes
. If set, only listed
types are processed. Default:
null
(all allowed).
disallowedNodes
PlateType | null
Blacklist specific node types. Cannot be used with
allowedNodes
. Listed
types are filtered out. Default:
null
.
allowNode
AllowNodeConfig
Fine-grained node filtering with custom functions, applied
after
allowedNodes
/
disallowedNodes
. -
deserialize?: (mdastNode: any) =>       boolean
: Filter for Markdown → Plate. Return
true
to keep. -
serialize?: (slateNode: any) => boolean
: Filter for Plate → Markdown.
Return
true
to keep. Default:
null
.
rules
MdRules | null
Custom conversion rules between Markdown AST and Plate elements. See
Round-Trip
Serialization
and
Customizing Conversion Rules
.
For marks/leaves, ensure the rule object has
mark: true
. Default:
null
(uses internal
defaultRules
).
remarkPlugins
Plugin[]
Array of
remark
plugins
(e.g.,
remark-gfm
,
remark-math
,
remark-mdx
). Operates on Markdown
AST (
mdast
). Default:
[]
.
Attributes
Collapse all
parser
Parser | null
Configuration for pasted content. Set to
null
to disable Markdown paste
handling. Default enables pasting
text/plain
as Markdown. See
PlatePlugin API > parser
.
api.markdown.deserialize
Converts a Markdown string into a Plate
Value
(
Descendant[]
).
Parameters
Collapse all
markdown
string
The Markdown string to deserialize.
options
optional
DeserializeMdOptions
Options for this call, overriding plugin defaults.
Options
DeserializeMdOptions
Collapse all
allowedNodes
optional
PlateType
Override plugin
allowedNodes
.
disallowedNodes
optional
PlateType
Override plugin
disallowedNodes
.
allowNode
optional
AllowNodeConfig
Override plugin
allowNode
.
memoize
optional
boolean
Adds
_memo
property with raw Markdown to top-level blocks for
memoization (e.g., with
PlateStatic
). Default:
false
.
rules
optional
MdRules | null
Override plugin
rules
.
parser
optional
ParseMarkdownBlocksOptions
Options for the underlying Markdown block parser (
parseMarkdownBlocks
).
See below.
remarkPlugins
optional
Plugin[]
Override plugin
remarkPlugins
.
splitLineBreaks
optional
boolean
If
true
, single line breaks (
\\n
) in paragraphs become paragraph
breaks. Default:
false
.
Returns
Descendant[]
An array of Plate nodes.
api.markdown.serialize
Converts a Plate
Value
(
Descendant[]
) into a Markdown string.
Parameters
Collapse all
options
optional
SerializeMdOptions
Options for this call, overriding plugin defaults.
Options
SerializeMdOptions
Collapse all
value
optional
Descendant[]
Plate nodes to serialize. Defaults to
editor.children
.
allowedNodes
optional
PlateType
Override plugin
allowedNodes
.
disallowedNodes
optional
PlateType
Override plugin
disallowedNodes
.
allowNode
optional
AllowNodeConfig
Override plugin
allowNode
.
rules
optional
MdRules | null
Override plugin
rules
.
remarkPlugins
optional
Plugin[]
Override plugin
remarkPlugins
(affects stringification).
withBlockId
optional
boolean
When true, preserves block IDs in markdown serialization to enable AI
comment tracking. Wraps blocks with
<block id="...">content</block>
syntax. -
Default:
false
Returns
string
A Markdown string.
parseMarkdownBlocks
Utility to parse a Markdown string into block-level tokens (used by
deserialize
, useful with
memoize
).
Parameters
Collapse all
markdown
string
The Markdown string.
options
optional
ParseMarkdownBlocksOptions
Parsing options.
Options
ParseMarkdownBlocksOptions
Collapse all
exclude
optional
string[]
Marked token types (e.g.,
'space'
) to exclude. Default:
['space']
.
trim
optional
boolean
Trim trailing whitespace from input. Default:
true
.
Returns
Token[]
Array of marked
Token
objects with raw Markdown.
Examples
Using a Remark Plugin (GFM)
Add support for GitHub Flavored Markdown (tables, strikethrough, task lists, autolinks).
Plugin Configuration:
lib/plate-editor.ts
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ MarkdownPlugin }
from
'@platejs/markdown'
;
import
remarkGfm
from
'remark-gfm'
;
// Import Plate plugins for GFM elements
import
{ TablePlugin }
from
'@platejs/table/react'
;
import
{ TodoListPlugin }
from
'@platejs/list-classic/react'
;
// Ensure this is the correct List plugin for tasks
import
{ StrikethroughPlugin }
from
'@platejs/basic-nodes/react'
;
import
{ LinkPlugin }
from
'@platejs/link/react'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...other plugins
TablePlugin,
TodoListPlugin,
// Or your specific task list plugin
StrikethroughPlugin,
LinkPlugin,
MarkdownPlugin.
configure
({
options: {
remarkPlugins: [remarkGfm],
},
}),
],
});
Copy
Usage:
const
markdown
=
`
A table:
| a | b |
| - | - |
~~Strikethrough~~
- [x] Task list item
Visit https://platejs.org
`
;
// Assuming `editor` is your configured Plate editor instance
const
slateValue
=
editor.api.markdown.
deserialize
(markdown);
// editor.tf.setValue(slateValue); // To set editor content
const
markdownOutput
=
editor.api.markdown.
serialize
();
// markdownOutput will contain GFM syntax
Copy
Customizing Rendering (Syntax Highlighting)
This example shows two approaches: customizing the rendering component (common for UI changes) and customizing the conversion rule (advanced, for changing Plate structure).
Background:
@platejs/markdown
converts Markdown fenced code blocks (e.g., ```js ... ```) to Plate
code_block
elements with
code_line
children.
The Plate
CodeBlockElement
(often from
@platejs/code-block/react
) renders this structure.
Syntax highlighting typically occurs within
CodeBlockElement
using a library like
lowlight
(via
CodeBlockPlugin
). See
Code Block Plugin
for details.
Approach 1: Customizing Rendering Component (Recommended for UI)
To change how code blocks appear, customize the component for the
code_block
plugin key.
components/my-editor.tsx
import
{ createPlateEditor }
from
'platejs/react'
;
import
{
CodeBlockPlugin,
CodeLinePlugin,
CodeSyntaxPlugin,
}
from
'@platejs/code-block/react'
;
import
{ MarkdownPlugin }
from
'@platejs/markdown'
;
import
{ MyCustomCodeBlockElement }
from
'./my-custom-code-block'
;
// Your custom component
const
editor
=
createPlateEditor
({
plugins: [
CodeBlockPlugin.
withComponent
(MyCustomCodeBlockElement),
// Base plugin for structure/logic
CodeLinePlugin.
withComponent
(MyCustomCodeLineElement),
CodeSyntaxPlugin.
withComponent
(MyCustomCodeSyntaxElement),
MarkdownPlugin,
// For Markdown conversion
// ... other plugins
],
});
// MyCustomCodeBlockElement.tsx would then implement the desired rendering
// (e.g., using react-syntax-highlighter), consuming props from PlateElement.
Copy
Refer to the
Code Block Plugin documentation
for complete examples.
Approach 2: Customizing Conversion Rule (Advanced - Changing Plate Structure)
To fundamentally alter the Plate JSON for code blocks (e.g., storing code as a single string prop), override the
deserialize
rule.
lib/plate-editor.ts
import
{ MarkdownPlugin }
from
'@platejs/markdown'
;
import
{ CodeBlockPlugin }
from
'@platejs/code-block/react'
;
MarkdownPlugin.
configure
({
options: {
rules: {
// Override deserialization for mdast 'code' type
code: {
deserialize
: (
mdastNode
,
deco
,
options
)
=>
{
return
{
type:
KEYS
.codeBlock,
// Use Plate's type
lang: mdastNode.lang
??
undefined
,
rawCode: mdastNode.value
||
''
,
// Store raw code directly
children: [{ text:
''
}],
// Plate Element needs a dummy text child
};
},
},
// A custom `serialize` rule for `code_block` would also be needed
// to convert `rawCode` back to an mdast 'code' node.
[
KEYS
.codeBlock]: {
serialize
: (
slateNode
,
options
)
=>
{
return
{
// mdast 'code' node
type:
'code'
,
lang: slateNode.lang,
value: slateNode.rawCode,
};
},
},
},
// remarkPlugins: [...]
},
});
// Your custom rendering component (MyCustomCodeBlockElement) would then
// need to read the code from the `rawCode` property.
Copy
Choose based on whether you're changing UI (Approach 1) or data structure (Approach 2).
Using Remark Plugins for Math (
remark-math
)
Enable TeX math syntax (
$inline$
,
$$block$$
).
Plugin Configuration:
lib/plate-editor.ts
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ MarkdownPlugin }
from
'@platejs/markdown'
;
import
remarkMath
from
'remark-math'
;
// Import Plate math plugins for rendering
import
{ MathPlugin }
from
'@platejs/math/react'
;
// Main Math plugin
const
editor
=
createPlateEditor
({
plugins: [
// ...other plugins
MathPlugin,
// Renders block and inline equations
MarkdownPlugin.
configure
({
options: {
remarkPlugins: [remarkMath],
// Default rules handle 'math' and 'inlineMath' mdast types from remark-math,
// converting them to Plate's 'equation' and 'inline_equation' types.
},
}),
],
});
Copy
Usage:
const
markdown
=
`
Inline math: $E=mc^2$
Block math:
$$
\\
int_a^b f(x) dx = F(b) - F(a)
$$
`
;
// Assuming `editor` is your configured Plate editor instance
const
slateValue
=
editor.api.markdown.
deserialize
(markdown);
// slateValue will contain 'inline_equation' and 'equation' nodes.
const
markdownOutput
=
editor.api.markdown.
serialize
({ value: slateValue });
// markdownOutput will contain $...$ and $$...$$ syntax.
Copy
Using Mentions (
remarkMention
)
Enable mention syntax using the link format for consistency and special character support.
Plugin Configuration:
lib/plate-editor.ts
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ MarkdownPlugin, remarkMention }
from
'@platejs/markdown'
;
import
{ MentionPlugin }
from
'@platejs/mention/react'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...other plugins
MentionPlugin,
MarkdownPlugin.
configure
({
options: {
remarkPlugins: [remarkMention],
},
}),
],
});
Copy
Supported Format:
const
markdown
=
`
Mention: [Alice](mention:alice)
Mention with spaces: [John Doe](mention:john_doe)
Full name with ID: [Jane Smith](mention:user_123)
`
;
// Assuming `editor` is your configured Plate editor instance
const
slateValue
=
editor.api.markdown.
deserialize
(markdown);
// Creates mention nodes with appropriate values and display text
const
markdownOutput
=
editor.api.markdown.
serialize
({ value: slateValue });
// All mentions use the link format: [Alice](mention:alice), [John Doe](mention:john_doe), etc.
Copy
The
remarkMention
plugin uses the
display text
format - a Markdown link-style format that supports spaces and custom display text.
When serializing, all mentions use the link format to ensure consistency and support for special characters.
Using Columns
Enable column layouts with MDX support for multi-column documents.
Plugin Configuration:
lib/plate-editor.ts
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ MarkdownPlugin, remarkMdx }
from
'@platejs/markdown'
;
import
{ ColumnPlugin, ColumnItemPlugin }
from
'@platejs/layout/react'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...other plugins
ColumnPlugin,
ColumnItemPlugin,
MarkdownPlugin.
configure
({
options: {
remarkPlugins: [remarkMdx],
// Required for column MDX syntax
},
}),
],
});
Copy
Supported Format:
const
markdown
=
`
<column_group>
<column width="50%">
Left column content with 50% width
</column>
<column width="50%">
Right column content with 50% width
</column>
</column_group>
<column_group>
<column width="33%">First</column>
<column width="33%">Second</column>
<column width="34%">Third</column>
</column_group>
`
;
// Assuming `editor` is your configured Plate editor instance
const
slateValue
=
editor.api.markdown.
deserialize
(markdown);
// Creates column_group with nested column elements
const
markdownOutput
=
editor.api.markdown.
serialize
({ value: slateValue });
// Preserves column structure with width attributes
Copy
Column Features:
Supports arbitrary number of columns
Width attributes are optional (defaults to equal distribution)
Nested content fully supported within columns
Width normalization ensures columns always sum to 100%
Remark Plugins
@platejs/markdown
leverages the
unified
/
remark
ecosystem. Extend its capabilities by adding remark plugins via the
remarkPlugins
option in
MarkdownPlugin.configure
. These plugins operate on the
mdast (Markdown Abstract Syntax Tree)
.
Finding Plugins:
List of remark plugins
(Official)
remark-plugin
topic on GitHub
Awesome Remark
Common Uses:
Syntax Extensions:
remark-gfm
(tables, etc.),
remark-math
(TeX),
remark-frontmatter
,
remark-mdx
.
Linting/Formatting:
remark-lint
(often separate tooling).
Custom Transformations:
Custom plugins to modify mdast.
Remark vs. Rehype
Plate components (e.g.,
TableElement
,
CodeBlockElement
) render Plate JSON.
remarkPlugins
modify the Markdown AST. Unlike some renderers,
rehypePlugins
(for HTML AST) are generally not needed for Plate rendering,
but can be used within the remark pipeline for complex HTML transformations
(e.g., with
rehype-raw
).
Syntax Support
@platejs/markdown
uses
remark-parse
, adhering to
CommonMark
. Enable GFM or other syntaxes via
remarkPlugins
.
Learn Markdown:
CommonMark Help
GFM Spec:
GitHub Flavored Markdown Spec
Architecture Overview
@platejs/markdown
bridges Markdown strings and Plate's editor format using the unified/remark ecosystem.
@platejs/markdown
          +--------------------------------------------------------------------------------------------+
          |                                                                                            |
          |  +-----------+        +----------------+        +---------------+      +-----------+       |
          |  |           |        |                |        |               |      |           |       |
 markdown-+->+ remark    +-mdast->+ remark plugins +-mdast->+ mdast-to-slate+----->+   nodes   +-plate-+->react elements
          |  |           |        |                |        |               |      |           |       |
          |  +-----------+        +----------------+        +---------------+      +-----------+       |
          |       ^                                                                      |             |
          |       |                                                                      v             |
          |  +-----------+        +----------------+        +---------------+      +-----------+       |
          |  |           |        |                |        |               |      |           |       |
          |  | stringify |<-mdast-+ remark plugins |<-mdast-+ slate-to-mdast+<-----+ serialize |       |
          |  |           |        |                |        |               |      |           |       |
          |  +-----------+        +----------------+        +---------------+      +-----------+       |
          |                                                                                            |
          +--------------------------------------------------------------------------------------------+
Key Steps:
Parse (Deserialization):
Markdown string →
remark-parse
→ mdast.
remarkPlugins
transform mdast (e.g.,
remark-gfm
).
mdast-to-slate
converts mdast to Plate nodes using
rules
.
Plate renders nodes via its component system.
Stringify (Serialization):
Plate nodes →
slate-to-mdast
(using
rules
) → mdast.
remarkPlugins
transform mdast.
remark-stringify
converts mdast to Markdown string.
Comparison with react-markdown
Direct Node Rendering:
Plate directly renders its nodes via components,
unlike
react-markdown
which often uses rehype to convert Markdown to HTML,
then to React elements. -
Bidirectional:
Plate's Markdown processor is
fully bidirectional. -
Rich Text Integration:
Nodes are integrated with
Plate's editing capabilities. -
Plugin System:
Components are managed via
Plate's plugin system.
Migrating from
react-markdown
Migrating involves mapping
react-markdown
concepts to Plate's architecture.
Key Differences:
Rendering Pipeline:
react-markdown
(MD → mdast → hast → React) vs.
@platejs/markdown
(MD ↔ mdast ↔ Plate JSON; Plate components render Plate JSON).
Component Customization:
react-markdown
:
components
prop replaces HTML tag renderers.
Plate:
MarkdownPlugin
rules
: Customize mdast ↔ Plate JSON conversion.
createPlateEditor
components
: Customize React components for Plate node types. See
Appendix C
.
Plugin Ecosystem:
@platejs/markdown
primarily uses
remarkPlugins
.
rehypePlugins
are less common.
Mapping Options:
react-markdown
Prop
@platejs/markdown
Equivalent/Concept
Notes
children
(string)
Pass to
editor.api.markdown.deserialize(string)
Input for deserialization; often in
createPlateEditor
value
option.
remarkPlugins
MarkdownPlugin.configure({ options: { remarkPlugins: [...] }})
Direct mapping; operates on mdast.
rehypePlugins
Usually
not needed
. Use
remarkPlugins
for syntax.
Plate components handle rendering. For raw HTML, use
rehype-raw
via
remarkPlugins
.
components={{ h1: MyH1 }}
createPlateEditor({ components: { h1: MyH1 } })
Configures Plate rendering component. Key depends on
HeadingPlugin
config.
components={{ code: MyCode }}
1.
Conversion
:
MarkdownPlugin > rules > code
. 2.
Rendering
:
components: { [KEYS.codeBlock]: MyCode }
rules
for mdast (
code
) to Plate (
code_block
).
components
for Plate rendering.
allowedElements
MarkdownPlugin.configure({ options: { allowedNodes: [...] }})
Filters nodes during conversion (mdast/Plate types).
disallowedElements
MarkdownPlugin.configure({ options: { disallowedNodes: [...] }})
Filters nodes during conversion.
unwrapDisallowed
No direct equivalent. Filtering removes nodes.
Custom
rules
could implement unwrapping.
skipHtml
Default behavior strips most HTML.
Use
rehype-raw
via
remarkPlugins
for HTML processing.
urlTransform
Customize via
rules
for
link
(deserialize) or plugin type (serialize).
Handle URL transformations in conversion rules.
allowElement
MarkdownPlugin.configure({ options: { allowNode: { ... } } })
Function-based filtering during conversion.
Appendix A: HTML in Markdown
By default,
@platejs/markdown
does
not
process raw HTML tags for security. Standard Markdown generating HTML (e.g.,
*emphasis*
→
<em>
) is handled.
To process raw HTML in a
trusted environment
:
Include
remark-mdx
:
Add to
remarkPlugins
.
Use
rehype-raw
:
Add
rehype-raw
to
remarkPlugins
.
Configure Rules:
May need
rules
for parsed HTML
hast
nodes to Plate structures.
lib/plate-editor.ts
import
{ MarkdownPlugin, remarkMdx }
from
'@platejs/markdown'
;
import
rehypeRaw
from
'rehype-raw'
;
// May require VFile, ensure compatibility
// import { VFile } from 'vfile'; // If needed by rehype-raw setup
MarkdownPlugin.
configure
({
options: {
remarkPlugins: [
remarkMdx,
// Using rehype plugins within remark pipeline can be complex.
[
rehypeRaw,
{
/* options, e.g., pass vfile */
},
],
],
rules: {
// Example: Rule for HTML tags parsed by rehype-raw.
// mdastNode structure depends on rehype-raw output.
element: {
// Generic rule for 'element' nodes from rehype-raw
deserialize
: (
mdastNode
,
deco
,
options
)
=>
{
// Simplified: Needs proper handling based on mdastNode.tagName and attributes.
// You'll likely need specific rules per HTML tag.
if
(mdastNode.tagName
===
'div'
) {
return
{
type:
'html_div'
,
// Example: Map to a custom 'html_div' Plate element
children:
convertChildrenDeserialize
(
mdastNode.children,
deco,
options
),
};
}
// Fallback or handle other tags
return
convertChildrenDeserialize
(mdastNode.children, deco, options);
},
},
// Add serialization rules if outputting raw HTML from Plate.
},
},
});
Copy
Security Warning
Enabling raw HTML rendering increases XSS risk if the Markdown source isn't
trusted. Use
rehype-sanitize
after
rehype-raw
to
whitelist HTML elements/attributes.
Appendix B: Customizing Conversion Rules (
rules
)
The
rules
option in
MarkdownPlugin.configure
offers fine-grained control over mdast ↔ Plate JSON conversion. Keys in the
rules
object match node types.
Deserialization (Markdown → Plate):
Keys are
mdast
node types (e.g.,
paragraph
,
heading
,
strong
,
link
, MDX types like
mdxJsxTextElement
). The
deserialize
function takes
(mdastNode, deco, options)
and returns a Plate
Descendant
or
Descendant[]
.
Serialization (Plate → Markdown):
Keys are Plate element/text types (e.g.,
p
,
h1
,
a
,
code_block
,
bold
). The
serialize
function takes
(slateNode, options)
and returns an
mdast
node.
Example: Overriding Link Deserialization
lib/plate-editor.ts
MarkdownPlugin.
configure
({
options: {
rules: {
// Rule for mdast 'link' type
link: {
deserialize
: (
mdastNode
,
deco
,
options
)
=>
{
// Default creates { type: 'a', url: ..., children: [...] }
// Add a custom property:
return
{
type:
'a'
,
// Plate link element type
url: mdastNode.url,
title: mdastNode.title,
customProp:
'added-during-deserialize'
,
children:
convertChildrenDeserialize
(
mdastNode.children,
deco,
options
),
};
},
},
// Rule for Plate 'a' type (if serialization needs override for customProp)
a: {
// Assuming 'a' is the Plate type for links
serialize
: (
slateNode
,
options
)
=>
{
// Default creates mdast 'link'
// Handle customProp if needed in MDX attributes or similar
return
{
type:
'link'
,
// mdast type
url: slateNode.url,
title: slateNode.title,
// customProp: slateNode.customProp, // MDX attribute?
children:
convertNodesSerialize
(slateNode.children, options),
};
},
},
},
// ... remarkPlugins ...
},
});
Copy
Default Rules Summary:
Refer to
defaultRules.ts
for the complete list. Key conversions include:
Markdown (mdast)
Plate Type
Notes
paragraph
p
heading
(depth)
h1
-
h6
Based on depth.
blockquote
blockquote
list
(ordered)
ol
/
p
*
ol
/
li
/
lic
or
p
with list indent props.
list
(unordered)
ul
/
p
*
ul
/
li
/
lic
or
p
with list indent props.
code
(fenced)
code_block
Contains
code_line
children.
inlineCode
code
(mark)
Applied to text.
strong
bold
(mark)
Applied to text.
emphasis
italic
(mark)
Applied to text.
delete
strikethrough
(mark)
Applied to text.
link
a
image
img
Wraps in paragraph during serialization.
thematicBreak
hr
table
table
Contains
tr
.
math
(block)
equation
Requires
remark-math
.
inlineMath
inline_equation
Requires
remark-math
.
mdxJsxFlowElement
Custom
Requires
remark-mdx
and custom
rules
.
mdxJsxTextElement
Custom
Requires
remark-mdx
and custom
rules
.
* List conversion depends on
ListPlugin
detection.
Default MDX Conversions (with
remark-mdx
):
MDX (mdast)
Plate Type
Notes
<del>...</del>
strikethrough
(mark)
Alt for
~~strikethrough~~
<sub>...</sub>
subscript
(mark)
H
2
O
<sup>...</sup>
superscript
(mark)
E=mc
2
<u>...</u>
underline
(mark)
Underlined
<mark>...</mark>
highlight
(mark)
Highlighted
<span style="font-family: ...">
fontFamily
(mark)
<span style="font-size: ...">
fontSize
(mark)
<span style="font-weight: ...">
fontWeight
(mark)
<span style="color: ...">
color
(mark)
<span style="background-color: ...">
backgroundColor
(mark)
<date>...</date>
date
Custom Date element
[text](mention:id)
mention
Custom Mention element
<file name="..." />
file
Custom File element
<audio src="..." />
audio
Custom Audio element
<video src="..." />
video
Custom Video element
<toc />
toc
Table of Contents
<callout>...</callout>
callout
Callout block
<column_group>...</column_group>
column_group
Multi-column layout container
<column width="50%">...</column>
column
Single column with optional width attribute
Appendix C: Components for Rendering
While
rules
handle MD ↔ Plate conversion, Plate uses React components to
render
Plate nodes. Configure these in
createPlateEditor
via the
components
option or plugin
withComponent
method.
Example:
components/my-editor.tsx
import
{ createPlateEditor, ParagraphPlugin, PlateLeaf }
from
'platejs/react'
;
import
{ BoldPlugin }
from
'@platejs/basic-nodes/react'
;
import
{ CodeBlockPlugin }
from
'@platejs/code-block/react'
;
import
{ ParagraphElement }
from
'@/components/ui/paragraph-node'
;
// Example UI component
import
{ CodeBlockElement }
from
'@/components/ui/code-block-node'
;
// Example UI component
const
editor
=
createPlateEditor
({
plugins: [
ParagraphPlugin.
withComponent
(ParagraphElement),
CodeBlockPlugin.
withComponent
(CodeBlockElement),
BoldPlugin,
/* ... */
],
});
Copy
Refer to
Plugin Components
for more on creating/registering components.
Appendix D:
PlateMarkdown
Component (Read-Only Display)
For a
react-markdown
-like component for read-only display:
components/plate-markdown.tsx
import
React, { useEffect }
from
'react'
;
import
{ Plate, PlateContent, usePlateEditor }
from
'platejs/react'
;
import
{ MarkdownPlugin }
from
'@platejs/markdown'
;
// Import necessary Plate plugins for common Markdown features
import
{ HeadingPlugin }
from
'@platejs/basic-nodes/react'
;
// ... include other plugins like BlockquotePlugin, CodeBlockPlugin, ListPlugin, etc.
// ... and mark plugins like BoldPlugin, ItalicPlugin, etc.
export
interface
PlateMarkdownProps
{
children
:
string
;
// Markdown content
remarkPlugins
?:
any
[];
components
?:
Record
<
string
,
React
.
ComponentType
<
any
>>;
// Plate component overrides
className
?:
string
;
}
export
function
PlateMarkdown
({
children
,
remarkPlugins
=
[],
components
=
{},
className
,
}
:
PlateMarkdownProps
) {
const
editor
=
usePlateEditor
({
plugins: [
// Include all plugins needed to render your Markdown
HeadingPlugin
/* ... other plugins ... */
,
MarkdownPlugin.
configure
({ options: { remarkPlugins } }),
],
components,
// Pass through component overrides
});
useEffect
(()
=>
{
editor.tf.
reset
();
// Clear previous content
editor.tf.
setValue
(
editor.
getApi
(MarkdownPlugin).markdown.
deserialize
(children)
);
}, [children, editor, remarkPlugins]);
// Re-deserialize if markdown or plugins change
return
(
<
Plate
editor
=
{editor}>
<
PlateContent
readOnly
className
=
{className} />
</
Plate
>
);
}
// Usage Example:
// const markdownString = "# Hello\nThis is *Markdown*.";
// <PlateMarkdown className="prose dark:prose-invert">
//   {markdownString}
// </PlateMarkdown>
Copy
Initial Value
This
PlateMarkdown
component provides a
read-only
view. For full
editing, see the
Installation guides
.
Security Considerations
@platejs/markdown
prioritizes safety by converting Markdown to a structured Plate format, avoiding direct HTML rendering. However, security depends on:
Custom
rules
:
Ensure
deserialize
rules don't introduce unsafe data.
remarkPlugins
:
Vet third-party remark plugins for potential security risks.
Raw HTML Processing:
If
rehype-raw
is used, always sanitize with
rehype-sanitize
if the source is untrusted.
Plugin Responsibility:
URL validation in
LinkPlugin
(
isUrl
) or
MediaEmbedPlugin
(
parseMediaUrl
) is crucial.
Recommendation:
Treat untrusted Markdown input cautiously. Sanitize if allowing complex features or raw HTML.
Related Links
remark
:
Markdown processor.
unified
:
Core processing engine.
MDX
:
JSX in Markdown.
react-markdown
:
Alternative React Markdown component.
remark-slate-transformer
:
Initial mdast ↔ Plate conversion work by
inokawa
.
HTML
Form
On This Page
Features
Why Use Plate Markdown?
Kit Usage
Installation
Add Kit
Manual Usage
Installation
Add Plugin
Configure Plugin
Markdown to Plate (Deserialization)
Plate to Markdown (Serialization)
Round-Trip Serialization with Custom Elements (MDX)
API Reference
MarkdownPlugin
api.markdown.deserialize
api.markdown.serialize
parseMarkdownBlocks
Examples
Using a Remark Plugin (GFM)
Customizing Rendering (Syntax Highlighting)
Using Remark Plugins for Math (remark-math)
Using Mentions (remarkMention)
Using Columns
Remark Plugins
Syntax Support
Architecture Overview
Migrating from react-markdown
Appendix A: HTML in Markdown
Appendix B: Customizing Conversion Rules (rules)
Appendix C: Components for Rendering
Appendix D: PlateMarkdown Component (Read-Only Display)
Security Considerations
Related Links
Build your editor
Production-ready AI template and reusable components.
Get all-access
Get all-access