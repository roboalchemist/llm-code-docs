# Plate Documentation
# Source: https://platejs.org/docs/suggestion
# Generated by llm-code-docs plate-docs.py scraper

Suggestion
Previous
Next
Copy Markdown
Open
Plus
Suggestion Leaf
Suggestion Toolbar Button
Block suggestion
Block discussion
Preview
Code
Loading...
Files
components
demo.tsx
discussion-value.tsx
editor
plugins
comment-kit.tsx
comment-base-kit.tsx
discussion-kit.tsx
suggestion-kit.tsx
suggestion-base-kit.tsx
basic-marks-kit.tsx
basic-marks-base-kit.tsx
align-base-kit.tsx
basic-blocks-base-kit.tsx
callout-base-kit.tsx
code-block-base-kit.tsx
column-base-kit.tsx
date-base-kit.tsx
font-base-kit.tsx
line-height-base-kit.tsx
link-base-kit.tsx
list-base-kit.tsx
indent-base-kit.tsx
math-base-kit.tsx
media-base-kit.tsx
mention-base-kit.tsx
table-base-kit.tsx
toc-base-kit.tsx
toggle-base-kit.tsx
markdown-kit.tsx
ai-kit.tsx
cursor-overlay-kit.tsx
align-kit.tsx
autoformat-kit.tsx
basic-nodes-kit.tsx
basic-blocks-kit.tsx
block-menu-kit.tsx
block-selection-kit.tsx
block-placeholder-kit.tsx
callout-kit.tsx
code-block-kit.tsx
column-kit.tsx
date-kit.tsx
dnd-kit.tsx
docx-kit.tsx
emoji-kit.tsx
excalidraw-kit.tsx
exit-break-kit.tsx
fixed-toolbar-kit.tsx
floating-toolbar-kit.tsx
font-kit.tsx
line-height-kit.tsx
link-kit.tsx
list-kit.tsx
indent-kit.tsx
math-kit.tsx
media-kit.tsx
mention-kit.tsx
slash-kit.tsx
table-kit.tsx
toc-kit.tsx
toggle-kit.tsx
editor-kit.tsx
editor-base-kit.tsx
use-chat.ts
transforms.ts
ui
comment-node.tsx
comment-node-static.tsx
comment-toolbar-button.tsx
block-discussion.tsx
block-suggestion.tsx
comment.tsx
editor.tsx
editor-static.tsx
ai-node.tsx
date-node.tsx
date-node-static.tsx
emoji-node.tsx
inline-combobox.tsx
link-node.tsx
link-node-static.tsx
mention-node.tsx
mention-node-static.tsx
suggestion-node.tsx
suggestion-node-static.tsx
suggestion-toolbar-button.tsx
toolbar.tsx
code-node.tsx
code-node-static.tsx
highlight-node.tsx
highlight-node-static.tsx
kbd-node.tsx
kbd-node-static.tsx
mark-toolbar-button.tsx
blockquote-node.tsx
blockquote-node-static.tsx
heading-node.tsx
heading-node-static.tsx
hr-node.tsx
hr-node-static.tsx
paragraph-node.tsx
paragraph-node-static.tsx
callout-node.tsx
callout-node-static.tsx
emoji-toolbar-button.tsx
code-block-node.tsx
code-block-node-static.tsx
column-node.tsx
column-node-static.tsx
resize-handle.tsx
block-list.tsx
block-list-static.tsx
equation-node.tsx
equation-node-static.tsx
media-audio-node.tsx
media-audio-node-static.tsx
caption.tsx
media-file-node.tsx
media-file-node-static.tsx
media-image-node.tsx
media-image-node-static.tsx
media-toolbar.tsx
media-video-node.tsx
media-video-node-static.tsx
table-node.tsx
table-icons.tsx
table-node-static.tsx
block-selection.tsx
font-color-toolbar-button.tsx
toc-node.tsx
toc-node-static.tsx
toggle-node.tsx
toggle-node-static.tsx
cursor-overlay.tsx
ai-menu.tsx
ai-chat-editor.tsx
ai-toolbar-button.tsx
align-toolbar-button.tsx
block-context-menu.tsx
block-draggable.tsx
excalidraw-node.tsx
fixed-toolbar.tsx
fixed-toolbar-buttons.tsx
font-size-toolbar-button.tsx
history-toolbar-button.tsx
list-toolbar-button.tsx
indent-toolbar-button.tsx
import-toolbar-button.tsx
insert-toolbar-button.tsx
line-height-toolbar-button.tsx
link-toolbar-button.tsx
media-toolbar-button.tsx
mode-toolbar-button.tsx
more-toolbar-button.tsx
table-toolbar-button.tsx
toggle-toolbar-button.tsx
turn-into-toolbar-button.tsx
export-toolbar-button.tsx
floating-toolbar.tsx
floating-toolbar-buttons.tsx
equation-toolbar-button.tsx
link-toolbar.tsx
media-embed-node.tsx
media-placeholder-node.tsx
media-preview-dialog.tsx
media-upload-toast.tsx
slash-node.tsx
hooks
use-debounce.ts
use-mounted.ts
use-is-touch-device.ts
use-upload-file.ts
app
api
ai
command
route.ts
utils.ts
prompts.ts
copilot
route.ts
lib
markdown-joiner-transform.ts
uploadthing.ts
components/demo.tsx
Copy
'use client'
;
import
*
as
React
from
'react'
;
import
{ Plate, usePlateEditor }
from
'platejs/react'
;
import
{ EditorKit }
from
'@/components/editor/editor-kit'
;
import
{ Editor, EditorContainer }
from
'@/components/ui/editor'
;
import
{ DEMO_VALUES }
from
'./values/demo-values'
;
export
default
function
Demo
({ id }
:
{ id
:
string
})
{
const
editor
=
usePlateEditor
({
plugins: EditorKit,
value:
DEMO_VALUES
[id],
});
return
(
<
Plate
editor
={
editor
}
>
<
EditorContainer
variant
=
"demo"
>
<
Editor
/>
</
EditorContainer
>
</
Plate
>
);
}
Features
Text Suggestions:
Add suggestions as text marks with inline annotations
Block Suggestions:
Create suggestions for entire blocks of content
State Tracking:
Track suggestion state and user interactions
Undo/Redo Support:
Full undo/redo support for suggestion changes
Discussion Integration:
Works with discussion plugin for complete collaboration
Kit Usage
Installation
The fastest way to add suggestion functionality is with the
SuggestionKit
, which includes pre-configured
SuggestionPlugin
and related components along with their
Plate UI
components.
suggestion-kit.tsx
npx shadcn@latest add
suggestion-kit
'use client'
;
import
type
{ ExtendConfig, Path }
from
'platejs'
;
import
{
type
BaseSuggestionConfig,
BaseSuggestionPlugin,
}
from
'@platejs/suggestion'
;
import
{ isSlateEditor, isSlateString }
from
'platejs'
;
import
{ toTPlatePlugin }
from
'platejs/react'
;
import
{
SuggestionLeaf,
SuggestionLineBreak,
}
from
'@/components/ui/suggestion-node'
;
import
{ discussionPlugin }
from
'./discussion-kit'
;
export
type
SuggestionConfig
=
ExtendConfig
<
BaseSuggestionConfig
,
{
activeId
:
string
|
null
;
hoverId
:
string
|
null
;
uniquePathMap
:
Map
<
string
,
Path
>;
}
>;
export
const
suggestionPlugin
=
toTPlatePlugin
<
SuggestionConfig
>(
BaseSuggestionPlugin,
({
editor
})
=>
({
options: {
activeId:
null
,
currentUserId: editor.
getOption
(discussionPlugin,
'currentUserId'
),
hoverId:
null
,
uniquePathMap:
new
Map
(),
},
})
).
configure
({
handlers: {
// unset active suggestion when clicking outside of suggestion
onClick
: ({
api
,
event
,
setOption
,
type
})
=>
{
let
leaf
=
event.target
as
HTMLElement
;
let
isSet
=
false
;
const
isBlockLeaf
=
leaf.dataset.blockSuggestion
===
'true'
;
const
unsetActiveSuggestion
=
()
=>
{
setOption
(
'activeId'
,
null
);
isSet
=
true
;
};
if
(
!
isSlateString
(leaf)
&&
!
isBlockLeaf) {
unsetActiveSuggestion
();
}
while
(leaf.parentElement
&&
!
isSlateEditor
(leaf.parentElement)) {
const
isBlockSuggestion
=
leaf.dataset.blockSuggestion
===
'true'
;
if
(leaf.classList.
contains
(
`slate-${
type
}`
)
||
isBlockSuggestion) {
const
suggestionEntry
=
api.suggestion
!
.
node
({
isText:
!
isBlockSuggestion,
});
if
(
!
suggestionEntry) {
unsetActiveSuggestion
();
break
;
}
const
id
=
api.suggestion
!
.
nodeId
(suggestionEntry[
0
]);
setOption
(
'activeId'
, id
??
null
);
isSet
=
true
;
break
;
}
leaf
=
leaf.parentElement;
}
if
(
!
isSet)
unsetActiveSuggestion
();
},
},
render: {
belowNodes: SuggestionLineBreak
as
any
,
node: SuggestionLeaf,
},
});
export
const
SuggestionKit
=
[suggestionPlugin];
Copy
SuggestionLeaf
: Renders suggestion text marks
BlockSuggestion
: Renders block-level suggestions
SuggestionLineBreak
: Handles line breaks in suggestions
Add Kit
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ SuggestionKit }
from
'@/components/editor/plugins/suggestion-kit'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
...
SuggestionKit,
],
});
Copy
Manual Usage
Installation
bun
npm
pnpm
yarn
pnpm add @platejs/suggestion
Copy
Extend Suggestion Plugin
Create the suggestion plugin with extended configuration for state management:
import
{
type
ExtendConfig,
type
Path,
isSlateEditor,
isSlateElement,
isSlateString,
}
from
'platejs'
;
import
{
type
BaseSuggestionConfig,
BaseSuggestionPlugin,
}
from
'@platejs/suggestion'
;
import
{ createPlatePlugin, toTPlatePlugin }
from
'platejs/react'
;
import
{ BlockSuggestion }
from
'@/components/ui/block-suggestion'
;
import
{ SuggestionLeaf }
from
'@/components/ui/suggestion-node'
;
export
type
SuggestionConfig
=
ExtendConfig
<
BaseSuggestionConfig
,
{
activeId
:
string
|
null
;
hoverId
:
string
|
null
;
uniquePathMap
:
Map
<
string
,
Path
>;
}
>;
export
const
suggestionPlugin
=
toTPlatePlugin
<
SuggestionConfig
>(
BaseSuggestionPlugin,
({
editor
})
=>
({
options: {
activeId:
null
,
currentUserId:
'alice'
,
// Set your current user ID
hoverId:
null
,
uniquePathMap:
new
Map
(),
},
render: {
node: SuggestionLeaf,
belowRootNodes
: ({
api
,
element
})
=>
{
if
(
!
api.suggestion
!
.
isBlockSuggestion
(element)) {
return
null
;
}
return
<
BlockSuggestion
element
=
{element} />;
},
},
})
);
Copy
options.activeId
: Currently active suggestion ID for visual highlighting
options.currentUserId
: ID of the current user creating suggestions
options.hoverId
: Currently hovered suggestion ID for hover effects
options.uniquePathMap
: Map tracking unique paths for suggestion resolution
render.node
: Assigns
SuggestionLeaf
to render suggestion text marks
render.belowRootNodes
: Renders
BlockSuggestion
for block-level suggestions
Add Click Handler
Add click handling to manage active suggestion state:
export
const
suggestionPlugin
=
toTPlatePlugin
<
SuggestionConfig
>(
BaseSuggestionPlugin,
({
editor
})
=>
({
handlers: {
// Unset active suggestion when clicking outside of suggestion
onClick
: ({
api
,
event
,
setOption
,
type
})
=>
{
let
leaf
=
event.target
as
HTMLElement
;
let
isSet
=
false
;
const
unsetActiveSuggestion
=
()
=>
{
setOption
(
'activeId'
,
null
);
isSet
=
true
;
};
if
(
!
isSlateString
(leaf))
unsetActiveSuggestion
();
while
(
leaf.parentElement
&&
!
isSlateElement
(leaf.parentElement)
&&
!
isSlateEditor
(leaf.parentElement)
) {
if
(leaf.classList.
contains
(
`slate-${
type
}`
)) {
const
suggestionEntry
=
api.suggestion
!
.
node
({ isText:
true
});
if
(
!
suggestionEntry) {
unsetActiveSuggestion
();
break
;
}
const
id
=
api.suggestion
!
.
nodeId
(suggestionEntry[
0
]);
setOption
(
'activeId'
, id
??
null
);
isSet
=
true
;
break
;
}
leaf
=
leaf.parentElement;
}
if
(
!
isSet)
unsetActiveSuggestion
();
},
},
// ... previous options and render
})
);
Copy
The click handler tracks which suggestion is currently active:
Detects suggestion clicks
: Traverses DOM to find suggestion elements
Sets active state
: Updates
activeId
when clicking on suggestions
Clears state
: Unsets
activeId
when clicking outside suggestions
Visual feedback
: Enables hover/active styling in suggestion components
Add Plugins
import
{ createPlateEditor, createPlatePlugin }
from
'platejs/react'
;
import
{ SuggestionLineBreak }
from
'@/components/ui/suggestion-node'
;
const
suggestionLineBreakPlugin
=
createPlatePlugin
({
key:
'suggestionLineBreak'
,
render: { belowNodes: SuggestionLineBreak
as
any
},
});
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
suggestionPlugin,
suggestionLineBreakPlugin,
],
});
Copy
render.belowNodes
: Renders
SuggestionLineBreak
below nodes to handle line break suggestions
Enable Suggestion Mode
Use the plugin's API to control suggestion mode:
import
{ useEditorRef, usePluginOption }
from
'platejs/react'
;
function
SuggestionToolbar
() {
const
editor
=
useEditorRef
();
const
isSuggesting
=
usePluginOption
(suggestionPlugin,
'isSuggesting'
);
const
toggleSuggesting
=
()
=>
{
editor.
setOption
(suggestionPlugin,
'isSuggesting'
,
!
isSuggesting);
};
return
(
<
button
onClick
=
{toggleSuggesting}>
{isSuggesting
?
'Stop Suggesting'
:
'Start Suggesting'
}
</
button
>
);
}
Copy
Add Toolbar Button
You can add
SuggestionToolbarButton
to your
Toolbar
to toggle suggestion mode in the editor.
Discussion Integration
The suggestion plugin works with the
discussion plugin
for complete collaboration:
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
discussionPlugin,
suggestionPlugin.
configure
({
options: {
currentUserId:
'alice'
,
},
}),
suggestionLineBreakPlugin,
],
});
Copy
Keyboard Shortcuts
Key
Description
Cmd + Shift + S
Add a suggestion on the selected text.
Plate Plus
Full stack example for Suggestion and Comment
Floating comments & suggestions UI with better user experience
Comment rendered with Plate editor
Discussion list in the sidebar
Preview
Get the code
Plugins
SuggestionPlugin
Plugin for creating and managing text and block suggestions with state tracking and discussion integration.
Options
Collapse all
currentUserId
string | null
ID of the current user creating suggestions. Required for proper suggestion attribution.
isSuggesting
boolean
Whether the editor is currently in suggestion mode. Used internally to track state.
API
api.suggestion.dataList
Gets suggestion data from a text node.
Parameters
Collapse all
node
TSuggestionText
The suggestion text node.
Returns
TInlineSuggestionData[]
Array of suggestion data.
api.suggestion.isBlockSuggestion
Checks if a node is a block suggestion element.
Parameters
Collapse all
node
TElement
The node to check.
Returns
node is TSuggestionElement
Whether the node is a block suggestion.
api.suggestion.node
Gets a suggestion node entry.
Options
EditorNodesOptions & { id?: string; isText?: boolean }
Options for finding the node.
Returns
NodeEntry<TSuggestionElement | TSuggestionText> | undefined
The suggestion node entry if found.
api.suggestion.nodeId
Gets the ID of a suggestion from a node.
Parameters
Collapse all
node
TElement | TSuggestionText
The node to get ID from.
Returns
string | undefined
The suggestion ID if found.
api.suggestion.nodes
Gets all suggestion node entries matching the options.
Options
EditorNodesOptions
Options for finding the nodes.
Returns
NodeEntry<TElement | TSuggestionText>[]
Array of suggestion node entries.
api.suggestion.suggestionData
Gets suggestion data from a node.
Parameters
Collapse all
node
TElement | TSuggestionText
The node to get suggestion data from.
Returns
TInlineSuggestionData | TSuggestionElement['suggestion'] | undefined
The suggestion data if found.
api.suggestion.withoutSuggestions
Temporarily disables suggestions while executing a function.
Parameters
Collapse all
fn
() => void
The function to execute.
Types
TSuggestionText
Text nodes that can contain suggestions.
Attributes
Collapse all
suggestion
optional
boolean
Whether this is a suggestion.
suggestion_<id>
optional
TInlineSuggestionData
Suggestion data. Multiple suggestions can exist in one text node.
TSuggestionElement
Block elements that contain suggestion metadata.
Attributes
Collapse all
suggestion
TSuggestionData
Block-level suggestion data including type, user, and timing information.
TInlineSuggestionData
Data structure for inline text suggestions.
Attributes
Collapse all
id
string
Unique identifier for the suggestion.
userId
string
ID of the user who created the suggestion.
createdAt
number
Timestamp when the suggestion was created.
type
'insert' | 'remove' | 'update'
Type of suggestion operation.
newProperties
optional
object
For update suggestions, the new mark properties being suggested.
properties
optional
object
For update suggestions, the previous mark properties.
TSuggestionData
Data structure for block-level suggestions.
Attributes
Collapse all
id
string
Unique identifier for the suggestion.
userId
string
ID of the user who created the suggestion.
createdAt
number
Timestamp when the suggestion was created.
type
'insert' | 'remove'
Type of block suggestion operation.
isLineBreak
optional
boolean
Whether this suggestion represents a line break insertion.
Comments
Blockquote
On This Page
Features
Kit Usage
Installation
Add Kit
Manual Usage
Installation
Extend Suggestion Plugin
Add Click Handler
Add Plugins
Enable Suggestion Mode
Add Toolbar Button
Discussion Integration
Keyboard Shortcuts
Plate Plus
Plugins
SuggestionPlugin
API
api.suggestion.dataList
api.suggestion.isBlockSuggestion
api.suggestion.node
api.suggestion.nodeId
api.suggestion.nodes
api.suggestion.suggestionData
api.suggestion.withoutSuggestions
Types
TSuggestionText
TSuggestionElement
TInlineSuggestionData
TSuggestionData
Build your editor
Production-ready AI template and reusable components.
Get all-access
Get all-access