# Plate Documentation
# Source: https://platejs.org/docs/cursor-overlay
# Generated by llm-code-docs plate-docs.py scraper

Cursor Overlay
Previous
Next
Visual feedback for selections and cursor positions when editor loses focus.
Copy Markdown
Open
Cursor Overlay
Preview
Code
Loading...
Files
components
demo.tsx
cursor-overlay-value.tsx
editor
plugins
cursor-overlay-kit.tsx
align-base-kit.tsx
basic-blocks-base-kit.tsx
basic-marks-base-kit.tsx
callout-base-kit.tsx
code-block-base-kit.tsx
column-base-kit.tsx
comment-base-kit.tsx
date-base-kit.tsx
font-base-kit.tsx
line-height-base-kit.tsx
link-base-kit.tsx
list-base-kit.tsx
indent-base-kit.tsx
math-base-kit.tsx
media-base-kit.tsx
mention-base-kit.tsx
suggestion-base-kit.tsx
suggestion-kit.tsx
discussion-kit.tsx
basic-marks-kit.tsx
table-base-kit.tsx
toc-base-kit.tsx
toggle-base-kit.tsx
markdown-kit.tsx
ai-kit.tsx
align-kit.tsx
autoformat-kit.tsx
basic-nodes-kit.tsx
basic-blocks-kit.tsx
block-menu-kit.tsx
block-selection-kit.tsx
block-placeholder-kit.tsx
callout-kit.tsx
code-block-kit.tsx
column-kit.tsx
comment-kit.tsx
date-kit.tsx
dnd-kit.tsx
docx-kit.tsx
emoji-kit.tsx
excalidraw-kit.tsx
exit-break-kit.tsx
fixed-toolbar-kit.tsx
floating-toolbar-kit.tsx
font-kit.tsx
line-height-kit.tsx
link-kit.tsx
list-kit.tsx
indent-kit.tsx
math-kit.tsx
media-kit.tsx
mention-kit.tsx
slash-kit.tsx
table-kit.tsx
toc-kit.tsx
toggle-kit.tsx
editor-kit.tsx
editor-base-kit.tsx
use-chat.ts
transforms.ts
ui
cursor-overlay.tsx
editor.tsx
editor-static.tsx
blockquote-node.tsx
blockquote-node-static.tsx
heading-node.tsx
heading-node-static.tsx
hr-node.tsx
hr-node-static.tsx
paragraph-node.tsx
paragraph-node-static.tsx
code-node.tsx
code-node-static.tsx
highlight-node.tsx
highlight-node-static.tsx
kbd-node.tsx
kbd-node-static.tsx
callout-node.tsx
callout-node-static.tsx
emoji-toolbar-button.tsx
toolbar.tsx
code-block-node.tsx
code-block-node-static.tsx
column-node.tsx
column-node-static.tsx
resize-handle.tsx
comment-node.tsx
comment-node-static.tsx
date-node.tsx
date-node-static.tsx
link-node.tsx
link-node-static.tsx
block-list.tsx
block-list-static.tsx
equation-node.tsx
equation-node-static.tsx
media-audio-node.tsx
media-audio-node-static.tsx
caption.tsx
media-file-node.tsx
media-file-node-static.tsx
media-image-node.tsx
media-image-node-static.tsx
media-toolbar.tsx
media-video-node.tsx
media-video-node-static.tsx
mention-node.tsx
mention-node-static.tsx
inline-combobox.tsx
suggestion-node.tsx
suggestion-node-static.tsx
suggestion-toolbar-button.tsx
block-discussion.tsx
block-suggestion.tsx
comment.tsx
ai-node.tsx
emoji-node.tsx
mark-toolbar-button.tsx
table-node.tsx
table-icons.tsx
table-node-static.tsx
block-selection.tsx
font-color-toolbar-button.tsx
toc-node.tsx
toc-node-static.tsx
toggle-node.tsx
toggle-node-static.tsx
ai-menu.tsx
ai-chat-editor.tsx
ai-toolbar-button.tsx
align-toolbar-button.tsx
block-context-menu.tsx
comment-toolbar-button.tsx
block-draggable.tsx
excalidraw-node.tsx
fixed-toolbar.tsx
fixed-toolbar-buttons.tsx
font-size-toolbar-button.tsx
history-toolbar-button.tsx
list-toolbar-button.tsx
indent-toolbar-button.tsx
import-toolbar-button.tsx
insert-toolbar-button.tsx
line-height-toolbar-button.tsx
link-toolbar-button.tsx
media-toolbar-button.tsx
mode-toolbar-button.tsx
more-toolbar-button.tsx
table-toolbar-button.tsx
toggle-toolbar-button.tsx
turn-into-toolbar-button.tsx
export-toolbar-button.tsx
floating-toolbar.tsx
floating-toolbar-buttons.tsx
equation-toolbar-button.tsx
link-toolbar.tsx
media-embed-node.tsx
media-placeholder-node.tsx
media-preview-dialog.tsx
media-upload-toast.tsx
slash-node.tsx
hooks
use-mounted.ts
use-debounce.ts
use-is-touch-device.ts
use-upload-file.ts
app
api
ai
command
route.ts
utils.ts
prompts.ts
copilot
route.ts
lib
markdown-joiner-transform.ts
uploadthing.ts
components/demo.tsx
Copy
'use client'
;
import
*
as
React
from
'react'
;
import
{ Plate, usePlateEditor }
from
'platejs/react'
;
import
{ EditorKit }
from
'@/components/editor/editor-kit'
;
import
{ Editor, EditorContainer }
from
'@/components/ui/editor'
;
import
{ DEMO_VALUES }
from
'./values/demo-values'
;
export
default
function
Demo
({ id }
:
{ id
:
string
})
{
const
editor
=
usePlateEditor
({
plugins: EditorKit,
value:
DEMO_VALUES
[id],
});
return
(
<
Plate
editor
={
editor
}
>
<
EditorContainer
variant
=
"demo"
>
<
Editor
/>
</
EditorContainer
>
</
Plate
>
);
}
Features
Maintains selection highlight when another element is focused.
Dynamic selection display (e.g., during AI streaming).
Shows cursor position during drag operations.
Customizable styling for cursors and selections.
Essential for external UI interactions (e.g., link toolbar, AI combobox).
Kit Usage
Installation
The fastest way to add cursor overlay functionality is with the
CursorOverlayKit
, which includes the pre-configured
CursorOverlayPlugin
and the
CursorOverlay
UI component.
cursor-overlay-kit.tsx
npx shadcn@latest add
cursor-overlay-kit
'use client'
;
import
{ CursorOverlayPlugin }
from
'@platejs/selection/react'
;
import
{ CursorOverlay }
from
'@/components/ui/cursor-overlay'
;
export
const
CursorOverlayKit
=
[
CursorOverlayPlugin.
configure
({
render: {
afterEditable
: ()
=>
<
CursorOverlay
/>,
},
}),
];
Copy
CursorOverlay
: Renders cursor and selection overlays.
Add Kit
import
{ createPlateEditor }
from
'platejs/react'
;
import
{ CursorOverlayKit }
from
'@/components/editor/plugins/cursor-overlay-kit'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
...
CursorOverlayKit,
],
});
Copy
Manual Usage
Installation
bun
npm
pnpm
yarn
pnpm add @platejs/selection
Copy
Add Plugin
import
{ CursorOverlayPlugin }
from
'@platejs/selection/react'
;
import
{ createPlateEditor }
from
'platejs/react'
;
const
editor
=
createPlateEditor
({
plugins: [
// ...otherPlugins,
CursorOverlayPlugin,
],
});
Copy
Configure Plugin
Configure the cursor overlay with a component to render overlays:
import
{ CursorOverlayPlugin }
from
'@platejs/selection/react'
;
import
{ CursorOverlay }
from
'@/components/ui/cursor-overlay'
;
CursorOverlayPlugin.
configure
({
render: {
afterEditable
: ()
=>
<
CursorOverlay
/>,
},
});
Copy
render.afterEditable
: Assigns
CursorOverlay
to render after the editable content.
Editor Container Setup
The cursor overlay requires a container component to ensure correct positioning. If you're using the
Editor
component, this is handled automatically through
EditorContainer
.
For custom setups, ensure your editor is wrapped with a container that has the editor's unique ID:
import
{ PlateContainer }
from
'platejs/react'
;
export
function
EditorContainer
(
props
:
React
.
HTMLAttributes
<
HTMLDivElement
>) {
return
<
PlateContainer
{
...
props} />;
}
Copy
Preserving Selection Focus
To maintain the editor's selection state when focusing UI elements, add the
data-plate-focus="true"
attribute to those elements:
<
ToolbarButton
data-plate-focus
=
"true"
>
{
/* toolbar content */
}
</
ToolbarButton
>
Copy
This prevents the cursor overlay from disappearing when interacting with toolbar buttons or other UI elements.
Plugins
CursorOverlayPlugin
Plugin that manages cursor and selection overlays for visual feedback.
Options
Collapse all
cursors
Record<string, CursorState<CursorData>>
Object containing cursor states with their unique identifiers.
Default:
{}
API
api.cursorOverlay.addCursor
Adds a cursor overlay with the specified key and state.
Parameters
Collapse all
key
string
Unique identifier for the cursor (e.g., 'blur', 'drag', 'custom').
cursor
CursorState<CursorData>
The cursor state including selection and optional styling data.
api.cursorOverlay.removeCursor
Removes a cursor overlay by its key.
Parameters
Collapse all
key
string
The key of the cursor to remove.
Hooks
useCursorOverlay
A hook that manages cursor and selection overlay states, providing real-time cursor positions and selection rectangles.
Options
object
Collapse all
minSelectionWidth
optional
number
Minimum width in pixels for a selection rectangle. Useful for making cursor carets more visible.
Default:
1
refreshOnResize
optional
boolean
Whether to recalculate cursor positions when the container is resized.
Default:
true
Returns
object
Collapse all
cursors
CursorOverlayState<TCursorData>[]
Array of cursor states with their corresponding selection rectangles and styling data.
refresh
() => void
Function to manually trigger a recalculation of cursor positions.
Slash Command
Drag & Drop
On This Page
Features
Kit Usage
Installation
Add Kit
Manual Usage
Installation
Add Plugin
Configure Plugin
Editor Container Setup
Preserving Selection Focus
Plugins
CursorOverlayPlugin
API
api.cursorOverlay.addCursor
api.cursorOverlay.removeCursor
Hooks
useCursorOverlay
Build your editor
Production-ready AI template and reusable components.
Get all-access
Get all-access