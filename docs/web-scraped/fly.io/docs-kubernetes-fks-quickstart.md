# Source: https://fly.io/docs/kubernetes/fks-quickstart

Title: Fly Kubernetes Quickstart

URL Source: https://fly.io/docs/kubernetes/fks-quickstart

Markdown Content:
Fly Kubernetes Quickstart · Fly Docs
===============

[Skip to content](https://fly.io/docs/kubernetes/fks-quickstart#main-content-start)

[](https://fly.io/)[](https://fly.io/docs/)

[**Need a Logo?** View Our Brand Assets](https://fly.io/docs/about/brand/)

Search

Open main menu[](https://fly.io/)[](https://fly.io/docs/)

[Pricing](https://fly.io/pricing/)[Support](https://fly.io/docs/about/support/)

[Sign In](https://fly.io/app/sign-in/)[Sign Up](https://fly.io/app/sign-up/)

[Getting Started](https://fly.io/docs/getting-started/launch)Toggle Getting Started section
*   [Quickstart: Launch your app](https://fly.io/docs/getting-started/launch/)
*   [Launch HelloFly Demo App](https://fly.io/docs/getting-started/launch-demo)
*   [Deep Dive Demo App](https://fly.io/docs/deep-dive/)
*   [Choose a Language or Framework](https://fly.io/docs/getting-started/get-started-by-framework/)
*   [Fly.io Essentials](https://fly.io/docs/getting-started/essentials/)
*   [Migrate from Heroku](https://fly.io/docs/getting-started/migrate-from-heroku/)
*   [Troubleshoot Deployments](https://fly.io/docs/getting-started/troubleshooting/)

[Guides (Blueprints)](https://fly.io/docs/blueprints/)Toggle Guides (Blueprints) section
*   [Guides Overview](https://fly.io/docs/blueprints/)

[Apps on Fly.io](https://fly.io/docs/apps/overview)Toggle Apps on Fly.io section
*   [Fly Apps Overview](https://fly.io/docs/apps/overview/)
*   [Fly Launch](https://fly.io/docs/launch/)
*   [Secrets](https://fly.io/docs/apps/secrets/)
*   [Production Checklist](https://fly.io/docs/apps/going-to-production/)

[Languages & Frameworks](https://fly.io/docs/languages-and-frameworks/)Toggle Languages & Frameworks section
*   [Elixir](https://fly.io/docs/elixir/)
*   [Rails](https://fly.io/docs/rails/getting-started/)
*   [Laravel](https://fly.io/docs/laravel/)
*   [Django](https://fly.io/docs/django/getting-started/)
*   [JavaScript](https://fly.io/docs/js/)
*   [Rust](https://fly.io/docs/rust/)
*   [Python](https://fly.io/docs/python/)
*   [More...](https://fly.io/docs/languages-and-frameworks/)

[Fly Machines](https://fly.io/docs/machines/overview)Toggle Fly Machines section
*   [Introduction to Fly Machines](https://fly.io/docs/machines/overview/)
*   [Machines API](https://fly.io/docs/machines/api/)
*   [Run a New Machine](https://fly.io/docs/machines/flyctl/fly-machine-run/)
*   [Update a Machine](https://fly.io/docs/machines/flyctl/fly-machine-update/)
*   [Machine Sizing](https://fly.io/docs/machines/guides-examples/machine-sizing/)
*   [Machine Restart Policy](https://fly.io/docs/machines/guides-examples/machine-restart-policy/)
*   [Machine States](https://fly.io/docs/machines/machine-states/)
*   [Run User Code on Fly Machines](https://fly.io/docs/machines/guides-examples/functions-with-machines/)
*   [One App Per Customer - Why?](https://fly.io/docs/machines/guides-examples/one-app-per-user-why/)
*   [The Machine Runtime Environment](https://fly.io/docs/machines/runtime-environment/)

[Managed Postgres](https://fly.io/docs/mpg)Toggle Managed Postgres section
*   [Create and Connect to a Managed Postgres Cluster](https://fly.io/docs/mpg/create-and-connect/)
*   [Cluster Configuration Options](https://fly.io/docs/mpg/configuration/)
*   [Phoenix with Managed Postgres](https://fly.io/docs/mpg/guides-examples/phoenix-guide/)
*   [Monitoring and Metrics](https://fly.io/docs/mpg/metrics/)
*   [Import data from another postgres cluster](https://fly.io/docs/mpg/import/)
*   [Supported Postgres Extensions](https://fly.io/docs/mpg/extensions/)

[Fly GPUs](https://fly.io/docs/gpus/gpu-quickstart)Toggle Fly GPUs section
*   [GPU Quickstart](https://fly.io/docs/gpus/gpu-quickstart/)
*   [Getting Started with GPU Machines](https://fly.io/docs/gpus/getting-started-gpus/)
*   [Python GPU Dev Machine](https://fly.io/docs/gpus/python-gpu-example/)

[Databases & Storage](https://fly.io/docs/database-storage-guides/)Toggle Databases & Storage section
*   [Fly Managed Postgres](https://fly.io/docs/mpg/)
*   [Tigris Object Storage](https://fly.io/docs/tigris/)
*   [Upstash for Redis®](https://fly.io/docs/upstash/redis/)

[Fly Volumes](https://fly.io/docs/volumes/overview)Toggle Fly Volumes section
*   [Fly Volumes Overview](https://fly.io/docs/volumes/overview/)
*   [Create and Manage Volumes](https://fly.io/docs/volumes/volume-manage/)
*   [Manage Volume Snapshots](https://fly.io/docs/volumes/snapshots/)
*   [Volume States](https://fly.io/docs/volumes/volume-states/)

[Fly Kubernetes](https://fly.io/docs/kubernetes/fks-quickstart)Toggle Fly Kubernetes section
*   [Fly Kubernetes Quickstart](https://fly.io/docs/kubernetes/fks-quickstart/)
*   [Fly Kubernetes Features](https://fly.io/docs/kubernetes/fks-features/)
*   [Create an FKS Cluster](https://fly.io/docs/kubernetes/clusters/)
*   [Connect to an FKS Cluster](https://fly.io/docs/kubernetes/connect-clusters/)
*   [Configure FKS Services](https://fly.io/docs/kubernetes/services/)
*   [Use GPUs with FKS](https://fly.io/docs/kubernetes/using-gpus/)
*   [Use Volumes with FKS](https://fly.io/docs/kubernetes/using-volumes/)

[Networking](https://fly.io/docs/networking/)Toggle Networking section
*   [Connect to an App Service](https://fly.io/docs/networking/app-services/)
*   [Public Networking](https://fly.io/docs/networking/services/)
*   [Private Networking](https://fly.io/docs/networking/private-networking/)
*   [Custom Private Networks](https://fly.io/docs/networking/custom-private-networks/)
*   [Flycast - Private Proxy Services](https://fly.io/docs/networking/flycast/)
*   [Egress IP Addresses](https://fly.io/docs/networking/egress-ips/)
*   [Dynamic Request Routing](https://fly.io/docs/networking/dynamic-request-routing/)
*   [Custom Domains](https://fly.io/docs/networking/custom-domain/)
*   [Understanding Cloudflare](https://fly.io/docs/networking/understanding-cloudflare/)
*   [Request Headers](https://fly.io/docs/networking/request-headers/)
*   [Run UDP Services](https://fly.io/docs/networking/udp-and-tcp/)
*   [TLS Support](https://fly.io/docs/networking/tls/)

[Monitoring](https://fly.io/docs/monitoring/)Toggle Monitoring section
*   [Metrics](https://fly.io/docs/monitoring/metrics/)
*   [Sentry Error Tracking](https://fly.io/docs/monitoring/sentry/)
*   [Logging](https://fly.io/docs/monitoring/logging-overview/)Toggle Logging section
    *   [Live Tail Logs](https://fly.io/docs/monitoring/live-tail-logs/)
    *   [Logs API Options](https://fly.io/docs/monitoring/logs-api-options/)
    *   [Search Logs](https://fly.io/docs/monitoring/search-logs/)
    *   [Export Logs](https://fly.io/docs/monitoring/exporting-logs/)
    *   [Error Codes](https://fly.io/docs/monitoring/error-codes/)

[Security](https://fly.io/docs/security/)Toggle Security section
*   [Organization Roles and Permissions](https://fly.io/docs/security/org-roles-permissions/)
*   [SSO for Organizations](https://fly.io/docs/security/sso/)
*   [Remove a Member from an Org](https://fly.io/docs/security/remove-org-member/)
*   [TLS Termination](https://fly.io/docs/security/tls-termination/)
*   [App Security by Arcjet](https://fly.io/docs/security/arcjet/)
*   [Access Tokens](https://fly.io/docs/security/tokens/)
*   [OpenID Connect](https://fly.io/docs/reference/openid-connect/)
*   [Shared Responsibility Model](https://fly.io/docs/security/shared-responsibility/)
*   [Security Practices and Compliance](https://fly.io/docs/security/security-at-fly-io/)

[Reference](https://fly.io/docs/reference/)Toggle Reference section
*   [flyctl](https://fly.io/docs/flyctl/)
*   [App Config Reference (fly.toml)](https://fly.io/docs/reference/configuration/)
*   [Architecture](https://fly.io/docs/reference/architecture/)
*   [Autoscaling](https://fly.io/docs/reference/autoscaling/)
*   [AWS to Fly Overview](https://fly.io/docs/reference/aws-to-fly-guide/)
*   [Builders](https://fly.io/docs/reference/builders/)
*   [Content Encoding](https://fly.io/docs/reference/content-encoding/)
*   [Fly Launch](https://fly.io/docs/reference/fly-launch/)
*   [Health Checks](https://fly.io/docs/reference/health-checks/)
*   [Load Balancing](https://fly.io/docs/reference/load-balancing/)
*   [Machine Migration](https://fly.io/docs/reference/machine-migration/)
*   [Multiple Processes in Apps](https://fly.io/docs/app-guides/multiple-processes/)
*   [Fly Proxy](https://fly.io/docs/reference/fly-proxy/)
*   [Fly Proxy Autostop/Autostart](https://fly.io/docs/reference/fly-proxy-autostop-autostart/)
*   [Regions](https://fly.io/docs/reference/regions/)
*   [Suspend/Resume](https://fly.io/docs/reference/suspend-resume/)

[About](https://fly.io/docs/about/)Toggle About section
*   [Pricing](https://fly.io/docs/about/pricing/)
*   [Billing](https://fly.io/docs/about/billing/)
*   [Cost Management](https://fly.io/docs/about/cost-management/)
*   [Free Trial](https://fly.io/docs/about/free-trial/)
*   [Support](https://fly.io/docs/about/support/)
*   [Engineering Jobs](https://fly.io/docs/hiring/)
*   [Healthcare on Fly.io](https://fly.io/docs/about/healthcare/)
*   [Extensions Program](https://fly.io/docs/about/extensions/)
*   [Extensions API](https://fly.io/docs/reference/extensions_api/)
*   [Merch](https://fly.io/docs/about/merch/)
*   [Open Source](https://fly.io/docs/about/open-source/)
*   [Using Our Brand](https://fly.io/docs/about/brand/)
*   [Privacy Policy](https://fly.io/legal/privacy-policy/)
*   [Terms of Service](https://fly.io/legal/terms-of-service/)

--- title: Fly Kubernetes Quickstart layout: docs nav: firecracker --- <figure class="flex justify-center"><img src="/static/images/kubernetes.png" alt="Illustration by Annie Ruygt of a figure sailing a ship with a balloon overhead" class="w-full max-w-lg mx-auto"></figure><div class= "important icon"> Fly Kubernetes is in closed beta and not recommended for critical production usage. To report issues or provide feedback, email us at beta@fly.io. </div> To create a Kubernetes cluster, run: ```cmd fly ext k8s create ``` This will start the provisioning process. You'll be asked for a cluster name, the organization, and the region in which to create the cluster. Once a cluster is provisioned, it will return a kubeconfig that can be used to connect to your cluster's Kubernetes API server using kubectl. For example: ```yaml apiVersion: v1 clusters: - name: fks-flyio-fksdemo cluster: certificate-authority-data: ... server: https://fks-flyio-fksdemo.flycast:6443 extensions: ... ... contexts: - context: cluster: fks-flyio-fksdemo user: default name: default current-context: default kind: Config preferences: {} users: - name: default user: ... ... ``` We're going to save the output into a file named `kubeconfig` and create an environment variable `KUBECONFIG` that points to the file: ```cmd export KUBECONFIG=/path/to/kubeconfig/file ``` Our cluster is accessible over our organization's [private WireGuard network](/docs/reference/private-networking). To connect to our cluster, we need a WireGuard configuration. Follow the[Private Network VPN instructions](/docs/networking/private-networking/#private-network-vpn)to set up a permanent WireGuard connection to your Fly.io IPv6 private network. From there, you can use standard YAML configuration to drive Kubernetes. Here's a simple deployment example from the [Kubernetes official documentation](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#creating-a-deployment): ```yaml apiVersion: apps/v1 kind: Deployment metadata: name: nginx-deployment labels: app: nginx spec: replicas: 3 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.14.2 ports: - containerPort: 80 ``` This creates a `ReplicaSet` with 3 nginx pods. Using kubectl, we can apply this: ```cmd kubectl apply -f https://k8s.io/examples/controllers/nginx-deployment.yaml ``` ```output deployment.apps/nginx-deployment created ``` We can see our deployment: ```cmd kubectl get deployments ``` ```output NAME READY UP-TO-DATE AVAILABLE AGE nginx-deployment 3/3 3 3 7s ``` We can view the logs of all the pods in the deployment: ```cmd kubectl logs -l app=nginx ``` ```output Pulling container image registry-1.docker.io/library/nginx:1.14.2 Pulling container image registry-1.docker.io/library/nginx:1.14.2 Pulling container image registry-1.docker.io/library/nginx:1.14.2 Successfully prepared image registry-1.docker.io/library/nginx:1.14.2 (1.597714717s) Successfully prepared image registry-1.docker.io/library/nginx:1.14.2 (1.493016957s) Successfully prepared image registry-1.docker.io/library/nginx:1.14.2 (1.604003393s) Configuring firecracker Configuring firecracker Configuring firecracker ... ``` ## What we don't support - Multi-container pods (coming soon) - Network policies - Horizontal pod autoscaling - Gateway API - Daemon sets - EmptyDir volumes - Interactive pods (`kubectl run --interactive --tty`) On container specs, we don't support the following fields: - `workingDir` - `ports` - `livenessProbe` - `readinessProbe` - `startupProbe` - `resizePolicy` - `stdin` - `stdinOnce` - `tty` - `EnvVarSource.fieldRef` - `EnvVarSource.resourceFieldRef` - `volumeDevices` - `lifecycle` - `terminationMessagePath` - `terminationMessagePolicy` - `imagePullPolicy` - `securityContext` ## Other caveats Right now we don't get logs from a single pod. If you try to get logs from a single pod, you'll get the logs from every pod in the namespace. ## Related topics - [Create an FKS cluster](/docs/kubernetes/clusters/) - [Connect to an FKS cluster](/docs/kubernetes/connect-clusters/) - [Configure FKS Services](/docs/kubernetes/services) 

[Docs](https://fly.io/docs/)[Fly Kubernetes](https://fly.io/docs/kubernetes)Fly Kubernetes Quickstart
Fly Kubernetes Quickstart
=========================

![Image 2: Illustration by Annie Ruygt of a figure sailing a ship with a balloon overhead](https://fly.io/static/images/kubernetes.png)

Fly Kubernetes is in closed beta and not recommended for critical production usage. To report issues or provide feedback, email us at [beta@fly.io](mailto:beta@fly.io).

To create a Kubernetes cluster, run:

 Wrap text  Copy to clipboard 

```
fly ext k8s create
```

This will start the provisioning process. You’ll be asked for a cluster name, the organization, and the region in which to create the cluster.

Once a cluster is provisioned, it will return a kubeconfig that can be used to connect to your cluster’s Kubernetes API server using kubectl.

For example:

 Wrap text  Copy to clipboard 

```
apiVersion: v1
clusters:
  - name: fks-flyio-fksdemo
    cluster:
      certificate-authority-data: ...
      server: https://fks-flyio-fksdemo.flycast:6443
      extensions:
      ...
      ...
contexts:
  - context:
      cluster: fks-flyio-fksdemo
      user: default
    name: default
current-context: default
kind: Config
preferences: {}
users:
  - name: default
    user:
    ...
    ...
```

We’re going to save the output into a file named `kubeconfig` and create an environment variable `KUBECONFIG` that points to the file:

 Wrap text  Copy to clipboard 

```
export KUBECONFIG=/path/to/kubeconfig/file
```

Our cluster is accessible over our organization’s [private WireGuard network](https://fly.io/docs/reference/private-networking). To connect to our cluster, we need a WireGuard configuration.

Follow the[Private Network VPN instructions](https://fly.io/docs/networking/private-networking/#private-network-vpn)to set up a permanent WireGuard connection to your Fly.io IPv6 private network.

From there, you can use standard YAML configuration to drive Kubernetes. Here’s a simple deployment example from the [Kubernetes official documentation](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#creating-a-deployment):

 Wrap text  Copy to clipboard 

```
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
  labels:
    app: nginx
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:1.14.2
        ports:
        - containerPort: 80
```

This creates a `ReplicaSet` with 3 nginx pods. Using kubectl, we can apply this:

 Wrap text  Copy to clipboard 

```
kubectl apply -f https://k8s.io/examples/controllers/nginx-deployment.yaml
```

 Wrap text  Copy to clipboard 

```
deployment.apps/nginx-deployment created
```

We can see our deployment:

 Wrap text  Copy to clipboard 

```
kubectl get deployments
```

 Wrap text  Copy to clipboard 

```
NAME               READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deployment   3/3     3            3           7s
```

We can view the logs of all the pods in the deployment:

 Wrap text  Copy to clipboard 

```
kubectl logs -l app=nginx
```

 Wrap text  Copy to clipboard 

```
Pulling container image registry-1.docker.io/library/nginx:1.14.2
Pulling container image registry-1.docker.io/library/nginx:1.14.2
Pulling container image registry-1.docker.io/library/nginx:1.14.2
Successfully prepared image registry-1.docker.io/library/nginx:1.14.2 (1.597714717s)
Successfully prepared image registry-1.docker.io/library/nginx:1.14.2 (1.493016957s)
Successfully prepared image registry-1.docker.io/library/nginx:1.14.2 (1.604003393s)
Configuring firecracker
Configuring firecracker
Configuring firecracker
...
```

[](https://fly.io/docs/kubernetes/fks-quickstart#what-we-dont-support)What we don’t support
-------------------------------------------------------------------------------------------

*   Multi-container pods (coming soon) 
*   Network policies 
*   Horizontal pod autoscaling 
*   Gateway API 
*   Daemon sets 
*   EmptyDir volumes 
*   Interactive pods (`kubectl run --interactive --tty`) 

On container specs, we don’t support the following fields:

*   `workingDir`
*   `ports`
*   `livenessProbe`
*   `readinessProbe`
*   `startupProbe`
*   `resizePolicy`
*   `stdin`
*   `stdinOnce`
*   `tty`
*   `EnvVarSource.fieldRef`
*   `EnvVarSource.resourceFieldRef`
*   `volumeDevices`
*   `lifecycle`
*   `terminationMessagePath`
*   `terminationMessagePolicy`
*   `imagePullPolicy`
*   `securityContext`

[](https://fly.io/docs/kubernetes/fks-quickstart#other-caveats)Other caveats
----------------------------------------------------------------------------

Right now we don’t get logs from a single pod. If you try to get logs from a single pod, you’ll get the logs from every pod in the namespace.

[](https://fly.io/docs/kubernetes/fks-quickstart#related-topics)Related topics
------------------------------------------------------------------------------

*   [Create an FKS cluster](https://fly.io/docs/kubernetes/clusters/)
*   [Connect to an FKS cluster](https://fly.io/docs/kubernetes/connect-clusters/)
*   [Configure FKS Services](https://fly.io/docs/kubernetes/services)

Copy page as markdown or[Open in ChatGPT](https://chatgpt.com/?hints=search&q=Read+https%3A%2F%2Fraw.githubusercontent.com%2Fsuperfly%2Fdocs%2Fmain%2Fkubernetes%2Ffks-quickstart.html.markerb)

[Report an issue](https://github.com/superfly/docs/issues/new?body=I+found+an+issue+with+this+document.%0A%0ATitle%3A+Fly+Kubernetes+Quickstart%0ALocation%3A+https%3A%2F%2Ffly.io%2Fdocs%2Fkubernetes%2Ffks-quickstart%2F%0ASource%3A+https%3A%2F%2Fgithub.com%2Fsuperfly%2Fdocs%2Fblob%2Fmain%2Fkubernetes%2Ffks-quickstart.html.markerb%0A%0A%23%23%23+Describe+the+issue%0A%0A%3C%21--+Describe+the+issue+and+include+the+section+you%27re+referring+to%2C+if+applicable.+Provide+lots+of+detail+about+the+issue+that+you+found.++--%3E%0A%0A%23%23%23+Additional+info%0A%0A%3C%21--+Add+any+other+context+about+the+issue+here.+If+applicable%2C+add+screenshots+to+help+explain+the+issue.+--%3E%0A&title=Issue+with+the+%22Fly+Kubernetes+Quickstart%22+doc) or [edit this page on GitHub](https://github.com/superfly/docs/edit/main/kubernetes/fks-quickstart.html.markerb)

[On this page](https://fly.io/docs/kubernetes/fks-quickstart#)
*   [What we don’t support](https://fly.io/docs/kubernetes/fks-quickstart#what-we-dont-support)
*   [Other caveats](https://fly.io/docs/kubernetes/fks-quickstart#other-caveats)
*   [Related topics](https://fly.io/docs/kubernetes/fks-quickstart#related-topics)

Copy page as markdown[Open in ChatGPT](https://chatgpt.com/?hints=search&q=Read+https%3A%2F%2Fraw.githubusercontent.com%2Fsuperfly%2Fdocs%2Fmain%2Fkubernetes%2Ffks-quickstart.html.markerb)
