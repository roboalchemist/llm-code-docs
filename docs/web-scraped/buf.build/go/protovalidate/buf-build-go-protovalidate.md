# Source: https://pkg.go.dev/buf.build/go/protovalidate

Title: protovalidate package - buf.build/go/protovalidate - Go Packages

URL Source: https://pkg.go.dev/buf.build/go/protovalidate

Markdown Content:
protovalidate package - buf.build/go/protovalidate - Go Packages
===============

[![Image 1: Go](https://pkg.go.dev/static/shared/logo/go-white.svg)](https://go.dev/)

[Skip to Main Content](https://pkg.go.dev/buf.build/go/protovalidate#main-content)

![Image 2](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)![Image 3](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)

*   [Why Go ![Image 4: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/buf.build/go/protovalidate#)
    *   [Case Studies](https://go.dev/solutions#case-studies) 
Common problems companies solve with Go

    *   [Use Cases](https://go.dev/solutions#use-cases) 
Stories about how and why companies use Go

    *   [Security](https://go.dev/security/) 
How Go can help keep you secure by default

*   [Learn](https://go.dev/learn/)
*   [Docs ![Image 5: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/buf.build/go/protovalidate#)
    *   [Effective Go](https://go.dev/doc/effective_go) 
Tips for writing clear, performant, and idiomatic Go code

    *   [Go User Manual](https://go.dev/doc/) 
A complete introduction to building software with Go

    *   [Standard library](https://pkg.go.dev/std) 
Reference documentation for Go's standard library

    *   [Release Notes](https://go.dev/doc/devel/release) 
Learn what's new in each Go release

*   [Packages](https://pkg.go.dev/)
*   [Community ![Image 6: submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)](https://pkg.go.dev/buf.build/go/protovalidate#)
    *   [Recorded Talks](https://go.dev/talks/) 
Videos from prior events

    *   [Meetups _![Image 7](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go) 
Meet other local Go developers

    *   [Conferences _![Image 8](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences) 
Learn and network with Go developers from around the world

    *   [Go blog](https://go.dev/blog) 
The Go project's official blog.

    *   [Go project](https://go.dev/help) 
Get help and stay informed from Go

    *    Get connected  [![Image 9](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts "Get connected with google-groups (Opens in new window)")[![Image 10](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang "Get connected with github (Opens in new window)")[![Image 11](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang "Get connected with twitter (Opens in new window)")[![Image 12](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/ "Get connected with reddit (Opens in new window)")[![Image 13](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/ "Get connected with slack (Opens in new window)")[![Image 14](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

[![Image 15: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)

*   [Why Go _![Image 16](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/buf.build/go/protovalidate#)

[_![Image 17](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Why Go](https://pkg.go.dev/buf.build/go/protovalidate#) 
    *   [Case Studies](https://go.dev/solutions#case-studies)
    *   [Use Cases](https://go.dev/solutions#use-cases)
    *   [Security](https://go.dev/security/)

*   [Learn](https://go.dev/learn/)
*   [Docs _![Image 18](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/buf.build/go/protovalidate#)

[_![Image 19](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Docs](https://pkg.go.dev/buf.build/go/protovalidate#) 
    *   [Effective Go](https://go.dev/doc/effective_go)
    *   [Go User Manual](https://go.dev/doc/)
    *   [Standard library](https://pkg.go.dev/std)
    *   [Release Notes](https://go.dev/doc/devel/release)

*   [Packages](https://pkg.go.dev/)
*   [Community _![Image 20](https://pkg.go.dev/static/shared/icon/navigate\_next\_gm\_grey\_24dp.svg)_](https://pkg.go.dev/buf.build/go/protovalidate#)

[_![Image 21](https://pkg.go.dev/static/shared/icon/navigate\_before\_gm\_grey\_24dp.svg)_ Community](https://pkg.go.dev/buf.build/go/protovalidate#) 
    *   [Recorded Talks](https://go.dev/talks/)
    *   [Meetups _![Image 22](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://www.meetup.com/pro/go)
    *   [Conferences _![Image 23](https://pkg.go.dev/static/shared/icon/launch\_gm\_grey\_24dp.svg)_](https://github.com/golang/go/wiki/Conferences)
    *   [Go blog](https://go.dev/blog)
    *   [Go project](https://go.dev/help)
    *   Get connected [![Image 24](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts)[![Image 25](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang)[![Image 26](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang)[![Image 27](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/)[![Image 28](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/)[![Image 29](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go) 

1.   [Discover Packages](https://pkg.go.dev/)
2.   [buf.build/go/protovalidate](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3)![Image 30](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[![Image 31: Go](https://pkg.go.dev/static/shared/logo/go-blue.svg)](https://go.dev/)
protovalidate
=============

package module![Image 32](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)

[Version: v1.1.3](https://pkg.go.dev/buf.build/go/protovalidate?tab=versions)

 Opens a new window with list of versions in this module. 

Latest Latest 

![Image 33: Warning](https://pkg.go.dev/static/shared/icon/alert_gm_grey_24dp.svg)
This package is not in the latest version of its module.

[Go to latest](https://pkg.go.dev/buf.build/go/protovalidate) Published: Feb 19, 2026  License: [Apache-2.0](https://pkg.go.dev/buf.build/go/protovalidate?tab=licenses)

 Opens a new window with license information. 

[Imports: 25](https://pkg.go.dev/buf.build/go/protovalidate?tab=imports)

 Opens a new window with list of imports. 

[Imported by: 180](https://pkg.go.dev/buf.build/go/protovalidate?tab=importedby)

 Opens a new window with list of known importers. 

Details
-------

*   ![Image 34: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Valid [go.mod](https://github.com/bufbuild/protovalidate-go/tree/v1.1.3/go.mod) file ![Image 35](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
The Go module system was introduced in Go 1.11 and is the official dependency management solution for Go. 
*   ![Image 36: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Redistributable license ![Image 37](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Redistributable licenses place minimal restrictions on how software can be used, modified, and redistributed. 
*   ![Image 38: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Tagged version ![Image 39](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Modules with tagged versions give importers more predictable builds. 
*   ![Image 40: checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Stable version ![Image 41](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
When a project reaches major version v1 it is considered stable. 
*   [Learn more about best practices](https://pkg.go.dev/about#best-practices)

Repository
----------

[github.com/bufbuild/protovalidate-go](https://github.com/bufbuild/protovalidate-go "https://github.com/bufbuild/protovalidate-go")

Links
-----

*   [![Image 42: Open Source Insights Logo](https://pkg.go.dev/static/shared/icon/depsdev-logo.svg) Open Source Insights](https://deps.dev/go/buf.build%2Fgo%2Fprotovalidate/v1.1.3 "View this module on Open Source Insights")

 Jump to ... 

*   [README](https://pkg.go.dev/buf.build/go/protovalidate#section-readme)
    *   [Installation](https://pkg.go.dev/buf.build/go/protovalidate#readme-installation)
    *   [Documentation](https://pkg.go.dev/buf.build/go/protovalidate#readme-documentation)
    *   [Additional languages and repositories](https://pkg.go.dev/buf.build/go/protovalidate#readme-additional-languages-and-repositories)
    *   [Contributing](https://pkg.go.dev/buf.build/go/protovalidate#readme-contributing)
    *   [Legal](https://pkg.go.dev/buf.build/go/protovalidate#readme-legal)

*   [Documentation](https://pkg.go.dev/buf.build/go/protovalidate#section-documentation)
    *   [Overview](https://pkg.go.dev/buf.build/go/protovalidate#pkg-overview)
    *   [Index](https://pkg.go.dev/buf.build/go/protovalidate#pkg-index)
    *   [Examples](https://pkg.go.dev/buf.build/go/protovalidate#pkg-examples)
        *   [Package](https://pkg.go.dev/buf.build/go/protovalidate#example-package "Package")
        *   [ValidationError](https://pkg.go.dev/buf.build/go/protovalidate#example-ValidationError "ValidationError")
        *   [ValidationError (Localized)](https://pkg.go.dev/buf.build/go/protovalidate#example-ValidationError-Localized "ValidationError (Localized)")
        *   [WithDisableLazy](https://pkg.go.dev/buf.build/go/protovalidate#example-WithDisableLazy "WithDisableLazy")
        *   [WithFailFast](https://pkg.go.dev/buf.build/go/protovalidate#example-WithFailFast "WithFailFast")
        *   [WithMessageDescriptors](https://pkg.go.dev/buf.build/go/protovalidate#example-WithMessageDescriptors "WithMessageDescriptors")
        *   [WithMessages](https://pkg.go.dev/buf.build/go/protovalidate#example-WithMessages "WithMessages")

    *   [Constants](https://pkg.go.dev/buf.build/go/protovalidate#pkg-constants)
    *   [Variables](https://pkg.go.dev/buf.build/go/protovalidate#pkg-variables)
    *   [Functions](https://pkg.go.dev/buf.build/go/protovalidate#pkg-functions)
        *   [FieldPathString(path)](https://pkg.go.dev/buf.build/go/protovalidate#FieldPathString "FieldPathString(path)")
        *   [ResolveFieldRules(desc)](https://pkg.go.dev/buf.build/go/protovalidate#ResolveFieldRules "ResolveFieldRules(desc)")
        *   [ResolveMessageRules(desc)](https://pkg.go.dev/buf.build/go/protovalidate#ResolveMessageRules "ResolveMessageRules(desc)")
        *   [ResolveOneofRules(desc)](https://pkg.go.dev/buf.build/go/protovalidate#ResolveOneofRules "ResolveOneofRules(desc)")
        *   [ResolvePredefinedRules(desc)](https://pkg.go.dev/buf.build/go/protovalidate#ResolvePredefinedRules "ResolvePredefinedRules(desc)")
        *   [Validate(msg, options)](https://pkg.go.dev/buf.build/go/protovalidate#Validate "Validate(msg, options)")

    *   [Types](https://pkg.go.dev/buf.build/go/protovalidate#pkg-types)
        *   [type CompilationError](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError "type CompilationError")
            *   [(err) Error()](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError.Error "(err) Error()")
            *   [(err) Unwrap()](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError.Unwrap "(err) Unwrap()")

        *   [type Filter](https://pkg.go.dev/buf.build/go/protovalidate#Filter "type Filter")
        *   [type FilterFunc](https://pkg.go.dev/buf.build/go/protovalidate#FilterFunc "type FilterFunc")
            *   [(f) ShouldValidate(message, descriptor)](https://pkg.go.dev/buf.build/go/protovalidate#FilterFunc.ShouldValidate "(f) ShouldValidate(message, descriptor)")

        *   [type Option](https://pkg.go.dev/buf.build/go/protovalidate#Option "type Option")
            *   [WithFailFast()](https://pkg.go.dev/buf.build/go/protovalidate#WithFailFast "WithFailFast()")
            *   [WithNowFunc(fn)](https://pkg.go.dev/buf.build/go/protovalidate#WithNowFunc "WithNowFunc(fn)")

        *   [type RuntimeError](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError "type RuntimeError")
            *   [(err) Error()](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError.Error "(err) Error()")
            *   [(err) Unwrap()](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError.Unwrap "(err) Unwrap()")

        *   [type ValidationError](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError "type ValidationError")
            *   [(err) Error()](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError.Error "(err) Error()")
            *   [(err) ToProto()](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError.ToProto "(err) ToProto()")

        *   [type ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption "type ValidationOption")
            *   [WithFilter(filter)](https://pkg.go.dev/buf.build/go/protovalidate#WithFilter "WithFilter(filter)")

        *   [type Validator](https://pkg.go.dev/buf.build/go/protovalidate#Validator "type Validator")
            *   [New(options)](https://pkg.go.dev/buf.build/go/protovalidate#New "New(options)")

        *   [type ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption "type ValidatorOption")
            *   [WithAllowUnknownFields()](https://pkg.go.dev/buf.build/go/protovalidate#WithAllowUnknownFields "WithAllowUnknownFields()")
            *   [WithDisableLazy()](https://pkg.go.dev/buf.build/go/protovalidate#WithDisableLazy "WithDisableLazy()")
            *   [WithExtensionTypeResolver(extensionTypeResolver)](https://pkg.go.dev/buf.build/go/protovalidate#WithExtensionTypeResolver "WithExtensionTypeResolver(extensionTypeResolver)")
            *   [WithMessageDescriptors(descriptors)](https://pkg.go.dev/buf.build/go/protovalidate#WithMessageDescriptors "WithMessageDescriptors(descriptors)")
            *   [WithMessages(messages)](https://pkg.go.dev/buf.build/go/protovalidate#WithMessages "WithMessages(messages)")

        *   [type Violation](https://pkg.go.dev/buf.build/go/protovalidate#Violation "type Violation")
            *   [(v) String()](https://pkg.go.dev/buf.build/go/protovalidate#Violation.String "(v) String()")

*   [Source Files](https://pkg.go.dev/buf.build/go/protovalidate#section-sourcefiles)
*   [Directories](https://pkg.go.dev/buf.build/go/protovalidate#section-directories)

![Image 43](https://pkg.go.dev/static/shared/icon/chrome_reader_mode_gm_grey_24dp.svg) README [¶](https://pkg.go.dev/buf.build/go/protovalidate#section-readme "Go to Readme")
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

[![Image 44: The Buf logo](https://github.com/bufbuild/protovalidate-go/raw/v1.1.3/.github/buf-logo.svg)](https://buf.build/)

### protovalidate-go

[![Image 45: CI](https://github.com/bufbuild/protovalidate-go/actions/workflows/ci.yaml/badge.svg)](https://github.com/bufbuild/protovalidate-go/actions/workflows/ci.yaml)[![Image 46: Conformance](https://github.com/bufbuild/protovalidate-go/actions/workflows/conformance.yaml/badge.svg)](https://github.com/bufbuild/protovalidate-go/actions/workflows/conformance.yaml)[![Image 47: Report Card](https://goreportcard.com/badge/buf.build/go/protovalidate)](https://goreportcard.com/report/buf.build/go/protovalidate)[![Image 48: GoDoc](https://pkg.go.dev/badge/buf.build/go/protovalidate.svg)](https://pkg.go.dev/buf.build/go/protovalidate)[![Image 49: BSR](https://img.shields.io/badge/BSR-Module-0C65EC)](https://buf.build/bufbuild/protovalidate)

[Protovalidate](https://protovalidate.com/) is the semantic validation library for Protobuf. It provides standard annotations to validate common rules on messages and fields, as well as the ability to use [CEL](https://cel.dev/) to write custom rules. It's the next generation of [protoc-gen-validate](https://github.com/bufbuild/protoc-gen-validate).

With Protovalidate, you can annotate your Protobuf messages with both standard and custom validation rules:

```
syntax = "proto3";

package acme.user.v1;

import "buf/validate/validate.proto";

message User {
  string id = 1 [(buf.validate.field).string.uuid = true];
  uint32 age = 2 [(buf.validate.field).uint32.lte = 150]; // We can only hope.
  string email = 3 [(buf.validate.field).string.email = true];
  string first_name = 4 [(buf.validate.field).string.max_len = 64];
  string last_name = 5 [(buf.validate.field).string.max_len = 64];

  option (buf.validate.message).cel = {
    id: "first_name_requires_last_name"
    message: "last_name must be present if first_name is present"
    expression: "!has(this.first_name) || has(this.last_name)"
  };
}
```

Once you've added `protovalidate-go` to your project, validation is idiomatic Go:

```
if err = protovalidate.Validate(moneyTransfer); err != nil {
    // Handle failure.
}
```

#### Installation

> [!TIP] The easiest way to get started with Protovalidate for RPC APIs are the quickstarts in Buf's documentation. They're available for both [Connect](https://protovalidate.com/quickstart/connect-go/) and [gRPC](https://protovalidate.com/quickstart/grpc-go/).

To install the package, use `go get` from within your Go module:

```
go get buf.build/go/protovalidate
```

#### Documentation

Comprehensive documentation for Protovalidate is available at [protovalidate.com](https://protovalidate.com/).

Highlights for Go developers include:

*   The [developer quickstart](https://protovalidate.com/quickstart/)
*   Comprehensive RPC quickstarts for [Connect](https://protovalidate.com/quickstart/connect-go/) and [gRPC](https://protovalidate.com/quickstart/grpc-go/)
*   A [migration guide for protoc-gen-validate](https://protovalidate.com/migration-guides/migrate-from-protoc-gen-validate/) users

API documentation for Go is available on [pkg.go.dev](https://pkg.go.dev/buf.build/go/protovalidate).

#### Additional languages and repositories

Protovalidate isn't just for Go! You might be interested in sibling repositories for other languages:

*   [`protovalidate-java`](https://github.com/bufbuild/protovalidate-java) (Java)
*   [`protovalidate-python`](https://github.com/bufbuild/protovalidate-python) (Python)
*   [`protovalidate-cc`](https://github.com/bufbuild/protovalidate-cc) (C++)
*   [`protovalidate-es`](https://github.com/bufbuild/protovalidate-es) (TypeScript and JavaScript)

Additionally, [protovalidate's core repository](https://github.com/bufbuild/protovalidate) provides:

*   [Protovalidate's Protobuf API](https://buf.build/bufbuild/protovalidate/docs/main:buf.validate)
*   [Conformance testing utilities](https://github.com/bufbuild/protovalidate/blob/main/docs/conformance.md) for acceptance testing of `protovalidate` implementations

#### Contributing

We genuinely appreciate any help! If you'd like to contribute, check out these resources:

*   [Contributing Guidelines](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/.github/CONTRIBUTING.md): Guidelines to make your contribution process straightforward and meaningful
*   [Conformance testing utilities](https://github.com/bufbuild/protovalidate/tree/main/docs/conformance.md): Utilities providing acceptance testing of `protovalidate` implementations
*   [Go conformance executor](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/internal/cmd/protovalidate-conformance-go/README.md): Conformance testing executor for `protovalidate-go`

#### Legal

Offered under the [Apache 2 license](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/LICENSE).

Expand ▾Collapse ▴

![Image 50](https://pkg.go.dev/static/shared/icon/code_gm_grey_24dp.svg) Documentation [¶](https://pkg.go.dev/buf.build/go/protovalidate#section-documentation "Go to Documentation")
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### Overview [¶](https://pkg.go.dev/buf.build/go/protovalidate#pkg-overview "Go to Overview")

Example [¶](https://pkg.go.dev/buf.build/go/protovalidate#example-package "Go to Example")

Output:

valid: <nil> invalid: validation error: email: value must be a valid email address 

### Index [¶](https://pkg.go.dev/buf.build/go/protovalidate#pkg-index "Go to Index")

*   [func FieldPathString(path *validate.FieldPath) string](https://pkg.go.dev/buf.build/go/protovalidate#FieldPathString)
*   [func ResolveFieldRules(desc protoreflect.FieldDescriptor) (*validate.FieldRules, error)](https://pkg.go.dev/buf.build/go/protovalidate#ResolveFieldRules)
*   [func ResolveMessageRules(desc protoreflect.MessageDescriptor) (*validate.MessageRules, error)](https://pkg.go.dev/buf.build/go/protovalidate#ResolveMessageRules)
*   [func ResolveOneofRules(desc protoreflect.OneofDescriptor) (*validate.OneofRules, error)](https://pkg.go.dev/buf.build/go/protovalidate#ResolveOneofRules)
*   [func ResolvePredefinedRules(desc protoreflect.FieldDescriptor) (*validate.PredefinedRules, error)](https://pkg.go.dev/buf.build/go/protovalidate#ResolvePredefinedRules)
*   [func Validate(msg proto.Message, options ...ValidationOption) error](https://pkg.go.dev/buf.build/go/protovalidate#Validate)
*   [type CompilationError](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError)
*       *   [func (err *CompilationError) Error() string](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError.Error)
    *   [func (err *CompilationError) Unwrap() error](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError.Unwrap)

*   [type Filter](https://pkg.go.dev/buf.build/go/protovalidate#Filter)
*   [type FilterFunc](https://pkg.go.dev/buf.build/go/protovalidate#FilterFunc)
*       *   [func (f FilterFunc) ShouldValidate(message protoreflect.Message, descriptor protoreflect.Descriptor) bool](https://pkg.go.dev/buf.build/go/protovalidate#FilterFunc.ShouldValidate)

*   [type Option](https://pkg.go.dev/buf.build/go/protovalidate#Option)
*       *   [func WithFailFast() Option](https://pkg.go.dev/buf.build/go/protovalidate#WithFailFast)
    *   [func WithNowFunc(fn func() *timestamppb.Timestamp) Option](https://pkg.go.dev/buf.build/go/protovalidate#WithNowFunc)

*   [type RuntimeError](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError)
*       *   [func (err *RuntimeError) Error() string](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError.Error)
    *   [func (err *RuntimeError) Unwrap() error](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError.Unwrap)

*   [type ValidationError](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError)
*       *   [func (err *ValidationError) Error() string](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError.Error)
    *   [func (err *ValidationError) ToProto() *validate.Violations](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError.ToProto)

*   [type ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption)
*       *   [func WithFilter(filter Filter) ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#WithFilter)

*   [type Validator](https://pkg.go.dev/buf.build/go/protovalidate#Validator)
*       *   [func New(options ...ValidatorOption) (Validator, error)](https://pkg.go.dev/buf.build/go/protovalidate#New)

*   [type ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)
*       *   [func WithAllowUnknownFields() ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#WithAllowUnknownFields)
    *   [func WithDisableLazy() ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#WithDisableLazy)
    *   [func WithExtensionTypeResolver(extensionTypeResolver protoregistry.ExtensionTypeResolver) ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#WithExtensionTypeResolver)
    *   [func WithMessageDescriptors(descriptors ...protoreflect.MessageDescriptor) ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#WithMessageDescriptors)
    *   [func WithMessages(messages ...proto.Message) ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#WithMessages)

*   [type Violation](https://pkg.go.dev/buf.build/go/protovalidate#Violation)
*       *   [func (v *Violation) String() string](https://pkg.go.dev/buf.build/go/protovalidate#Violation.String)

### Examples [¶](https://pkg.go.dev/buf.build/go/protovalidate#pkg-examples "Go to Examples")

*   [Package](https://pkg.go.dev/buf.build/go/protovalidate#example-package)
*   [ValidationError](https://pkg.go.dev/buf.build/go/protovalidate#example-ValidationError)
*   [ValidationError (Localized)](https://pkg.go.dev/buf.build/go/protovalidate#example-ValidationError-Localized)
*   [WithDisableLazy](https://pkg.go.dev/buf.build/go/protovalidate#example-WithDisableLazy)
*   [WithFailFast](https://pkg.go.dev/buf.build/go/protovalidate#example-WithFailFast)
*   [WithMessageDescriptors](https://pkg.go.dev/buf.build/go/protovalidate#example-WithMessageDescriptors)
*   [WithMessages](https://pkg.go.dev/buf.build/go/protovalidate#example-WithMessages)

### Constants [¶](https://pkg.go.dev/buf.build/go/protovalidate#pkg-constants "Go to Constants")

This section is empty.

### Variables [¶](https://pkg.go.dev/buf.build/go/protovalidate#pkg-variables "Go to Variables")

This section is empty.

### Functions [¶](https://pkg.go.dev/buf.build/go/protovalidate#pkg-functions "Go to Functions")

#### func [FieldPathString](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/error_utils.go#L140)[¶](https://pkg.go.dev/buf.build/go/protovalidate#FieldPathString "Go to FieldPathString")

func FieldPathString(path *[validate](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate).[FieldPath](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate#FieldPath)) [string](https://pkg.go.dev/builtin#string)

FieldPathString takes a FieldPath and encodes it to a string-based dotted field path.

#### func [ResolveFieldRules](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/resolve.go#L38)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ResolveFieldRules "Go to ResolveFieldRules")added in v0.13.0

func ResolveFieldRules(desc [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[FieldDescriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#FieldDescriptor)) (*[validate](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate).[FieldRules](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate#FieldRules), [error](https://pkg.go.dev/builtin#error))

ResolveFieldRules returns the ResolveFieldRules option set for the FieldDescriptor.

#### func [ResolveMessageRules](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/resolve.go#L28)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ResolveMessageRules "Go to ResolveMessageRules")added in v0.13.0

func ResolveMessageRules(desc [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[MessageDescriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#MessageDescriptor)) (*[validate](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate).[MessageRules](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate#MessageRules), [error](https://pkg.go.dev/builtin#error))

ResolveMessageRules returns the ResolveMessageRules option set for the MessageDescriptor.

#### func [ResolveOneofRules](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/resolve.go#L33)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ResolveOneofRules "Go to ResolveOneofRules")added in v0.13.0

func ResolveOneofRules(desc [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[OneofDescriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#OneofDescriptor)) (*[validate](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate).[OneofRules](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate#OneofRules), [error](https://pkg.go.dev/builtin#error))

ResolveOneofRules returns the ResolveOneofRules option set for the OneofDescriptor.

#### func [ResolvePredefinedRules](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/resolve.go#L46)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ResolvePredefinedRules "Go to ResolvePredefinedRules")added in v0.13.0

func ResolvePredefinedRules(desc [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[FieldDescriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#FieldDescriptor)) (*[validate](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate).[PredefinedRules](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate#PredefinedRules), [error](https://pkg.go.dev/builtin#error))

ResolvePredefinedRules returns the ResolvePredefinedRules option set for the FieldDescriptor. Note that this value is only meaningful if it is set on a field or extension of a field rule message. This method is provided for convenience.

#### func [Validate](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validator.go#L130)[¶](https://pkg.go.dev/buf.build/go/protovalidate#Validate "Go to Validate")

func Validate(msg [proto](https://pkg.go.dev/google.golang.org/protobuf/proto).[Message](https://pkg.go.dev/google.golang.org/protobuf/proto#Message), options ...[ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption)) [error](https://pkg.go.dev/builtin#error)

Validate uses a global instance of Validator constructed with no ValidatorOptions and calls its Validate function. For the vast majority of validation cases, using this global function is safe and acceptable. If you need to provide i.e. a custom ExtensionTypeResolver, you'll need to construct a Validator.

### Types [¶](https://pkg.go.dev/buf.build/go/protovalidate#pkg-types "Go to Types")

#### type [CompilationError](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/compilation_error.go#L21)[¶](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError "Go to CompilationError")

type CompilationError struct {
	// contains filtered or unexported fields
}

A CompilationError is returned if a CEL expression cannot be compiled & type-checked or if invalid standard rules are applied.

#### func (*CompilationError) [Error](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/compilation_error.go#L25)[¶](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError.Error "Go to CompilationError.Error")

func (err *[CompilationError](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError)) Error() [string](https://pkg.go.dev/builtin#string)

#### func (*CompilationError) [Unwrap](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/compilation_error.go#L38)[¶](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError.Unwrap "Go to CompilationError.Unwrap")

func (err *[CompilationError](https://pkg.go.dev/buf.build/go/protovalidate#CompilationError)) Unwrap() [error](https://pkg.go.dev/builtin#error)

#### type [Filter](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/filter.go#L20)[¶](https://pkg.go.dev/buf.build/go/protovalidate#Filter "Go to Filter")

type Filter interface {
// ShouldValidate returns whether rules for a given message, field, or	// oneof should be evaluated. For a message or oneof, this only determines
	// whether message-level or oneof-level rules should be evaluated, and
	// ShouldValidate will still be called for each field in the message. If
	// ShouldValidate returns false for a specific field, all rules nested
	// in submessages of that field will be skipped as well.
	// For a message, the message argument provides the message itself. For a
	// field or oneof, the message argument provides the containing message.
	ShouldValidate(message [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Message](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Message), descriptor [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Descriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Descriptor)) [bool](https://pkg.go.dev/builtin#bool)
}

The Filter interface determines which rules should be validated.

#### type [FilterFunc](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/filter.go#L35)[¶](https://pkg.go.dev/buf.build/go/protovalidate#FilterFunc "Go to FilterFunc")

type FilterFunc func([protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Message](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Message), [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Descriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Descriptor)) [bool](https://pkg.go.dev/builtin#bool)

FilterFunc is a function type that implements the Filter interface, as a convenience for simple filters. A FilterFunc should follow the same semantics as the ShouldValidate method of Filter.

#### func (FilterFunc) [ShouldValidate](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/filter.go#L37)[¶](https://pkg.go.dev/buf.build/go/protovalidate#FilterFunc.ShouldValidate "Go to FilterFunc.ShouldValidate")

func (f [FilterFunc](https://pkg.go.dev/buf.build/go/protovalidate#FilterFunc)) ShouldValidate(
	message [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Message](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Message),
	descriptor [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Descriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Descriptor),
) [bool](https://pkg.go.dev/builtin#bool)

#### type [Option](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L96)[¶](https://pkg.go.dev/buf.build/go/protovalidate#Option "Go to Option")

type Option interface {
	[ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)
	[ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption)
}

Option implements both [ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption) and [ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption), so it can be applied both to validator instances as well as individual validations.

#### func [WithFailFast](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L104)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithFailFast "Go to WithFailFast")

func WithFailFast() [Option](https://pkg.go.dev/buf.build/go/protovalidate#Option)

WithFailFast specifies whether validation should fail on the first rule violation encountered or if all violations should be accumulated. By default, all violations are accumulated.

Example [¶](https://pkg.go.dev/buf.build/go/protovalidate#example-WithFailFast "Go to Example")

Output:

default: validation errors: - lat: value must be greater than or equal to -90 and less than or equal to 90 - lng: value must be greater than or equal to -180 and less than or equal to 180 fail fast: validation error: lat: value must be greater than or equal to -90 and less than or equal to 90 

#### func [WithNowFunc](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L110)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithNowFunc "Go to WithNowFunc")

func WithNowFunc(fn func() *[timestamppb](https://pkg.go.dev/google.golang.org/protobuf/types/known/timestamppb).[Timestamp](https://pkg.go.dev/google.golang.org/protobuf/types/known/timestamppb#Timestamp)) [Option](https://pkg.go.dev/buf.build/go/protovalidate#Option)

WithNowFunc specifies the function used to derive the `now` variable in CEL expressions. By default, [timestamppb.Now](https://pkg.go.dev/google.golang.org/protobuf/types/known/timestamppb#Now) is used.

#### type [RuntimeError](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/runtime_error.go#L23)[¶](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError "Go to RuntimeError")

type RuntimeError struct {
	// contains filtered or unexported fields
}

A RuntimeError is returned if a valid CEL expression evaluation is terminated. The two built-in reasons are 'no_matching_overload' when a CEL function has no overload for the types of the arguments or 'no_such_field' when a map or message does not contain the desired field.

#### func (*RuntimeError) [Error](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/runtime_error.go#L27)[¶](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError.Error "Go to RuntimeError.Error")

func (err *[RuntimeError](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError)) Error() [string](https://pkg.go.dev/builtin#string)

#### func (*RuntimeError) [Unwrap](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/runtime_error.go#L40)[¶](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError.Unwrap "Go to RuntimeError.Unwrap")

func (err *[RuntimeError](https://pkg.go.dev/buf.build/go/protovalidate#RuntimeError)) Unwrap() [error](https://pkg.go.dev/builtin#error)

#### type [ValidationError](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validation_error.go#L25)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError "Go to ValidationError")

type ValidationError struct {
 Violations []*[Violation](https://pkg.go.dev/buf.build/go/protovalidate#Violation)}

A ValidationError is returned if one or more rule violations were detected.

Example [¶](https://pkg.go.dev/buf.build/go/protovalidate#example-ValidationError "Go to Example")

Output:

lat double.gte_lte -90 999.999 

Example (Localized) [¶](https://pkg.go.dev/buf.build/go/protovalidate#example-ValidationError-Localized "Go to Example (Localized)")

Output:

id: 値は999を超える必要があります。（価値：900） email: メールアドレスは空であってはなりません。 name: 値はパターン「^[[:alpha:]]+( [[:alpha:]]+)*$」一致する必要があります。 

#### func (*ValidationError) [Error](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validation_error.go#L29)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError.Error "Go to ValidationError.Error")

func (err *[ValidationError](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError)) Error() [string](https://pkg.go.dev/builtin#string)

#### func (*ValidationError) [ToProto](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validation_error.go#L50)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError.ToProto "Go to ValidationError.ToProto")

func (err *[ValidationError](https://pkg.go.dev/buf.build/go/protovalidate#ValidationError)) ToProto() *[validate](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate).[Violations](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate#Violations)

ToProto converts this error into its proto.Message form.

#### type [ValidationOption](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L84)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption "Go to ValidationOption")

type ValidationOption interface {
	// contains filtered or unexported methods
}

A ValidationOption specifies per-validation configuration. See the individual options for their defaults and effects.

#### func [WithFilter](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L90)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithFilter "Go to WithFilter")

func WithFilter(filter [Filter](https://pkg.go.dev/buf.build/go/protovalidate#Filter)) [ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption)

WithFilter specifies a filter to use for this validation. A filter can control which fields are evaluated by the validator.

#### type [Validator](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validator.go#L45)[¶](https://pkg.go.dev/buf.build/go/protovalidate#Validator "Go to Validator")

type Validator interface {
// Validate checks that message satisfies its rules. Rules are	// defined within the Protobuf file as options from the buf.validate
	// package. An error is returned if the rules are violated
	// (ValidationError), the evaluation logic for the message cannot be built
	// (CompilationError), or there is a type error when attempting to evaluate
	// a CEL expression associated with the message (RuntimeError).
	Validate(msg [proto](https://pkg.go.dev/google.golang.org/protobuf/proto).[Message](https://pkg.go.dev/google.golang.org/protobuf/proto#Message), options ...[ValidationOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidationOption)) [error](https://pkg.go.dev/builtin#error)
}

Validator performs validation on any proto.Message values. The Validator is safe for concurrent use.

var (

// GlobalValidator provides access to the global Validator instance that is	// used by the [Validate] function. This is intended to be used by libraries
	// that use protovalidate. This Validator can be used as a default when the
	// user does not specify a Validator instance to use.
	//
	// Using the global Validator instance (either through [Validator] or via
	// GlobalValidator) will result in lower memory usage than using multiple
	// Validator instances, because each Validator instance has its own caches.
	GlobalValidator [Validator](https://pkg.go.dev/buf.build/go/protovalidate#Validator) = globalValidator{}
)

#### func [New](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validator.go#L58)[¶](https://pkg.go.dev/buf.build/go/protovalidate#New "Go to New")

func New(options ...[ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)) ([Validator](https://pkg.go.dev/buf.build/go/protovalidate#Validator), [error](https://pkg.go.dev/builtin#error))

New creates a Validator with the given options. An error may occur in setting up the CEL execution environment if the configuration is invalid. See the individual ValidatorOption for how they impact the fallibility of New.

#### type [ValidatorOption](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L27)[¶](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption "Go to ValidatorOption")

type ValidatorOption interface {
	// contains filtered or unexported methods
}

A ValidatorOption modifies the default configuration of a Validator. See the individual options for their defaults and affects on the fallibility of configuring a Validator.

#### func [WithAllowUnknownFields](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L78)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithAllowUnknownFields "Go to WithAllowUnknownFields")

func WithAllowUnknownFields() [ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)

WithAllowUnknownFields specifies if the presence of unknown field rules should cause compilation to fail with an error. When set to false, an unknown field will simply be ignored, which will cause rules to silently not be applied. This condition may occur if a predefined rule definition isn't present in the extension type resolver, or when passing dynamic messages with standard rules defined in a newer version of protovalidate. The default value is false, to prevent silently-incorrect validation from occurring.

#### func [WithDisableLazy](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L56)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithDisableLazy "Go to WithDisableLazy")

func WithDisableLazy() [ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)

WithDisableLazy prevents the Validator from lazily building validation logic for a message it has not encountered before. Disabling lazy logic additionally eliminates any internal locking as the validator becomes read-only.

Note: All expected messages must be provided by WithMessages or WithMessageDescriptors during initialization.

Example [¶](https://pkg.go.dev/buf.build/go/protovalidate#example-WithDisableLazy "Go to Example")

Output:

person.Home: <nil> person: compilation error: no evaluator available for tests.example.v1.Person 

#### func [WithExtensionTypeResolver](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L67)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithExtensionTypeResolver "Go to WithExtensionTypeResolver")

func WithExtensionTypeResolver(extensionTypeResolver [protoregistry](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoregistry).[ExtensionTypeResolver](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoregistry#ExtensionTypeResolver)) [ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)

WithExtensionTypeResolver specifies a resolver to use when reparsing unknown extension types. When dealing with dynamic file descriptor sets, passing this option will allow extensions to be resolved using a custom resolver.

To ignore unknown extension fields, use the [WithAllowUnknownFields](https://pkg.go.dev/buf.build/go/protovalidate#WithAllowUnknownFields) option. Note that this may result in messages being treated as valid even though not all rules are being applied.

#### func [WithMessageDescriptors](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L45)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithMessageDescriptors "Go to WithMessageDescriptors")

func WithMessageDescriptors(descriptors ...[protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[MessageDescriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#MessageDescriptor)) [ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)

WithMessageDescriptors allows warming up the Validator with message descriptors that are expected to be validated. Messages included transitively (i.e., fields with message values) are automatically handled.

Example [¶](https://pkg.go.dev/buf.build/go/protovalidate#example-WithMessageDescriptors "Go to Example")

Output:

<nil>

#### func [WithMessages](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go#L34)[¶](https://pkg.go.dev/buf.build/go/protovalidate#WithMessages "Go to WithMessages")

func WithMessages(messages ...[proto](https://pkg.go.dev/google.golang.org/protobuf/proto).[Message](https://pkg.go.dev/google.golang.org/protobuf/proto#Message)) [ValidatorOption](https://pkg.go.dev/buf.build/go/protovalidate#ValidatorOption)

WithMessages allows warming up the Validator with messages that are expected to be validated. Messages included transitively (i.e., fields with message values) are automatically handled.

Example [¶](https://pkg.go.dev/buf.build/go/protovalidate#example-WithMessages "Go to Example")

Output:

<nil>

#### type [Violation](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/violation.go#L27)[¶](https://pkg.go.dev/buf.build/go/protovalidate#Violation "Go to Violation")

type Violation struct {
// Proto contains the violation's proto.Message form.	Proto *[validate](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate).[Violation](https://pkg.go.dev/buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate#Violation)

// FieldValue contains the value of the specific field that failed	// validation. If there was no value, this will contain an invalid value.
	FieldValue [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Value](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Value)

// FieldDescriptor contains the field descriptor corresponding to the	// field that failed validation.
	FieldDescriptor [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[FieldDescriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#FieldDescriptor)

// RuleValue contains the value of the rule that specified the failed	// rule. Not all rules have a value; only standard and
	// predefined rules have rule values. In violations caused by other
	// kinds of rules, like custom contraints, this will contain an
	// invalid value.
	RuleValue [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[Value](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#Value)

// RuleDescriptor contains the field descriptor corresponding to the	// rule that failed validation.
	RuleDescriptor [protoreflect](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect).[FieldDescriptor](https://pkg.go.dev/google.golang.org/protobuf/reflect/protoreflect#FieldDescriptor)
}

Violation represents a single instance where a validation rule was not met. It provides information about the field that caused the violation, the specific unfulfilled rule, and a human-readable error message.

#### func (*Violation) [String](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/violation.go#L52)[¶](https://pkg.go.dev/buf.build/go/protovalidate#Violation.String "Go to Violation.String")added in v1.1.0

func (v *[Violation](https://pkg.go.dev/buf.build/go/protovalidate#Violation)) String() [string](https://pkg.go.dev/builtin#string)

String implements fmt.Stringer.

![Image 51](https://pkg.go.dev/static/shared/icon/insert_drive_file_gm_grey_24dp.svg) Source Files [¶](https://pkg.go.dev/buf.build/go/protovalidate#section-sourcefiles "Go to Source Files")
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

[View all Source files](https://github.com/bufbuild/protovalidate-go/tree/v1.1.3)

*   [any.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/any.go "any.go")
*   [ast.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/ast.go "ast.go")
*   [base.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/base.go "base.go")
*   [bindings.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/bindings.go "bindings.go")
*   [builder.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/builder.go "builder.go")
*   [cache.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/cache.go "cache.go")
*   [cel.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/cel.go "cel.go")
*   [compilation_error.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/compilation_error.go "compilation_error.go")
*   [compile.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/compile.go "compile.go")
*   [enum.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/enum.go "enum.go")
*   [error_utils.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/error_utils.go "error_utils.go")
*   [evaluator.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/evaluator.go "evaluator.go")
*   [field.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/field.go "field.go")
*   [filter.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/filter.go "filter.go")
*   [lookups.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/lookups.go "lookups.go")
*   [map.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/map.go "map.go")
*   [map_value.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/map_value.go "map_value.go")
*   [message.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/message.go "message.go")
*   [message_oneof.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/message_oneof.go "message_oneof.go")
*   [oneof.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/oneof.go "oneof.go")
*   [option.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/option.go "option.go")
*   [program.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/program.go "program.go")
*   [registry.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/registry.go "registry.go")
*   [repeated.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/repeated.go "repeated.go")
*   [resolve.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/resolve.go "resolve.go")
*   [runtime_error.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/runtime_error.go "runtime_error.go")
*   [validation_error.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validation_error.go "validation_error.go")
*   [validator.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/validator.go "validator.go")
*   [value.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/value.go "value.go")
*   [violation.go](https://github.com/bufbuild/protovalidate-go/blob/v1.1.3/violation.go "violation.go")

![Image 52](https://pkg.go.dev/static/shared/icon/folder_gm_grey_24dp.svg) Directories [¶](https://pkg.go.dev/buf.build/go/protovalidate#section-directories "Go to Directories")
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 Show internal Expand all

| Path | Synopsis |
| --- | --- |
| [cel](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/cel) |  |
| ![Image 53](https://pkg.go.dev/static/shared/icon/arrow_right_gm_grey_24dp.svg)internal |  |
| [cmd/protovalidate-conformance-go](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/cmd/protovalidate-conformance-go)command |  |
| [gen/buf/validate/conformance/cases](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/gen/buf/validate/conformance/cases) |  |
| [gen/buf/validate/conformance/cases/custom_rules](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/gen/buf/validate/conformance/cases/custom_rules) |  |
| [gen/buf/validate/conformance/cases/other_package](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/gen/buf/validate/conformance/cases/other_package) |  |
| [gen/buf/validate/conformance/cases/subdirectory](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/gen/buf/validate/conformance/cases/subdirectory) |  |
| [gen/buf/validate/conformance/cases/yet_another_package](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/gen/buf/validate/conformance/cases/yet_another_package) |  |
| [gen/buf/validate/conformance/harness](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/gen/buf/validate/conformance/harness) |  |
| [gen/tests/example/v1](https://pkg.go.dev/buf.build/go/protovalidate@v1.1.3/internal/gen/tests/example/v1) |  |

 Click to show internal directories. 

 Click to hide internal directories. 

[Why Go](https://go.dev/solutions)[Use Cases](https://go.dev/solutions#use-cases)[Case Studies](https://go.dev/solutions#case-studies)

[Get Started](https://learn.go.dev/)[Playground](https://play.golang.org/)[Tour](https://tour.golang.org/)[Stack Overflow](https://stackoverflow.com/questions/tagged/go?tab=Newest)[Help](https://go.dev/help)

[Packages](https://pkg.go.dev/)[Standard Library](https://pkg.go.dev/std)[Sub-repositories](https://pkg.go.dev/golang.org/x)[About Go Packages](https://pkg.go.dev/about)

[About](https://go.dev/project)[Download](https://go.dev/dl/)[Blog](https://go.dev/blog)[Issue Tracker](https://github.com/golang/go/issues)[Release Notes](https://go.dev/doc/devel/release.html)[Brand Guidelines](https://go.dev/brand)[Code of Conduct](https://go.dev/conduct)

[Connect](https://www.twitter.com/golang)[Twitter](https://www.twitter.com/golang)[GitHub](https://github.com/golang)[Slack](https://invite.slack.golangbridge.org/)[r/golang](https://reddit.com/r/golang)[Meetup](https://www.meetup.com/pro/go)[Golang Weekly](https://golangweekly.com/)

![Image 54: Gopher in flight goggles](https://pkg.go.dev/static/shared/gopher/pilot-bust-1431x901.svg)
*   [Copyright](https://go.dev/copyright)
*   [Terms of Service](https://go.dev/tos)
*   [Privacy Policy](http://www.google.com/intl/en/policies/privacy/)
*   [Report an Issue](https://go.dev/s/pkgsite-feedback)
*   ![Image 55: System theme](https://pkg.go.dev/static/shared/icon/brightness_6_gm_grey_24dp.svg)![Image 56: Dark theme](https://pkg.go.dev/static/shared/icon/brightness_2_gm_grey_24dp.svg)![Image 57: Light theme](https://pkg.go.dev/static/shared/icon/light_mode_gm_grey_24dp.svg)
Theme Toggle

*   ![Image 58](https://pkg.go.dev/static/shared/icon/keyboard_grey_24dp.svg)
Shortcuts Modal

[![Image 59: Google logo](https://pkg.go.dev/static/shared/logo/google-white.svg)](https://google.com/)

Jump to
-------

![Image 60](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

Close

Keyboard shortcuts
------------------

![Image 61](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)

**?**: This menu
**/**: Search site
**f** or **F**: Jump to
**y** or **Y**: Canonical URL

Close

go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)

Okay
