# Source: https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn.md.txt

# firebase_functions.db_fn module

Module for Cloud Functions that are triggered by the Firebase Realtime Database.

## Classes

|                                                                                                                                                                                               ### Event *class* firebase_functions.db_fn.Event(*specversion: str* , *id: str* , *source: str* , *type: str* , *time: datetime* , *data: T* , *subject: str \| None* , *firebase_database_host: str* , *instance: str* , *reference: str* , *location: str* , *params: dict\[str, str\]* )                                                                                                                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Bases: [CloudEvent](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.core#firebase_functions.core.CloudEvent "firebase_functions.core.CloudEvent")\[T\] A CloudEvent that contains a DataSnapshot or a Change\<DataSnapshot\>. firebase_database_host*: str* :   The domain of the database instance. instance*: str* :   The instance ID portion of the fully qualified resource name. location*: str* :   The location of the database params*: dict\[str, str\]* :   A dict containing the values of the path patterns. Only named capture groups are populated - {key}, {key=\*}, {key=\*\*} reference*: str* :   The database reference path. |

## Functions

|                                                                                                                                 ### on_value_created firebase_functions.db_fn.on_value_created(*\*\*kwargs* ) â Callable\[\[Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[Any \| None\]\], None\]\], Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[Any \| None\]\], None\]\]                                                                                                                                 |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Event handler that triggers when data is created in Realtime Database. Example: ``` @on_value_created(reference="*") def example(event: Event[object]): pass ``` Parameters: :   **\*\*kwargs** (as [firebase_functions.options.DatabaseOptions](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.options#firebase_functions.options.DatabaseOptions "firebase_functions.options.DatabaseOptions")) -- Database options. Return type: :   typing.Callable \[ \[ [firebase_functions.db_fn.Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event") \[ object \] \], None \] A function that takes a Database Event and returns None. |

|                                                                                                                                     ### on_value_deleted firebase_functions.db_fn.on_value_deleted(*\*\*kwargs* ) â Callable\[\[Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[Any \| None\]\], None\]\], Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[Any \| None\]\], None\]\]                                                                                                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Event handler that triggers when data is deleted in Realtime Database. Example: ``` @on_value_deleted(reference="*") def example(event: Event[object]) -> None: pass ``` Parameters: :   **\*\*kwargs** (as [firebase_functions.options.DatabaseOptions](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.options#firebase_functions.options.DatabaseOptions "firebase_functions.options.DatabaseOptions")) -- Database options. Return type: :   typing.Callable \[ \[ [firebase_functions.db_fn.Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event") \[ object \] \], None \] A function that takes a Database Event and returns None. |

|                                                           ### on_value_updated firebase_functions.db_fn.on_value_updated(*\*\*kwargs* ) â Callable\[\[Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[[Change](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.core#firebase_functions.core.Change "firebase_functions.core.Change")\[Any \| None\]\]\], None\]\], Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[[Change](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.core#firebase_functions.core.Change "firebase_functions.core.Change")\[Any \| None\]\]\], None\]\]                                                            |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Event handler that triggers when data is updated in Realtime Database. Example: ``` @on_value_updated(reference="*") def example(event: Event[Change[object]]) -> None: pass ``` Parameters: :   **\*\*kwargs** (as [firebase_functions.options.DatabaseOptions](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.options#firebase_functions.options.DatabaseOptions "firebase_functions.options.DatabaseOptions")) -- Database options. Return type: :   typing.Callable \[ \[ [firebase_functions.db_fn.Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event") \[ [firebase_functions.core.Change](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.core#firebase_functions.core.Change "firebase_functions.core.Change") \] \], None \] A function that takes a Database Event and returns None. |

|                                                                      ### on_value_written firebase_functions.db_fn.on_value_written(*\*\*kwargs* ) â Callable\[\[Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[[Change](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.core#firebase_functions.core.Change "firebase_functions.core.Change")\[Any \| None\]\]\], None\]\], Callable\[\[[Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event")\[[Change](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.core#firebase_functions.core.Change "firebase_functions.core.Change")\[Any \| None\]\]\], None\]\]                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Event handler that triggers when data is created, updated, or deleted in Realtime Database. Example: ``` @on_value_written(reference="*") def example(event: Event[Change[object]]) -> None: pass ``` Parameters: :   **\*\*kwargs** (as [firebase_functions.options.DatabaseOptions](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.options#firebase_functions.options.DatabaseOptions "firebase_functions.options.DatabaseOptions")) -- Database options. Return type: :   typing.Callable \[ \[ [firebase_functions.db_fn.Event](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.db_fn#firebase_functions.db_fn.Event "firebase_functions.db_fn.Event") \[ [firebase_functions.core.Change](https://firebase.google.com/docs/reference/functions/2nd-gen/python/firebase_functions.core#firebase_functions.core.Change "firebase_functions.core.Change") \] \], None \] A function that takes a Database Event and returns None. |