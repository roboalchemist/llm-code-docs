# Source: https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments.md.txt

# REST Resource: projects.histories.executions.environments

- [Resource: Environment](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#Environment)
  - [JSON representation](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#Environment.SCHEMA_REPRESENTATION)
- [ShardSummary](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ShardSummary)
  - [JSON representation](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ShardSummary.SCHEMA_REPRESENTATION)
- [StepSummary](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#StepSummary)
- [MergedResult](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#MergedResult)
  - [JSON representation](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#MergedResult.SCHEMA_REPRESENTATION)
- [ResultsStorage](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ResultsStorage)
  - [JSON representation](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ResultsStorage.SCHEMA_REPRESENTATION)
- [Methods](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#METHODS_SUMMARY)

## Resource: Environment

An Environment represents the set of test runs (Steps) from the parent Execution that are configured with the same set of dimensions (Model, Version, Locale, and Orientation). Multiple such runs occur particularly because of features like sharding (splitting up a test suite to run in parallel across devices) and reruns (running a test multiple times to check for different outcomes).

|                                                                                                                                                                                                                                                                                                                                                                                                                                                            JSON representation                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ``` { "projectId": string, "historyId": string, "executionId": string, "environmentId": string, "dimensionValue": { string: string, ... }, "displayName": string, "creationTime": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/Timestamp) }, "completionTime": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/Timestamp) }, "shardSummaries": [ { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ShardSummary) } ], "environmentResult": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#MergedResult) }, "resultsStorage": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ResultsStorage) } } ``` |

|                                                                                                                                                                                                 Fields                                                                                                                                                                                                 ||
|---------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `projectId`         | `string` Output only. A Project id.                                                                                                                                                                                                                                                                                                                                               |
| `historyId`         | `string` Output only. A History id.                                                                                                                                                                                                                                                                                                                                               |
| `executionId`       | `string` Output only. An Execution id.                                                                                                                                                                                                                                                                                                                                            |
| `environmentId`     | `string` Output only. An Environment id.                                                                                                                                                                                                                                                                                                                                          |
| `dimensionValue`    | `map (key: string, value: string)` Dimension values describing the environment. Dimension values always consist of "Model", "Version", "Locale", and "Orientation". - In response: always set - In create request: always set - In update request: never set An object containing a list of `"key": value` pairs. Example: `{ "name": "wrench", "mass": "1.3kg", "count": "3" }`. |
| `displayName`       | `string` A short human-readable name to display in the UI. Maximum of 100 characters. For example: Nexus 5, API 27.                                                                                                                                                                                                                                                               |
| `creationTime`      | `object (`[Timestamp](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/Timestamp)`)` Output only. The time when the Environment was created.                                                                                                                                                                                                          |
| `completionTime`    | `object (`[Timestamp](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/Timestamp)`)` Output only. The time when the Environment status was set to complete. This value will be set automatically when state transitions to COMPLETE.                                                                                                                  |
| `shardSummaries[]`  | `object (`[ShardSummary](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ShardSummary)`)` Output only. Summaries of shards. Only one shard will present unless sharding feature is enabled in TestExecutionService.                                                                                       |
| `environmentResult` | `object (`[MergedResult](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#MergedResult)`)` Merged result of the environment.                                                                                                                                                                               |
| `resultsStorage`    | `object (`[ResultsStorage](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#ResultsStorage)`)` The location where output files are stored in the user bucket.                                                                                                                                              |

## ShardSummary

Result summary for a shard in an environment.

|                                                                                                                                                            JSON representation                                                                                                                                                             |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ``` { "runs": [ { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#StepSummary) } ], "shardResult": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#MergedResult) } } ``` |

|                                                                                                                                                                                     Fields                                                                                                                                                                                      ||
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `runs[]`      | `object (`[StepSummary](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#StepSummary)`)` Summaries of the steps belonging to the shard. With flaky_test_attempts enabled from TestExecutionService, more than one run (Step) can present. And the runs will be sorted by multistepNumber. |
| `shardResult` | `object (`[MergedResult](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments#MergedResult)`)` Merged result of the shard.                                                                                                                                                                    |

## StepSummary

This type has no fields.
Lightweight summary of a step within this execution.

## MergedResult

Merged test result for environment.

If the environment has only one step (no reruns or shards), then the merged result is the same as the step result. If the environment has multiple shards and/or reruns, then the results of shards and reruns that belong to the same environment are merged into one environment result.

|                                                                                                                                                                         JSON representation                                                                                                                                                                         |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ``` { "state": enum (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/State), "outcome": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/Outcome) }, "testSuiteOverviews": [ { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/TestSuiteOverview) } ] } ``` |

|                                                                                                                                                                                                                                                                                                                                                                              Fields                                                                                                                                                                                                                                                                                                                                                                               ||
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `state`                | `enum (`[State](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/State)`)` State of the resource                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `outcome`              | `object (`[Outcome](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/Outcome)`)` Outcome of the resource                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `testSuiteOverviews[]` | `object (`[TestSuiteOverview](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/TestSuiteOverview)`)` The combined and rolled-up result of each test suite that was run as part of this environment. Combining: When the test cases from a suite are run in different steps (sharding), the results are added back together in one overview. (e.g., if shard1 has 2 failures and shard2 has 1 failure than the overview failureCount = 3). Rollup: When test cases from the same suite are run multiple times (flaky), the results are combined (e.g., if testcase1.run1 fails, testcase1.run2 passes, and both testcase2.run1 and testcase2.run2 fail then the overview flakyCount = 1 and failureCount = 1). |

## ResultsStorage

The storage for test results.

|                                                                                                                        JSON representation                                                                                                                         |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ``` { "resultsStoragePath": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/FileReference) }, "xunitXmlFile": { object (https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/FileReference) } } ``` |

|                                                                                       Fields                                                                                        ||
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `resultsStoragePath` | `object (`[FileReference](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/FileReference)`)` The root directory for test results. |
| `xunitXmlFile`       | `object (`[FileReference](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/FileReference)`)` The path to the Xunit XML file.      |

|                                                                                     ## Methods                                                                                      ||
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
| ### [get](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments/get)   | Gets an Environment.                      |
| ### [list](https://firebase.google.com/docs/test-lab/reference/toolresults/rest/v1beta3/projects.histories.executions.environments/list) | Lists Environments for a given Execution. |