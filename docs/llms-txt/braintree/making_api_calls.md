# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#using-graphiql

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#timeouts

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#understanding-responses

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#a-more-interesting-request

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#your-first-request

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#request-requirements

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#endpoints

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#using-graphiql

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#timeouts

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#understanding-responses

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#a-more-interesting-request

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#your-first-request

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#request-requirements

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/#endpoints

# Source: https://developer.paypal.com/braintree/graphql/guides/making_api_calls/

<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Braintree Graphql Docs</title><meta name="description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="keywords" content=""/><link rel="canonical" href="https://developer.paypal.com/braintree/graphql/guides/making_api_calls/"/><meta property="og:type" content="website"/><meta property="og:url" content="https://developer.paypal.com/braintree/graphql/guides/making_api_calls/"/><meta property="og:title" content="Braintree Graphql Docs"/><meta property="og:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta property="og:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_ogfallback.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:url" content="https://developer.paypal.com/braintree/graphql/guides/making_api_calls/"/><meta name="twitter:title" content="Braintree Graphql Docs"/><meta name="twitter:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="twitter:site" content="@paypaldev"/><meta name="twitter:creator" content="@paypaldev"/><meta name="twitter:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_twitterfallback.png"/><meta name="twitter:image:alt" content="Black and White PayPal Logo"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/variables-VGGZY4JK.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/footer-NG55V3IZ.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/header-RODVFCUO.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/sideBar-P2XH7TE5.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/app-AVOPA6BH.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/codeblock-DADUWXNB.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/prism-NEYM7EL4.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/components-D2NYPEGL.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/index-2Z52PXGI.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/fonts-and-normalize/1-1-0/fonts-and-normalize.min.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/icon-font/0-0-1/icon-font.min.css"/><link rel="icon" href="https://www.paypalobjects.com/btdevdoc/braintree/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/articlesAndDocs-R4V4BBLG.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/markdown-content-4BSNPPUP.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/graphqlFooter-VDPFDO2M.css"/></head><body><header class="header"><div class="nav--global__wrapper" id="nav-global-wrapper"><a class="logo logo--articles" aria-label="Braintree a PayPal Service" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,descriptor=braintree logo,container=header,origin=support articles,intent=view support articles landing page,href=https://articles.braintreepayments.com" pa-marked="1" href="/braintree/graphql/"><span class="logo--fallback">Braintree a PayPal Service</span><span class="nav-logo"><img src="https://www.paypalobjects.com/paypal-ui/logos/svg/braintree-pp-color.svg" alt="PayPal Braintree logo" style="width:200px;height:40px"/></span></a><nav class="nav--global"><span class="mobile__nav-logo mobile__nav-item mobile__nav-left"><img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="PayPal Braintree Mobile logo" style="width:40px;height:40px;fill:#fff"/></span><span class="mobile__nav--global-active-category mobile__nav-item mobile__nav-center"><a class="mobile__nav-active-section-container"><span class="mobile__nav-active-section">API &amp; In-Person</span><span class="mobile__nav-dropdown-chevron"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" width="40px" height="40px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 18" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.291 6.293a1 1 0 0 1 1.415 0l3.293 3.293 3.293-3.293a1 1 0 1 1 1.414 1.414L9.713 11.7a1.01 1.01 0 0 1-1.428 0L4.29 7.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></span></a><div class="mobile__nav-active-tier">Making API Calls</div></span><ul class="nav--global-sites mobile__nav-item mobile__nav-right"><span class="nav--global-sites__items nav--global-sites__items-hidden"><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_0" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=SDK Docs,intent=view SDK Docs landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/docs/">SDK Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_1 nav--global-sites__link--active" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=API &amp; In-Person Docs,intent=view API &amp; In-Person Docs landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/graphql/">API &amp; In-Person Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_2" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=Support Articles,intent=view Support Articles landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/articles/">Support Articles</a></li></span><li class="nav--global-sites__item"><button id="searchOpenTrigger" class="search__trigger nav--link" aria-label="Hit enter to search" data-track-event-properties="project=docs&amp;journey,context=search,component=button,action=click,intent=open search,descriptor=Start typing to search,origin=sites search&amp;" pa-marked="1"><svg class="search__trigger-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Open search icon</title><path d="M6.99994 13.988C8.33314 13.9878 9.63816 13.6042 10.7595 12.883L17.2456 19.3688L19.368 17.2466L12.885 10.7639C13.7224 9.45534 14.1003 7.90523 13.959 6.35811C13.8178 4.811 13.1654 3.35494 12.1049 2.21967C11.0444 1.08439 9.63613 0.334526 8.1022 0.0883654C6.56828 -0.157795 4.99605 0.113766 3.63358 0.860206C2.2711 1.60665 1.19592 2.78547 0.577676 4.21071C-0.0405686 5.63594 -0.16669 7.22645 0.219211 8.73131C0.605111 10.2362 1.48107 11.5697 2.70888 12.5216C3.93669 13.4734 5.44647 13.9893 7.00002 13.988H6.99994ZM6.99994 1.98801C7.98884 1.98801 8.95554 2.28125 9.77779 2.83066C10.6 3.38007 11.2409 4.16096 11.6193 5.07459C11.9978 5.98822 12.0968 6.99355 11.9039 7.96346C11.7109 8.93336 11.2347 9.82428 10.5355 10.5235C9.83621 11.2228 8.9453 11.699 7.97539 11.8919C7.00549 12.0849 6.00015 11.9858 5.08652 11.6074C4.17289 11.229 3.392 10.5881 2.84259 9.76586C2.29318 8.94361 1.99994 7.97691 1.99994 6.98801C2.0015 5.6624 2.52878 4.39154 3.46613 3.4542C4.40347 2.51685 5.67433 1.98957 6.99994 1.98801Z" fill="#dedede"></path></svg><span class="search__trigger-text">Search</span></button></li><button data-testid="sidebar-button" class="sidebar-menu-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path d="M5 5a1 1 0 0 0 0 2h14a1 1 0 1 0 0-2H5zm-1 7a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1z" data-ppui="true"></path></svg></span></button></ul><div class="header--aside"><span class="nav--global-sites__item"><a class="nav--global-sites__link" pa-marked="1" href="/braintree/help">Get Help</a></span><span class="nav--global-sites__item" id="contact-sales-nav"><a href="https://www.braintreepayments.com/contact/sales" class="nav--global-sites__link" pa-marked="1">Contact Sales</a></span><div class="login-buttons"><span class="nav--global-sites__item" id="create-account_button"><a class="nav--global-sites__link" pa-marked="1" target="_blank" rel="noreferrer" href="https://www.braintreepayments.com/sandbox" aria-label="Sign up for a sandbox account">Create Account</a></span><span class="nav--global-sites__item"><a class="nav--global-sites__link" href="/braintree/api/auth/connect" aria-label="Log into sandbox" rel="noreferrer" pa-marked="1">Login</a></span></div><div class="header__dropdown ab-control-panel-dropdown-a"><button class="dropdown__title button button--small hamburger-small" style="margin-bottom:0" aria-label="Access production control panel" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown,action=click,container=header,descriptor=more icon,intent=choose a control panel link" pa-marked="1"><svg class="dropdown__icon--closed" width="4" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" fill="#fff"></path></svg></button><div class="dropdown__content"><div class="dropdown__section"><h3 class="dropdown__section-title">Production Control Panel</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreegateway.com/login" target="_blank" aria-label="Log into your production account" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=log in,intent=view production login,href=https://www.braintreegateway.com/login" pa-marked="1" rel="noreferrer">Login</a></li></ul><h3 class="dropdown__section-title">Become a Merchant</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreepayments.com/contact/sales" aria-label="Contact sales on the website" target="_blank" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=contact sales,intent=view the sales contact page,href=https://www.braintreepayments.com/contact/sales" pa-marked="1" rel="noreferrer">Contact Sales</a></li></ul></div></div></div></div></nav></div><nav class="nav--local"><ul class="nav__list" id="main-nav-links"><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_0 is-active" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/graphql/">Online</a></li></div></div><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_1" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/in-person/">In-Person</a></li></div></div></ul></nav></header><div class="flex-body"><div class="flex-sidebar"><div><aside class="sidebar" data-track-event-context="left-hand nav"><div class="sidebar__inner"><div class="menu-group"><ul class="menu"><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/#about-graphql"><button class="menu__link is-active" pa-marked="1">Get Started</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#about-graphql"><button class="menu__link" pa-marked="1">About GraphQL</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#basic-concepts"><button class="menu__link" pa-marked="1">Basic Concepts</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#relay"><button class="menu__link" pa-marked="1">Relay</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/concepts/#the-lifecycle-of-a-payment"><button class="menu__link" pa-marked="1">Payment API Concepts</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#the-lifecycle-of-a-payment"><button class="menu__link" pa-marked="1">The Lifecycle of a Payment</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#payment-methods"><button class="menu__link" pa-marked="1">Payment Methods</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#transactions"><button class="menu__link" pa-marked="1">Transactions</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#customers"><button class="menu__link" pa-marked="1">Customers</button></a></div></li></ul></li><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/making_api_calls/#endpoints"><button class="menu__link is-active" pa-marked="1">Making API Calls</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#endpoints"><button class="menu__link" pa-marked="1">Endpoints</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#request-requirements"><button class="menu__link" pa-marked="1">Request Requirements</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#your-first-request"><button class="menu__link" pa-marked="1">Your First Request</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#a-more-interesting-request"><button class="menu__link" pa-marked="1">A More Interesting Request</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#understanding-responses"><button class="menu__link" pa-marked="1">Understanding Responses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#timeouts"><button class="menu__link" pa-marked="1">Timeouts</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#using-graphiql"><button class="menu__link" pa-marked="1">Using GraphiQL</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/collecting_payment_information/#the-client-side-integration"><button class="menu__link" pa-marked="1">Collecting Payment Information</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#the-client-side-integration"><button class="menu__link" pa-marked="1">The Client-Side Integration</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#requesting-a-client-token"><button class="menu__link" pa-marked="1">Requesting a Client Token</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#use-the-client-token-to-get-a-payment-method"><button class="menu__link" pa-marked="1">Use the Client Token to Get a Payment Method</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#use-the-payment-method"><button class="menu__link" pa-marked="1">Use the Payment Method</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/customers/#create"><button class="menu__link" pa-marked="1">Customers</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#create"><button class="menu__link" pa-marked="1">Create</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#update"><button class="menu__link" pa-marked="1">Update</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#delete"><button class="menu__link" pa-marked="1">Delete</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#search"><button class="menu__link" pa-marked="1">Search</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#errors"><button class="menu__link" pa-marked="1">Errors</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/transactions/#creating-transactions"><button class="menu__link" pa-marked="1">Transactions</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#creating-transactions"><button class="menu__link" pa-marked="1">Creating Transactions</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#reversing-or-refunding-a-transaction"><button class="menu__link" pa-marked="1">Reversing or Refunding a Transaction</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#searching-for-transactions"><button class="menu__link" pa-marked="1">Searching For Transactions</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/payment_methods/#obtain-a-single-use-payment-method--nonce"><button class="menu__link" pa-marked="1">Payment Methods</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#obtain-a-single-use-payment-method--nonce"><button class="menu__link" pa-marked="1">Obtain A Single-Use Payment Method (Nonce)</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#vaulting-the-payment-method"><button class="menu__link" pa-marked="1">Vaulting The Payment Method</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#verify"><button class="menu__link" pa-marked="1">Verify</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#update"><button class="menu__link" pa-marked="1">Update</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#find"><button class="menu__link" pa-marked="1">Find</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#search"><button class="menu__link" pa-marked="1">Search</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#delete"><button class="menu__link" pa-marked="1">Delete</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/node_query/#fetching-transactions"><button class="menu__link" pa-marked="1">Fetching Objects via the Node Query</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/node_query/#fetching-transactions"><button class="menu__link" pa-marked="1">Fetching Transactions</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/search/#constructing-searches"><button class="menu__link" pa-marked="1">Searching for Objects</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/search/#constructing-searches"><button class="menu__link" pa-marked="1">Constructing Searches</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/search/#understanding-your-results"><button class="menu__link" pa-marked="1">Understanding Your Results</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/connections/#the-contents-of-a-connection"><button class="menu__link" pa-marked="1">Pagination and Relay Connections</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#the-contents-of-a-connection"><button class="menu__link" pa-marked="1">The Contents of a Connection</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#simple-use"><button class="menu__link" pa-marked="1">Simple Use</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#complex-connections"><button class="menu__link" pa-marked="1">Complex Connections</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/request_batching/#responses"><button class="menu__link" pa-marked="1">Request Batching</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#responses"><button class="menu__link" pa-marked="1">Responses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#when-to-use-request-batching"><button class="menu__link" pa-marked="1">When to use Request Batching</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#prior-art"><button class="menu__link" pa-marked="1">Prior Art</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#more-considerations-and-limitations"><button class="menu__link" pa-marked="1">More Considerations and Limitations</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#motivation"><button class="menu__link" pa-marked="1">Motivation</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/migrating/#legacy-vs--graphql-ids"><button class="menu__link" pa-marked="1">Migrating from a Server SDK Integration</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#legacy-vs--graphql-ids"><button class="menu__link" pa-marked="1">Legacy vs GraphQL IDs</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#migrating-an-integration-to-use-the-braintree-graphql-api"><button class="menu__link" pa-marked="1">Migrating an Integration to Use the Braintree GrapqhQL API</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#api-concepts-vs--sdk-concepts"><button class="menu__link" pa-marked="1">API concepts vs SDK Concepts</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/testing/#test-payment-methods"><button class="menu__link" pa-marked="1">Testing in Sandbox</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#test-payment-methods"><button class="menu__link" pa-marked="1">Test Payment Methods</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#testing-different-transaction-statuses"><button class="menu__link" pa-marked="1">Testing Different Transaction Statuses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#forcing-settlement-of-transactions"><button class="menu__link" pa-marked="1">Forcing Settlement of Transaction</button></a></div></li></ul></li></ul></div></div></aside></div></div><div id="contentContainer" class="flex-content"><main id="main-section" class="documentation-content__wrapper"><article class="main-content js-outlet docs--constrained"><div class="subtitle-container"><div class="breadcrumb breadcrumbInner"><div class="breadcrumbItem"><a class="breadcrumbLink"></a><span style="padding:0 4px">/</span></div><div class="breadcrumbItem"><a href="/braintree/graphql/guides/making_api_calls/" class="activeBreadcrumbLink">Making API Calls</a></div></div><div class="markdownopts-container"><div class="markdownopts-face-container"><button class="markdownopts-face-button"><svg fill="#000000" width="16" height="16" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg" style="width:16px;height:16px;margin-right:8px"><title>OpenAI icon</title><path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"></path></svg>Ask ChatGPT</button><button class="markdownopts-chevron-button" data-testid="chevron-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" style="width:16px;height:16px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.292 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 0 1 1.414 1.414L12.713 16.7a1.01 1.01 0 0 1-1.428 0L4.292 9.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></button></div></div></div><div class="main-article-content"><div class="ecmRichText" style="margin-bottom:0px"><h1><span>Making API Calls</span></h1><p class="markdown-p"><span>
    This guide covers how to make API calls by combining
    </span><a href="/braintree/graphql/guides/#basic-concepts"><span>basic GraphQL ideas</span></a><span> with
    </span><a href="/braintree/graphql/guides/concepts/"><span>Braintree-specific API details</span></a><span>.
</span></p><p class="markdown-p"><span>
    Because Braintree GraphQL requests are over HTTP, many examples in our guides use
    </span><code><span>curl</span></code><span> so you can start testing the API from the command line. We expect you will
    then pick the HTTP library of your choice for application development.
</span></p><p class="markdown-p"><span>
    In the rest of the document, we use MUST, SHOULD, and MAY according to
    </span><a href="https://www.ietf.org/rfc/rfc2119.txt"><span>RFC 2119</span></a><span>.
</span></p><h2 id="endpoints" class="test_h2 markdown-h2"><span>Endpoints</span><a class="icon icon--link hash-link" href="#endpoints" aria-label="Endpoints"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>All requests (queries and mutations) go to a single HTTP endpoint.</span></p><p class="markdown-p"><span>For the sandbox test environment:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">https://payments.sandbox.braintree-api.com/graphql</code></pre></div></div></div><p class="markdown-p"><span>and the live production account:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">https://payments.braintree-api.com/graphql</code></pre></div></div></div><p class="markdown-p"><span>
    You SHOULD use the </span><a href="https://tools.ietf.org/html/rfc7231#section-4.3.3"><span>POST</span></a><span> method
    for all requests.
</span></p><h2 id="request-requirements" class="test_h2 markdown-h2"><span>Request Requirements</span><a class="icon icon--link hash-link" href="#request-requirements" aria-label="Request Requirements"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><h3 id="the-authorization-header" class="test_h3 markdown-h3"><span>The Authorization Header</span><a class="icon icon--link hash-link" href="#the-authorization-header" aria-label="The Authorization Header"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    To use the API, you MUST have a
    </span><a href="https://www.braintreepayments.com/sandbox"><span>registered Braintree account</span></a><span> and include
    your credentials in the </span><code><span>Authorization</span></code><span> header. There are different types of
    credentials you can use to authorize depending on what you'd like to do. For instance,
    </span><a href="/braintree/graphql/guides/making_api_calls/#client-tokens"><span>client tokens</span></a><span> and
    </span><a href="/braintree/graphql/guides/making_api_calls/#tokenization-keys"><span>tokenization keys</span></a><span> are restricted to certain mutations and
    queries that generally don't involve money movement, such as tokenizing payment details. Other
    operations, such as vaulting and charging payment methods, require
    </span><a href="/braintree/graphql/guides/making_api_calls/#api-keys"><span>API Key</span></a><span> authentication.
</span></p><h4 id="api-keys" class="test_h4 markdown-h4"><span>API Keys</span><a class="icon icon--link hash-link" href="#api-keys" aria-label="API Keys"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h4><p class="markdown-p"><span>
    This is the option many integrations use. After you
    </span><a href="https://articles.braintreepayments.com/control-panel/important-gateway-credentials#api-keys"><span>generate an API Key</span></a><span>, you MUST Base64-encode it for GraphQL requests.
</span></p><p class="markdown-p"><span>
    If your public key is </span><code><span>v4ndq314c2s5c28r</span></code><span> and your private key is
    </span><code><span>93b78bc88be90d93ac282e50ae569fdd</span></code><span>, you can generate your Base64-encoded token like
    this:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">echo -n &quot;v4ndq314c2s5c28r:93b78bc88be90d93ac282e50ae569fdd&quot; | base64</code></pre></div></div></div><p class="markdown-p"><span>
    which produces
    </span><code><span>djRuZHEzMTRjMnM1YzI4cjo5M2I3OGJjODhiZTkwZDkzYWMyODJlNTBhZTU2OWZkZA==</span></code><span>. The full
    header you present for authentication and authorization is:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">Authorization: Basic djRuZHEzMTRjMnM1YzI4cjo5M2I3OGJjODhiZTkwZDkzYWMyODJlNTBhZTU2OWZkZA==</code></pre></div></div></div><h4 id="tokenization-keys" class="test_h4 markdown-h4"><span>Tokenization Keys</span><a class="icon icon--link hash-link" href="#tokenization-keys" aria-label="Tokenization Keys"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h4><p class="markdown-p"><span>
    A </span><a href="/braintree/docs/guides/authorization/tokenization-key/"><span>tokenization key</span></a><span> is a
    lightweight, reusable value that can authorize your client to tokenize payment methods. You can
    </span><a href="/braintree/articles/control-panel/important-gateway-credentials#tokenization-keys"><span>view your tokenization keys in the Control Panel</span></a><span>. To authorize using a tokenization key, pass it in the </span><code><span>Authorization</span></code><span> header:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">Authorization: Bearer YOUR_TOKENIZATION_KEY</code></pre></div></div></div><h4 id="authorization-fingerprints" class="test_h4 markdown-h4"><span>Authorization Fingerprints</span><a class="icon icon--link hash-link" href="#authorization-fingerprints" aria-label="Authorization Fingerprints"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h4><p class="markdown-p"><span>
    Another way to authenticate from your client is via an authorization fingerprint from a
    </span><a href="/braintree/docs/guides/authorization/client-token"><span>client token</span></a><span>. A client token
    contains an authorization fingerprint, which is a signed
    </span><a href="https://en.wikipedia.org/wiki/JSON_Web_Token"><span>JWT</span></a><span>, and is generated on your server
    with a lifetime of 24 hours. To obtain an authorization fingerprint you must Base64 decode a
    client token, the decoded client token will contain an
    </span><code><span>authorizationFingerprint</span></code><span> value, which can then be passed in the
    </span><code><span>Authorization</span></code><span> header.
</span></p><p class="markdown-p"><span>For instance, once you obtain a client token, it can be decoded:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">echo -n YOUR_CLIENT_TOKEN | base64 -D</code></pre></div></div></div><p class="markdown-p"><span>This will produce a JSON value, similar to this:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;version&quot;: &quot;2&quot;,
  &quot;environment&quot;: &quot;sandbox&quot;,
  &quot;authorizationFingerprint&quot;: &quot;YOUR_AUTHORIZATION_FINGERPRINT&quot;
}</code></pre></div></div></div><p class="markdown-p"><span>
    Your client is responsible for obtaining an authorization fingerprint from your server and can
    pass it in the </span><code><span>Authorization</span></code><span> header:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">Authorization: Bearer YOUR_AUTHORIZATION_FINGERPRINT</code></pre></div></div></div><h4 id="braintree-auth" class="test_h4 markdown-h4"><span>Braintree Auth</span><a class="icon icon--link hash-link" href="#braintree-auth" aria-label="Braintree Auth"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h4><p class="markdown-p"><span>
    (This is currently in closed beta). To use
    </span><a href="https://developers.braintreepayments.com/guides/braintree-auth/overview"><span>Braintree Auth</span></a><span>
    credentials, you must obtain an access token via the
    </span><a href="https://developers.braintreepayments.com/guides/braintree-auth/oauth-flow/node#getting-an-access-token"><span>OAuth flow</span></a><span>. When you have an access token, use it via the </span><code><span>Authorization</span></code><span> header:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">Authorization: Bearer YOUR_ACCESS_TOKEN</code></pre></div></div></div><h3 id="the-braintree-version-header" class="test_h3 markdown-h3"><span>The Braintree-Version Header</span><a class="icon icon--link hash-link" href="#the-braintree-version-header" aria-label="The Braintree-Version Header"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    You MUST provide a </span><code><span>Braintree-Version</span></code><span> header with a date in the format
    </span><code><span>YYYY-MM-DD</span></code><span>. We recommend using the date on which you begin integrating with the
    GraphQL API.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">Braintree-Version: 2019-01-01</code></pre></div></div></div><h3 id="the-content-type-header" class="test_h3 markdown-h3"><span>The Content-Type Header</span><a class="icon icon--link hash-link" href="#the-content-type-header" aria-label="The Content-Type Header"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>The content type of a query MUST be </span><code><span>application/json</span></code><span>.</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">Content-Type: application/json</code></pre></div></div></div><h3 id="the-message-body" class="test_h3 markdown-h3"><span>The Message Body</span><a class="icon icon--link hash-link" href="#the-message-body" aria-label="The Message Body"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    The message body MUST be a JSON object. It MUST contain a </span><code><span>query</span></code><span> key and MAY contain
    a </span><code><span>variables</span></code><span> key.
</span></p><p class="markdown-p"><span>
    The value for </span><code><span>query</span></code><span> MUST be a single
    </span><a href="https://tools.ietf.org/html/rfc7159#section-7"><span>JSON string</span></a><span> containing a well-formed
    GraphQL document (query or mutation).
</span></p><p class="markdown-p"><span>
    If you reference variables in your GraphQL document, the value for </span><code><span>variables</span></code><span> MUST
    be a JSON object containing the key/value pairs for each variable.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;query&quot;: &quot;a GraphQL document goes here that references $var1, $var2, and $var3&quot;,
  &quot;variables&quot;: {
    &quot;var1&quot;: 10,
    &quot;var2&quot;: {
      &quot;some&quot;: &quot;data&quot;,
      &quot;for&quot;: &quot;var2&quot;
    },
    &quot;var3&quot;: [
      &quot;a&quot;,
      &quot;list&quot;,
      &quot;of&quot;,
      &quot;values&quot;
    ]
  }
}</code></pre></div></div></div><h2 id="your-first-request" class="test_h2 markdown-h2"><span>Your First Request</span><a class="icon icon--link hash-link" href="#your-first-request" aria-label="Your First Request"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
    The simplest request is </span><code><span>ping</span></code><span>. It is mainly useful to ensure you understand how to
    generate well-formed requests.
</span></p><p class="markdown-p"><span>Here's the GraphQL query:</span></p><p class="markdown-p"></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">query {
  ping
}</code></pre></div></div></div><p class="markdown-p"><span>
    To send that to our API, it has to be wrapped in a JSON object with a </span><code><span>query</span></code><span> key:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">JSON</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;query&quot;: &quot;query { ping }&quot;
}</code></pre></div></div></div><p class="markdown-p"><span>And here's how it all fits together, using </span><code><span>curl</span></code><span>:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">curl  -H &#x27;Authorization: Basic BASE64_ENCODED(PUBLIC_KEY:PRIVATE_KEY)&#x27;  -H &#x27;Braintree-Version: 2019-01-01&#x27;  -H &#x27;Content-Type: application/json&#x27;  -X POST https://payments.sandbox.braintree-api.com/graphql  -d &#x27;{&quot;query&quot;: &quot;query { ping }&quot;}&#x27;</code></pre></div></div></div><p class="markdown-p"><span>You should receive this response:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;ping&quot;: &quot;pong&quot;
  },
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;a-uuid-for-the-request&quot;
  }
}</code></pre></div></div></div><h2 id="a-more-interesting-request" class="test_h2 markdown-h2"><span>A More Interesting Request</span><a class="icon icon--link hash-link" href="#a-more-interesting-request" aria-label="A More Interesting Request"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
    Here is a typical request body for the </span><code><span>chargePaymentMethod</span></code><span> mutation (Note: we have
    added newlines for readability but normally,
    </span><a href="https://tools.ietf.org/html/rfc7159#section-7"><span>JSON strings</span></a><span> MUST escape newlines):
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Request<!-- -->Body</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;query&quot;: &quot;mutation chargePaymentMethod($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }&quot;,
  &quot;variables&quot;: {
    &quot;input&quot;: {
      &quot;paymentMethodId&quot;: &quot;PAYMENT_METHOD_ID&quot;,
      &quot;transaction&quot;: {
        &quot;amount&quot;: &quot;11.23&quot;
      }
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    Per standard GraphQL, the </span><code><span>input</span></code><span> key in the </span><code><span>variables</span></code><span> section binds to
    the </span><code><span>$input</span></code><span> variable defined by the mutation in the </span><code><span>query</span></code><span> section and
    should represent the </span><code><span>ChargePaymentMethodInput</span></code><span> type.
</span></p><h3 id="two-mutations-in-one-call" class="test_h3 markdown-h3"><span>Two Mutations In One Call</span><a class="icon icon--link hash-link" href="#two-mutations-in-one-call" aria-label="Two Mutations In One Call"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    By using </span><a href="https://graphql.org/learn/queries/#aliases"><span>GraphQL aliases</span></a><span>, we can make
    multiple charges in a single call to the API:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Request<!-- -->Body</li><li class="styles_tab_list_item">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;query&quot;: &quot;mutation twoChargesAtOnce($tx1: ChargePaymentMethodInput!, $tx2: ChargePaymentMethodInput!) { firstTransaction: chargePaymentMethod(input: $tx1) { transaction { amount { value currencyIsoCode } } } secondTransaction: chargePaymentMethod(input: $tx2) { transaction { amount { value currencyIsoCode } } } }&quot;,
  &quot;variables&quot;: {
    &quot;tx1&quot;: {
      &quot;paymentMethodId&quot;: &quot;fake-valid-visa-nonce&quot;,
      &quot;transaction&quot;: {
        &quot;amount&quot;: &quot;11.25&quot;
      }
    },
    &quot;tx2&quot;: {
      &quot;paymentMethodId&quot;: &quot;fake-valid-amex-nonce&quot;,
      &quot;transaction&quot;: {
        &quot;amount&quot;: &quot;11.23&quot;
      }
    }
  }
}</code></pre></div></div></div><h2 id="understanding-responses" class="test_h2 markdown-h2"><span>Understanding Responses</span><a class="icon icon--link hash-link" href="#understanding-responses" aria-label="Understanding Responses"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
    A response from the GraphQL API will always return with HTTP status 200. The JSON body of the
    response explains whether an error occurred. Because you can send multiple queries and mutations
    in a single request, and because GraphQL includes the concept of a "partial success", the
    request may contain a mix of data and error messages. The body is always a JSON object and MAY
    include any of the three top-level keys: </span><code><span>data</span></code><span>, </span><code><span>errors</span></code><span>, and
    </span><code><span>extensions</span></code><span>.
</span></p><h3 id="data" class="test_h3 markdown-h3"><span>Data</span><a class="icon icon--link hash-link" href="#data" aria-label="Data"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    A successful query MUST return a JSON object with a </span><code><span>data</span></code><span> key whose value is a JSON
    object with the data you requested. Each key in the data object will exactly match those
    specified in the query.
</span></p><h3 id="errors" class="test_h3 markdown-h3"><span>Errors</span><a class="icon icon--link hash-link" href="#errors" aria-label="Errors"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    Unlike a conventional REST API, GraphQL APIs do not rely on HTTP status codes to signal request
    outcomes. Our GraphQL API always return a JSON body with the </span><code><span>200</span></code><span> status code, even
    when there are errors.
</span></p><p class="markdown-p"><span>
    If an error occurred, the response body MUST include a top-level </span><code><span>errors</span></code><span> array that
    describes the error or errors. For example, the response for charging a payment method with an
    invalid credit card number would be:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;chargePaymentMethod&quot;: null
  },
  &quot;errors&quot;: [
    {
      &quot;message&quot;: &quot;Unknown or expired single-use payment method.&quot;,
      &quot;locations&quot;: [
        {
          &quot;line&quot;: 2,
          &quot;column&quot;: 7
        }
      ],
      &quot;path&quot;: [
        &quot;chargePaymentMethod&quot;
      ],
      &quot;extensions&quot;: {
        &quot;errorType&quot;: &quot;user_error&quot;,
        &quot;errorClass&quot;: &quot;VALIDATION&quot;,
        &quot;legacyCode&quot;: &quot;91565&quot;,
        &quot;inputPath&quot;: [
          &quot;input&quot;,
          &quot;paymentMethodId&quot;
        ]
      }
    }
  ],
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;a-uuid-for-the-request&quot;
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    An element of the </span><code><span>errors</span></code><span> array
    </span><a href="https://graphql.github.io/graphql-spec/June2018/#sec-Errors"><span>follows the GraphQL spec</span></a><span>
    and will have the following values:
</span></p><ul class="list list--disc"><li><code><span>message</span></code><span>: The human-readable error message. This value is not intended to be
        parsed and may change at any time.
    </span></li><li><code><span>locations</span></code><span>: An array of </span><code><span>{ "line": x, "column": y }</span></code><span> objects that
        describe where the error was detected during parsing of the GraphQL query. This is typically
        only used by interactive viewers such as
        </span><a href="https://github.com/graphql/graphiql"><span>GraphiQL</span></a><span>, including our
        </span><a href="/braintree/graphql/explorer/"><span>API Explorer</span></a><span>.
    </span></li><li><code><span>path</span></code><span>: The GraphQL query or mutation causing the error.</span></li><li><code><span>extensions</span></code><span>: Additional information about the error including...
        </span><ul class="list list--disc"><li><code><span>errorType</span></code><span>: A deprecated field, please refer to errorClass instead.</span></li><li><code><span>errorClass</span></code><span>: The classification of the error. Can be one of...
                </span><ul class="list list--disc"><li><code><span>AUTHENTICATION</span></code></li><li><code><span>AUTHORIZATION</span></code></li><li><code><span>INTERNAL</span></code></li><li><code><span>UNSUPPORTED_CLIENT</span></code></li><li><code><span>NOT_FOUND</span></code></li><li><code><span>NOT_IMPLEMENTED</span></code></li><li><code><span>RESOURCE_LIMIT</span></code></li><li><code><span>SERVICE_AVAILABILITY</span></code></li><li><code><span>VALIDATION</span></code></li></ul></li><li><code><span>legacyCode</span></code><span>: A unique code identifying the error, which can be used to look it
                up
                </span><a href="/braintree/docs/reference/general/validation-errors/all"><span>in our documentation</span></a></li><li><code><span>inputPath</span></code><span>: The input field responsible for the error.</span></li></ul></li></ul><p class="markdown-p"><span>
    Errors can manifest as GraphQL validation errors (e.g. provided a string for an integer field),
    Braintree validation errors (e.g. invalid credit card number), or errors reflecting upstream
    issues.
</span></p><p class="markdown-p"><span>
    It is possible to have partially successful responses, where both a partially populated
    </span><code><span>data</span></code><span> object and </span><code><span>errors</span></code><span> are returned. If errors prevent a field in your
    query from resolving, the field in the </span><code><span>data</span></code><span> object will be returned with the value
    </span><code><span>null</span></code><span> and relevant errors will be in the </span><code><span>error</span></code><span> object.
</span></p><h3 id="extensions" class="test_h3 markdown-h3"><span>Extensions</span><a class="icon icon--link hash-link" href="#extensions" aria-label="Extensions"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    The API response MUST contain an </span><code><span>extensions</span></code><span> object. This object contains at least a
    </span><code><span>requestId</span></code><span> entry that is unique to the request and useful to Braintree Support
    should you need help debugging a request.
</span></p><h2 id="timeouts" class="test_h2 markdown-h2"><span>Timeouts</span><a class="icon icon--link hash-link" href="#timeouts" aria-label="Timeouts"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
    When using the GraphQL API, keep in mind that some requests (like creating transactions) can
    take longer than expected since they rely on communicating with a payment processor. We set a
    recommend setting a timeout of 60 seconds to accommodate for this. If you do not want to wait
    this long, you can set a custom timeout via the client you are using to form a request to the
    GraphQL API. However, if this timeout is less than 60 seconds, your client may trigger a timeout
    exception and you may not see the result of the request.
</span></p><p class="markdown-p"><span>
    For example, let's say you set the timeout to 10 seconds, and you create a transaction request.
    If the request has not completed successfully at 10 seconds, your client will timeout. However,
    if the transaction then completes successfully at 19 seconds, the customer will be charged, but
    you will not receive any notification of this. You will need to search for the transaction to
    confirm if it was created and verify its status.
</span></p><h2 id="using-graphiql" class="test_h2 markdown-h2"><span>Using GraphiQL</span><a class="icon icon--link hash-link" href="#using-graphiql" aria-label="Using GraphiQL"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
    We've integrated the </span><a href="https://github.com/graphql/graphiql"><span>GraphiQL</span></a><span> project into our
    GraphQL documentation to allow you to explore the API in your browser using your sandbox API
    credentials. GraphiQL is a graphical interactive IDE for exploring and playing around with
    GraphQL APIs.
</span></p><p class="markdown-p"><span>
    You can use it via the </span><a href="/braintree/graphql/explorer"><span>API Explorer</span></a><span> on this site, or
    with the desktop application, to interact with the API in real time.
</span></p><p class="markdown-p"><span>
    To access the API, authenticate with your sandbox login credentials. From there, you can browse
    the schema documentation and live code queries and mutations. If you don't have a sandbox
    account, you can </span><a href="https://www.braintreepayments.com/sandbox"><span>create one</span></a><span> and it will
    be immediately available for use.
</span></p><p class="markdown-p"><span>
    Rather than passing in a JSON-formatted string, as we show in the examples above, the GraphiQL
    explorer expects plain GraphQL queries and JSON-formatted variables to be entered in separate
    windows. Unless we are providing </span><code><span>curl</span></code><span> examples, we will follow this "plain" GraphQL
    formatting in our guides, so you can easily test-drive queries and mutations in GraphiQL. Just
    remember to use JSON-formatting when handling your own HTTP requests outside of GraphiQL.
</span></p></div><nav class="right-nav-container"><h4 class="right-nav-title">On this page</h4><ul class="right-nav-list"></ul></nav></div></article></main><div><footer class="footer wrap nocontent " data-track-event-context="footer"><div id="gqlFooter" data-testid="gqlFooter"><footer><div class="content"><div class="linksAndActions"><div class="as"><svg width="111" height="111" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="111" height="111" rx="16" fill="#1524D9"></rect><path d="M30.7 84h27.7C71.8 84 80 78.1 80 67.5c0-6.7-4.9-11.6-11.8-13.5 4.8-1.9 8.6-5.9 8.6-12.4C76.8 31.7 69.3 26 57 26H30.7v8.5h6.2v41h-6.2V84zm15.4-33.7V34.5H56c7.5 0 11.5 2.7 11.5 7.9 0 5.1-3.9 7.9-11.4 7.9h-10zm0 25.2v-17h10.7c9.2 0 13.9 3 13.9 8.5 0 5.6-4.4 8.5-13.2 8.5H46.1z" fill="#fff"></path></svg><div class="siteLinks"><a data-cy="footer-site-link-articles" href="/braintree/articles/">Support Articles</a><a data-cy="footer-site-link-sdk-docs" href="/braintree/docs/">SDK Docs</a><a data-cy="footer-site-link-in-person" href="/braintree/in-person/">In-Person</a><a target="_blank" rel="noopener noreferrer" href="https://www.braintreepayments.com/sandbox" data-cy="footer-site-link-sandbox">Sandbox</a><a target="_blank" rel="noopener noreferrer" href="https://braintree.github.io/" data-cy="footer-site-link-open">Open Source</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/braintree" data-cy="footer-site-link-github">GitHub</a><a target="_blank" rel="noopener noreferrer" href="https://www.paypal-status.com/product/production" data-cy="footer-site-link-status">API Status</a></div></div><div class="actions"><a href="https://developer.paypal.com/braintree/help?issue=GraphQL" class="footerButton" data-cy="footer-email-question-button" data-testid="footer-email-question-button" target="_blank" rel="noopener noreferrer"><div class="footerButtonContent"><div class="footerButtonTitle">Need help?</div>Get answers to your questions quickly</div><div class="footerButtonIcon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.464 5l-1.461 1.365L16.33 11H4v2h12.33l-4.328 4.635L13.463 19 20 12l-6.536-7z" fill="#BBB"></path></svg></div></a><a href="https://github.com/braintree/graphql-api/issues" class="footerButton" data-cy="footer-issue-button" data-testid="footer-issue-button" target="_blank" rel="noopener noreferrer"><div class="footerButtonContent"><div class="footerButtonTitle">Report a bug</div>Come across anything weird?</div><div class="footerButtonIcon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.464 5l-1.461 1.365L16.33 11H4v2h12.33l-4.328 4.635L13.463 19 20 12l-6.536-7z" fill="#BBB"></path></svg></div></a></div></div><nav class="linkWrapper"><a href="https://braintreepayments.com" data-cy="footer-link-marketing" class="footerLink">Braintreepayments.com</a><div class="footerLink legal"> 2008-<!-- -->2025<!-- --> Braintree, a service of PayPal, Inc. All rights reserved.<!-- --> <a href="https://braintreepayments.com/legal/braintree-privacy-policy" data-cy="footer-link-privacy">Privacy Policy</a> <!-- -->|<!-- --> <a href="https://braintreepayments.com/legal" data-cy="footer-link-legal">Legal</a></div></nav></div></footer></div></footer></div></div></div><script nonce="w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74">
            window.process = globalThis.process = {
              env: {
                NODE_ENV: "development" // or "production", depending on your environment
              }
            };
          </script>
      </script><script src="https://www.paypalobjects.com/pa/js/min/pa.js"></script><div data-testid="cookie_banner"><link rel="stylesheet" type="text/css" href="https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css"/><style nonce="w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74">@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, "Helvetica Neue", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }</style><div class="cdn-consent-css"><div class="ppui-theme theme_ppui_theme_tokens__1ozbsv90"><div id="ccpaCookieBanner" class="CookieBanner_container"><div class="CookieBanner_container_wrapper"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4" data-ppui-info=""><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z"></path></svg></span><div class="CookieBanner_content_wrapper"><div id="ccpaCookieContent_wrapper" class="CookieContent_wrapper"><h4 class="styles_text-title_medium__awycp4g CookieBanner_text" data-ppui-info="title-text" id="cookieTitle">If you accept cookies, well use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. <a id="manageCookiesLink" href="https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US">Manage cookies and learn more</a></h4></div><div class="CookieBanner_buttonGroup"><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton" data-ppui-info="" id="acceptAllButton" tab-index="0">Accept</button><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton" data-ppui-info="" id="bannerDeclineButton" tab-index="0">Decline</button></div></div><button data-ppui-info="" class="styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon" type="button" id="bannerCloseButton"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf" data-ppui-info="" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z"></path></svg></span><span class="styles_screenreader__1p05eo10">Close</span></button></div></div></div></div><script nonce="w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74">(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window && window.fpti && window.PAYPAL && window.PAYPAL.analytics && window.PAYPAL.analytics.instance && window.PAYPAL.analytics.instance.options && window.PAYPAL.analytics.instance.options.request && window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() && getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem("isBannerClosed") || sessionStorage.getItem("isUserAccepted") || sessionStorage.getItem("isInvisibleBanner")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false && true && (navigator && !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false && true && (navigator && !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem("isUserAccepted")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem("isBannerClosed")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem("isInvisibleBanner")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti && window.fpti.page || window.location && window.location.href; queryParamters.component = window.fpti && window.fpti.comp; const eventSourceUrl = window.location && window.location.href; queryParamters.eventSourceUrl = eventSourceUrl && eventSourceUrl.split("?")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) => queryString += (index > 0 ? '&' : '') + key + "=" + btoa(queryParamters[key])); const endPoint = "https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState > 3 && xhr.status === 200) { try { if (xhr?.response && xhr.response != "OK") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length > 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) => {  if(e !== "www"){ subDomains.push("." + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource="cookieBanner"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable && getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState > 3 && xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:"cookieBanner"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { "accept" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, "decline" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false&performance=false&functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, "close" : { endPointSuffix : '&type=explicit_close&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton && cookieBanner && cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton && cookieBanner && cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton && cookieBanner && cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton && cookieBanner && cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi && cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += " ccpaHideCookieBannerMobile"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace("ccpaHideCookieBannerMobile",""); } }; document.body.addEventListener("focus", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = ""; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && cookieBanner.style.display != 'none') { if (bodyPaddingBottom === "" || (isPaddingBottomAdded && bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length > 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace("px", "")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded && bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded && cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return "true"; else if (navigator.cookieEnabled === true) return "false"; else return "undefined"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:"cookieBanner"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage && cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace("ccpaCookieBanner-acceptedAll",""); document.body.className = document.body.className.replace("top-cookie-banner-enabled",""); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi && getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner && cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) > (cookieBanner.getBoundingClientRect().top)) && !activeElement.parentElement.nodeName.includes("UL")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener("focusin", focusIn); } } if(addListener){ document.addEventListener("focusin",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() && !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- > 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() && document.getElementById('ccpaCookieBanner') && !document.body.className.includes("ccpaCookieBanner-acceptedAll")){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();</script></div><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-DWXUS3OJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-L5PH23AQ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6FIGYWP.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6PGNH2U.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-B6RWMYIW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-JWVH3LXD.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-6U42WDX3.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-YVSNDZ53.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J2GE73YK.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-5BT6OS7I.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-23AVEWBC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RNL33CPM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-KHGBJ4DZ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MV6WZZTV.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MGQUUIAL.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-4XUXT72V.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-7GGXQ4CC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ARCSJZ66.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-HUHQJMXM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V5GCSBYI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RTF7FTLH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-Y6FV67CR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-SDOOWKWW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ZAEIBDVB.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-H5OFEOJY.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AJAXRUVI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-XQKKFWZR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MZ7A5LCT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-M3EUWJZ6.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AGQ7GS2C.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V4QDYNUE.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-G6HOB2YT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TIBAJGV5.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-4BNLONG6.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-QPO3S2DS.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-C5EWQJ4M.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-WCFLXRHO.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TL4Q62UH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql-5WTNGTXD.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-N3FY5ECO.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql/$-AOXYBYSX.js"/><script nonce="w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74">window.__remixContext = {"url":"/braintree/graphql/guides/making_api_calls/","state":{"loaderData":{"root":{"isLoggedIn":false,"_csrf":"HffypgNQIhFu2JTtPZSncgfM8y3+tM3NUYmEQ=","searchConfig":{"appId":"^@KGPPiC^4KSTT85","aKey":"GROm[oD;FA\\0OoH=Q\\2XhWaFQf2[hHqRRShLBK`FhH\u003c","BTDOCS_INDEX":"BTDOCS_BTDOCSNODEWEB"},"analytics":{"appName":"btdocsnodeweb","stock":"UA-37159521-1","exp":"UA-37159521-8"},"nonce":"w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74","cookieBannerInfo":{"css":"\u003clink rel=\"stylesheet\" type=\"text/css\" href=\"https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css\"/\u003e\u003cstyle nonce=\"w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74\"\u003e@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, \"Helvetica Neue\", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }\u003c/style\u003e","html":"\u003cdiv class=\"cdn-consent-css\"\u003e\u003cdiv class=\"ppui-theme theme_ppui_theme_tokens__1ozbsv90\"\u003e\u003cdiv id=\"ccpaCookieBanner\" class=\"CookieBanner_container\"\u003e\u003cdiv class=\"CookieBanner_container_wrapper\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4\" data-ppui-info=\"\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cdiv class=\"CookieBanner_content_wrapper\"\u003e\u003cdiv id=\"ccpaCookieContent_wrapper\" class=\"CookieContent_wrapper\"\u003e\u003ch4 class=\"styles_text-title_medium__awycp4g CookieBanner_text\" data-ppui-info=\"title-text\" id=\"cookieTitle\"\u003eIf you accept cookies, well use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. \u003ca id=\"manageCookiesLink\" href=\"https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US\"\u003eManage cookies and learn more\u003c/a\u003e\u003c/h4\u003e\u003c/div\u003e\u003cdiv class=\"CookieBanner_buttonGroup\"\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton\" data-ppui-info=\"\" id=\"acceptAllButton\" tab-index=\"0\"\u003eAccept\u003c/button\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton\" data-ppui-info=\"\" id=\"bannerDeclineButton\" tab-index=\"0\"\u003eDecline\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003cbutton data-ppui-info=\"\" class=\"styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon\" type=\"button\" id=\"bannerCloseButton\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf\" data-ppui-info=\"\" aria-hidden=\"true\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cspan class=\"styles_screenreader__1p05eo10\"\u003eClose\u003c/span\u003e\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e","js":"\u003cscript nonce=\"w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74\"\u003e(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window \u0026\u0026 window.fpti \u0026\u0026 window.PAYPAL \u0026\u0026 window.PAYPAL.analytics \u0026\u0026 window.PAYPAL.analytics.instance \u0026\u0026 window.PAYPAL.analytics.instance.options \u0026\u0026 window.PAYPAL.analytics.instance.options.request \u0026\u0026 window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() \u0026\u0026 getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem(\"isBannerClosed\") || sessionStorage.getItem(\"isUserAccepted\") || sessionStorage.getItem(\"isInvisibleBanner\")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem(\"isUserAccepted\")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem(\"isBannerClosed\")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem(\"isInvisibleBanner\")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti \u0026\u0026 window.fpti.page || window.location \u0026\u0026 window.location.href; queryParamters.component = window.fpti \u0026\u0026 window.fpti.comp; const eventSourceUrl = window.location \u0026\u0026 window.location.href; queryParamters.eventSourceUrl = eventSourceUrl \u0026\u0026 eventSourceUrl.split(\"?\")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) =\u003e queryString += (index \u003e 0 ? '\u0026' : '') + key + \"=\" + btoa(queryParamters[key])); const endPoint = \"https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?\" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status === 200) { try { if (xhr?.response \u0026\u0026 xhr.response != \"OK\") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length \u003e 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) =\u003e {  if(e !== \"www\"){ subDomains.push(\".\" + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource=\"cookieBanner\"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable \u0026\u0026 getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:\"cookieBanner\"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { \"accept\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, \"decline\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false\u0026performance=false\u0026functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, \"close\" : { endPointSuffix : '\u0026type=explicit_close\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi \u0026\u0026 cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += \" ccpaHideCookieBannerMobile\"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace(\"ccpaHideCookieBannerMobile\",\"\"); } }; document.body.addEventListener(\"focus\", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = \"\"; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 cookieBanner.style.display != 'none') { if (bodyPaddingBottom === \"\" || (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length \u003e 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace(\"px\", \"\")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded \u0026\u0026 cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return \"true\"; else if (navigator.cookieEnabled === true) return \"false\"; else return \"undefined\"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:\"cookieBanner\"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage \u0026\u0026 cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace(\"ccpaCookieBanner-acceptedAll\",\"\"); document.body.className = document.body.className.replace(\"top-cookie-banner-enabled\",\"\"); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi \u0026\u0026 getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner \u0026\u0026 cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) \u003e (cookieBanner.getBoundingClientRect().top)) \u0026\u0026 !activeElement.parentElement.nodeName.includes(\"UL\")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener(\"focusin\", focusIn); } } if(addListener){ document.addEventListener(\"focusin\",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() \u0026\u0026 !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- \u003e 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() \u0026\u0026 document.getElementById('ccpaCookieBanner') \u0026\u0026 !document.body.className.includes(\"ccpaCookieBanner-acceptedAll\")){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();\u003c/script\u003e","cookies":{"cookie_prefs":{"value":"T=0,P=0,F=0,type=initial","options":{"maxAge":31536000000,"SameSite":"None","Secure":true,"domain":".paypal.com"}}}},"fptiTracking":{"name":"pta","jsURL":"https://www.paypalobjects.com","serverURL":"https://t.paypal.com/ts","dataString":"pgrp=btdocs%3Agraphql_guides_making_api_calls_\u0026page=btdocsnodeweb%2F.dust\u0026pgst=1767205365411\u0026calc=f07697bac379b\u0026nsid=Z85L0f8tWA9RbvV4tq4wHDJuXOL0ZEm2\u0026rsta=en_US\u0026pgtf=Nodejs\u0026env=live\u0026s=ci\u0026ccpg=US\u0026csci=b75901902561437392a78f49ba49c5fb\u0026comp=btdocsnodeweb\u0026tsrce=btdocsnodeweb\u0026cu=0"},"experiments":{"feedback":true,"onboarding":true,"signupramp":true,"uiramp":true,"webllsOn":false,"runInPostmanFeatureSwitch":true,"integrationBuilder":true,"migration":true,"askAIOptionsExp":true,"enableInternalUIFeatures":false},"env":"prod","nodeEnv":{"_env":"LIVE","isDev":false,"isNotDev":true,"isTest":false,"isNotTest":true,"isStage":false,"isQA":false,"isNotStage":true,"isNotQA":true,"isSandbox":false,"isNotSandbox":true,"isProd":true,"isLive":true,"isNotProd":false,"isNotLive":false}},"routes/braintree/graphql/$":{"id":"0uCqXuDiT4sdV6MFkpljJo","document_id":"BTGQL32","entry_template_id":"BraintreeGraphqlDoc","entry_template_name":"Braintree Graphql Doc","resource_type":"ENTRY","create_time":"2025-01-16T11:27:00.154Z","update_time":"2025-04-28T13:23:28.923Z","language":["en-US"],"revision":15,"published_counter":3,"published_version":14,"content":{"internalTitle":"Making API Calls /graphql/guides/making_api_calls/","slug":"/graphql/guides/making_api_calls/","title":"Making API Calls","content":{"node":"root","child":[{"node":"element","tag":"h1","child":[{"node":"text","text":"Making API Calls"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    This guide covers how to make API calls by combining\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/guides/#basic-concepts"},"child":[{"node":"text","text":"basic GraphQL ideas"}]},{"node":"text","text":" with\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/guides/concepts/"},"child":[{"node":"text","text":"Braintree-specific API details"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Because Braintree GraphQL requests are over HTTP, many examples in our guides use\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"curl"}]},{"node":"text","text":" so you can start testing the API from the command line. We expect you will\n    then pick the HTTP library of your choice for application development.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    In the rest of the document, we use MUST, SHOULD, and MAY according to\n    "},{"node":"element","tag":"a","attr":{"href":"https://www.ietf.org/rfc/rfc2119.txt"},"child":[{"node":"text","text":"RFC 2119"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Endpoints"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"All requests (queries and mutations) go to a single HTTP endpoint."}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"For the sandbox test environment:"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"https://payments.sandbox.braintree-api.com/graphql\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"and the live production account:"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"https://payments.braintree-api.com/graphql\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    You SHOULD use the "},{"node":"element","tag":"a","attr":{"href":"https://tools.ietf.org/html/rfc7231#section-4.3.3"},"child":[{"node":"text","text":"POST"}]},{"node":"text","text":" method\n    for all requests.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Request Requirements"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"The Authorization Header"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    To use the API, you MUST have a\n    "},{"node":"element","tag":"a","attr":{"href":"https://www.braintreepayments.com/sandbox"},"child":[{"node":"text","text":"registered Braintree account"}]},{"node":"text","text":" and include\n    your credentials in the "},{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization"}]},{"node":"text","text":" header. There are different types of\n    credentials you can use to authorize depending on what you'd like to do. For instance,\n    "},{"node":"element","tag":"a","attr":{"href":"#client-tokens"},"child":[{"node":"text","text":"client tokens"}]},{"node":"text","text":" and\n    "},{"node":"element","tag":"a","attr":{"href":"#tokenization-keys"},"child":[{"node":"text","text":"tokenization keys"}]},{"node":"text","text":" are restricted to certain mutations and\n    queries that generally don't involve money movement, such as tokenizing payment details. Other\n    operations, such as vaulting and charging payment methods, require\n    "},{"node":"element","tag":"a","attr":{"href":"#api-keys"},"child":[{"node":"text","text":"API Key"}]},{"node":"text","text":" authentication.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h4","child":[{"node":"text","text":"API Keys"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    This is the option many integrations use. After you\n    "},{"node":"element","tag":"a","attr":{"href":"https://articles.braintreepayments.com/control-panel/important-gateway-credentials#api-keys"},"child":[{"node":"text","text":"generate an API Key"}]},{"node":"text","text":", you MUST Base64-encode it for GraphQL requests.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If your public key is "},{"node":"element","tag":"code","child":[{"node":"text","text":"v4ndq314c2s5c28r"}]},{"node":"text","text":" and your private key is\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"93b78bc88be90d93ac282e50ae569fdd"}]},{"node":"text","text":", you can generate your Base64-encoded token like\n    this:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"echo -n \"v4ndq314c2s5c28r:93b78bc88be90d93ac282e50ae569fdd\" | base64\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    which produces\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"djRuZHEzMTRjMnM1YzI4cjo5M2I3OGJjODhiZTkwZDkzYWMyODJlNTBhZTU2OWZkZA=="}]},{"node":"text","text":". The full\n    header you present for authentication and authorization is:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization: Basic djRuZHEzMTRjMnM1YzI4cjo5M2I3OGJjODhiZTkwZDkzYWMyODJlNTBhZTU2OWZkZA==\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h4","child":[{"node":"text","text":"Tokenization Keys"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    A "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/guides/authorization/tokenization-key/"},"child":[{"node":"text","text":"tokenization key"}]},{"node":"text","text":" is a\n    lightweight, reusable value that can authorize your client to tokenize payment methods. You can\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/articles/control-panel/important-gateway-credentials#tokenization-keys"},"child":[{"node":"text","text":"view your tokenization keys in the Control Panel"}]},{"node":"text","text":". To authorize using a tokenization key, pass it in the "},{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization"}]},{"node":"text","text":" header:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization: Bearer YOUR_TOKENIZATION_KEY\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h4","child":[{"node":"text","text":"Authorization Fingerprints"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Another way to authenticate from your client is via an authorization fingerprint from a\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/guides/authorization/client-token"},"child":[{"node":"text","text":"client token"}]},{"node":"text","text":". A client token\n    contains an authorization fingerprint, which is a signed\n    "},{"node":"element","tag":"a","attr":{"href":"https://en.wikipedia.org/wiki/JSON_Web_Token"},"child":[{"node":"text","text":"JWT"}]},{"node":"text","text":", and is generated on your server\n    with a lifetime of 24 hours. To obtain an authorization fingerprint you must Base64 decode a\n    client token, the decoded client token will contain an\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"authorizationFingerprint"}]},{"node":"text","text":" value, which can then be passed in the\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization"}]},{"node":"text","text":" header.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"For instance, once you obtain a client token, it can be decoded:"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"echo -n YOUR_CLIENT_TOKEN | base64 -D\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"This will produce a JSON value, similar to this:"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"45hsjdfjr-jsfsjrhw","class":"language-json"},"child":[{"node":"text","text":"{\n  \"version\": \"2\",\n  \"environment\": \"sandbox\",\n  \"authorizationFingerprint\": \"YOUR_AUTHORIZATION_FINGERPRINT\"\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Your client is responsible for obtaining an authorization fingerprint from your server and can\n    pass it in the "},{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization"}]},{"node":"text","text":" header:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization: Bearer YOUR_AUTHORIZATION_FINGERPRINT\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h4","child":[{"node":"text","text":"Braintree Auth"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    (This is currently in closed beta). To use\n    "},{"node":"element","tag":"a","attr":{"href":"https://developers.braintreepayments.com/guides/braintree-auth/overview"},"child":[{"node":"text","text":"Braintree Auth"}]},{"node":"text","text":"\n    credentials, you must obtain an access token via the\n    "},{"node":"element","tag":"a","attr":{"href":"https://developers.braintreepayments.com/guides/braintree-auth/oauth-flow/node#getting-an-access-token"},"child":[{"node":"text","text":"OAuth flow"}]},{"node":"text","text":". When you have an access token, use it via the "},{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization"}]},{"node":"text","text":" header:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Authorization: Bearer YOUR_ACCESS_TOKEN\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"The Braintree-Version Header"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    You MUST provide a "},{"node":"element","tag":"code","child":[{"node":"text","text":"Braintree-Version"}]},{"node":"text","text":" header with a date in the format\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"YYYY-MM-DD"}]},{"node":"text","text":". We recommend using the date on which you begin integrating with the\n    GraphQL API.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Braintree-Version: 2019-01-01\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"The Content-Type Header"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"The content type of a query MUST be "},{"node":"element","tag":"code","child":[{"node":"text","text":"application/json"}]},{"node":"text","text":"."}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Content-Type: application/json\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"The Message Body"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The message body MUST be a JSON object. It MUST contain a "},{"node":"element","tag":"code","child":[{"node":"text","text":"query"}]},{"node":"text","text":" key and MAY contain\n    a "},{"node":"element","tag":"code","child":[{"node":"text","text":"variables"}]},{"node":"text","text":" key.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The value for "},{"node":"element","tag":"code","child":[{"node":"text","text":"query"}]},{"node":"text","text":" MUST be a single\n    "},{"node":"element","tag":"a","attr":{"href":"https://tools.ietf.org/html/rfc7159#section-7"},"child":[{"node":"text","text":"JSON string"}]},{"node":"text","text":" containing a well-formed\n    GraphQL document (query or mutation).\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If you reference variables in your GraphQL document, the value for "},{"node":"element","tag":"code","child":[{"node":"text","text":"variables"}]},{"node":"text","text":" MUST\n    be a JSON object containing the key/value pairs for each variable.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"sdhfsjd6-kfsdue8","class":"language-json"},"child":[{"node":"text","text":"{\n  \"query\": \"a GraphQL document goes here that references $var1, $var2, and $var3\",\n  \"variables\": {\n    \"var1\": 10,\n    \"var2\": {\n      \"some\": \"data\",\n      \"for\": \"var2\"\n    },\n    \"var3\": [\n      \"a\",\n      \"list\",\n      \"of\",\n      \"values\"\n    ]\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Your First Request"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The simplest request is "},{"node":"element","tag":"code","child":[{"node":"text","text":"ping"}]},{"node":"text","text":". It is mainly useful to ensure you understand how to\n    generate well-formed requests.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"Here's the GraphQL query:"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"p"},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"querycodeblock","child":[{"node":"text","text":"query {\n  ping\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    To send that to our API, it has to be wrapped in a JSON object with a "},{"node":"element","tag":"code","child":[{"node":"text","text":"query"}]},{"node":"text","text":" key:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"JSON"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"55ndshsj-09sfsdhr","class":"language-json"},"child":[{"node":"text","text":"{\n  \"query\": \"query { ping }\"\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"And here's how it all fits together, using "},{"node":"element","tag":"code","child":[{"node":"text","text":"curl"}]},{"node":"text","text":":"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"curl  -H 'Authorization: Basic BASE64_ENCODED(PUBLIC_KEY:PRIVATE_KEY)'  -H 'Braintree-Version: 2019-01-01'  -H 'Content-Type: application/json'  -X POST https://payments.sandbox.braintree-api.com/graphql  -d '{\"query\": \"query { ping }\"}'\n        "}]}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"You should receive this response:"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"hdjrh4-sjdhr4","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"ping\": \"pong\"\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"A More Interesting Request"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Here is a typical request body for the "},{"node":"element","tag":"code","child":[{"node":"text","text":"chargePaymentMethod"}]},{"node":"text","text":" mutation (Note: we have\n    added newlines for readability but normally,\n    "},{"node":"element","tag":"a","attr":{"href":"https://tools.ietf.org/html/rfc7159#section-7"},"child":[{"node":"text","text":"JSON strings"}]},{"node":"text","text":" MUST escape newlines):\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":["Request","Body"]},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"sdfshd7-423bsdbf","class":"language-json"},"child":[{"node":"text","text":"{\n  \"query\": \"mutation chargePaymentMethod($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }\",\n  \"variables\": {\n    \"input\": {\n      \"paymentMethodId\": \"PAYMENT_METHOD_ID\",\n      \"transaction\": {\n        \"amount\": \"11.23\"\n      }\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Per standard GraphQL, the "},{"node":"element","tag":"code","child":[{"node":"text","text":"input"}]},{"node":"text","text":" key in the "},{"node":"element","tag":"code","child":[{"node":"text","text":"variables"}]},{"node":"text","text":" section binds to\n    the "},{"node":"element","tag":"code","child":[{"node":"text","text":"$input"}]},{"node":"text","text":" variable defined by the mutation in the "},{"node":"element","tag":"code","child":[{"node":"text","text":"query"}]},{"node":"text","text":" section and\n    should represent the "},{"node":"element","tag":"code","child":[{"node":"text","text":"ChargePaymentMethodInput"}]},{"node":"text","text":" type.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Two Mutations In One Call"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    By using "},{"node":"element","tag":"a","attr":{"href":"https://graphql.org/learn/queries/#aliases"},"child":[{"node":"text","text":"GraphQL aliases"}]},{"node":"text","text":", we can make\n    multiple charges in a single call to the API:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":["Request","Body"]},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"safsad4-0sdfsd4","class":"language-json"},"child":[{"node":"text","text":"{\n  \"query\": \"mutation twoChargesAtOnce($tx1: ChargePaymentMethodInput!, $tx2: ChargePaymentMethodInput!) { firstTransaction: chargePaymentMethod(input: $tx1) { transaction { amount { value currencyIsoCode } } } secondTransaction: chargePaymentMethod(input: $tx2) { transaction { amount { value currencyIsoCode } } } }\",\n  \"variables\": {\n    \"tx1\": {\n      \"paymentMethodId\": \"fake-valid-visa-nonce\",\n      \"transaction\": {\n        \"amount\": \"11.25\"\n      }\n    },\n    \"tx2\": {\n      \"paymentMethodId\": \"fake-valid-amex-nonce\",\n      \"transaction\": {\n        \"amount\": \"11.23\"\n      }\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"asdfhyh5-67sdfbh","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"firstTransaction\": {\n      \"transaction\": {\n        \"amount\": {\n          \"value\": \"11.25\",\n          \"currencyIsoCode\": \"USD\"\n        }\n      }\n    },\n    \"secondTransaction\": {\n      \"transaction\": {\n        \"amount\": {\n          \"value\": \"11.23\",\n          \"currencyIsoCode\": \"USD\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"TdTMiKZ1YBlBzSxLHSTEAQ1y3P3UbZCZue0NuDz4yLReE0_09dBOGg==\"\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Understanding Responses"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    A response from the GraphQL API will always return with HTTP status 200. The JSON body of the\n    response explains whether an error occurred. Because you can send multiple queries and mutations\n    in a single request, and because GraphQL includes the concept of a \"partial success\", the\n    request may contain a mix of data and error messages. The body is always a JSON object and MAY\n    include any of the three top-level keys: "},{"node":"element","tag":"code","child":[{"node":"text","text":"data"}]},{"node":"text","text":", "},{"node":"element","tag":"code","child":[{"node":"text","text":"errors"}]},{"node":"text","text":", and\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"extensions"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Data"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    A successful query MUST return a JSON object with a "},{"node":"element","tag":"code","child":[{"node":"text","text":"data"}]},{"node":"text","text":" key whose value is a JSON\n    object with the data you requested. Each key in the data object will exactly match those\n    specified in the query.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Errors"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Unlike a conventional REST API, GraphQL APIs do not rely on HTTP status codes to signal request\n    outcomes. Our GraphQL API always return a JSON body with the "},{"node":"element","tag":"code","child":[{"node":"text","text":"200"}]},{"node":"text","text":" status code, even\n    when there are errors.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If an error occurred, the response body MUST include a top-level "},{"node":"element","tag":"code","child":[{"node":"text","text":"errors"}]},{"node":"text","text":" array that\n    describes the error or errors. For example, the response for charging a payment method with an\n    invalid credit card number would be:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"54hgntk-djdkrt","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"chargePaymentMethod\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \"Unknown or expired single-use payment method.\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 7\n        }\n      ],\n      \"path\": [\n        \"chargePaymentMethod\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"91565\",\n        \"inputPath\": [\n          \"input\",\n          \"paymentMethodId\"\n        ]\n      }\n    }\n  ],\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    An element of the "},{"node":"element","tag":"code","child":[{"node":"text","text":"errors"}]},{"node":"text","text":" array\n    "},{"node":"element","tag":"a","attr":{"href":"https://graphql.github.io/graphql-spec/June2018/#sec-Errors"},"child":[{"node":"text","text":"follows the GraphQL spec"}]},{"node":"text","text":"\n    and will have the following values:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"code","child":[{"node":"text","text":"message"}]},{"node":"text","text":": The human-readable error message. This value is not intended to be\n        parsed and may change at any time.\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"code","child":[{"node":"text","text":"locations"}]},{"node":"text","text":": An array of "},{"node":"element","tag":"code","child":[{"node":"text","text":"{ \"line\": x, \"column\": y }"}]},{"node":"text","text":" objects that\n        describe where the error was detected during parsing of the GraphQL query. This is typically\n        only used by interactive viewers such as\n        "},{"node":"element","tag":"a","attr":{"href":"https://github.com/graphql/graphiql"},"child":[{"node":"text","text":"GraphiQL"}]},{"node":"text","text":", including our\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/explorer/"},"child":[{"node":"text","text":"API Explorer"}]},{"node":"text","text":".\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"path"}]},{"node":"text","text":": The GraphQL query or mutation causing the error."}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"code","child":[{"node":"text","text":"extensions"}]},{"node":"text","text":": Additional information about the error including...\n        "},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"errorType"}]},{"node":"text","text":": A deprecated field, please refer to errorClass instead."}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"code","child":[{"node":"text","text":"errorClass"}]},{"node":"text","text":": The classification of the error. Can be one of...\n                "},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"AUTHENTICATION"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"AUTHORIZATION"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"INTERNAL"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"UNSUPPORTED_CLIENT"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"NOT_FOUND"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"NOT_IMPLEMENTED"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"RESOURCE_LIMIT"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"SERVICE_AVAILABILITY"}]}]},{"node":"text","text":"\n                    "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"VALIDATION"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"code","child":[{"node":"text","text":"legacyCode"}]},{"node":"text","text":": A unique code identifying the error, which can be used to look it\n                up\n                "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/validation-errors/all"},"child":[{"node":"text","text":"in our documentation"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"inputPath"}]},{"node":"text","text":": The input field responsible for the error."}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Errors can manifest as GraphQL validation errors (e.g. provided a string for an integer field),\n    Braintree validation errors (e.g. invalid credit card number), or errors reflecting upstream\n    issues.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    It is possible to have partially successful responses, where both a partially populated\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"data"}]},{"node":"text","text":" object and "},{"node":"element","tag":"code","child":[{"node":"text","text":"errors"}]},{"node":"text","text":" are returned. If errors prevent a field in your\n    query from resolving, the field in the "},{"node":"element","tag":"code","child":[{"node":"text","text":"data"}]},{"node":"text","text":" object will be returned with the value\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"null"}]},{"node":"text","text":" and relevant errors will be in the "},{"node":"element","tag":"code","child":[{"node":"text","text":"error"}]},{"node":"text","text":" object.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Extensions"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The API response MUST contain an "},{"node":"element","tag":"code","child":[{"node":"text","text":"extensions"}]},{"node":"text","text":" object. This object contains at least a\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"requestId"}]},{"node":"text","text":" entry that is unique to the request and useful to Braintree Support\n    should you need help debugging a request.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Timeouts"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    When using the GraphQL API, keep in mind that some requests (like creating transactions) can\n    take longer than expected since they rely on communicating with a payment processor. We set a\n    recommend setting a timeout of 60 seconds to accommodate for this. If you do not want to wait\n    this long, you can set a custom timeout via the client you are using to form a request to the\n    GraphQL API. However, if this timeout is less than 60 seconds, your client may trigger a timeout\n    exception and you may not see the result of the request.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    For example, let's say you set the timeout to 10 seconds, and you create a transaction request.\n    If the request has not completed successfully at 10 seconds, your client will timeout. However,\n    if the transaction then completes successfully at 19 seconds, the customer will be charged, but\n    you will not receive any notification of this. You will need to search for the transaction to\n    confirm if it was created and verify its status.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Using GraphiQL"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    We've integrated the "},{"node":"element","tag":"a","attr":{"href":"https://github.com/graphql/graphiql"},"child":[{"node":"text","text":"GraphiQL"}]},{"node":"text","text":" project into our\n    GraphQL documentation to allow you to explore the API in your browser using your sandbox API\n    credentials. GraphiQL is a graphical interactive IDE for exploring and playing around with\n    GraphQL APIs.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    You can use it via the "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/explorer"},"child":[{"node":"text","text":"API Explorer"}]},{"node":"text","text":" on this site, or\n    with the desktop application, to interact with the API in real time.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    To access the API, authenticate with your sandbox login credentials. From there, you can browse\n    the schema documentation and live code queries and mutations. If you don't have a sandbox\n    account, you can "},{"node":"element","tag":"a","attr":{"href":"https://www.braintreepayments.com/sandbox"},"child":[{"node":"text","text":"create one"}]},{"node":"text","text":" and it will\n    be immediately available for use.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Rather than passing in a JSON-formatted string, as we show in the examples above, the GraphiQL\n    explorer expects plain GraphQL queries and JSON-formatted variables to be entered in separate\n    windows. Unless we are providing "},{"node":"element","tag":"code","child":[{"node":"text","text":"curl"}]},{"node":"text","text":" examples, we will follow this \"plain\" GraphQL\n    formatting in our guides, so you can easily test-drive queries and mutations in GraphiQL. Just\n    remember to use JSON-formatting when handling your own HTTP requests outside of GraphiQL.\n"}]}]},"codeblockReferences":[{"update_time":"2025-04-28T12:44:05.658Z","create_time":"2025-04-28T12:41:34.498Z","entry_template_id":"codeblock","resource_type":"Entry","id":"ZMz4cebCNGMdTdXy1gxN5E","document_id":"CODE6","content":{"internalTitle":"[Response][45hsjdfjr-jsfsjrhw][/graphql/guides/making_api_calls/]","referenceId":"45hsjdfjr-jsfsjrhw","code":"{\n  \"version\": \"2\",\n  \"environment\": \"sandbox\",\n  \"authorizationFingerprint\": \"YOUR_AUTHORIZATION_FINGERPRINT\"\n}","language":"json"},"revision":2},{"update_time":"2025-04-28T12:45:59.252Z","create_time":"2025-04-28T12:44:33.335Z","entry_template_id":"codeblock","resource_type":"Entry","id":"7DljjSjdy74bnjE10Li697","document_id":"CODE7","content":{"internalTitle":"[Variables][sdhfsjd6-kfsdue8][/graphql/guides/making_api_calls/]","referenceId":"sdhfsjd6-kfsdue8","code":"{\n  \"query\": \"a GraphQL document goes here that references $var1, $var2, and $var3\",\n  \"variables\": {\n    \"var1\": 10,\n    \"var2\": {\n      \"some\": \"data\",\n      \"for\": \"var2\"\n    },\n    \"var3\": [\n      \"a\",\n      \"list\",\n      \"of\",\n      \"values\"\n    ]\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-28T12:47:28.869Z","create_time":"2025-04-28T12:46:23.522Z","entry_template_id":"codeblock","resource_type":"Entry","id":"aGpOxSfPlUccER28lw5b5y","document_id":"CODE8","content":{"internalTitle":"[JSON][55ndshsj-09sfsdhr][/graphql/guides/making_api_calls/]","referenceId":"55ndshsj-09sfsdhr","code":"{\n  \"query\": \"query { ping }\"\n}","language":"json"},"revision":2},{"update_time":"2025-04-28T12:52:41.591Z","create_time":"2025-04-28T12:51:18.990Z","entry_template_id":"codeblock","resource_type":"Entry","id":"YQeG7xpnnH9b1vYdkMRY2T","document_id":"CODE9","content":{"internalTitle":"[Response][hdjrh4-sjdhr4][/graphql/guides/making_api_calls/]","referenceId":"hdjrh4-sjdhr4","code":"{\n  \"data\": {\n    \"ping\": \"pong\"\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-28T12:54:53.432Z","create_time":"2025-04-28T12:53:08.257Z","entry_template_id":"codeblock","resource_type":"Entry","id":"1r07pdNueuqe6kyov2ickE","document_id":"CODE10","content":{"internalTitle":"[Request Body][sdfshd7-423bsdbf][/graphql/guides/making_api_calls/]","referenceId":"sdfshd7-423bsdbf","code":"{\n  \"query\": \"mutation chargePaymentMethod($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }\",\n  \"variables\": {\n    \"input\": {\n      \"paymentMethodId\": \"PAYMENT_METHOD_ID\",\n      \"transaction\": {\n        \"amount\": \"11.23\"\n      }\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-28T13:02:50.198Z","create_time":"2025-04-28T13:01:11.157Z","entry_template_id":"codeblock","resource_type":"Entry","id":"fWJkOj5xU8keg2rhKNLUj1","document_id":"CODE11","content":{"internalTitle":"[Request Body][safsad4-0sdfsd4][/graphql/guides/making_api_calls/]","referenceId":"safsad4-0sdfsd4","code":"{\n  \"query\": \"mutation twoChargesAtOnce($tx1: ChargePaymentMethodInput!, $tx2: ChargePaymentMethodInput!) { firstTransaction: chargePaymentMethod(input: $tx1) { transaction { amount { value currencyIsoCode } } } secondTransaction: chargePaymentMethod(input: $tx2) { transaction { amount { value currencyIsoCode } } } }\",\n  \"variables\": {\n    \"tx1\": {\n      \"paymentMethodId\": \"fake-valid-visa-nonce\",\n      \"transaction\": {\n        \"amount\": \"11.25\"\n      }\n    },\n    \"tx2\": {\n      \"paymentMethodId\": \"fake-valid-amex-nonce\",\n      \"transaction\": {\n        \"amount\": \"11.23\"\n      }\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-28T13:09:24.254Z","create_time":"2025-04-28T13:08:13.693Z","entry_template_id":"codeblock","resource_type":"Entry","id":"0TWqcokX1mUcWLN5L3rNbt","document_id":"CODE12","content":{"internalTitle":"[Response][asdfhyh5-67sdfbh][/graphql/guides/making_api_calls/]","referenceId":"asdfhyh5-67sdfbh","code":"{\n  \"data\": {\n    \"firstTransaction\": {\n      \"transaction\": {\n        \"amount\": {\n          \"value\": \"11.25\",\n          \"currencyIsoCode\": \"USD\"\n        }\n      }\n    },\n    \"secondTransaction\": {\n      \"transaction\": {\n        \"amount\": {\n          \"value\": \"11.23\",\n          \"currencyIsoCode\": \"USD\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"TdTMiKZ1YBlBzSxLHSTEAQ1y3P3UbZCZue0NuDz4yLReE0_09dBOGg==\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-28T13:13:40.240Z","create_time":"2025-04-28T13:12:19.365Z","entry_template_id":"codeblock","resource_type":"Entry","id":"92WAT0vHYC9bCGp0Fmv18c","document_id":"CODE13","content":{"internalTitle":"[Response][54hgntk-djdkrt][/graphql/guides/making_api_calls/]","referenceId":"54hgntk-djdkrt","code":"{\n  \"data\": {\n    \"chargePaymentMethod\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \"Unknown or expired single-use payment method.\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 7\n        }\n      ],\n      \"path\": [\n        \"chargePaymentMethod\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"91565\",\n        \"inputPath\": [\n          \"input\",\n          \"paymentMethodId\"\n        ]\n      }\n    }\n  ],\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}","language":"json"},"revision":2}]},"links":[{"rel":"self","method":"GET","href":"https://api.paypal.com/v2/content/environments/c7e53cfe-a29e-4a16-9a5c-a0a91c7c957f/entries/0uCqXuDiT4sdV6MFkpljJo"}],"ecm":{"envAllowsPreview":true},"markdown":"---\ntitle: Making API Calls\nslug: /graphql/guides/making_api_calls/\ncreateTime: '2025-01-16T11:27:00.154Z'\nupdateTime: '2025-04-28T13:23:28.923Z'\n---\n\n\n\n# Making API Calls\n\nThis guide covers how to make API calls by combining [basic GraphQL ideas](/braintree/graphql/guides/#basic-concepts) with [Braintree-specific API details](/braintree/graphql/guides/concepts/).\n\nBecause Braintree GraphQL requests are over HTTP, many examples in our guides use curl so you can start testing the API from the command line. We expect you will then pick the HTTP library of your choice for application development.\n\nIn the rest of the document, we use MUST, SHOULD, and MAY according to [RFC 2119](https://www.ietf.org/rfc/rfc2119.txt).\n\n\n## Endpoints\n\nAll requests (queries and mutations) go to a single HTTP endpoint.\n\nFor the sandbox test environment:\n\nhttps://payments.sandbox.braintree-api.com/graphqland the live production account:\n\nhttps://payments.braintree-api.com/graphqlYou SHOULD use the [POST](https://tools.ietf.org/html/rfc7231#section-4.3.3) method for all requests.\n\n\n## Request Requirements\n\n\n### The Authorization Header\n\nTo use the API, you MUST have a [registered Braintree account](https://www.braintreepayments.com/sandbox) and include your credentials in the Authorization header. There are different types of credentials you can use to authorize depending on what you'd like to do. For instance, [client tokens](#client-tokens) and [tokenization keys](#tokenization-keys) are restricted to certain mutations and queries that generally don't involve money movement, such as tokenizing payment details. Other operations, such as vaulting and charging payment methods, require [API Key](#api-keys) authentication.\n\n\n#### API Keys\n\nThis is the option many integrations use. After you [generate an API Key](https://articles.braintreepayments.com/control-panel/important-gateway-credentials#api-keys), you MUST Base64-encode it for GraphQL requests.\n\nIf your public key is v4ndq314c2s5c28r and your private key is 93b78bc88be90d93ac282e50ae569fdd, you can generate your Base64-encoded token like this:\n\necho -n \"v4ndq314c2s5c28r:93b78bc88be90d93ac282e50ae569fdd\" | base64which produces djRuZHEzMTRjMnM1YzI4cjo5M2I3OGJjODhiZTkwZDkzYWMyODJlNTBhZTU2OWZkZA==. The full header you present for authentication and authorization is:\n\nAuthorization: Basic djRuZHEzMTRjMnM1YzI4cjo5M2I3OGJjODhiZTkwZDkzYWMyODJlNTBhZTU2OWZkZA==\n#### Tokenization Keys\n\nA [tokenization key](/braintree/docs/guides/authorization/tokenization-key/) is a lightweight, reusable value that can authorize your client to tokenize payment methods. You can [view your tokenization keys in the Control Panel](/braintree/articles/control-panel/important-gateway-credentials#tokenization-keys). To authorize using a tokenization key, pass it in the Authorization header:\n\nAuthorization: Bearer YOUR_TOKENIZATION_KEY\n#### Authorization Fingerprints\n\nAnother way to authenticate from your client is via an authorization fingerprint from a [client token](/braintree/docs/guides/authorization/client-token). A client token contains an authorization fingerprint, which is a signed [JWT](https://en.wikipedia.org/wiki/JSON_Web_Token), and is generated on your server with a lifetime of 24 hours. To obtain an authorization fingerprint you must Base64 decode a client token, the decoded client token will contain an authorizationFingerprint value, which can then be passed in the Authorization header.\n\nFor instance, once you obtain a client token, it can be decoded:\n\necho -n YOUR_CLIENT_TOKEN | base64 -DThis will produce a JSON value, similar to this:\n\n\n### Response\n```json\n{\n  \"version\": \"2\",\n  \"environment\": \"sandbox\",\n  \"authorizationFingerprint\": \"YOUR_AUTHORIZATION_FINGERPRINT\"\n}\n```\nYour client is responsible for obtaining an authorization fingerprint from your server and can pass it in the Authorization header:\n\nAuthorization: Bearer YOUR_AUTHORIZATION_FINGERPRINT\n#### Braintree Auth\n\n(This is currently in closed beta). To use [Braintree Auth](https://developers.braintreepayments.com/guides/braintree-auth/overview) credentials, you must obtain an access token via the [OAuth flow](https://developers.braintreepayments.com/guides/braintree-auth/oauth-flow/node#getting-an-access-token). When you have an access token, use it via the Authorization header:\n\nAuthorization: Bearer YOUR_ACCESS_TOKEN\n### The Braintree-Version Header\n\nYou MUST provide a Braintree-Version header with a date in the format YYYY-MM-DD. We recommend using the date on which you begin integrating with the GraphQL API.\n\nBraintree-Version: 2019-01-01\n### The Content-Type Header\n\nThe content type of a query MUST be application/json.\n\nContent-Type: application/json\n### The Message Body\n\nThe message body MUST be a JSON object. It MUST contain a query key and MAY contain a variables key.\n\nThe value for query MUST be a single [JSON string](https://tools.ietf.org/html/rfc7159#section-7) containing a well-formed GraphQL document (query or mutation).\n\nIf you reference variables in your GraphQL document, the value for variables MUST be a JSON object containing the key/value pairs for each variable.\n\n\n### Variables\n```json\n{\n  \"query\": \"a GraphQL document goes here that references $var1, $var2, and $var3\",\n  \"variables\": {\n    \"var1\": 10,\n    \"var2\": {\n      \"some\": \"data\",\n      \"for\": \"var2\"\n    },\n    \"var3\": [\n      \"a\",\n      \"list\",\n      \"of\",\n      \"values\"\n    ]\n  }\n}\n```\n\n## Your First Request\n\nThe simplest request is ping. It is mainly useful to ensure you understand how to generate well-formed requests.\n\nHere's the GraphQL query:\n\n\n\n### Query\n```graphql\nquery {\n  ping\n}\n\n```\n\nTo send that to our API, it has to be wrapped in a JSON object with a query key:\n\n\n### JSON\n```json\n{\n  \"query\": \"query { ping }\"\n}\n```\nAnd here's how it all fits together, using curl :\n\ncurl -H 'Authorization: Basic BASE64_ENCODED(PUBLIC_KEY:PRIVATE_KEY)' -H 'Braintree-Version: 2019-01-01' -H 'Content-Type: application/json' -X POST https://payments.sandbox.braintree-api.com/graphql -d '{\"query\": \"query { ping }\"}'You should receive this response:\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"ping\": \"pong\"\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}\n```\n\n## A More Interesting Request\n\nHere is a typical request body for the chargePaymentMethod mutation (Note: we have added newlines for readability but normally, [JSON strings](https://tools.ietf.org/html/rfc7159#section-7) MUST escape newlines):\n\n\n### Request,Body\n```json\n{\n  \"query\": \"mutation chargePaymentMethod($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }\",\n  \"variables\": {\n    \"input\": {\n      \"paymentMethodId\": \"PAYMENT_METHOD_ID\",\n      \"transaction\": {\n        \"amount\": \"11.23\"\n      }\n    }\n  }\n}\n```\nPer standard GraphQL, the input key in the variables section binds to the $input variable defined by the mutation in the query section and should represent the ChargePaymentMethodInput type.\n\n\n### Two Mutations In One Call\n\nBy using [GraphQL aliases](https://graphql.org/learn/queries/#aliases), we can make multiple charges in a single call to the API:\n\n\n### Request,Body\n```json\n{\n  \"query\": \"mutation twoChargesAtOnce($tx1: ChargePaymentMethodInput!, $tx2: ChargePaymentMethodInput!) { firstTransaction: chargePaymentMethod(input: $tx1) { transaction { amount { value currencyIsoCode } } } secondTransaction: chargePaymentMethod(input: $tx2) { transaction { amount { value currencyIsoCode } } } }\",\n  \"variables\": {\n    \"tx1\": {\n      \"paymentMethodId\": \"fake-valid-visa-nonce\",\n      \"transaction\": {\n        \"amount\": \"11.25\"\n      }\n    },\n    \"tx2\": {\n      \"paymentMethodId\": \"fake-valid-amex-nonce\",\n      \"transaction\": {\n        \"amount\": \"11.23\"\n      }\n    }\n  }\n}\n```\n\n### Response\n```json\n{\n  \"data\": {\n    \"firstTransaction\": {\n      \"transaction\": {\n        \"amount\": {\n          \"value\": \"11.25\",\n          \"currencyIsoCode\": \"USD\"\n        }\n      }\n    },\n    \"secondTransaction\": {\n      \"transaction\": {\n        \"amount\": {\n          \"value\": \"11.23\",\n          \"currencyIsoCode\": \"USD\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"TdTMiKZ1YBlBzSxLHSTEAQ1y3P3UbZCZue0NuDz4yLReE0_09dBOGg==\"\n  }\n}\n```\n\n## Understanding Responses\n\nA response from the GraphQL API will always return with HTTP status 200. The JSON body of the response explains whether an error occurred. Because you can send multiple queries and mutations in a single request, and because GraphQL includes the concept of a \"partial success\", the request may contain a mix of data and error messages. The body is always a JSON object and MAY include any of the three top-level keys: data, errors, and extensions.\n\n\n### Data\n\nA successful query MUST return a JSON object with a data key whose value is a JSON object with the data you requested. Each key in the data object will exactly match those specified in the query.\n\n\n### Errors\n\nUnlike a conventional REST API, GraphQL APIs do not rely on HTTP status codes to signal request outcomes. Our GraphQL API always return a JSON body with the 200 status code, even when there are errors.\n\nIf an error occurred, the response body MUST include a top-level errors array that describes the error or errors. For example, the response for charging a payment method with an invalid credit card number would be:\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"chargePaymentMethod\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \"Unknown or expired single-use payment method.\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 7\n        }\n      ],\n      \"path\": [\n        \"chargePaymentMethod\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"91565\",\n        \"inputPath\": [\n          \"input\",\n          \"paymentMethodId\"\n        ]\n      }\n    }\n  ],\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}\n```\nAn element of the errors array [follows the GraphQL spec](https://graphql.github.io/graphql-spec/June2018/#sec-Errors) and will have the following values:\n\n\n- message: The human-readable error message. This value is not intended to be parsed and may change at any time.\n- locations: An array of{ \"line\": x, \"column\": y }objects that describe where the error was detected during parsing of the GraphQL query. This is typically only used by interactive viewers such as[GraphiQL](https://github.com/graphql/graphiql), including our[API Explorer](/braintree/graphql/explorer/).\n- path: The GraphQL query or mutation causing the error.\n- extensions: Additional information about the error including...\n- errorType: A deprecated field, please refer to errorClass instead.\n- errorClass: The classification of the error. Can be one of...\n- AUTHENTICATION\n- AUTHORIZATION\n- INTERNAL\n- UNSUPPORTED_CLIENT\n- NOT_FOUND\n- NOT_IMPLEMENTED\n- RESOURCE_LIMIT\n- SERVICE_AVAILABILITY\n- VALIDATION\n\n\n- legacyCode: A unique code identifying the error, which can be used to look it up[in our documentation](/braintree/docs/reference/general/validation-errors/all)\n- inputPath: The input field responsible for the error.\n\n\n\nErrors can manifest as GraphQL validation errors (e.g. provided a string for an integer field), Braintree validation errors (e.g. invalid credit card number), or errors reflecting upstream issues.\n\nIt is possible to have partially successful responses, where both a partially populated data object and errors are returned. If errors prevent a field in your query from resolving, the field in the data object will be returned with the value null and relevant errors will be in the error object.\n\n\n### Extensions\n\nThe API response MUST contain an extensions object. This object contains at least a requestId entry that is unique to the request and useful to Braintree Support should you need help debugging a request.\n\n\n## Timeouts\n\nWhen using the GraphQL API, keep in mind that some requests (like creating transactions) can take longer than expected since they rely on communicating with a payment processor. We set a recommend setting a timeout of 60 seconds to accommodate for this. If you do not want to wait this long, you can set a custom timeout via the client you are using to form a request to the GraphQL API. However, if this timeout is less than 60 seconds, your client may trigger a timeout exception and you may not see the result of the request.\n\nFor example, let's say you set the timeout to 10 seconds, and you create a transaction request. If the request has not completed successfully at 10 seconds, your client will timeout. However, if the transaction then completes successfully at 19 seconds, the customer will be charged, but you will not receive any notification of this. You will need to search for the transaction to confirm if it was created and verify its status.\n\n\n## Using GraphiQL\n\nWe've integrated the [GraphiQL](https://github.com/graphql/graphiql) project into our GraphQL documentation to allow you to explore the API in your browser using your sandbox API credentials. GraphiQL is a graphical interactive IDE for exploring and playing around with GraphQL APIs.\n\nYou can use it via the [API Explorer](/braintree/graphql/explorer) on this site, or with the desktop application, to interact with the API in real time.\n\nTo access the API, authenticate with your sandbox login credentials. From there, you can browse the schema documentation and live code queries and mutations. If you don't have a sandbox account, you can [create one](https://www.braintreepayments.com/sandbox) and it will be immediately available for use.\n\nRather than passing in a JSON-formatted string, as we show in the examples above, the GraphiQL explorer expects plain GraphQL queries and JSON-formatted variables to be entered in separate windows. Unless we are providing curl examples, we will follow this \"plain\" GraphQL formatting in our guides, so you can easily test-drive queries and mutations in GraphiQL. Just remember to use JSON-formatting when handling your own HTTP requests outside of GraphiQL.\n\n"},"routes/braintree/graphql":null},"actionData":null,"errors":null},"future":{"v2_dev":true,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":false,"v2_meta":true,"v2_normalizeFormMethod":false,"v2_routeConvention":false}};</script><script nonce="w+x+7Y0dMo6W1GGmMA03Wx+uoXKJvIo0dhNN/p0RBDW8LE74" type="module" async="">import "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/manifest-D829D641.js";
import * as route0 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js";
import * as route1 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql-5WTNGTXD.js";
import * as route2 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql/$-AOXYBYSX.js";
window.__remixRouteModules = {"root":route0,"routes/braintree/graphql":route1,"routes/braintree/graphql/$":route2};

import("https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js");</script></body></html>