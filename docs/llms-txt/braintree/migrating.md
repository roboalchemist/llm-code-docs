# Source: https://developer.paypal.com/braintree/graphql/guides/migrating/#api-concepts-vs--sdk-concepts

# Source: https://developer.paypal.com/braintree/graphql/guides/migrating/#migrating-an-integration-to-use-the-braintree-graphql-api

# Source: https://developer.paypal.com/braintree/graphql/guides/migrating/#legacy-vs--graphql-ids

# Source: https://developer.paypal.com/braintree/graphql/guides/migrating/

<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Braintree Graphql Docs</title><meta name="description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="keywords" content=""/><link rel="canonical" href="https://developer.paypal.com/braintree/graphql/guides/migrating/"/><meta property="og:type" content="website"/><meta property="og:url" content="https://developer.paypal.com/braintree/graphql/guides/migrating/"/><meta property="og:title" content="Braintree Graphql Docs"/><meta property="og:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta property="og:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_ogfallback.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:url" content="https://developer.paypal.com/braintree/graphql/guides/migrating/"/><meta name="twitter:title" content="Braintree Graphql Docs"/><meta name="twitter:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="twitter:site" content="@paypaldev"/><meta name="twitter:creator" content="@paypaldev"/><meta name="twitter:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_twitterfallback.png"/><meta name="twitter:image:alt" content="Black and White PayPal Logo"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/variables-VGGZY4JK.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/footer-NG55V3IZ.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/header-RODVFCUO.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/sideBar-P2XH7TE5.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/app-AVOPA6BH.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/codeblock-DADUWXNB.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/prism-NEYM7EL4.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/components-D2NYPEGL.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/index-2Z52PXGI.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/fonts-and-normalize/1-1-0/fonts-and-normalize.min.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/icon-font/0-0-1/icon-font.min.css"/><link rel="icon" href="https://www.paypalobjects.com/btdevdoc/braintree/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/articlesAndDocs-R4V4BBLG.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/markdown-content-4BSNPPUP.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/graphqlFooter-VDPFDO2M.css"/></head><body><header class="header"><div class="nav--global__wrapper" id="nav-global-wrapper"><a class="logo logo--articles" aria-label="Braintree a PayPal Service" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,descriptor=braintree logo,container=header,origin=support articles,intent=view support articles landing page,href=https://articles.braintreepayments.com" pa-marked="1" href="/braintree/graphql/"><span class="logo--fallback">Braintree a PayPal Service</span><span class="nav-logo"><img src="https://www.paypalobjects.com/paypal-ui/logos/svg/braintree-pp-color.svg" alt="PayPal Braintree logo" style="width:200px;height:40px"/></span></a><nav class="nav--global"><span class="mobile__nav-logo mobile__nav-item mobile__nav-left"><img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="PayPal Braintree Mobile logo" style="width:40px;height:40px;fill:#fff"/></span><span class="mobile__nav--global-active-category mobile__nav-item mobile__nav-center"><a class="mobile__nav-active-section-container"><span class="mobile__nav-active-section">API &amp; In-Person</span><span class="mobile__nav-dropdown-chevron"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" width="40px" height="40px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 18" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.291 6.293a1 1 0 0 1 1.415 0l3.293 3.293 3.293-3.293a1 1 0 1 1 1.414 1.414L9.713 11.7a1.01 1.01 0 0 1-1.428 0L4.29 7.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></span></a><div class="mobile__nav-active-tier">Migrating from a Server SDK Integration</div></span><ul class="nav--global-sites mobile__nav-item mobile__nav-right"><span class="nav--global-sites__items nav--global-sites__items-hidden"><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_0" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=SDK Docs,intent=view SDK Docs landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/docs/">SDK Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_1 nav--global-sites__link--active" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=API &amp; In-Person Docs,intent=view API &amp; In-Person Docs landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/graphql/">API &amp; In-Person Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_2" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=Support Articles,intent=view Support Articles landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/articles/">Support Articles</a></li></span><li class="nav--global-sites__item"><button id="searchOpenTrigger" class="search__trigger nav--link" aria-label="Hit enter to search" data-track-event-properties="project=docs&amp;journey,context=search,component=button,action=click,intent=open search,descriptor=Start typing to search,origin=sites search&amp;" pa-marked="1"><svg class="search__trigger-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Open search icon</title><path d="M6.99994 13.988C8.33314 13.9878 9.63816 13.6042 10.7595 12.883L17.2456 19.3688L19.368 17.2466L12.885 10.7639C13.7224 9.45534 14.1003 7.90523 13.959 6.35811C13.8178 4.811 13.1654 3.35494 12.1049 2.21967C11.0444 1.08439 9.63613 0.334526 8.1022 0.0883654C6.56828 -0.157795 4.99605 0.113766 3.63358 0.860206C2.2711 1.60665 1.19592 2.78547 0.577676 4.21071C-0.0405686 5.63594 -0.16669 7.22645 0.219211 8.73131C0.605111 10.2362 1.48107 11.5697 2.70888 12.5216C3.93669 13.4734 5.44647 13.9893 7.00002 13.988H6.99994ZM6.99994 1.98801C7.98884 1.98801 8.95554 2.28125 9.77779 2.83066C10.6 3.38007 11.2409 4.16096 11.6193 5.07459C11.9978 5.98822 12.0968 6.99355 11.9039 7.96346C11.7109 8.93336 11.2347 9.82428 10.5355 10.5235C9.83621 11.2228 8.9453 11.699 7.97539 11.8919C7.00549 12.0849 6.00015 11.9858 5.08652 11.6074C4.17289 11.229 3.392 10.5881 2.84259 9.76586C2.29318 8.94361 1.99994 7.97691 1.99994 6.98801C2.0015 5.6624 2.52878 4.39154 3.46613 3.4542C4.40347 2.51685 5.67433 1.98957 6.99994 1.98801Z" fill="#dedede"></path></svg><span class="search__trigger-text">Search</span></button></li><button data-testid="sidebar-button" class="sidebar-menu-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path d="M5 5a1 1 0 0 0 0 2h14a1 1 0 1 0 0-2H5zm-1 7a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1z" data-ppui="true"></path></svg></span></button></ul><div class="header--aside"><span class="nav--global-sites__item"><a class="nav--global-sites__link" pa-marked="1" href="/braintree/help">Get Help</a></span><span class="nav--global-sites__item" id="contact-sales-nav"><a href="https://www.braintreepayments.com/contact/sales" class="nav--global-sites__link" pa-marked="1">Contact Sales</a></span><div class="login-buttons"><span class="nav--global-sites__item" id="create-account_button"><a class="nav--global-sites__link" pa-marked="1" target="_blank" rel="noreferrer" href="https://www.braintreepayments.com/sandbox" aria-label="Sign up for a sandbox account">Create Account</a></span><span class="nav--global-sites__item"><a class="nav--global-sites__link" href="/braintree/api/auth/connect" aria-label="Log into sandbox" rel="noreferrer" pa-marked="1">Login</a></span></div><div class="header__dropdown ab-control-panel-dropdown-a"><button class="dropdown__title button button--small hamburger-small" style="margin-bottom:0" aria-label="Access production control panel" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown,action=click,container=header,descriptor=more icon,intent=choose a control panel link" pa-marked="1"><svg class="dropdown__icon--closed" width="4" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" fill="#fff"></path></svg></button><div class="dropdown__content"><div class="dropdown__section"><h3 class="dropdown__section-title">Production Control Panel</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreegateway.com/login" target="_blank" aria-label="Log into your production account" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=log in,intent=view production login,href=https://www.braintreegateway.com/login" pa-marked="1" rel="noreferrer">Login</a></li></ul><h3 class="dropdown__section-title">Become a Merchant</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreepayments.com/contact/sales" aria-label="Contact sales on the website" target="_blank" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=contact sales,intent=view the sales contact page,href=https://www.braintreepayments.com/contact/sales" pa-marked="1" rel="noreferrer">Contact Sales</a></li></ul></div></div></div></div></nav></div><nav class="nav--local"><ul class="nav__list" id="main-nav-links"><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_0 is-active" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/graphql/">Online</a></li></div></div><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_1" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/in-person/">In-Person</a></li></div></div></ul></nav></header><div class="flex-body"><div class="flex-sidebar"><div><aside class="sidebar" data-track-event-context="left-hand nav"><div class="sidebar__inner"><div class="menu-group"><ul class="menu"><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/#about-graphql"><button class="menu__link is-active" pa-marked="1">Get Started</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#about-graphql"><button class="menu__link" pa-marked="1">About GraphQL</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#basic-concepts"><button class="menu__link" pa-marked="1">Basic Concepts</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#relay"><button class="menu__link" pa-marked="1">Relay</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/concepts/#the-lifecycle-of-a-payment"><button class="menu__link" pa-marked="1">Payment API Concepts</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#the-lifecycle-of-a-payment"><button class="menu__link" pa-marked="1">The Lifecycle of a Payment</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#payment-methods"><button class="menu__link" pa-marked="1">Payment Methods</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#transactions"><button class="menu__link" pa-marked="1">Transactions</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#customers"><button class="menu__link" pa-marked="1">Customers</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/making_api_calls/#endpoints"><button class="menu__link" pa-marked="1">Making API Calls</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#endpoints"><button class="menu__link" pa-marked="1">Endpoints</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#request-requirements"><button class="menu__link" pa-marked="1">Request Requirements</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#your-first-request"><button class="menu__link" pa-marked="1">Your First Request</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#a-more-interesting-request"><button class="menu__link" pa-marked="1">A More Interesting Request</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#understanding-responses"><button class="menu__link" pa-marked="1">Understanding Responses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#timeouts"><button class="menu__link" pa-marked="1">Timeouts</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#using-graphiql"><button class="menu__link" pa-marked="1">Using GraphiQL</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/collecting_payment_information/#the-client-side-integration"><button class="menu__link" pa-marked="1">Collecting Payment Information</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#the-client-side-integration"><button class="menu__link" pa-marked="1">The Client-Side Integration</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#requesting-a-client-token"><button class="menu__link" pa-marked="1">Requesting a Client Token</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#use-the-client-token-to-get-a-payment-method"><button class="menu__link" pa-marked="1">Use the Client Token to Get a Payment Method</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#use-the-payment-method"><button class="menu__link" pa-marked="1">Use the Payment Method</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/customers/#create"><button class="menu__link" pa-marked="1">Customers</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#create"><button class="menu__link" pa-marked="1">Create</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#update"><button class="menu__link" pa-marked="1">Update</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#delete"><button class="menu__link" pa-marked="1">Delete</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#search"><button class="menu__link" pa-marked="1">Search</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#errors"><button class="menu__link" pa-marked="1">Errors</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/transactions/#creating-transactions"><button class="menu__link" pa-marked="1">Transactions</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#creating-transactions"><button class="menu__link" pa-marked="1">Creating Transactions</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#reversing-or-refunding-a-transaction"><button class="menu__link" pa-marked="1">Reversing or Refunding a Transaction</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#searching-for-transactions"><button class="menu__link" pa-marked="1">Searching For Transactions</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/payment_methods/#obtain-a-single-use-payment-method--nonce"><button class="menu__link" pa-marked="1">Payment Methods</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#obtain-a-single-use-payment-method--nonce"><button class="menu__link" pa-marked="1">Obtain A Single-Use Payment Method (Nonce)</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#vaulting-the-payment-method"><button class="menu__link" pa-marked="1">Vaulting The Payment Method</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#verify"><button class="menu__link" pa-marked="1">Verify</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#update"><button class="menu__link" pa-marked="1">Update</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#find"><button class="menu__link" pa-marked="1">Find</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#search"><button class="menu__link" pa-marked="1">Search</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#delete"><button class="menu__link" pa-marked="1">Delete</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/node_query/#fetching-transactions"><button class="menu__link" pa-marked="1">Fetching Objects via the Node Query</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/node_query/#fetching-transactions"><button class="menu__link" pa-marked="1">Fetching Transactions</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/search/#constructing-searches"><button class="menu__link" pa-marked="1">Searching for Objects</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/search/#constructing-searches"><button class="menu__link" pa-marked="1">Constructing Searches</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/search/#understanding-your-results"><button class="menu__link" pa-marked="1">Understanding Your Results</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/connections/#the-contents-of-a-connection"><button class="menu__link" pa-marked="1">Pagination and Relay Connections</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#the-contents-of-a-connection"><button class="menu__link" pa-marked="1">The Contents of a Connection</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#simple-use"><button class="menu__link" pa-marked="1">Simple Use</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#complex-connections"><button class="menu__link" pa-marked="1">Complex Connections</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/request_batching/#responses"><button class="menu__link" pa-marked="1">Request Batching</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#responses"><button class="menu__link" pa-marked="1">Responses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#when-to-use-request-batching"><button class="menu__link" pa-marked="1">When to use Request Batching</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#prior-art"><button class="menu__link" pa-marked="1">Prior Art</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#more-considerations-and-limitations"><button class="menu__link" pa-marked="1">More Considerations and Limitations</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#motivation"><button class="menu__link" pa-marked="1">Motivation</button></a></div></li></ul></li><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/migrating/#legacy-vs--graphql-ids"><button class="menu__link is-active" pa-marked="1">Migrating from a Server SDK Integration</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#legacy-vs--graphql-ids"><button class="menu__link" pa-marked="1">Legacy vs GraphQL IDs</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#migrating-an-integration-to-use-the-braintree-graphql-api"><button class="menu__link" pa-marked="1">Migrating an Integration to Use the Braintree GrapqhQL API</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#api-concepts-vs--sdk-concepts"><button class="menu__link" pa-marked="1">API concepts vs SDK Concepts</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/testing/#test-payment-methods"><button class="menu__link" pa-marked="1">Testing in Sandbox</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#test-payment-methods"><button class="menu__link" pa-marked="1">Test Payment Methods</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#testing-different-transaction-statuses"><button class="menu__link" pa-marked="1">Testing Different Transaction Statuses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#forcing-settlement-of-transactions"><button class="menu__link" pa-marked="1">Forcing Settlement of Transaction</button></a></div></li></ul></li></ul></div></div></aside></div></div><div id="contentContainer" class="flex-content"><main id="main-section" class="documentation-content__wrapper"><article class="main-content js-outlet docs--constrained"><div class="subtitle-container"><div class="breadcrumb breadcrumbInner"><div class="breadcrumbItem"><a class="breadcrumbLink"></a><span style="padding:0 4px">/</span></div><div class="breadcrumbItem"><a href="/braintree/graphql/guides/migrating/" class="activeBreadcrumbLink">Migrating from a Server SDK Integration</a></div></div><div class="markdownopts-container"><div class="markdownopts-face-container"><button class="markdownopts-face-button"><svg fill="#000000" width="16" height="16" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg" style="width:16px;height:16px;margin-right:8px"><title>OpenAI icon</title><path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"></path></svg>Ask ChatGPT</button><button class="markdownopts-chevron-button" data-testid="chevron-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" style="width:16px;height:16px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.292 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 0 1 1.414 1.414L12.713 16.7a1.01 1.01 0 0 1-1.428 0L4.292 9.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></button></div></div></div><div class="main-article-content"><div class="ecmRichText" style="margin-bottom:0px"><h1><span>Migrating from a Server SDK Integration</span></h1><p class="markdown-p"><span>The GraphQL API uses a different format for IDs than in previous Braintree APIs.</span></p><p class="markdown-p"><span>
    If you plan to migrate an existing
    </span><a href="/braintree/docs/start/overview#key-concepts"><span>SDK integration</span></a><span> to an integration with
    the GraphQL API, you will also need to migrate from using Braintree legacy IDs to using GraphQL
    IDs. This guide details a typical migration path to achieve this.
</span></p><h2 id="legacy-vs--graphql-ids" class="test_h2 markdown-h2"><span>Legacy vs. GraphQL IDs</span><a class="icon icon--link hash-link" href="#legacy-vs--graphql-ids" aria-label="Legacy vs. GraphQL IDs"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
    Legacy IDs refer to the IDs currently accepted and returned by the Braintree SDKs. GraphQL IDs
    represent the same entities in the Braintree system, but include more information about the entity
    that make the GraphQL API more powerful. For example, instances of different domain objects may
    have the same legacy ID (e.g. a Transaction and a PaymentMethod may share an ID). GraphQL IDs are
    unique across all domains.
</span></p><p class="markdown-p"><span>
    Types that implement the </span><code><span>Node</span></code><span> interface in the GraphQL API contain a
    </span><code><span>legacyId</span></code><span> field for the purposes of migrating from those legacy IDs to the GraphQL
    IDs. We also provide a query, </span><code><span>idFromLegacyId</span></code><span>, for translating a legacy ID to a
    GraphQL ID.
</span></p><h2 id="migrating-an-integration-to-use-the-braintree-graphql-api" class="test_h2 markdown-h2"><span>Migrating an Integration to Use the Braintree GraphQL API</span><a class="icon icon--link hash-link" href="#migrating-an-integration-to-use-the-braintree-graphql-api" aria-label="Migrating an Integration to Use the Braintree GraphQL API"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><ol class="list list--num"><li><span>
        Update your database schema to store an additional "GraphQL ID" field alongside any ID fields
        that you currently store from Braintree. For example, if you have a
        </span><code><span>transactions</span></code><span> table with an </span><code><span>id</span></code><span> field, you should add a column or field
        named </span><code><span>graphql_id</span></code><span>.
    </span></li><li><span>
        Build your </span><a href="/braintree/graphql/guides/"><span>Braintree GraphQL Integration</span></a><span>.
        </span><ol class="list list--num"><li><span>
                When reading an ID from your database, prefer to read the </span><code><span>graphql_id</span></code><span> instead of
                </span><code><span>id</span></code><span>.
            </span></li><li><span>
                If the </span><code><span>graphql_id</span></code><span> is not set in your database, translate your
                </span><code><span>id</span></code><span> to a GraphQL ID. You can either use the </span><code><span>idFromLegacyId</span></code><span> query to
                convert IDs, or read the </span><code><span>graphql_id</span></code><span> field on supported objects in the legacy
                SDK integration. Store this id as </span><code><span>graphql_id</span></code><span> in your database, and use it when
                providing </span><code><span>id</span></code><span> in any GraphQL mutation or query.
            </span></li></ol></li><li><span>
        Always request both the </span><code><span>id</span></code><span> and </span><code><span>legacyId</span></code><span> in your API requests and
        dual-write these IDs in your local database. This will give you the flexibility to seamlessly
        switch back to your SDK integration, should the need arise.
    </span></li><li><span>
        After you successfully launch your Braintree GraphQL API integration, you can back-fill your
        legacy IDs with GraphQL IDs using the </span><code><span>idFromLegacyId</span></code><span> query.
    </span></li><li><span>
        Once your GraphQL integration is stable, you can stop requesting and writing the
        </span><code><span>legacyId</span></code><span>. From now on, use only the GraphQL IDs from your new integration.
    </span></li></ol><h3 id="reading-thegraphql-idfield" class="test_h3 markdown-h3"><span>Reading thegraphql_idField</span><a class="icon icon--link hash-link" href="#reading-thegraphql-idfield" aria-label="Reading thegraphql_idField"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    The server-side SDKs include a </span><code><span>graphql_id</span></code><span> field on the
    </span><a href="/braintree/docs/reference/response/credit-card-verification#graphql_id"><code><span>CreditCardVerification</span></code></a><span>, </span><a href="/braintree/docs/reference/response/customer#graphql_id"><code><span>Customer</span></code></a><span>, </span><a href="/braintree/docs/reference/response/dispute#graphql_id"><code><span>Dispute</span></code></a><span>, and
    </span><a href="/braintree/docs/reference/response/transaction#graphql_id"><code><span>Transaction</span></code></a><span>
    objects. This value is already translated and must not be translated using the
    </span><code><span>idFromLegacyId</span></code><span> query.
</span></p><h3 id="using-theidfromlegacyidquery" class="test_h3 markdown-h3"><span>Using theidFromLegacyIdQuery</span><a class="icon icon--link hash-link" href="#using-theidfromlegacyidquery" aria-label="Using theidFromLegacyIdQuery"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    The </span><code><span>idFromLegacyId</span></code><span> query takes a legacy ID and the object type and returns its
    GraphQL ID, for use in the GraphQL API.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">query IdFromLegacyId($legacyId: ID!, $type: LegacyIdType!) {
  idFromLegacyId(legacyId: $legacyId, type: $type)
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;legacyId&quot;: &quot;vsx5py3&quot;,
  &quot;type&quot;: &quot;TRANSACTION&quot;
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: { &quot;idFromLegacyId&quot;: &quot;dHJhbnNhY3Rpb25fdnN4NXB5Mw&quot; },
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;S9mAxXwoOWeQ8GOZCVTxriMrNmcSWUeAByLYcBTyt-4iHC4G_kOgjQ==&quot;
  }
}</code></pre></div></div></div><p class="markdown-p"></p><h3 id="graphql-id-format" class="test_h3 markdown-h3"><span>GraphQL ID Format</span><a class="icon icon--link hash-link" href="#graphql-id-format" aria-label="GraphQL ID Format"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    In order to avoid interruptions in processing, it's best to make minimal assumptions about what
    GraphQL IDs will look like in the future.
    </span><em><span>The format of the GraphQL ID is not a contract. While any given ID will never change, the new
        IDs may follow a different format in the future</span></em><span>.
</span></p><p class="markdown-p"><span>
    The length and format of these identifiers – including payment method tokens and transaction IDs –
    can change at any time, with or without advance notice. However, it is safe to assume that they
    will remain 1 to 256 characters (alphanumeric, dashes, and underscores).
</span></p><h2 id="api-concepts-vs--sdk-concepts" class="test_h2 markdown-h2"><span>API concepts vs. SDK concepts</span><a class="icon icon--link hash-link" href="#api-concepts-vs--sdk-concepts" aria-label="API concepts vs. SDK concepts"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>Some key terms and modeling differ between the API and SDKs.</span></p><h3 id="nonces-vs--single-use-payment-methods" class="test_h3 markdown-h3"><span>Nonces vs. single-use payment methods</span><a class="icon icon--link hash-link" href="#nonces-vs--single-use-payment-methods" aria-label="Nonces vs. single-use payment methods"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    The SDKs distinguish between nonces (single-use payment data collected from the client) and
    payment methods (vaulted payment data that may be re-used).
</span></p><p class="markdown-p"><span>
    The API refers all payment data as a payment methods. Payment methods can be single-use (the
    equivalent of a nonce in the SDK) or multi-use (the equivalent of a vaulted payment method in the
    SDK). The </span><code><span>usage</span></code><span> field on a payment method indicates whether it is single- or
    multi-use.
</span></p><style data-emotion="css 19859z6-text_body-legacy_table-text_body_strong-align_start-w100">.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100{color:#202020;font-family:PayPalOpen-Regular,"Helvetica Neue",Arial,sans-serif;font-size:0.875rem;line-height:1.125rem;font-weight:400;border-spacing:0;border-collapse:separate;text-align:start;width:100%;}@media screen and (max-width: 752px){.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100{font-size:min(0.875rem, 28px);line-height:min(1.125rem, 36px);}}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr{background-color:#f4f4f7;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr >td,.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr >th{border-bottom:0.0625rem solid #545d68;border-top:0.0625rem solid transparent;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr >td{padding:0.75rem;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr >td:first-of-type{padding-left:1rem;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr >td:last-of-type{padding-right:1rem;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr >th{padding:0.75rem;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >tbody >tr >th:first-of-type{padding-left:1rem;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >thead>tr{background-color:#1e2023;white-space:nowrap;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >thead>tr >th{position:relative;color:#202020;font-family:PayPalOpen-Bold,"Helvetica Neue",Arial,sans-serif;font-size:0.875rem;line-height:1.125rem;font-weight:700;border-bottom:0.0625rem solid #545d68;padding:0.75rem;}@media screen and (max-width: 752px){.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >thead>tr >th{font-size:min(0.875rem, 28px);line-height:min(1.125rem, 36px);}}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >thead>tr >th:last-of-type{padding-right:1rem;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 >thead>tr >th:first-of-type{padding-left:1rem;}.css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100 th{text-align:start;}</style><table data-ppui-info="table_3.22.1__7.46.3" class="ppvx_table ppvx_table-responsive-sm ecmTable graphqlTable css-19859z6-text_body-legacy_table-text_body_strong-align_start-w100"><thead><tr><th><span>SDK</span></th><th><span>API</span></th></tr></thead><tbody><tr><td><span>nonce</span></td><td><span>single-use payment method</span></td></tr><tr><td><span>payment method</span></td><td><span>multi-use payment method</span></td></tr></tbody></table><h3 id="creating-transactions" class="test_h3 markdown-h3"><span>Creating transactions</span><a class="icon icon--link hash-link" href="#creating-transactions" aria-label="Creating transactions"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    In the SDKs, the </span><code><span>sale</span></code><span> method authorizes a payment method and optionally captures the
    transaction via the </span><code><span>submit_for_settlement</span></code><span> flag. The API provides mutations to
    authorize or charge payment methods, which return transactions. It also provides mutations for
    capturing authorized transactions.
</span></p><p class="markdown-p"><span>Here is an example of a sale transaction in the Ruby SDK:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Ruby SDK</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre><code class="javascript">result = gateway.transaction.sale(
  :amount =&gt; &quot;10.00&quot;,
  :payment_method_nonce =&gt; nonce_from_the_client,
  :options =&gt; {
    :submit_for_settlement =&gt; true
  }
)</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ExampleCharge($input: ChargePaymentMethodInput!) {
  chargePaymentMethod(input: $input) {
    transaction {
      id
      status
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;paymentMethodId&quot;: &quot;nonce_from_the_client&quot;,
    &quot;transaction&quot;: { &quot;amount&quot;: &quot;10.00&quot; }
  }
}</code></pre></div></div></div><p class="markdown-p"></p><h3 id="accepting-payment-data-directly" class="test_h3 markdown-h3"><span>Accepting payment data directly</span><a class="icon icon--link hash-link" href="#accepting-payment-data-directly" aria-label="Accepting payment data directly"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><em><span>Note this guidance is only relevant to merchants who are in PCI scope and handle raw payment
        details.</span></em></p><p class="markdown-p"><span>
    The SDKs allow raw credit card details as input to </span><code><span>sale</span></code><span> and
    </span><code><span>vault</span></code><span> requests. The API only accepts raw payment details via the tokenization
    mutations. To charge or vault credit card details directly, tokenize and then use the resulting
    payment method in a vault or charge mutation.
</span></p></div><nav class="right-nav-container"><h4 class="right-nav-title">On this page</h4><ul class="right-nav-list"></ul></nav></div></article></main><div><footer class="footer wrap nocontent " data-track-event-context="footer"><div id="gqlFooter" data-testid="gqlFooter"><footer><div class="content"><div class="linksAndActions"><div class="as"><svg width="111" height="111" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="111" height="111" rx="16" fill="#1524D9"></rect><path d="M30.7 84h27.7C71.8 84 80 78.1 80 67.5c0-6.7-4.9-11.6-11.8-13.5 4.8-1.9 8.6-5.9 8.6-12.4C76.8 31.7 69.3 26 57 26H30.7v8.5h6.2v41h-6.2V84zm15.4-33.7V34.5H56c7.5 0 11.5 2.7 11.5 7.9 0 5.1-3.9 7.9-11.4 7.9h-10zm0 25.2v-17h10.7c9.2 0 13.9 3 13.9 8.5 0 5.6-4.4 8.5-13.2 8.5H46.1z" fill="#fff"></path></svg><div class="siteLinks"><a data-cy="footer-site-link-articles" href="/braintree/articles/">Support Articles</a><a data-cy="footer-site-link-sdk-docs" href="/braintree/docs/">SDK Docs</a><a data-cy="footer-site-link-in-person" href="/braintree/in-person/">In-Person</a><a target="_blank" rel="noopener noreferrer" href="https://www.braintreepayments.com/sandbox" data-cy="footer-site-link-sandbox">Sandbox</a><a target="_blank" rel="noopener noreferrer" href="https://braintree.github.io/" data-cy="footer-site-link-open">Open Source</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/braintree" data-cy="footer-site-link-github">GitHub</a><a target="_blank" rel="noopener noreferrer" href="https://www.paypal-status.com/product/production" data-cy="footer-site-link-status">API Status</a></div></div><div class="actions"><a href="https://developer.paypal.com/braintree/help?issue=GraphQL" class="footerButton" data-cy="footer-email-question-button" data-testid="footer-email-question-button" target="_blank" rel="noopener noreferrer"><div class="footerButtonContent"><div class="footerButtonTitle">Need help?</div>Get answers to your questions quickly</div><div class="footerButtonIcon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.464 5l-1.461 1.365L16.33 11H4v2h12.33l-4.328 4.635L13.463 19 20 12l-6.536-7z" fill="#BBB"></path></svg></div></a><a href="https://github.com/braintree/graphql-api/issues" class="footerButton" data-cy="footer-issue-button" data-testid="footer-issue-button" target="_blank" rel="noopener noreferrer"><div class="footerButtonContent"><div class="footerButtonTitle">Report a bug</div>Come across anything weird?</div><div class="footerButtonIcon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.464 5l-1.461 1.365L16.33 11H4v2h12.33l-4.328 4.635L13.463 19 20 12l-6.536-7z" fill="#BBB"></path></svg></div></a></div></div><nav class="linkWrapper"><a href="https://braintreepayments.com" data-cy="footer-link-marketing" class="footerLink">Braintreepayments.com</a><div class="footerLink legal">© 2008-<!-- -->2025<!-- --> Braintree, a service of PayPal, Inc. All rights reserved.<!-- --> <a href="https://braintreepayments.com/legal/braintree-privacy-policy" data-cy="footer-link-privacy">Privacy Policy</a> <!-- -->|<!-- --> <a href="https://braintreepayments.com/legal" data-cy="footer-link-legal">Legal</a></div></nav></div></footer></div></footer></div></div></div><script nonce="fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF">
            window.process = globalThis.process = {
              env: {
                NODE_ENV: "development" // or "production", depending on your environment
              }
            };
          </script>
      </script><script src="https://www.paypalobjects.com/pa/js/min/pa.js"></script><div data-testid="cookie_banner"><link rel="stylesheet" type="text/css" href="https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css"/><style nonce="fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF">@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, "Helvetica Neue", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }</style><div class="cdn-consent-css"><div class="ppui-theme theme_ppui_theme_tokens__1ozbsv90"><div id="ccpaCookieBanner" class="CookieBanner_container"><div class="CookieBanner_container_wrapper"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4" data-ppui-info=""><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z"></path></svg></span><div class="CookieBanner_content_wrapper"><div id="ccpaCookieContent_wrapper" class="CookieContent_wrapper"><h4 class="styles_text-title_medium__awycp4g CookieBanner_text" data-ppui-info="title-text" id="cookieTitle">If you accept cookies, we’ll use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. <a id="manageCookiesLink" href="https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US">Manage cookies and learn more</a></h4></div><div class="CookieBanner_buttonGroup"><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton" data-ppui-info="" id="acceptAllButton" tab-index="0">Accept</button><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton" data-ppui-info="" id="bannerDeclineButton" tab-index="0">Decline</button></div></div><button data-ppui-info="" class="styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon" type="button" id="bannerCloseButton"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf" data-ppui-info="" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z"></path></svg></span><span class="styles_screenreader__1p05eo10">Close</span></button></div></div></div></div><script nonce="fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF">(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window && window.fpti && window.PAYPAL && window.PAYPAL.analytics && window.PAYPAL.analytics.instance && window.PAYPAL.analytics.instance.options && window.PAYPAL.analytics.instance.options.request && window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() && getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem("isBannerClosed") || sessionStorage.getItem("isUserAccepted") || sessionStorage.getItem("isInvisibleBanner")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false && true && (navigator && !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false && true && (navigator && !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem("isUserAccepted")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem("isBannerClosed")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem("isInvisibleBanner")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti && window.fpti.page || window.location && window.location.href; queryParamters.component = window.fpti && window.fpti.comp; const eventSourceUrl = window.location && window.location.href; queryParamters.eventSourceUrl = eventSourceUrl && eventSourceUrl.split("?")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) => queryString += (index > 0 ? '&' : '') + key + "=" + btoa(queryParamters[key])); const endPoint = "https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState > 3 && xhr.status === 200) { try { if (xhr?.response && xhr.response != "OK") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length > 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) => {  if(e !== "www"){ subDomains.push("." + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource="cookieBanner"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable && getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState > 3 && xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:"cookieBanner"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { "accept" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, "decline" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false&performance=false&functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, "close" : { endPointSuffix : '&type=explicit_close&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton && cookieBanner && cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton && cookieBanner && cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton && cookieBanner && cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton && cookieBanner && cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi && cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += " ccpaHideCookieBannerMobile"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace("ccpaHideCookieBannerMobile",""); } }; document.body.addEventListener("focus", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = ""; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && cookieBanner.style.display != 'none') { if (bodyPaddingBottom === "" || (isPaddingBottomAdded && bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length > 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace("px", "")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded && bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded && cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return "true"; else if (navigator.cookieEnabled === true) return "false"; else return "undefined"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:"cookieBanner"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage && cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace("ccpaCookieBanner-acceptedAll",""); document.body.className = document.body.className.replace("top-cookie-banner-enabled",""); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi && getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner && cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) > (cookieBanner.getBoundingClientRect().top)) && !activeElement.parentElement.nodeName.includes("UL")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener("focusin", focusIn); } } if(addListener){ document.addEventListener("focusin",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() && !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- > 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() && document.getElementById('ccpaCookieBanner') && !document.body.className.includes("ccpaCookieBanner-acceptedAll")){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();</script></div><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-DWXUS3OJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-L5PH23AQ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6FIGYWP.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6PGNH2U.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-B6RWMYIW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-JWVH3LXD.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-6U42WDX3.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-YVSNDZ53.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J2GE73YK.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-5BT6OS7I.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-23AVEWBC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RNL33CPM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-KHGBJ4DZ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MV6WZZTV.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MGQUUIAL.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-4XUXT72V.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-7GGXQ4CC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ARCSJZ66.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-HUHQJMXM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V5GCSBYI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RTF7FTLH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-Y6FV67CR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-SDOOWKWW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ZAEIBDVB.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-H5OFEOJY.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AJAXRUVI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-XQKKFWZR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MZ7A5LCT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-M3EUWJZ6.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AGQ7GS2C.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V4QDYNUE.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-G6HOB2YT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TIBAJGV5.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-4BNLONG6.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-QPO3S2DS.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-C5EWQJ4M.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-WCFLXRHO.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TL4Q62UH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql-5WTNGTXD.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-N3FY5ECO.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql/$-AOXYBYSX.js"/><script nonce="fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF">window.__remixContext = {"url":"/braintree/graphql/guides/migrating/","state":{"loaderData":{"root":{"isLoggedIn":false,"_csrf":"4tVqnlMWyEV6IH5eDYA9+e0G/MfiggRAN16nE=","searchConfig":{"appId":"^@KGPPiC^4KSTT85","aKey":"GROm[oD;FA\\0OoH=Q\\2XhWaFQf2[hHqRRShLBK`FhH\u003c","BTDOCS_INDEX":"BTDOCS_BTDOCSNODEWEB"},"analytics":{"appName":"btdocsnodeweb","stock":"UA-37159521-1","exp":"UA-37159521-8"},"nonce":"fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF","cookieBannerInfo":{"css":"\u003clink rel=\"stylesheet\" type=\"text/css\" href=\"https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css\"/\u003e\u003cstyle nonce=\"fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF\"\u003e@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, \"Helvetica Neue\", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }\u003c/style\u003e","html":"\u003cdiv class=\"cdn-consent-css\"\u003e\u003cdiv class=\"ppui-theme theme_ppui_theme_tokens__1ozbsv90\"\u003e\u003cdiv id=\"ccpaCookieBanner\" class=\"CookieBanner_container\"\u003e\u003cdiv class=\"CookieBanner_container_wrapper\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4\" data-ppui-info=\"\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cdiv class=\"CookieBanner_content_wrapper\"\u003e\u003cdiv id=\"ccpaCookieContent_wrapper\" class=\"CookieContent_wrapper\"\u003e\u003ch4 class=\"styles_text-title_medium__awycp4g CookieBanner_text\" data-ppui-info=\"title-text\" id=\"cookieTitle\"\u003eIf you accept cookies, we’ll use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. \u003ca id=\"manageCookiesLink\" href=\"https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US\"\u003eManage cookies and learn more\u003c/a\u003e\u003c/h4\u003e\u003c/div\u003e\u003cdiv class=\"CookieBanner_buttonGroup\"\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton\" data-ppui-info=\"\" id=\"acceptAllButton\" tab-index=\"0\"\u003eAccept\u003c/button\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton\" data-ppui-info=\"\" id=\"bannerDeclineButton\" tab-index=\"0\"\u003eDecline\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003cbutton data-ppui-info=\"\" class=\"styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon\" type=\"button\" id=\"bannerCloseButton\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf\" data-ppui-info=\"\" aria-hidden=\"true\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cspan class=\"styles_screenreader__1p05eo10\"\u003eClose\u003c/span\u003e\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e","js":"\u003cscript nonce=\"fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF\"\u003e(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window \u0026\u0026 window.fpti \u0026\u0026 window.PAYPAL \u0026\u0026 window.PAYPAL.analytics \u0026\u0026 window.PAYPAL.analytics.instance \u0026\u0026 window.PAYPAL.analytics.instance.options \u0026\u0026 window.PAYPAL.analytics.instance.options.request \u0026\u0026 window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() \u0026\u0026 getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem(\"isBannerClosed\") || sessionStorage.getItem(\"isUserAccepted\") || sessionStorage.getItem(\"isInvisibleBanner\")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem(\"isUserAccepted\")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem(\"isBannerClosed\")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem(\"isInvisibleBanner\")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti \u0026\u0026 window.fpti.page || window.location \u0026\u0026 window.location.href; queryParamters.component = window.fpti \u0026\u0026 window.fpti.comp; const eventSourceUrl = window.location \u0026\u0026 window.location.href; queryParamters.eventSourceUrl = eventSourceUrl \u0026\u0026 eventSourceUrl.split(\"?\")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) =\u003e queryString += (index \u003e 0 ? '\u0026' : '') + key + \"=\" + btoa(queryParamters[key])); const endPoint = \"https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?\" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status === 200) { try { if (xhr?.response \u0026\u0026 xhr.response != \"OK\") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length \u003e 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) =\u003e {  if(e !== \"www\"){ subDomains.push(\".\" + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource=\"cookieBanner\"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable \u0026\u0026 getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:\"cookieBanner\"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { \"accept\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, \"decline\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false\u0026performance=false\u0026functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, \"close\" : { endPointSuffix : '\u0026type=explicit_close\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi \u0026\u0026 cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += \" ccpaHideCookieBannerMobile\"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace(\"ccpaHideCookieBannerMobile\",\"\"); } }; document.body.addEventListener(\"focus\", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = \"\"; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 cookieBanner.style.display != 'none') { if (bodyPaddingBottom === \"\" || (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length \u003e 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace(\"px\", \"\")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded \u0026\u0026 cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return \"true\"; else if (navigator.cookieEnabled === true) return \"false\"; else return \"undefined\"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:\"cookieBanner\"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage \u0026\u0026 cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace(\"ccpaCookieBanner-acceptedAll\",\"\"); document.body.className = document.body.className.replace(\"top-cookie-banner-enabled\",\"\"); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi \u0026\u0026 getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner \u0026\u0026 cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) \u003e (cookieBanner.getBoundingClientRect().top)) \u0026\u0026 !activeElement.parentElement.nodeName.includes(\"UL\")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener(\"focusin\", focusIn); } } if(addListener){ document.addEventListener(\"focusin\",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() \u0026\u0026 !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- \u003e 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() \u0026\u0026 document.getElementById('ccpaCookieBanner') \u0026\u0026 !document.body.className.includes(\"ccpaCookieBanner-acceptedAll\")){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();\u003c/script\u003e","cookies":{"cookie_prefs":{"value":"T=0,P=0,F=0,type=initial","options":{"maxAge":31536000000,"SameSite":"None","Secure":true,"domain":".paypal.com"}}}},"fptiTracking":{"name":"pta","jsURL":"https://www.paypalobjects.com","serverURL":"https://t.paypal.com/ts","dataString":"pgrp=btdocs%3Agraphql_guides_migrating_\u0026page=btdocsnodeweb%2F.dust\u0026pgst=1767195278343\u0026calc=855fd888e0c98\u0026nsid=sxXN9Fh_hiSEqEqZenXiL8AuiLioTYns\u0026rsta=en_US\u0026pgtf=Nodejs\u0026env=live\u0026s=ci\u0026ccpg=US\u0026csci=ca78d811a4dc4f60ad4a6b0d09ad4de1\u0026comp=btdocsnodeweb\u0026tsrce=btdocsnodeweb\u0026cu=0"},"experiments":{"feedback":true,"onboarding":true,"signupramp":true,"uiramp":true,"webllsOn":false,"runInPostmanFeatureSwitch":true,"integrationBuilder":true,"migration":true,"askAIOptionsExp":true,"enableInternalUIFeatures":false},"env":"prod","nodeEnv":{"_env":"LIVE","isDev":false,"isNotDev":true,"isTest":false,"isNotTest":true,"isStage":false,"isQA":false,"isNotStage":true,"isNotQA":true,"isSandbox":false,"isNotSandbox":true,"isProd":true,"isLive":true,"isNotProd":false,"isNotLive":false}},"routes/braintree/graphql/$":{"id":"daWQaY5bQoxdLVBQmBCQYh","document_id":"BTGQL28","entry_template_id":"BraintreeGraphqlDoc","entry_template_name":"Braintree Graphql Doc","resource_type":"ENTRY","create_time":"2025-01-16T11:26:42.995Z","update_time":"2025-04-30T11:23:55.319Z","language":["en-US"],"revision":null,"published_counter":null,"published_version":null,"content":{"internalTitle":"Migrating from a Server SDK Integration /graphql/guides/migrating/","slug":"/graphql/guides/migrating/","title":"Migrating from a Server SDK Integration","content":{"node":"root","child":[{"node":"element","tag":"h1","child":[{"node":"text","text":"Migrating from a Server SDK Integration"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"The GraphQL API uses a different format for IDs than in previous Braintree APIs."}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If you plan to migrate an existing\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/start/overview#key-concepts"},"child":[{"node":"text","text":"SDK integration"}]},{"node":"text","text":" to an integration with\n    the GraphQL API, you will also need to migrate from using Braintree legacy IDs to using GraphQL\n    IDs. This guide details a typical migration path to achieve this.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Legacy vs. GraphQL IDs"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Legacy IDs refer to the IDs currently accepted and returned by the Braintree SDKs. GraphQL IDs\n    represent the same entities in the Braintree system, but include more information about the entity\n    that make the GraphQL API more powerful. For example, instances of different domain objects may\n    have the same legacy ID (e.g. a Transaction and a PaymentMethod may share an ID). GraphQL IDs are\n    unique across all domains.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Types that implement the "},{"node":"element","tag":"code","child":[{"node":"text","text":"Node"}]},{"node":"text","text":" interface in the GraphQL API contain a\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"legacyId"}]},{"node":"text","text":" field for the purposes of migrating from those legacy IDs to the GraphQL\n    IDs. We also provide a query, "},{"node":"element","tag":"code","child":[{"node":"text","text":"idFromLegacyId"}]},{"node":"text","text":", for translating a legacy ID to a\n    GraphQL ID.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Migrating an Integration to Use the Braintree GraphQL API"}]},{"node":"text","text":"\n"},{"node":"element","tag":"ol","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        Update your database schema to store an additional \"GraphQL ID\" field alongside any ID fields\n        that you currently store from Braintree. For example, if you have a\n        "},{"node":"element","tag":"code","child":[{"node":"text","text":"transactions"}]},{"node":"text","text":" table with an "},{"node":"element","tag":"code","child":[{"node":"text","text":"id"}]},{"node":"text","text":" field, you should add a column or field\n        named "},{"node":"element","tag":"code","child":[{"node":"text","text":"graphql_id"}]},{"node":"text","text":".\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        Build your "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/guides/"},"child":[{"node":"text","text":"Braintree GraphQL Integration"}]},{"node":"text","text":".\n        "},{"node":"element","tag":"ol","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                When reading an ID from your database, prefer to read the "},{"node":"element","tag":"code","child":[{"node":"text","text":"graphql_id"}]},{"node":"text","text":" instead of\n                "},{"node":"element","tag":"code","child":[{"node":"text","text":"id"}]},{"node":"text","text":".\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                If the "},{"node":"element","tag":"code","child":[{"node":"text","text":"graphql_id"}]},{"node":"text","text":" is not set in your database, translate your\n                "},{"node":"element","tag":"code","child":[{"node":"text","text":"id"}]},{"node":"text","text":" to a GraphQL ID. You can either use the "},{"node":"element","tag":"code","child":[{"node":"text","text":"idFromLegacyId"}]},{"node":"text","text":" query to\n                convert IDs, or read the "},{"node":"element","tag":"code","child":[{"node":"text","text":"graphql_id"}]},{"node":"text","text":" field on supported objects in the legacy\n                SDK integration. Store this id as "},{"node":"element","tag":"code","child":[{"node":"text","text":"graphql_id"}]},{"node":"text","text":" in your database, and use it when\n                providing "},{"node":"element","tag":"code","child":[{"node":"text","text":"id"}]},{"node":"text","text":" in any GraphQL mutation or query.\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        Always request both the "},{"node":"element","tag":"code","child":[{"node":"text","text":"id"}]},{"node":"text","text":" and "},{"node":"element","tag":"code","child":[{"node":"text","text":"legacyId"}]},{"node":"text","text":" in your API requests and\n        dual-write these IDs in your local database. This will give you the flexibility to seamlessly\n        switch back to your SDK integration, should the need arise.\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        After you successfully launch your Braintree GraphQL API integration, you can back-fill your\n        legacy IDs with GraphQL IDs using the "},{"node":"element","tag":"code","child":[{"node":"text","text":"idFromLegacyId"}]},{"node":"text","text":" query.\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        Once your GraphQL integration is stable, you can stop requesting and writing the\n        "},{"node":"element","tag":"code","child":[{"node":"text","text":"legacyId"}]},{"node":"text","text":". From now on, use only the GraphQL IDs from your new integration.\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Reading the "},{"node":"element","tag":"code","child":[{"node":"text","text":"graphql_id"}]},{"node":"text","text":" Field"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The server-side SDKs include a "},{"node":"element","tag":"code","child":[{"node":"text","text":"graphql_id"}]},{"node":"text","text":" field on the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/response/credit-card-verification#graphql_id"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"CreditCardVerification"}]}]},{"node":"text","text":", "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/response/customer#graphql_id"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Customer"}]}]},{"node":"text","text":", "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/response/dispute#graphql_id"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Dispute"}]}]},{"node":"text","text":", and\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/response/transaction#graphql_id"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Transaction"}]}]},{"node":"text","text":"\n    objects. This value is already translated and must not be translated using the\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"idFromLegacyId"}]},{"node":"text","text":" query.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Using the "},{"node":"element","tag":"code","child":[{"node":"text","text":"idFromLegacyId"}]},{"node":"text","text":" Query"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The "},{"node":"element","tag":"code","child":[{"node":"text","text":"idFromLegacyId"}]},{"node":"text","text":" query takes a legacy ID and the object type and returns its\n    GraphQL ID, for use in the GraphQL API.\n"}]},{"node":"text","text":"\n\n   "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"GraphQL"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"jhkd678s","class":"language-graphql"},"child":[{"node":"text","text":"query IdFromLegacyId($legacyId: ID!, $type: LegacyIdType!) {\n  idFromLegacyId(legacyId: $legacyId, type: $type)\n}\n"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"asd7ssf","class":"language-json"},"child":[{"node":"text","text":"{\n  \"legacyId\": \"vsx5py3\",\n  \"type\": \"TRANSACTION\"\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n\n  "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"sdsd99ff","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": { \"idFromLegacyId\": \"dHJhbnNhY3Rpb25fdnN4NXB5Mw\" },\n  \"extensions\": {\n    \"requestId\": \"S9mAxXwoOWeQ8GOZCVTxriMrNmcSWUeAByLYcBTyt-4iHC4G_kOgjQ==\"\n  }\n}\n"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"},{"node":"element","tag":"p"},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"GraphQL ID Format"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    In order to avoid interruptions in processing, it's best to make minimal assumptions about what\n    GraphQL IDs will look like in the future.\n    "},{"node":"element","tag":"em","child":[{"node":"text","text":"The format of the GraphQL ID is not a contract. While any given ID will never change, the new\n        IDs may follow a different format in the future"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The length and format of these identifiers – including payment method tokens and transaction IDs –\n    can change at any time, with or without advance notice. However, it is safe to assume that they\n    will remain 1 to 256 characters (alphanumeric, dashes, and underscores).\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"API concepts vs. SDK concepts"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"Some key terms and modeling differ between the API and SDKs."}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Nonces vs. single-use payment methods"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The SDKs distinguish between nonces (single-use payment data collected from the client) and\n    payment methods (vaulted payment data that may be re-used).\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The API refers all payment data as a payment methods. Payment methods can be single-use (the\n    equivalent of a nonce in the SDK) or multi-use (the equivalent of a vaulted payment method in the\n    SDK). The "},{"node":"element","tag":"code","child":[{"node":"text","text":"usage"}]},{"node":"text","text":" field on a payment method indicates whether it is single- or\n    multi-use.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"table","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"thead","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"tr","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"th","child":[{"node":"text","text":"SDK"}]},{"node":"text","text":"\n            "},{"node":"element","tag":"th","child":[{"node":"text","text":"API"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"tbody","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"tr","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"td","child":[{"node":"text","text":"nonce"}]},{"node":"text","text":"\n            "},{"node":"element","tag":"td","child":[{"node":"text","text":"single-use payment method"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"tr","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"td","child":[{"node":"text","text":"payment method"}]},{"node":"text","text":"\n            "},{"node":"element","tag":"td","child":[{"node":"text","text":"multi-use payment method"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Creating transactions"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    In the SDKs, the "},{"node":"element","tag":"code","child":[{"node":"text","text":"sale"}]},{"node":"text","text":" method authorizes a payment method and optionally captures the\n    transaction via the "},{"node":"element","tag":"code","child":[{"node":"text","text":"submit_for_settlement"}]},{"node":"text","text":" flag. The API provides mutations to\n    authorize or charge payment methods, which return transactions. It also provides mutations for\n    capturing authorized transactions.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"Here is an example of a sale transaction in the Ruby SDK:"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"tabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"div","attr":{"role":"tablist"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-lang-1","id":"tab-graphql-lang-1"},"child":[{"node":"text","text":"\n                Ruby SDK\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-lang-1","id":"graphql-lang-1"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","attr":{"class":"language-ruby"},"child":[{"node":"text","text":"\n                    result = gateway.transaction.sale(\n  :amount =\u0026gt; \"10.00\",\n  :payment_method_nonce =\u0026gt; nonce_from_the_client,\n  :options =\u0026gt; {\n    :submit_for_settlement =\u0026gt; true\n  }\n)\n"}]}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n\n   "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"GraphQL"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"kladu98sf","class":"language-graphql"},"child":[{"node":"text","text":"mutation ExampleCharge($input: ChargePaymentMethodInput!) {\n  chargePaymentMethod(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"lakd87fdf","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"paymentMethodId\": \"nonce_from_the_client\",\n    \"transaction\": { \"amount\": \"10.00\" }\n  }\n}\n"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"},{"node":"element","tag":"p"},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Accepting payment data directly"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"em","child":[{"node":"text","text":"Note this guidance is only relevant to merchants who are in PCI scope and handle raw payment\n        details."}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The SDKs allow raw credit card details as input to "},{"node":"element","tag":"code","child":[{"node":"text","text":"sale"}]},{"node":"text","text":" and\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"vault"}]},{"node":"text","text":" requests. The API only accepts raw payment details via the tokenization\n    mutations. To charge or vault credit card details directly, tokenize and then use the resulting\n    payment method in a vault or charge mutation.\n"}]}]},"codeblockReferences":[{"update_time":"2025-04-30T11:23:03.558Z","create_time":"2025-04-30T08:26:24.824Z","entry_template_id":"codeblock","resource_type":"Entry","id":"bm119UWQMWzen1viMyCPX8","document_id":"CODE77","content":{"internalTitle":"GraphQL - graphql/guides/migrating/","referenceId":"jhkd678s","code":"query IdFromLegacyId($legacyId: ID!, $type: LegacyIdType!) {\n  idFromLegacyId(legacyId: $legacyId, type: $type)\n}\n","language":"graphql"},"revision":4},{"update_time":"2025-04-30T11:22:32.286Z","create_time":"2025-04-30T08:27:11.783Z","entry_template_id":"codeblock","resource_type":"Entry","id":"fGOXWHLVtVpcpcSTzcxVUm","document_id":"CODE78","content":{"internalTitle":"Variables - /graphql/guides/migrating/","referenceId":"asd7ssf","code":"{\n  \"legacyId\": \"vsx5py3\",\n  \"type\": \"TRANSACTION\"\n}","language":"json"},"revision":5},{"update_time":"2025-04-30T08:28:12.402Z","create_time":"2025-04-30T08:27:45.739Z","entry_template_id":"codeblock","resource_type":"Entry","id":"dQgT2sZTmHWeYqvkalFbcE","document_id":"CODE79","content":{"internalTitle":"Response - /graphql/guides/migrating/","referenceId":"sdsd99ff","code":"{\n  \"data\": { \"idFromLegacyId\": \"dHJhbnNhY3Rpb25fdnN4NXB5Mw\" },\n  \"extensions\": {\n    \"requestId\": \"S9mAxXwoOWeQ8GOZCVTxriMrNmcSWUeAByLYcBTyt-4iHC4G_kOgjQ==\"\n  }\n}\n","language":"json"},"revision":2},{"update_time":"2025-04-30T11:23:36.078Z","create_time":"2025-04-30T08:28:31.720Z","entry_template_id":"codeblock","resource_type":"Entry","id":"XPgwJPl9q6UcDjxXBtopYU","document_id":"CODE80","content":{"internalTitle":"GraphQL - /graphql/guides/migrating/","referenceId":"kladu98sf","code":"mutation ExampleCharge($input: ChargePaymentMethodInput!) {\n  chargePaymentMethod(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}","language":"graphql"},"revision":4},{"update_time":"2025-04-30T08:29:33.015Z","create_time":"2025-04-30T08:29:09.654Z","entry_template_id":"codeblock","resource_type":"Entry","id":"WRDlg8pKKyJebc5GHrEao0","document_id":"CODE81","content":{"internalTitle":"Variables - /graphql/guides/migrating/","referenceId":"lakd87fdf","code":"{\n  \"input\": {\n    \"paymentMethodId\": \"nonce_from_the_client\",\n    \"transaction\": { \"amount\": \"10.00\" }\n  }\n}\n","language":"json"},"revision":2}]},"links":[{"rel":"self","method":"GET","href":"https://api.paypal.com/v2/content/environments/c7e53cfe-a29e-4a16-9a5c-a0a91c7c957f/entries/daWQaY5bQoxdLVBQmBCQYh"}],"ecm":{"envAllowsPreview":true},"markdown":"---\ntitle: Migrating from a Server SDK Integration\nslug: /graphql/guides/migrating/\ncreateTime: '2025-01-16T11:26:42.995Z'\nupdateTime: '2025-04-30T11:23:55.319Z'\n---\n\n\n\n# Migrating from a Server SDK Integration\n\nThe GraphQL API uses a different format for IDs than in previous Braintree APIs.\n\nIf you plan to migrate an existing [SDK integration](/braintree/docs/start/overview#key-concepts) to an integration with the GraphQL API, you will also need to migrate from using Braintree legacy IDs to using GraphQL IDs. This guide details a typical migration path to achieve this.\n\n\n## Legacy vs. GraphQL IDs\n\nLegacy IDs refer to the IDs currently accepted and returned by the Braintree SDKs. GraphQL IDs represent the same entities in the Braintree system, but include more information about the entity that make the GraphQL API more powerful. For example, instances of different domain objects may have the same legacy ID (e.g. a Transaction and a PaymentMethod may share an ID). GraphQL IDs are unique across all domains.\n\nTypes that implement the Node interface in the GraphQL API contain a legacyId field for the purposes of migrating from those legacy IDs to the GraphQL IDs. We also provide a query, idFromLegacyId, for translating a legacy ID to a GraphQL ID.\n\n\n## Migrating an Integration to Use the Braintree GraphQL API\n\n\n- Update your database schema to store an additional \"GraphQL ID\" field alongside any ID fields that you currently store from Braintree. For example, if you have atransactionstable with anidfield, you should add a column or field namedgraphql_id.\n- Build your[Braintree GraphQL Integration](/braintree/graphql/guides/).\n- When reading an ID from your database, prefer to read thegraphql_idinstead ofid.\n- If thegraphql_idis not set in your database, translate youridto a GraphQL ID. You can either use theidFromLegacyIdquery to convert IDs, or read thegraphql_idfield on supported objects in the legacy SDK integration. Store this id asgraphql_idin your database, and use it when providingidin any GraphQL mutation or query.\n\n\n- Always request both theidandlegacyIdin your API requests and dual-write these IDs in your local database. This will give you the flexibility to seamlessly switch back to your SDK integration, should the need arise.\n- After you successfully launch your Braintree GraphQL API integration, you can back-fill your legacy IDs with GraphQL IDs using theidFromLegacyIdquery.\n- Once your GraphQL integration is stable, you can stop requesting and writing thelegacyId. From now on, use only the GraphQL IDs from your new integration.\n\n\n### Reading thegraphql_idField\n\nThe server-side SDKs include a graphql_id field on the [CreditCardVerification](/braintree/docs/reference/response/credit-card-verification#graphql_id), [Customer](/braintree/docs/reference/response/customer#graphql_id), [Dispute](/braintree/docs/reference/response/dispute#graphql_id), and [Transaction](/braintree/docs/reference/response/transaction#graphql_id) objects. This value is already translated and must not be translated using the idFromLegacyId query.\n\n\n### Using theidFromLegacyIdQuery\n\nThe idFromLegacyId query takes a legacy ID and the object type and returns its GraphQL ID, for use in the GraphQL API.\n\n\n### GraphQL\n```graphql\nquery IdFromLegacyId($legacyId: ID!, $type: LegacyIdType!) {\n  idFromLegacyId(legacyId: $legacyId, type: $type)\n}\n\n```\n\n### Variables\n```json\n{\n  \"legacyId\": \"vsx5py3\",\n  \"type\": \"TRANSACTION\"\n}\n```\n\n### Response\n```json\n{\n  \"data\": { \"idFromLegacyId\": \"dHJhbnNhY3Rpb25fdnN4NXB5Mw\" },\n  \"extensions\": {\n    \"requestId\": \"S9mAxXwoOWeQ8GOZCVTxriMrNmcSWUeAByLYcBTyt-4iHC4G_kOgjQ==\"\n  }\n}\n\n```\n\n\n\n### GraphQL ID Format\n\nIn order to avoid interruptions in processing, it's best to make minimal assumptions about what GraphQL IDs will look like in the future. The format of the GraphQL ID is not a contract. While any given ID will never change, the new IDs may follow a different format in the future.\n\nThe length and format of these identifiers – including payment method tokens and transaction IDs – can change at any time, with or without advance notice. However, it is safe to assume that they will remain 1 to 256 characters (alphanumeric, dashes, and underscores).\n\n\n## API concepts vs. SDK concepts\n\nSome key terms and modeling differ between the API and SDKs.\n\n\n### Nonces vs. single-use payment methods\n\nThe SDKs distinguish between nonces (single-use payment data collected from the client) and payment methods (vaulted payment data that may be re-used).\n\nThe API refers all payment data as a payment methods. Payment methods can be single-use (the equivalent of a nonce in the SDK) or multi-use (the equivalent of a vaulted payment method in the SDK). The usage field on a payment method indicates whether it is single- or multi-use.\n\n| SDK | API |\n| --- | --- |\n| nonce | single-use payment method |\n| payment method | multi-use payment method |\n\n\n### Creating transactions\n\nIn the SDKs, the sale method authorizes a payment method and optionally captures the transaction via the submit_for_settlement flag. The API provides mutations to authorize or charge payment methods, which return transactions. It also provides mutations for capturing authorized transactions.\n\nHere is an example of a sale transaction in the Ruby SDK:\n\nRuby SDK```language-ruby\nresult = gateway.transaction.sale( :amount =\u0026gt; \"10.00\", :payment_method_nonce =\u0026gt; nonce_from_the_client, :options =\u0026gt; { :submit_for_settlement =\u0026gt; true }\n)\n```\n\n### GraphQL\n```graphql\nmutation ExampleCharge($input: ChargePaymentMethodInput!) {\n  chargePaymentMethod(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}\n```\n\n### Variables\n```json\n{\n  \"input\": {\n    \"paymentMethodId\": \"nonce_from_the_client\",\n    \"transaction\": { \"amount\": \"10.00\" }\n  }\n}\n\n```\n\n\n\n### Accepting payment data directly\n\nNote this guidance is only relevant to merchants who are in PCI scope and handle raw payment details.\n\nThe SDKs allow raw credit card details as input to sale and vault requests. The API only accepts raw payment details via the tokenization mutations. To charge or vault credit card details directly, tokenize and then use the resulting payment method in a vault or charge mutation.\n\n"},"routes/braintree/graphql":null},"actionData":null,"errors":null},"future":{"v2_dev":true,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":false,"v2_meta":true,"v2_normalizeFormMethod":false,"v2_routeConvention":false}};</script><script nonce="fNGOwT/+L2wOXJlPkiiSNkPqCC20r5XFSFhBWeVW05NJpFTF" type="module" async="">import "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/manifest-D829D641.js";
import * as route0 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js";
import * as route1 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql-5WTNGTXD.js";
import * as route2 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql/$-AOXYBYSX.js";
window.__remixRouteModules = {"root":route0,"routes/braintree/graphql":route1,"routes/braintree/graphql/$":route2};

import("https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js");</script></body></html>