# Source: https://developer.paypal.com/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/

<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Braintree In-Person Docs</title><meta name="description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="keywords" content=""/><link rel="canonical" href="https://developer.paypal.com/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/"/><meta property="og:type" content="website"/><meta property="og:url" content="https://developer.paypal.com/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/"/><meta property="og:title" content="Braintree In-Person Docs"/><meta property="og:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta property="og:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_ogfallback.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:url" content="https://developer.paypal.com/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/"/><meta name="twitter:title" content="Braintree In-Person Docs"/><meta name="twitter:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="twitter:site" content="@paypaldev"/><meta name="twitter:creator" content="@paypaldev"/><meta name="twitter:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_twitterfallback.png"/><meta name="twitter:image:alt" content="Black and White PayPal Logo"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/variables-VGGZY4JK.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/footer-NG55V3IZ.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/header-RODVFCUO.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/sideBar-P2XH7TE5.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/app-AVOPA6BH.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/codeblock-DADUWXNB.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/prism-NEYM7EL4.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/components-D2NYPEGL.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/index-2Z52PXGI.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/fonts-and-normalize/1-1-0/fonts-and-normalize.min.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/icon-font/0-0-1/icon-font.min.css"/><link rel="icon" href="https://www.paypalobjects.com/btdevdoc/braintree/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/articlesAndDocs-R4V4BBLG.css"/></head><body><header class="header"><div class="nav--global__wrapper" id="nav-global-wrapper"><a class="logo logo--articles" aria-label="Braintree a PayPal Service" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,descriptor=braintree logo,container=header,origin=support articles,intent=view support articles landing page,href=https://articles.braintreepayments.com" pa-marked="1" href="/braintree/in-person/"><span class="logo--fallback">Braintree a PayPal Service</span><span class="nav-logo"><img src="https://www.paypalobjects.com/paypal-ui/logos/svg/braintree-pp-color.svg" alt="PayPal Braintree logo" style="width:200px;height:40px"/></span></a><nav class="nav--global"><span class="mobile__nav-logo mobile__nav-item mobile__nav-left"><img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="PayPal Braintree Mobile logo" style="width:40px;height:40px;fill:#fff"/></span><span class="mobile__nav--global-active-category mobile__nav-item mobile__nav-center"><a class="mobile__nav-active-section-container"><span class="mobile__nav-active-section">API &amp; In-Person</span><span class="mobile__nav-dropdown-chevron"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" width="40px" height="40px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 18" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.291 6.293a1 1 0 0 1 1.415 0l3.293 3.293 3.293-3.293a1 1 0 1 1 1.414 1.414L9.713 11.7a1.01 1.01 0 0 1-1.428 0L4.29 7.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></span></a><div class="mobile__nav-active-tier">Initiate a Card Present Authorization</div></span><ul class="nav--global-sites mobile__nav-item mobile__nav-right"><span class="nav--global-sites__items nav--global-sites__items-hidden"><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_0" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=SDK Docs,intent=view SDK Docs landing page,href=/braintree/in-person/" pa-marked="1" href="/braintree/docs/">SDK Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_1 nav--global-sites__link--active" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=API &amp; In-Person Docs,intent=view API &amp; In-Person Docs landing page,href=/braintree/in-person/" pa-marked="1" href="/braintree/graphql/">API &amp; In-Person Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_2" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=Support Articles,intent=view Support Articles landing page,href=/braintree/in-person/" pa-marked="1" href="/braintree/articles/">Support Articles</a></li></span><li class="nav--global-sites__item"><button id="searchOpenTrigger" class="search__trigger nav--link" aria-label="Hit enter to search" data-track-event-properties="project=docs&amp;journey,context=search,component=button,action=click,intent=open search,descriptor=Start typing to search,origin=sites search&amp;" pa-marked="1"><svg class="search__trigger-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Open search icon</title><path d="M6.99994 13.988C8.33314 13.9878 9.63816 13.6042 10.7595 12.883L17.2456 19.3688L19.368 17.2466L12.885 10.7639C13.7224 9.45534 14.1003 7.90523 13.959 6.35811C13.8178 4.811 13.1654 3.35494 12.1049 2.21967C11.0444 1.08439 9.63613 0.334526 8.1022 0.0883654C6.56828 -0.157795 4.99605 0.113766 3.63358 0.860206C2.2711 1.60665 1.19592 2.78547 0.577676 4.21071C-0.0405686 5.63594 -0.16669 7.22645 0.219211 8.73131C0.605111 10.2362 1.48107 11.5697 2.70888 12.5216C3.93669 13.4734 5.44647 13.9893 7.00002 13.988H6.99994ZM6.99994 1.98801C7.98884 1.98801 8.95554 2.28125 9.77779 2.83066C10.6 3.38007 11.2409 4.16096 11.6193 5.07459C11.9978 5.98822 12.0968 6.99355 11.9039 7.96346C11.7109 8.93336 11.2347 9.82428 10.5355 10.5235C9.83621 11.2228 8.9453 11.699 7.97539 11.8919C7.00549 12.0849 6.00015 11.9858 5.08652 11.6074C4.17289 11.229 3.392 10.5881 2.84259 9.76586C2.29318 8.94361 1.99994 7.97691 1.99994 6.98801C2.0015 5.6624 2.52878 4.39154 3.46613 3.4542C4.40347 2.51685 5.67433 1.98957 6.99994 1.98801Z" fill="#dedede"></path></svg><span class="search__trigger-text">Search</span></button></li><button data-testid="sidebar-button" class="sidebar-menu-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path d="M5 5a1 1 0 0 0 0 2h14a1 1 0 1 0 0-2H5zm-1 7a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1z" data-ppui="true"></path></svg></span></button></ul><div class="header--aside"><span class="nav--global-sites__item"><a class="nav--global-sites__link" pa-marked="1" href="/braintree/help">Get Help</a></span><span class="nav--global-sites__item" id="contact-sales-nav"><a href="https://www.braintreepayments.com/contact/sales" class="nav--global-sites__link" pa-marked="1">Contact Sales</a></span><div class="login-buttons"><span class="nav--global-sites__item" id="create-account_button"><a class="nav--global-sites__link" pa-marked="1" target="_blank" rel="noreferrer" href="https://www.braintreepayments.com/sandbox" aria-label="Sign up for a sandbox account">Create Account</a></span><span class="nav--global-sites__item"><a class="nav--global-sites__link" href="/braintree/api/auth/connect" aria-label="Log into sandbox" rel="noreferrer" pa-marked="1">Login</a></span></div><div class="header__dropdown ab-control-panel-dropdown-a"><button class="dropdown__title button button--small hamburger-small" style="margin-bottom:0" aria-label="Access production control panel" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown,action=click,container=header,descriptor=more icon,intent=choose a control panel link" pa-marked="1"><svg class="dropdown__icon--closed" width="4" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" fill="#fff"></path></svg></button><div class="dropdown__content"><div class="dropdown__section"><h3 class="dropdown__section-title">Production Control Panel</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreegateway.com/login" target="_blank" aria-label="Log into your production account" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=log in,intent=view production login,href=https://www.braintreegateway.com/login" pa-marked="1" rel="noreferrer">Login</a></li></ul><h3 class="dropdown__section-title">Become a Merchant</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreepayments.com/contact/sales" aria-label="Contact sales on the website" target="_blank" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=contact sales,intent=view the sales contact page,href=https://www.braintreepayments.com/contact/sales" pa-marked="1" rel="noreferrer">Contact Sales</a></li></ul></div></div></div></div></nav></div><nav class="nav--local"><ul class="nav__list" id="main-nav-links"><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_0" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/graphql/">Online</a></li></div></div><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_1 is-active" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/in-person/">In-Person</a></li></div></div></ul></nav></header><div class="flex-body"><div class="flex-sidebar"><div><aside class="sidebar" data-track-event-context="left-hand nav"><div class="sidebar__inner"><div class="menu-group"><span class="menu-group__title" data-title="">Integration Guides</span><ul class="menu"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/api-authentication/"><button class="menu__link" pa-marked="1">API Authentication</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/setup-reader/"><button class="menu__link" pa-marked="1">Setup Reader</button></a></div></li><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/"><button class="menu__link is-active" pa-marked="1">Initiate a Sale or Refund</button></a></div><ul class="menu-list__hidden"><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/"><button class="menu__link is-active" pa-marked="1">Initiate a Card Present Authorization</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/making-a-transaction/level-2-and-level-3-data-processing/"><button class="menu__link" pa-marked="1">Level 2 and Level 3 Data Processing</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/making-a-transaction/passing-lodging-data/"><button class="menu__link" pa-marked="1">Passing Lodging Data</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/vaulting-and-customers/"><button class="menu__link" pa-marked="1">Vaulting and Customers</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/paypal-and-venmo-qrc/"><button class="menu__link" pa-marked="1">PayPal and Venmo QRC</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/display-information/"><button class="menu__link" pa-marked="1">Display Information</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/custom-prompts/"><button class="menu__link" pa-marked="1">Custom Prompts</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/card-data-collection/"><button class="menu__link" pa-marked="1">Card Data Collection</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/graphql-error-handling/"><button class="menu__link" pa-marked="1">GraphQL Error Handling</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/offline-transactions/"><button class="menu__link" pa-marked="1">Offline Transactions</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/additional-api-calls/"><button class="menu__link" pa-marked="1">Additional API Calls</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/receipt-printing-api/"><button class="menu__link" pa-marked="1">Receipt Printing API</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/reporting-and-reconciliation/"><button class="menu__link" pa-marked="1">Reporting and Reconciliation</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/testing-your-integration/"><button class="menu__link" pa-marked="1">Testing Your Integration</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/in-person/guides/ready-for-launch/"><button class="menu__link" pa-marked="1">Ready for Launch?</button></a></div></li></ul></div></div></aside></div></div><div id="contentContainer" class="flex-content"><main id="main-section" class="documentation-content__wrapper"><article class="main-content js-outlet docs--constrained"><div class="subtitle-container"><div class="breadcrumb breadcrumbInner"><div class="breadcrumbItem"><a class="breadcrumbLink">Integration Guides</a><span style="padding:0 4px">/</span></div><div class="breadcrumbItem"><a href="/braintree/in-person/guides/making-a-transaction/" class="breadcrumbLink">Initiate a Sale or Refund</a><span style="padding:0 4px">/</span></div><div class="breadcrumbItem"><a href="/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/" class="activeBreadcrumbLink">Initiate a Card Present Authorization</a></div></div><div class="markdownopts-container"><div class="markdownopts-face-container"><button class="markdownopts-face-button"><svg fill="#000000" width="16" height="16" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg" style="width:16px;height:16px;margin-right:8px"><title>OpenAI icon</title><path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"></path></svg>Ask ChatGPT</button><button class="markdownopts-chevron-button" data-testid="chevron-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" style="width:16px;height:16px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.292 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 0 1 1.414 1.414L12.713 16.7a1.01 1.01 0 0 1-1.428 0L4.292 9.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></button></div></div></div><div class="main-article-content"><div class="ecmRichText" style="margin-bottom:0px"><main><header><h1><span>Initiate a Card Present Authorization</span></h1><p class="markdown-p"><span>
            This page covers the support of separate auth from capture on the
            Braintree In-Person solution from a card present perspective.
        </span></p></header><div><h2 id="feature-overview" class="test_h2 markdown-h2"><span>Feature Overview</span><a class="icon icon--link hash-link" href="#feature-overview" aria-label="Feature Overview"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
            For some use cases where a capture delay is required (ex: endless aisle,
            save the sale, tipping on receipt, hotel check-in), you may need to
            request an authorization rather than requesting a charge. This gives the
            API caller complete control over the authorization capture cadence rather
            than relying on automated Braintree capture logic. Generally, this
            operates similarly to e-commerce authorization flows, with some important
            differences.
        </span></p><div><div><div><p class="markdown-p"><div role="alert" class="ContextualAlert-module_pp-alert__1QhIq ContextualAlert-module_pp-alert--note__gRM6J"><div class="ContextualAlert-module_pp-alert__header__T2Wkg"><style data-emotion="css 4757ty-svg-size_xs">.css-4757ty-svg-size_xs{speak:none;display:inline-block;aspect-ratio:1;width:1.125rem;height:1.125rem;}.css-4757ty-svg-size_xs img,.css-4757ty-svg-size_xs svg{width:100%;height:100%;display:block;}</style><span class="ContextualAlert-module_pp-alert__icon__puACD css-4757ty-svg-size_xs" data-ppui-info="icons_8.21.2" role="img" aria-label="note" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-9.662 5h1.32c.18 0 .276-.096.276-.276v-5.925c0-.18-.096-.276-.276-.276h-1.32c-.18 0-.276.096-.276.276v5.925c0 .18.096.276.276.276zM12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" clip-rule="evenodd" data-ppui="true"></path></svg></span><span class="ContextualAlert-module_pp-alert__title__FOcbD">Note</span><span class="ContextualAlert-module_pp-alert__content__2-Ddi"><span>
                            Separate auth and capture using the
                            </span><a href="/braintree/graphql/reference/#Mutation--requestAuthorizeFromInStoreReader"><span>requestAuthorization</span></a><span>
                            API mutation is supported starting in firmware
                            </span><a href="/braintree/in-person/reference/app-version-release-notes/#version510"><span>version 5.1.0</span></a></span></div></div></p></div></div></div><h2 id="initializing-the-reader-for-authorization" class="test_h2 markdown-h2"><span>Initializing the Reader for Authorization</span><a class="icon icon--link hash-link" href="#initializing-the-reader-for-authorization" aria-label="Initializing the Reader for Authorization"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
            When you're ready to charge a customer, you can create an In-Store Context
            by requesting to authorize a card on the reader. In this step, your
            application will specify at minimum, the
            </span><code><span>readerId</span></code><span>
            ,
            </span><code><span>merchantAccountId</span></code><span>and
            </span><code><span>transaction.amount</span></code><span>
            details to initialize the reader for payment acceptance. Note that the
            </span><code><span>merchantAccountId</span></code><span>is not validated against in the Sandbox
            environment; however, this is a required value in the Production
            environment for all interactions with the card reader.
        </span></p><p class="markdown-p"><span>
            Authorizing is similar to charging, except that if the authorization is
            successful, Braintree will NOT capture the transaction. It would be up to
            the merchant to send a separate capture request using the
            </span><code><span>transaction.id</span></code><span>
            to complete the charge.
        </span></p><div><div><div><p class="markdown-p"><div role="alert" class="ContextualAlert-module_pp-alert__1QhIq ContextualAlert-module_pp-alert--note__gRM6J"><div class="ContextualAlert-module_pp-alert__header__T2Wkg"><style data-emotion="css 4757ty-svg-size_xs">.css-4757ty-svg-size_xs{speak:none;display:inline-block;aspect-ratio:1;width:1.125rem;height:1.125rem;}.css-4757ty-svg-size_xs img,.css-4757ty-svg-size_xs svg{width:100%;height:100%;display:block;}</style><span class="ContextualAlert-module_pp-alert__icon__puACD css-4757ty-svg-size_xs" data-ppui-info="icons_8.21.2" role="img" aria-label="note" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-9.662 5h1.32c.18 0 .276-.096.276-.276v-5.925c0-.18-.096-.276-.276-.276h-1.32c-.18 0-.276.096-.276.276v5.925c0 .18.096.276.276.276zM12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" clip-rule="evenodd" data-ppui="true"></path></svg></span><span class="ContextualAlert-module_pp-alert__title__FOcbD">Note</span><span class="ContextualAlert-module_pp-alert__content__2-Ddi"><span>
                            Card present authorizations only allow for a single capture request; multiple partial capture is NOT supported. Any remaining authorized funds after the first capture will automatically be voided. 
                        </span></span></div></div></p></div></div></div><p class="markdown-p"><span>
            To provide idempotency on the
            </span><a href="/braintree/graphql/reference/#Mutation--requestAuthorizeFromInStoreReader"><span>requestAuthorize</span></a><span>
            mutation, you must also include the HTTP header
            </span><code><span>Idempotency-Key </span></code><span>with a unique value. UUIDv4 is recommended.
            For example, if using
            </span><code><span>curl</span></code><span>
            to make the request, you would include
        </span></p><div><div><div><p class="markdown-p"><div role="alert" class="ContextualAlert-module_pp-alert__1QhIq ContextualAlert-module_pp-alert--note__gRM6J"><div class="ContextualAlert-module_pp-alert__header__T2Wkg"><style data-emotion="css 4757ty-svg-size_xs">.css-4757ty-svg-size_xs{speak:none;display:inline-block;aspect-ratio:1;width:1.125rem;height:1.125rem;}.css-4757ty-svg-size_xs img,.css-4757ty-svg-size_xs svg{width:100%;height:100%;display:block;}</style><span class="ContextualAlert-module_pp-alert__icon__puACD css-4757ty-svg-size_xs" data-ppui-info="icons_8.21.2" role="img" aria-label="note" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-9.662 5h1.32c.18 0 .276-.096.276-.276v-5.925c0-.18-.096-.276-.276-.276h-1.32c-.18 0-.276.096-.276.276v5.925c0 .18.096.276.276.276zM12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" clip-rule="evenodd" data-ppui="true"></path></svg></span><span class="ContextualAlert-module_pp-alert__title__FOcbD">Note</span><span class="ContextualAlert-module_pp-alert__content__2-Ddi"><span>
                            Using
                            </span><code><span>Idempotency-Key </span></code><span>is an important way of preventing
                            duplicate charges to your customer in the event of an API
                            communication failure. For example: if you request a charge from
                            the reader, the customer completes the charge on the reader but
                            for some reason, the POS does not get back the result of the
                            transaction before timing out. In this scenario, the POS could
                            recover the original transaction using the same
                            </span><code><span>Idempotency-Key </span></code><span>without accidentally creating a
                            duplicate charge.
                        </span></span></div></div></p></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list styles_tab_list_no_label"><div><li class="styles_tab_list_item styles_tab_list_active"></li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-bash"><code class="language-bash">--header &#x27;Idempotency-Key: 94c9ea8b-31b0-488e-a231-57e32f0bfd70&#x27;</code></pre></div></div></div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL Mutation</li><li class="styles_tab_list_item">GraphQL Variables</li><li class="styles_tab_list_item">Sample API Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre><code class="javascript">mutation RequestAuthorizeFromInStoreReader($input: RequestAuthorizeFromInStoreReaderInput!) {
                requestAuthorizeFromInStoreReader(input: $input) {
                    clientMutationId
                    id
                    status
                    reader {
                        id
                        name                
                        status
                    }
                }
            }</code></pre></div></div><h2 id="checking-the-reader-authorization-status" class="test_h2 markdown-h2"><span>Checking the Reader Authorization Status</span><a class="icon icon--link hash-link" href="#checking-the-reader-authorization-status" aria-label="Checking the Reader Authorization Status"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
            After the reader is initialized for payment, your application must wait
            for the customer to interact with it (i.e. insert a test card) and for the
            payment attempt to be processed. Your application should use
            </span><a href="/braintree/graphql/reference/#Query--node"><span>the node query</span></a><span>
            to poll on a 2-second interval between responses for the current status of
            the payment using the
            </span><code><span>RequestChargeInStoreContext.id</span></code><span>
            received at charge initialization and monitor the
            </span><code><span>RequestAuthorizeInStoreContext.status</span></code><span>field as the transaction
            goes through the lifecycle.
        </span></p><div><picture><div><img src="https://www.paypalobjects.com/devdoc/btdocs-gitbook/Initiate%20a%20card%20present%20authorrization:Checking%20the%20Reader%20Authorization%20Status.png"/></div><figcaption><span>
                    COMPLETE context status will indicate an "Authorized" transaction
                    status, not "SUBMITTED_FOR_SETTLEMENT" when using the Request
                    Authorize mutation
                </span></figcaption></picture></div><p class="markdown-p"><span>
            When the
            </span><code><span>RequestAuthorizeInStoreContext.status</span></code><span>
            changes to "COMPLETE", you will also receive a transaction object
            </span><code><span>RequestAuthorizeInStoreContext.transaction</span></code><span>in the response.
            Save the completed
            </span><code><span>RequestAuthorizeInStoreContext.transaction.id</span></code><span>
            in your database for referencing the transaction in subsequent operations
            (ie. capture, adjust auth, void, etc...).
        </span></p><p class="markdown-p"><span>
            All successful test transactions should have a transaction amount value
            below $2,000 for testing. For more info on using amounts to simulate
            various transaction outcomes, take a look at
            </span><a href="/braintree/in-person/guides/testing-your-integration/"><span>Testing Your Integration</span></a><span>.
        </span></p><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Query</li><li class="styles_tab_list_item">Sample API response (successful auth)</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre><code class="javascript">{
                node(id: &quot;{{last_braintree_instore_context}}&quot;) {
                 ... on RequestAuthorizeInStoreContext {
                  id
                  status
                  statusReason
                  reader {
                   id
                   name
                   status
                  }
                  transaction {
                   id
                   orderId
                   status
                   statusHistory {
                    ... on PaymentStatusEvent {
                     status
                     timestamp
                     terminal
                     ... on AuthorizedEvent {
                      authorizationExpiresAt
                      processorResponse {
                       authorizationId
                       emvData
                       message
                       legacyCode
                       retrievalReferenceNumber
                      }
                     }
                     ... on GatewayRejectedEvent {
                      gatewayRejectionReason
                     }
                     ... on FailedEvent {
                      processorResponse {
                       retrievalReferenceNumber
                       emvData
                       message
                       legacyCode
                      }
                      networkResponse {
                       message
                       code
                      }
                     }
                     ... on ProcessorDeclinedEvent {
                      processorResponse {
                       legacyCode
                       message
                       authorizationId
                       additionalInformation
                       retrievalReferenceNumber
                       emvData
                      }
                      declineType
                      networkResponse {
                       code
                       message
                      }
                     }
                    }
                   }
                   merchantAddress {
                    company
                    streetAddress
                    addressLine1
                    extendedAddress
                    addressLine2
                    locality
                    adminArea2
                    region
                    adminArea1
                    postalCode
                    countryCode
                    phoneNumber
                   }
                   amount {
                    value
                    currencyIsoCode
                   }
                   merchantAccountId
                   merchantName
                   createdAt
                   channel
                   customFields {
                    name
                    value
                   }
                   paymentMethodSnapshot {
                    ... on CreditCardDetails {
                     origin {
                      details {
                       ... on EmvCardOriginDetails {
                        applicationPreferredName
                        applicationIdentifier
                        terminalId
                        inputMode
                        pinVerified
                       }
                      }
                     }
                     brandCode
                     last4
                     bin
                     expirationMonth
                     expirationYear
                     cardholderName
                     binData {
                      issuingBank
                      countryOfIssuance
                      prepaid
                      healthcare
                      debit
                      commercial
                     }
                    }
                   }
                  }
                 }
                }
               }</code></pre></div></div><h2 id="capturing-funds-against-an-authorization" class="test_h2 markdown-h2"><span>Capturing funds against an Authorization</span><a class="icon icon--link hash-link" href="#capturing-funds-against-an-authorization" aria-label="Capturing funds against an Authorization"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
            To capture the authorized funds, you must use the
            </span><a href="/braintree/graphql/reference/#Mutation--captureTransaction"><span>Capture Transaction mutation</span></a><span>
            within a 24-hour window of the funds being authorized (except for eligible
            Lodging MCC codes, which have expiry windows of up to 30 days). For a
            card-present authorization, you are allowed only a single capture attempt.
            Any remaining authorized funds not captured after the initial capture
            request will be voided. You may capture a lesser amount than what was
            authorized or an amount up to the maximum over-capture threshold (subject
            to eligibility). For merchants processing on MCC codes ineligible for
            over-capture, the maximum amount allowed for capture is the amount
            authorized.
        </span></p><div><div><div><p class="markdown-p"><div role="alert" class="ContextualAlert-module_pp-alert__1QhIq ContextualAlert-module_pp-alert--note__gRM6J"><div class="ContextualAlert-module_pp-alert__header__T2Wkg"><style data-emotion="css 4757ty-svg-size_xs">.css-4757ty-svg-size_xs{speak:none;display:inline-block;aspect-ratio:1;width:1.125rem;height:1.125rem;}.css-4757ty-svg-size_xs img,.css-4757ty-svg-size_xs svg{width:100%;height:100%;display:block;}</style><span class="ContextualAlert-module_pp-alert__icon__puACD css-4757ty-svg-size_xs" data-ppui-info="icons_8.21.2" role="img" aria-label="note" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-9.662 5h1.32c.18 0 .276-.096.276-.276v-5.925c0-.18-.096-.276-.276-.276h-1.32c-.18 0-.276.096-.276.276v5.925c0 .18.096.276.276.276zM12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" clip-rule="evenodd" data-ppui="true"></path></svg></span><span class="ContextualAlert-module_pp-alert__title__FOcbD">Note</span><span class="ContextualAlert-module_pp-alert__content__2-Ddi"><span>
                            The transaction must be in an Authorized state to allow for funds
                            capture
                        </span></span></div></div></p></div></div></div><h3 id="example-capture-request" class="test_h3 markdown-h3"><span>Example Capture request</span><a class="icon icon--link hash-link" href="#example-capture-request" aria-label="Example Capture request"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL Mutation</li><li class="styles_tab_list_item">GraphQL Variables</li><li class="styles_tab_list_item">Sample API Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre><code class="javascript">mutation CaptureTransaction($input: CaptureTransactionInput!) {
                captureTransaction(input: $input) {
                  transaction {
                    id
                    status
                  }
                }
              }</code></pre></div></div><h2 id="using-incremental-authorizations" class="test_h2 markdown-h2"><span>Using Incremental Authorizations</span><a class="icon icon--link hash-link" href="#using-incremental-authorizations" aria-label="Using Incremental Authorizations"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
            For some merchants, for example, those in the Hotels & Hospitality or
            some other industries, incremental authorizations (aka adjust auth) are an
            important feature for use cases such as tipping adjustment, hotel room
            damages, or hotel mini-bar charges, etc... This feature is subject to
            merchant eligibility based on MCC code, and it is also not supported for
            AMEX transactions and some other transaction types. This feature leverages
            the
            </span><a href="/braintree/graphql/reference/#Mutation--updateTransactionAmount"><span>updateTransactionAmount API mutation</span></a><span>
            with Braintree's GraphQL API.
        </span></p><div><div><div><p class="markdown-p"><div role="alert" class="ContextualAlert-module_pp-alert__1QhIq ContextualAlert-module_pp-alert--note__gRM6J"><div class="ContextualAlert-module_pp-alert__header__T2Wkg"><style data-emotion="css 4757ty-svg-size_xs">.css-4757ty-svg-size_xs{speak:none;display:inline-block;aspect-ratio:1;width:1.125rem;height:1.125rem;}.css-4757ty-svg-size_xs img,.css-4757ty-svg-size_xs svg{width:100%;height:100%;display:block;}</style><span class="ContextualAlert-module_pp-alert__icon__puACD css-4757ty-svg-size_xs" data-ppui-info="icons_8.21.2" role="img" aria-label="note" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-9.662 5h1.32c.18 0 .276-.096.276-.276v-5.925c0-.18-.096-.276-.276-.276h-1.32c-.18 0-.276.096-.276.276v5.925c0 .18.096.276.276.276zM12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" clip-rule="evenodd" data-ppui="true"></path></svg></span><span class="ContextualAlert-module_pp-alert__title__FOcbD">Note</span><span class="ContextualAlert-module_pp-alert__content__2-Ddi"><span>
                            The transaction must be in an Authorized state to be eligible for
                            adjustment
                        </span></span></div></div></p></div></div></div><h3 id="example-update-transaction-amount-request" class="test_h3 markdown-h3"><span>Example Update Transaction Amount request</span><a class="icon icon--link hash-link" href="#example-update-transaction-amount-request" aria-label="Example Update Transaction Amount request"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL Mutation</li><li class="styles_tab_list_item">GraphQL Variables</li><li class="styles_tab_list_item">Sample API Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre><code class="javascript">mutation updateTransactionAmount($input: UpdateTransactionAmountInput!) {
                updateTransactionAmount(input: $input) {
                  transaction {
                    id
                    status
                    customer{
                        email
                        firstName
                        lastName
                        id
                    }
                  }
                }
              }</code></pre></div></div><h3 id="using-estimated-auth-pre-auth" class="test_h3 markdown-h3"><span>Using Estimated Auth (Pre-Auth)</span><a class="icon icon--link hash-link" href="#using-estimated-auth-pre-auth" aria-label="Using Estimated Auth (Pre-Auth)"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
            Using an estimated authorization or a "pre-auth" can help avoid issuer
            rejections and improve authorization rates for scenarios when you may not
            know the final charge amount at the time of authorization. Some industries
            where this may be common are hotels, vehicle rentals, bars, etc... It is
            recommended that you use this feature if you are using incremental auth.
            To trigger an estimated authorization you must pass the
            </span><a href="/braintree/graphql/reference/#Enum--InStorePaymentInitiator"><code><span>paymentInitiator</span></code></a><span>
            flag with a value of "</span><code><span>ESTIMATED</span></code><span>". See example below:
        </span></p><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL Mutation</li><li class="styles_tab_list_item">GraphQL Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre><code class="javascript">mutation RequestAuthorizeFromInStoreReader($input: RequestAuthorizeFromInStoreReaderInput!) {
                requestAuthorizeFromInStoreReader(input: $input) {
                    clientMutationId
                    inStoreContext {
                        id
                        status
                        transaction {
                            id
                            orderId
                            status
                            customer{
                                id
                            }
                            paymentMethodSnapshot{
                                __typename
                                ... on CreditCardDetails {
                                    brandCode
                                    bin
                                    last4
                                    cardholderName
                                    expirationMonth
                                    expirationYear     
                                }
                            }
                        }
                        reader {
                            id
                            name                
                            status
                            softwareVersion
                        }
                    }
                }
            }</code></pre></div></div><h2 id="amex-over-capture-rules" class="test_h2 markdown-h2"><span>AMEX Over Capture Rules</span><a class="icon icon--link hash-link" href="#amex-over-capture-rules" aria-label="AMEX Over Capture Rules"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
            MCC codes such as </span><strong><span>4821</span></strong><span> (Taxi Cabs and Rideshares) and
            </span><strong><span>5812</span></strong><span> (Restaurants) are allowed to capture up to 20% more
            than the authorized amount.
        </span></p><p class="markdown-p"><span>
            MCC codes such as </span><strong><span>7011</span></strong><span> (Lodging),
            </span><strong><span>7512</span></strong><span>/</span><strong><span>7513</span></strong><span>/</span><strong><span>7519</span></strong><span> (Vehicle
            Rentals), as well as Cruise Lines, Grocery merchants, and Retailers are
            allowed to capture up to 15% more than the authorized amount.
        </span></p><p class="markdown-p"><span>
            If you have a direct contract with AMEX, you may need to reach out to them
            to have them configure your account to allow for over-captures.
        </span></p><h2 id="important-tips-when-integrating-separate-auth-from-capture" class="test_h2 markdown-h2"><span>Important Tips When Integrating Separate Auth from Capture</span><a class="icon icon--link hash-link" href="#important-tips-when-integrating-separate-auth-from-capture" aria-label="Important Tips When Integrating Separate Auth from Capture"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><ul class="list list--disc"><li><div></div><div><p class="markdown-p"><a href="/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/#initializing-the-reader-for-authorization"><span>Request Authorization</span></a><span>
                        is supported for
                        </span><a href="/braintree/in-person/guides/offline-transactions/"><span>offline transactions</span></a></p></div></li><li><div></div><div><p class="markdown-p"><span>
                        Some MCC codes are allowed to capture more (aka over capture) than
                        the authorized amount (typically used by restaurant merchants for
                        tipping purposes)
                    </span></p></div></li><li><div></div><div><p class="markdown-p"><span>
                        Some MCC codes are allowed to use incremental authorizations (adjust
                        auth) in order to incrementally increase the auth amount (typically
                        used by Hotel & Hospitality merchants)
                    </span></p></div></li><li><div></div><div><p class="markdown-p"><span>
                        To enable over-captures or incremental authorizations, your
                        Braintree account must be configured accordingly. Please work with
                        your Solutions Engineer or Integration Engineer to facilitate this
                    </span></p></div></li><li><div></div><div><p class="markdown-p"><span>
                        Incremental Auth is not supported for AMEX transactions. For some
                        use cases, you may need to perform an over-capture for an AMEX
                        transaction
                    </span></p></div></li><li><div></div><div><p class="markdown-p"><a href="/braintree/in-person/guides/paypal-and-venmo-qrc/"><span>PayPal and Venmo QRC</span></a><span>
                        transactions are NOT supported for separate auth from capture
                    </span></p></div></li><li><div></div><div><p class="markdown-p"><span>
                        Passing of
                        </span><a href="/braintree/in-person/guides/making-a-transaction/level-2-and-level-3-data-processing/"><span>L2/L3 data</span></a><span>
                        is not supported in the authorization request; however, you may pass
                        this data in the
                        </span><a href="/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/#capturing-funds-against-an-authorization"><span>separate capture</span></a><span>
                        request
                    </span></p></div></li></ul></div><div class="nextPreviousButtonWrapper"><div class="nextLink-bt"><a class="nextLink-link" href="/braintree/in-person/guides/making-a-transaction/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0,0,24,24" width="24" fill="none" height="24"><path d="M9.707,18.7033C10.0975,18.3128,10.0975,17.6796,9.707,17.2891L5.414,12.9961H21C21.5523,12.9961,22,12.5484,22,11.9961C22,11.4438,21.5523,10.9961,21,10.9961H5.414L9.707,6.7032C10.0975,6.31268,10.0975,5.67951,9.707,5.28899C9.31647,4.89846,8.68333,4.89846,8.2928,5.28899L2.2998,11.282C2.29375,11.288,2.28777,11.2941,2.28179,11.3003C2.10735,11.4803,2,11.7257,2,11.9961C2,12.2654,2.10637,12.5097,2.27947,12.6895C2.28441,12.6948,2.2895,12.7,2.29457,12.7052L2.29713,12.7077L2.2998,12.7103L8.29273,18.7033C8.68326,19.0938,9.31641,19.0938,9.707,18.7033Z" fill="#0070E0"></path></svg><span><span><span>Initiate a Sale or Refund</span></span></span></a></div><div class="nextLink-bt"><a class="nextLink-link" href="/braintree/in-person/guides/making-a-transaction/level-2-and-level-3-data-processing/"><span><span><span>Level 2 and Level 3 Data Processing</span></span></span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0,0,24,24" width="24" fill="none" height="24"><path d="M14.2931,18.7033C13.9026,18.3128,13.9026,17.6796,14.2931,17.2891L18.5861,12.9961H3C2.44772,12.9961,2,12.5484,2,11.9961C2,11.4438,2.44772,10.9961,3,10.9961H18.5861L14.2931,6.7032C13.9026,6.31268,13.9026,5.67951,14.2931,5.28899C14.6837,4.89846,15.3168,4.89846,15.7073,5.28899L21.7003,11.282C21.7064,11.288,21.7123,11.2941,21.7182,11.3003C21.8926,11.4803,22,11.7257,22,11.9961C22,12.2654,21.8936,12.5097,21.7205,12.6895C21.7156,12.6948,21.7105,12.7,21.7054,12.7052L21.7029,12.7077L21.7003,12.7103L15.7074,18.7033C15.3168,19.0938,14.6837,19.0938,14.2931,18.7033Z" fill="#0070E0"></path></svg></a></div></div></main></div><nav class="right-nav-container"><h4 class="right-nav-title">On this page</h4><ul class="right-nav-list"></ul></nav></div></article></main><div><footer class="footer wrap nocontent " data-track-event-context="footer"><div class="footer-section footer-section--light"><div class="footer-section-inner"><div class="footer-cta-section"><div class="footer-section-inner--right-padding footer-cta-icon"><svg width="25" height="29" viewBox="0 0 25 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 15.5C13.5908 15.4983 15.1159 14.8656 16.2408 13.7408C17.3656 12.6159 17.9983 11.0908 18 9.5H15C15 10.2956 14.6839 11.0587 14.1213 11.6213C13.5587 12.1839 12.7956 12.5 12 12.5C11.2044 12.5 10.4413 12.1839 9.87868 11.6213C9.31607 11.0587 9 10.2956 9 9.5H6C6.0017 11.0908 6.63438 12.6159 7.75923 13.7408C8.88408 14.8656 10.4092 15.4983 12 15.5V15.5Z" fill="#202020"></path><path d="M6.25 28.625H10.9375L17.1875 22.375H25V0.5H0V22.375H6.25V28.625ZM3.125 19.25V3.625H21.875V19.25H15.8931L14.9778 20.1653L9.64308 25.5H9.375V19.25H3.125Z" fill="#202020"></path></svg></div><div class="footer-section-inner--right-padding"><h5>Get help from a human</h5><p>Submit a request for help with your PayPal Braintree sandbox or production account.</p><a class="button button--secondary" data-track-event-properties="project=journey&amp;docs,context=footer,component=button,action=click,descriptor=get help,intent=view help contact form,origin=support articles,href=https://developer.paypal.com/braintree/help" pa-marked="1" href="/braintree/help">Get Help</a></div></div></div></div><div class="footer-section_wrapper"></div></footer></div></div></div><script nonce="Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf">
            window.process = globalThis.process = {
              env: {
                NODE_ENV: "development" // or "production", depending on your environment
              }
            };
          </script>
      </script><script src="https://www.paypalobjects.com/pa/js/min/pa.js"></script><div data-testid="cookie_banner"><link rel="stylesheet" type="text/css" href="https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css"/><style nonce="Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf">@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, "Helvetica Neue", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }</style><div class="cdn-consent-css"><div class="ppui-theme theme_ppui_theme_tokens__1ozbsv90"><div id="ccpaCookieBanner" class="CookieBanner_container"><div class="CookieBanner_container_wrapper"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4" data-ppui-info=""><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z"></path></svg></span><div class="CookieBanner_content_wrapper"><div id="ccpaCookieContent_wrapper" class="CookieContent_wrapper"><h4 class="styles_text-title_medium__awycp4g CookieBanner_text" data-ppui-info="title-text" id="cookieTitle">If you accept cookies, well use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. <a id="manageCookiesLink" href="https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US">Manage cookies and learn more</a></h4></div><div class="CookieBanner_buttonGroup"><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton" data-ppui-info="" id="acceptAllButton" tab-index="0">Accept</button><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton" data-ppui-info="" id="bannerDeclineButton" tab-index="0">Decline</button></div></div><button data-ppui-info="" class="styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon" type="button" id="bannerCloseButton"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf" data-ppui-info="" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z"></path></svg></span><span class="styles_screenreader__1p05eo10">Close</span></button></div></div></div></div><script nonce="Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf">(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window && window.fpti && window.PAYPAL && window.PAYPAL.analytics && window.PAYPAL.analytics.instance && window.PAYPAL.analytics.instance.options && window.PAYPAL.analytics.instance.options.request && window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() && getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem("isBannerClosed") || sessionStorage.getItem("isUserAccepted") || sessionStorage.getItem("isInvisibleBanner")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false && true && (navigator && !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false && true && (navigator && !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem("isUserAccepted")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem("isBannerClosed")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem("isInvisibleBanner")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti && window.fpti.page || window.location && window.location.href; queryParamters.component = window.fpti && window.fpti.comp; const eventSourceUrl = window.location && window.location.href; queryParamters.eventSourceUrl = eventSourceUrl && eventSourceUrl.split("?")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) => queryString += (index > 0 ? '&' : '') + key + "=" + btoa(queryParamters[key])); const endPoint = "https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState > 3 && xhr.status === 200) { try { if (xhr?.response && xhr.response != "OK") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length > 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) => {  if(e !== "www"){ subDomains.push("." + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource="cookieBanner"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable && getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState > 3 && xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:"cookieBanner"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { "accept" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, "decline" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false&performance=false&functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, "close" : { endPointSuffix : '&type=explicit_close&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton && cookieBanner && cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton && cookieBanner && cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton && cookieBanner && cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton && cookieBanner && cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi && cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += " ccpaHideCookieBannerMobile"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace("ccpaHideCookieBannerMobile",""); } }; document.body.addEventListener("focus", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = ""; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && cookieBanner.style.display != 'none') { if (bodyPaddingBottom === "" || (isPaddingBottomAdded && bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length > 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace("px", "")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded && bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded && cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return "true"; else if (navigator.cookieEnabled === true) return "false"; else return "undefined"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:"cookieBanner"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage && cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace("ccpaCookieBanner-acceptedAll",""); document.body.className = document.body.className.replace("top-cookie-banner-enabled",""); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi && getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner && cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) > (cookieBanner.getBoundingClientRect().top)) && !activeElement.parentElement.nodeName.includes("UL")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener("focusin", focusIn); } } if(addListener){ document.addEventListener("focusin",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() && !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- > 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() && document.getElementById('ccpaCookieBanner') && !document.body.className.includes("ccpaCookieBanner-acceptedAll")){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();</script></div><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-DWXUS3OJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-L5PH23AQ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6FIGYWP.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6PGNH2U.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-B6RWMYIW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-JWVH3LXD.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-6U42WDX3.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-YVSNDZ53.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J2GE73YK.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-5BT6OS7I.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-23AVEWBC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RNL33CPM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-KHGBJ4DZ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MV6WZZTV.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MGQUUIAL.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-4XUXT72V.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-7GGXQ4CC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ARCSJZ66.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-HUHQJMXM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V5GCSBYI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RTF7FTLH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-Y6FV67CR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-SDOOWKWW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ZAEIBDVB.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-H5OFEOJY.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AJAXRUVI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-XQKKFWZR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MZ7A5LCT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-M3EUWJZ6.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AGQ7GS2C.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V4QDYNUE.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-G6HOB2YT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TIBAJGV5.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RXSCWH3H.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-IFX6OXXY.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-QPO3S2DS.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-WCFLXRHO.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TL4Q62UH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/in-person-BCFKGM3O.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-SQDYALD2.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-UQGSNUDM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/in-person/$-EGOLLNAC.js"/><script nonce="Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf">window.__remixContext = {"url":"/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/","state":{"loaderData":{"root":{"isLoggedIn":false,"_csrf":"ay04kKVN0PwJO9RR5YOg+A0CACHS1dbk//pfw=","searchConfig":{"appId":"^@KGPPiC^4KSTT85","aKey":"GROm[oD;FA\\0OoH=Q\\2XhWaFQf2[hHqRRShLBK`FhH\u003c","BTDOCS_INDEX":"BTDOCS_BTDOCSNODEWEB"},"analytics":{"appName":"btdocsnodeweb","stock":"UA-37159521-1","exp":"UA-37159521-8"},"nonce":"Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf","cookieBannerInfo":{"css":"\u003clink rel=\"stylesheet\" type=\"text/css\" href=\"https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css\"/\u003e\u003cstyle nonce=\"Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf\"\u003e@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, \"Helvetica Neue\", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }\u003c/style\u003e","html":"\u003cdiv class=\"cdn-consent-css\"\u003e\u003cdiv class=\"ppui-theme theme_ppui_theme_tokens__1ozbsv90\"\u003e\u003cdiv id=\"ccpaCookieBanner\" class=\"CookieBanner_container\"\u003e\u003cdiv class=\"CookieBanner_container_wrapper\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4\" data-ppui-info=\"\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cdiv class=\"CookieBanner_content_wrapper\"\u003e\u003cdiv id=\"ccpaCookieContent_wrapper\" class=\"CookieContent_wrapper\"\u003e\u003ch4 class=\"styles_text-title_medium__awycp4g CookieBanner_text\" data-ppui-info=\"title-text\" id=\"cookieTitle\"\u003eIf you accept cookies, well use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. \u003ca id=\"manageCookiesLink\" href=\"https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US\"\u003eManage cookies and learn more\u003c/a\u003e\u003c/h4\u003e\u003c/div\u003e\u003cdiv class=\"CookieBanner_buttonGroup\"\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton\" data-ppui-info=\"\" id=\"acceptAllButton\" tab-index=\"0\"\u003eAccept\u003c/button\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton\" data-ppui-info=\"\" id=\"bannerDeclineButton\" tab-index=\"0\"\u003eDecline\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003cbutton data-ppui-info=\"\" class=\"styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon\" type=\"button\" id=\"bannerCloseButton\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf\" data-ppui-info=\"\" aria-hidden=\"true\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cspan class=\"styles_screenreader__1p05eo10\"\u003eClose\u003c/span\u003e\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e","js":"\u003cscript nonce=\"Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf\"\u003e(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window \u0026\u0026 window.fpti \u0026\u0026 window.PAYPAL \u0026\u0026 window.PAYPAL.analytics \u0026\u0026 window.PAYPAL.analytics.instance \u0026\u0026 window.PAYPAL.analytics.instance.options \u0026\u0026 window.PAYPAL.analytics.instance.options.request \u0026\u0026 window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() \u0026\u0026 getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem(\"isBannerClosed\") || sessionStorage.getItem(\"isUserAccepted\") || sessionStorage.getItem(\"isInvisibleBanner\")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem(\"isUserAccepted\")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem(\"isBannerClosed\")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem(\"isInvisibleBanner\")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti \u0026\u0026 window.fpti.page || window.location \u0026\u0026 window.location.href; queryParamters.component = window.fpti \u0026\u0026 window.fpti.comp; const eventSourceUrl = window.location \u0026\u0026 window.location.href; queryParamters.eventSourceUrl = eventSourceUrl \u0026\u0026 eventSourceUrl.split(\"?\")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) =\u003e queryString += (index \u003e 0 ? '\u0026' : '') + key + \"=\" + btoa(queryParamters[key])); const endPoint = \"https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?\" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status === 200) { try { if (xhr?.response \u0026\u0026 xhr.response != \"OK\") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length \u003e 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) =\u003e {  if(e !== \"www\"){ subDomains.push(\".\" + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource=\"cookieBanner\"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable \u0026\u0026 getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:\"cookieBanner\"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { \"accept\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, \"decline\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false\u0026performance=false\u0026functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, \"close\" : { endPointSuffix : '\u0026type=explicit_close\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi \u0026\u0026 cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += \" ccpaHideCookieBannerMobile\"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace(\"ccpaHideCookieBannerMobile\",\"\"); } }; document.body.addEventListener(\"focus\", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = \"\"; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 cookieBanner.style.display != 'none') { if (bodyPaddingBottom === \"\" || (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length \u003e 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace(\"px\", \"\")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded \u0026\u0026 cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return \"true\"; else if (navigator.cookieEnabled === true) return \"false\"; else return \"undefined\"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:\"cookieBanner\"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage \u0026\u0026 cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace(\"ccpaCookieBanner-acceptedAll\",\"\"); document.body.className = document.body.className.replace(\"top-cookie-banner-enabled\",\"\"); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi \u0026\u0026 getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner \u0026\u0026 cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) \u003e (cookieBanner.getBoundingClientRect().top)) \u0026\u0026 !activeElement.parentElement.nodeName.includes(\"UL\")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener(\"focusin\", focusIn); } } if(addListener){ document.addEventListener(\"focusin\",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() \u0026\u0026 !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- \u003e 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() \u0026\u0026 document.getElementById('ccpaCookieBanner') \u0026\u0026 !document.body.className.includes(\"ccpaCookieBanner-acceptedAll\")){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();\u003c/script\u003e","cookies":{"cookie_prefs":{"value":"T=0,P=0,F=0,type=initial","options":{"maxAge":31536000000,"SameSite":"None","Secure":true,"domain":".paypal.com"}}}},"fptiTracking":{"name":"pta","jsURL":"https://www.paypalobjects.com","serverURL":"https://t.paypal.com/ts","dataString":"pgrp=btdocs%3Ain-person_guides_making-a-transaction_initiate-a-card-present-authorization_\u0026page=btdocsnodeweb%2F.dust\u0026pgst=1767195297154\u0026calc=b8988ff5cdf7d\u0026nsid=zZ2pdFoDY8jKqWdzE5BJSRhmzI_IlIxQ\u0026rsta=en_US\u0026pgtf=Nodejs\u0026env=live\u0026s=ci\u0026ccpg=US\u0026csci=59d5e2fbd9c74bc88a292927f31ac47b\u0026comp=btdocsnodeweb\u0026tsrce=btdocsnodeweb\u0026cu=0"},"experiments":{"feedback":true,"onboarding":true,"signupramp":false,"uiramp":true,"webllsOn":false,"runInPostmanFeatureSwitch":true,"integrationBuilder":true,"migration":true,"askAIOptionsExp":true,"enableInternalUIFeatures":false},"env":"prod","nodeEnv":{"_env":"LIVE","isDev":false,"isNotDev":true,"isTest":false,"isNotTest":true,"isStage":false,"isQA":false,"isNotStage":true,"isNotQA":true,"isSandbox":false,"isNotSandbox":true,"isProd":true,"isLive":true,"isNotProd":false,"isNotLive":false}},"routes/braintree/in-person/$":{"id":"5D41tIvrjV70aTbJ5L0ADu","document_id":"FFT51","entry_template_id":"freeForm","entry_template_name":"Braintree In Person Doc","resource_type":"ENTRY","create_time":"2024-11-20T19:05:44.304Z","update_time":"2025-01-20T07:46:42.197Z","language":["en-US"],"revision":13,"published_counter":5,"published_version":12,"content":{"internalTitle":"Initiate a Card Present Authorization /in-person/guides/making-a-transaction/initiate-a-card-present-authorization/","slug":"/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/","title":"Initiate a Card Present Authorization","subtitle":"This page covers the support of separate auth from capture on the Braintree In-Person solution from a card present perspective.","content":{"node":"root","child":[{"node":"element","tag":"main","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"header","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"h1","child":[{"node":"text","text":"Initiate a Card Present Authorization"}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            This page covers the support of separate auth from capture on the\n            Braintree In-Person solution from a card present perspective.\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"h2","attr":{"id":"feature-overview"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Feature Overview"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            For some use cases where a capture delay is required (ex: endless aisle,\n            save the sale, tipping on receipt, hotel check-in), you may need to\n            request an authorization rather than requesting a charge. This gives the\n            API caller complete control over the authorization capture cadence rather\n            than relying on automated Braintree capture logic. Generally, this\n            operates similarly to e-commerce authorization flows, with some important\n            differences.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"message","attr":{"type":"note"},"child":[{"node":"text","text":"\n                            Separate auth and capture using the\n                            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--requestAuthorizeFromInStoreReader"},"child":[{"node":"text","text":"requestAuthorization"}]},{"node":"text","text":"\n                            API mutation is supported starting in firmware\n                            "},{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/reference/app-version-release-notes/#version510"},"child":[{"node":"text","text":"version 5.1.0"}]},{"node":"text","text":"\n                        "}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h2","attr":{"id":"initializing-the-reader-for-authorization"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Initializing the Reader for Authorization"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            When you're ready to charge a customer, you can create an In-Store Context\n            by requesting to authorize a card on the reader. In this step, your\n            application will specify at minimum, the\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"readerId"}]},{"node":"text","text":"\n            ,\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"merchantAccountId"}]},{"node":"text","text":"and\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"transaction.amount"}]},{"node":"text","text":"\n            details to initialize the reader for payment acceptance. Note that the\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"merchantAccountId"}]},{"node":"text","text":"is not validated against in the Sandbox\n            environment; however, this is a required value in the Production\n            environment for all interactions with the card reader.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            Authorizing is similar to charging, except that if the authorization is\n            successful, Braintree will NOT capture the transaction. It would be up to\n            the merchant to send a separate capture request using the\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"transaction.id"}]},{"node":"text","text":"\n            to complete the charge.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"message","attr":{"type":"note"},"child":[{"node":"text","text":"\n                            Card present authorizations only allow for a single capture request; multiple partial capture is NOT supported. Any remaining authorized funds after the first capture will automatically be voided. \n                        "}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            To provide idempotency on the\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--requestAuthorizeFromInStoreReader"},"child":[{"node":"text","text":"requestAuthorize"}]},{"node":"text","text":"\n            mutation, you must also include the HTTP header\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"Idempotency-Key "}]},{"node":"text","text":"with a unique value. UUIDv4 is recommended.\n            For example, if using\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"curl"}]},{"node":"text","text":"\n            to make the request, you would include\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n\n                        "},{"node":"element","tag":"message","attr":{"type":"note"},"child":[{"node":"text","text":"\n                            Using\n                            "},{"node":"element","tag":"code","child":[{"node":"text","text":"Idempotency-Key "}]},{"node":"text","text":"is an important way of preventing\n                            duplicate charges to your customer in the event of an API\n                            communication failure. For example: if you request a charge from\n                            the reader, the customer completes the charge on the reader but\n                            for some reason, the POS does not get back the result of the\n                            transaction before timing out. In this scenario, the POS could\n                            recover the original transaction using the same\n                            "},{"node":"element","tag":"code","child":[{"node":"text","text":"Idempotency-Key "}]},{"node":"text","text":"without accidentally creating a\n                            duplicate charge.\n                        "}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"--header 'Idempotency-Key: 94c9ea8b-31b0-488e-a231-57e32f0bfd70' "}]}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"tabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tablist"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-mutation","id":"tab-graphql-mutation"},"child":[{"node":"text","text":"\n                    GraphQL Mutation"}]},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-variables","id":"tab-graphql-variables"},"child":[{"node":"text","text":"\n                    GraphQL Variables"}]},{"node":"element","tag":"button","attr":{"aria-selected":"true","role":"tab","aria-controls":"sample-api-response","id":"tab-sample-api-response"},"child":[{"node":"text","text":"\n                    Sample API Response\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-mutation","id":"graphql-mutation"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"mutation RequestAuthorizeFromInStoreReader($input: RequestAuthorizeFromInStoreReaderInput!) {\n                requestAuthorizeFromInStoreReader(input: $input) {\n                    clientMutationId\n                    id\n                    status\n                    reader {\n                        id\n                        name                \n                        status\n                    }\n                }\n            }"}]}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-variables","id":"graphql-variables"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"input\": {\n                    \"clientMutationId\": \"your event/request reference\",\n                    \"readerId\": \"your reader ID\",\n                    \"transaction\": {\n                      \"amount\": \"any amount\",            \n                    \"orderId\": \"Your Order Id\",\n                    \"merchantAccountId\": \"your merchant account ID\"\n                 }\n                }\n              }"}]}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-sample-api-response","id":"sample-api-response"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"data\": {\n                    \"requestAuthorizeFromInStoreReader\": {\n                        \"clientMutationId\": \"your event/request reference\",\n                        \"id\": \"aW5zdI2U3NzY3NTQ4YjM2Mzk0MGExNzU1Yjk5YWM3I1ZFUklGT05FLTgwNS0wMTctNDU0I3VzLXdlc3QtMg\",\n                        \"status\": \"PENDING\",\n                        \"reader\": {\n                            \"id\": \"aW5z3B3c2Y0Mmh3hjbiNWRVJJRk9ORS04MDUtMDE3LTQ1NA\",\n                            \"name\": \"Your P400\",\n                            \"status\": \"ONLINE\"\n                        }\n                    }\n                },\n                \"extensions\": {\n                    \"requestId\": \"1b170326-3523-47c1-add6-b079b1ab0\"\n                }\n            }"}]}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h2","attr":{"id":"checking-the-reader-authorization-status"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Checking the Reader Authorization Status"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            After the reader is initialized for payment, your application must wait\n            for the customer to interact with it (i.e. insert a test card) and for the\n            payment attempt to be processed. Your application should use\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Query--node"},"child":[{"node":"text","text":"the node query"}]},{"node":"text","text":"\n            to poll on a 2-second interval between responses for the current status of\n            the payment using the\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"RequestChargeInStoreContext.id"}]},{"node":"text","text":"\n            received at charge initialization and monitor the\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"RequestAuthorizeInStoreContext.status"}]},{"node":"text","text":"field as the transaction\n            goes through the lifecycle.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"picture","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"img","attr":{"src":"https://www.paypalobjects.com/devdoc/btdocs-gitbook/Initiate%20a%20card%20present%20authorrization:Checking%20the%20Reader%20Authorization%20Status.png"}},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n                "},{"node":"element","tag":"figcaption","child":[{"node":"text","text":"\n                    COMPLETE context status will indicate an \"Authorized\" transaction\n                    status, not \"SUBMITTED_FOR_SETTLEMENT\" when using the Request\n                    Authorize mutation\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            When the\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"RequestAuthorizeInStoreContext.status"}]},{"node":"text","text":"\n            changes to \"COMPLETE\", you will also receive a transaction object\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"RequestAuthorizeInStoreContext.transaction"}]},{"node":"text","text":"in the response.\n            Save the completed\n            "},{"node":"element","tag":"code","child":[{"node":"text","text":"RequestAuthorizeInStoreContext.transaction.id"}]},{"node":"text","text":"\n            in your database for referencing the transaction in subsequent operations\n            (ie. capture, adjust auth, void, etc...).\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            All successful test transactions should have a transaction amount value\n            below $2,000 for testing. For more info on using amounts to simulate\n            various transaction outcomes, take a look at\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/testing-your-integration/"},"child":[{"node":"text","text":"Testing Your Integration"}]},{"node":"text","text":".\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"tabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tablist"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"button","attr":{"aria-selected":"true","role":"tab","aria-controls":"query","id":"tab-query"},"child":[{"node":"text","text":"\n                    Query"}]},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"sample-api-response-successful-auth","id":"tab-sample-api-response-successful-auth"},"child":[{"node":"text","text":"\n                    Sample API response (successful auth)\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-query","id":"query"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                node(id: \"{{last_braintree_instore_context}}\") {\n                 ... on RequestAuthorizeInStoreContext {\n                  id\n                  status\n                  statusReason\n                  reader {\n                   id\n                   name\n                   status\n                  }\n                  transaction {\n                   id\n                   orderId\n                   status\n                   statusHistory {\n                    ... on PaymentStatusEvent {\n                     status\n                     timestamp\n                     terminal\n                     ... on AuthorizedEvent {\n                      authorizationExpiresAt\n                      processorResponse {\n                       authorizationId\n                       emvData\n                       message\n                       legacyCode\n                       retrievalReferenceNumber\n                      }\n                     }\n                     ... on GatewayRejectedEvent {\n                      gatewayRejectionReason\n                     }\n                     ... on FailedEvent {\n                      processorResponse {\n                       retrievalReferenceNumber\n                       emvData\n                       message\n                       legacyCode\n                      }\n                      networkResponse {\n                       message\n                       code\n                      }\n                     }\n                     ... on ProcessorDeclinedEvent {\n                      processorResponse {\n                       legacyCode\n                       message\n                       authorizationId\n                       additionalInformation\n                       retrievalReferenceNumber\n                       emvData\n                      }\n                      declineType\n                      networkResponse {\n                       code\n                       message\n                      }\n                     }\n                    }\n                   }\n                   merchantAddress {\n                    company\n                    streetAddress\n                    addressLine1\n                    extendedAddress\n                    addressLine2\n                    locality\n                    adminArea2\n                    region\n                    adminArea1\n                    postalCode\n                    countryCode\n                    phoneNumber\n                   }\n                   amount {\n                    value\n                    currencyIsoCode\n                   }\n                   merchantAccountId\n                   merchantName\n                   createdAt\n                   channel\n                   customFields {\n                    name\n                    value\n                   }\n                   paymentMethodSnapshot {\n                    ... on CreditCardDetails {\n                     origin {\n                      details {\n                       ... on EmvCardOriginDetails {\n                        applicationPreferredName\n                        applicationIdentifier\n                        terminalId\n                        inputMode\n                        pinVerified\n                       }\n                      }\n                     }\n                     brandCode\n                     last4\n                     bin\n                     expirationMonth\n                     expirationYear\n                     cardholderName\n                     binData {\n                      issuingBank\n                      countryOfIssuance\n                      prepaid\n                      healthcare\n                      debit\n                      commercial\n                     }\n                    }\n                   }\n                  }\n                 }\n                }\n               }"}]}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-sample-api-response-successful-auth","id":"sample-api-response-successful-auth"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"data\": {\n                    \"node\": {\n                        \"id\": \"aW5zdG9yZWNTQ4YjM2ZTRlZDRhMzk0MGExNzU1Yjk5YWM3I1ZFUklGT05FLTgwNS0wMTctNDU0I3VzLXdlc3QtMg\",\n                        \"status\": \"COMPLETE\",\n                        \"reader\": {\n                            \"id\": \"aW5zdG9yZXJlYWRY0Mmh3OWo1OWhjbiNWRVJJRk9ORS04MDUtMDE3LTQ1NA\",\n                            \"name\": \"Your P400\",\n                            \"status\": \"ONLINE\"\n                        },\n                        \"transaction\": {\n                            \"id\": \"dHJhb25fYjNhc2VqY2E\",\n                            \"legacyId\": \"bsejca\",\n                            \"orderId\": \"Your Order Id\",\n                            \"status\": \"AUTHORIZED\",\n                            \"statusHistory\": [\n                                {\n                                    \"__typename\": \"AuthorizedEvent\",\n                                    \"status\": \"AUTHORIZED\",\n                                    \"timestamp\": \"2023-06-16T18:24:07.000000Z\",\n                                    \"terminal\": false,\n                                    \"processorResponse\": {\n                                        \"authorizationId\": \"G5TJ7V\",\n                                        \"emvData\": \"9F240512345678908A023030\",\n                                        \"message\": \"Approved\",\n                                        \"legacyCode\": \"1000\",\n                                        \"retrievalReferenceNumber\": \"1234567\"\n                                    }\n                                }\n                            ],\n                            \"merchantAddress\": {\n                                \"company\": null,\n                                \"streetAddress\": null,\n                                \"addressLine1\": null,\n                                \"extendedAddress\": null,\n                                \"addressLine2\": null,\n                                \"locality\": \"Braintree\",\n                                \"adminArea2\": \"Braintree\",\n                                \"region\": \"MA\",\n                                \"adminArea1\": \"MA\",\n                                \"postalCode\": \"02184\",\n                                \"countryCode\": null,\n                                \"phoneNumber\": \"5555555555\"\n                            },\n                            \"amount\": {\n                                \"value\": \"792.00\",\n                                \"currencyIsoCode\": \"USD\"\n                            },\n                            \"merchantAccountId\": \"OverCapture_AdjustAuth\",\n                            \"merchantName\": \"DESCRIPTORNAME\",\n                            \"createdAt\": \"2023-06-16T18:24:06.000000Z\",\n                            \"channel\": null,\n                            \"customFields\": null,\n                            \"paymentMethodSnapshot\": {\n                                \"__typename\": \"CreditCardDetails\",\n                                \"origin\": {\n                                    \"type\": \"IN_STORE_READER\",\n                                    \"details\": {\n                                        \"__typename\": \"EmvCardOriginDetails\",\n                                        \"authorizationMode\": \"ISSUER\",\n                                        \"inputMode\": \"CONTACTLESS\",\n                                        \"pinVerified\": false,\n                                        \"terminalId\": \"9c3b9fc0\",\n                                        \"applicationPreferredName\": \"Braintree Credit\",\n                                        \"applicationIdentifier\": \"A000000003101001\",\n                                        \"terminalVerificationResult\": \"0000000000\",\n                                        \"cardSequenceNumber\": null,\n                                        \"applicationInterchangeProfile\": null,\n                                        \"terminalTransactionDate\": null,\n                                        \"terminalTransactionType\": null,\n                                        \"cashbackAmount\": null,\n                                        \"applicationUsageControl\": null,\n                                        \"terminalCountryCode\": null,\n                                        \"applicationCryptogram\": null,\n                                        \"cryptogramInformationData\": null,\n                                        \"cardholderVerificationMethodResults\": null,\n                                        \"applicationTransactionCounter\": null,\n                                        \"unpredictableNumber\": null,\n                                        \"issuerActionCodeDefault\": null,\n                                        \"issuerActionCodeDenial\": null,\n                                        \"issuerActionCodeOnline\": null\n                                    }\n                                },\n                                \"brandCode\": \"VISA\",\n                                \"last4\": \"8885\",\n                                \"bin\": \"421212\",\n                                \"expirationMonth\": \"12\",\n                                \"expirationYear\": \"2025\",\n                                \"cardholderName\": \"BRAINTREE TEST\",\n                                \"binData\": {\n                                    \"issuingBank\": null,\n                                    \"countryOfIssuance\": null,\n                                    \"prepaid\": \"UNKNOWN\",\n                                    \"healthcare\": \"UNKNOWN\",\n                                    \"debit\": \"UNKNOWN\",\n                                    \"commercial\": \"UNKNOWN\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"extensions\": {\n                    \"requestId\": \"75004704-898e-4621-a37c-8ead03b1\"\n                }\n            }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h2","attr":{"id":"capturing-funds-against-an-authorization"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Capturing funds against an Authorization"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            To capture the authorized funds, you must use the\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--captureTransaction"},"child":[{"node":"text","text":"Capture Transaction mutation"}]},{"node":"text","text":"\n            within a 24-hour window of the funds being authorized (except for eligible\n            Lodging MCC codes, which have expiry windows of up to 30 days). For a\n            card-present authorization, you are allowed only a single capture attempt.\n            Any remaining authorized funds not captured after the initial capture\n            request will be voided. You may capture a lesser amount than what was\n            authorized or an amount up to the maximum over-capture threshold (subject\n            to eligibility). For merchants processing on MCC codes ineligible for\n            over-capture, the maximum amount allowed for capture is the amount\n            authorized.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"message","attr":{"type":"note"},"child":[{"node":"text","text":"\n                            The transaction must be in an Authorized state to allow for funds\n                            capture\n                        "}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h3","attr":{"id":"example-capture-request"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Example Capture request"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"tabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tablist"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-mutation-1","id":"tab-graphql-mutation-1"},"child":[{"node":"text","text":"\n                    GraphQL Mutation"}]},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-variables-1","id":"tab-graphql-variables-1"},"child":[{"node":"text","text":"\n                    GraphQL Variables"}]},{"node":"element","tag":"button","attr":{"aria-selected":"true","role":"tab","aria-controls":"sample-api-response-1","id":"tab-sample-api-response-1"},"child":[{"node":"text","text":"\n                    Sample API Response\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-mutation-1","id":"graphql-mutation-1"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"mutation CaptureTransaction($input: CaptureTransactionInput!) {\n                captureTransaction(input: $input) {\n                  transaction {\n                    id\n                    status\n                  }\n                }\n              }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-variables-1","id":"graphql-variables-1"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"input\": {\n                  \"transactionId\": \"transaction ID from successful authorization\",\n                  \"transaction\": {\n                    \"amount\": \"input amount to be captured\"\n                  }\n                }\n              }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-sample-api-response-1","id":"sample-api-response-1"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"data\": {\n                    \"captureTransaction\": {\n                        \"transaction\": {\n                            \"id\": \"dHJhbnNhYfYWt6Zmp5ODM\",\n                            \"status\": \"SUBMITTED_FOR_SETTLEMENT\"\n                        }\n                    }\n                },\n                \"extensions\": {\n                    \"requestId\": \"39f948cb-96f2-406e-9f9f-21787452f\"\n                }\n            }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h2","attr":{"id":"using-incremental-authorizations"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Using Incremental Authorizations"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            For some merchants, for example, those in the Hotels \u0026 Hospitality or\n            some other industries, incremental authorizations (aka adjust auth) are an\n            important feature for use cases such as tipping adjustment, hotel room\n            damages, or hotel mini-bar charges, etc... This feature is subject to\n            merchant eligibility based on MCC code, and it is also not supported for\n            AMEX transactions and some other transaction types. This feature leverages\n            the\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--updateTransactionAmount"},"child":[{"node":"text","text":"updateTransactionAmount API mutation"}]},{"node":"text","text":"\n            with Braintree's GraphQL API.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"message","attr":{"type":"note"},"child":[{"node":"text","text":"\n                            The transaction must be in an Authorized state to be eligible for\n                            adjustment\n                        "}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h3","attr":{"id":"example-update-transaction-amount-request"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Example Update Transaction Amount request"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"tabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tablist"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-mutation-2","id":"tab-graphql-mutation-2"},"child":[{"node":"text","text":"\n                    GraphQL Mutation"}]},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-variables-2","id":"tab-graphql-variables-2"},"child":[{"node":"text","text":"\n                    GraphQL Variables"}]},{"node":"element","tag":"button","attr":{"aria-selected":"true","role":"tab","aria-controls":"sample-api-response-2","id":"tab-sample-api-response-2"},"child":[{"node":"text","text":"\n                    Sample API Response\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-mutation-2","id":"graphql-mutation-2"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"mutation updateTransactionAmount($input: UpdateTransactionAmountInput!) {\n                updateTransactionAmount(input: $input) {\n                  transaction {\n                    id\n                    status\n                    customer{\n                        email\n                        firstName\n                        lastName\n                        id\n                    }\n                  }\n                }\n              }"}]}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-variables-2","id":"graphql-variables-2"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"input\": {\n                  \"transactionId\": \"transaction ID from successful authorization\",\n                  \"amount\": \"new desired authorization amount\"\n                  }\n                }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-sample-api-response-2","id":"sample-api-response-2"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"data\": {\n                    \"updateTransactionAmount\": {\n                        \"transaction\": {\n                            \"id\": \"dHJhbnNhY3bTVwZWZla3M\",\n                            \"status\": \"AUTHORIZED\",\n                            \"customer\": null\n                        }\n                    }\n                },\n                \"extensions\": {\n                    \"requestId\": \"f7e636cb-5da5-45dd-ac73-c94b404d\"\n                }\n            }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h3","attr":{"id":"using-estimated-auth-pre-auth"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Using Estimated Auth (Pre-Auth)"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            Using an estimated authorization or a \"pre-auth\" can help avoid issuer\n            rejections and improve authorization rates for scenarios when you may not\n            know the final charge amount at the time of authorization. Some industries\n            where this may be common are hotels, vehicle rentals, bars, etc... It is\n            recommended that you use this feature if you are using incremental auth.\n            To trigger an estimated authorization you must pass the\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Enum--InStorePaymentInitiator"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"paymentInitiator"}]}]},{"node":"text","text":"\n            flag with a value of \""},{"node":"element","tag":"code","child":[{"node":"text","text":"ESTIMATED"}]},{"node":"text","text":"\". See example below:\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"tabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tablist"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"button","attr":{"aria-selected":"false","role":"tab","aria-controls":"graphql-mutation-3","id":"tab-graphql-mutation-3"},"child":[{"node":"text","text":"\n                    GraphQL Mutation"}]},{"node":"element","tag":"button","attr":{"aria-selected":"true","role":"tab","aria-controls":"graphql-variables-3","id":"tab-graphql-variables-3"},"child":[{"node":"text","text":"\n                    GraphQL Variables\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-mutation-3","id":"graphql-mutation-3"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"mutation RequestAuthorizeFromInStoreReader($input: RequestAuthorizeFromInStoreReaderInput!) {\n                requestAuthorizeFromInStoreReader(input: $input) {\n                    clientMutationId\n                    inStoreContext {\n                        id\n                        status\n                        transaction {\n                            id\n                            orderId\n                            status\n                            customer{\n                                id\n                            }\n                            paymentMethodSnapshot{\n                                __typename\n                                ... on CreditCardDetails {\n                                    brandCode\n                                    bin\n                                    last4\n                                    cardholderName\n                                    expirationMonth\n                                    expirationYear     \n                                }\n                            }\n                        }\n                        reader {\n                            id\n                            name                \n                            status\n                            softwareVersion\n                        }\n                    }\n                }\n            }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","attr":{"role":"tabpanel","aria-labelledby":"tab-graphql-variables-3","id":"graphql-variables-3"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"pre","child":[{"node":"element","tag":"code","child":[{"node":"text","text":"{\n                \"input\": {\n            \"readerId\": \"your reader ID\",\n            \"transaction\": {\n                \"amount\": \"any amount\",      \n                        \"orderId\": \"your order ID\",\n                        \"merchantAccountId\": \"your merchant account ID\",\n                        \"paymentInitiator\": \"ESTIMATED\"  \n            }\n            }\n    }"}]}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h2","attr":{"id":"amex-over-capture-rules"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"AMEX Over Capture Rules"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            MCC codes such as "},{"node":"element","tag":"strong","child":[{"node":"text","text":"4821"}]},{"node":"text","text":" (Taxi Cabs and Rideshares) and\n            "},{"node":"element","tag":"strong","child":[{"node":"text","text":"5812"}]},{"node":"text","text":" (Restaurants) are allowed to capture up to 20% more\n            than the authorized amount.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            MCC codes such as "},{"node":"element","tag":"strong","child":[{"node":"text","text":"7011"}]},{"node":"text","text":" (Lodging),\n            "},{"node":"element","tag":"strong","child":[{"node":"text","text":"7512"}]},{"node":"text","text":"/"},{"node":"element","tag":"strong","child":[{"node":"text","text":"7513"}]},{"node":"text","text":"/"},{"node":"element","tag":"strong","child":[{"node":"text","text":"7519"}]},{"node":"text","text":" (Vehicle\n            Rentals), as well as Cruise Lines, Grocery merchants, and Retailers are\n            allowed to capture up to 15% more than the authorized amount.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n            If you have a direct contract with AMEX, you may need to reach out to them\n            to have them configure your account to allow for over-captures.\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"h2","attr":{"id":"important-tips-when-integrating-separate-auth-from-capture"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"div","child":[{"node":"text","text":"Important Tips When Integrating Separate Auth from Capture"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div"},{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/#initializing-the-reader-for-authorization"},"child":[{"node":"text","text":"Request Authorization"}]},{"node":"text","text":"\n                        is supported for\n                        "},{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/offline-transactions/"},"child":[{"node":"text","text":"offline transactions"}]},{"node":"text","text":"\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div"},{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        Some MCC codes are allowed to capture more (aka over capture) than\n                        the authorized amount (typically used by restaurant merchants for\n                        tipping purposes)\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div"},{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        Some MCC codes are allowed to use incremental authorizations (adjust\n                        auth) in order to incrementally increase the auth amount (typically\n                        used by Hotel \u0026 Hospitality merchants)\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div"},{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        To enable over-captures or incremental authorizations, your\n                        Braintree account must be configured accordingly. Please work with\n                        your Solutions Engineer or Integration Engineer to facilitate this\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div"},{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        Incremental Auth is not supported for AMEX transactions. For some\n                        use cases, you may need to perform an over-capture for an AMEX\n                        transaction\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div"},{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        "},{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/paypal-and-venmo-qrc/"},"child":[{"node":"text","text":"PayPal and Venmo QRC"}]},{"node":"text","text":"\n                        transactions are NOT supported for separate auth from capture\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                "},{"node":"element","tag":"div"},{"node":"text","text":"\n                "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n                        Passing of\n                        "},{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/making-a-transaction/level-2-and-level-3-data-processing/"},"child":[{"node":"text","text":"L2/L3 data"}]},{"node":"text","text":"\n                        is not supported in the authorization request; however, you may pass\n                        this data in the\n                        "},{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/#capturing-funds-against-an-authorization"},"child":[{"node":"text","text":"separate capture"}]},{"node":"text","text":"\n                        request\n                    "}]},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","attr":{"class":"nextPreviousButtonWrapper"},"child":[{"node":"text","text":"\n        "},{"node":"element","tag":"div","attr":{"class":"nextLink-bt"},"child":[{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/making-a-transaction/","class":"nextLink-link"},"child":[{"node":"element","tag":"svg","attr":{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0,0,24,24","width":"24","fill":"none","height":"24"},"child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"path","attr":{"d":"M9.707,18.7033C10.0975,18.3128,10.0975,17.6796,9.707,17.2891L5.414,12.9961H21C21.5523,12.9961,22,12.5484,22,11.9961C22,11.4438,21.5523,10.9961,21,10.9961H5.414L9.707,6.7032C10.0975,6.31268,10.0975,5.67951,9.707,5.28899C9.31647,4.89846,8.68333,4.89846,8.2928,5.28899L2.2998,11.282C2.29375,11.288,2.28777,11.2941,2.28179,11.3003C2.10735,11.4803,2,11.7257,2,11.9961C2,12.2654,2.10637,12.5097,2.27947,12.6895C2.28441,12.6948,2.2895,12.7,2.29457,12.7052L2.29713,12.7077L2.2998,12.7103L8.29273,18.7033C8.68326,19.0938,9.31641,19.0938,9.707,18.7033Z","fill":"#0070E0"}},{"node":"text","text":"\n                "}]},{"node":"element","tag":"span","child":[{"node":"element","tag":"span","child":[{"node":"text","text":"Initiate a Sale or Refund"}]}]},{"node":"text","text":"\n            "}]}]},{"node":"text","text":"\n        "},{"node":"element","tag":"div","attr":{"class":"nextLink-bt"},"child":[{"node":"element","tag":"a","attr":{"href":"/braintree/in-person/guides/making-a-transaction/level-2-and-level-3-data-processing/","class":"nextLink-link"},"child":[{"node":"element","tag":"span","child":[{"node":"element","tag":"span","child":[{"node":"text","text":"Level 2 and Level 3 Data Processing"}]}]},{"node":"element","tag":"svg","attr":{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0,0,24,24","width":"24","fill":"none","height":"24"},"child":[{"node":"text","text":"\n                    "},{"node":"element","tag":"path","attr":{"d":"M14.2931,18.7033C13.9026,18.3128,13.9026,17.6796,14.2931,17.2891L18.5861,12.9961H3C2.44772,12.9961,2,12.5484,2,11.9961C2,11.4438,2.44772,10.9961,3,10.9961H18.5861L14.2931,6.7032C13.9026,6.31268,13.9026,5.67951,14.2931,5.28899C14.6837,4.89846,15.3168,4.89846,15.7073,5.28899L21.7003,11.282C21.7064,11.288,21.7123,11.2941,21.7182,11.3003C21.8926,11.4803,22,11.7257,22,11.9961C22,12.2654,21.8936,12.5097,21.7205,12.6895C21.7156,12.6948,21.7105,12.7,21.7054,12.7052L21.7029,12.7077L21.7003,12.7103L15.7074,18.7033C15.3168,19.0938,14.6837,19.0938,14.2931,18.7033Z","fill":"#0070E0"}},{"node":"text","text":"\n                "}]},{"node":"text","text":"\n            "}]}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]}]}},"links":[{"rel":"self","method":"GET","href":"https://api.paypal.com/v2/content/environments/a9f00b36-5a19-4403-8b49-ceaa35dd9d1f/entries/5D41tIvrjV70aTbJ5L0ADu"}],"ecm":{"envAllowsPreview":true},"markdown":"---\ntitle: Initiate a Card Present Authorization\nslug: /in-person/guides/making-a-transaction/initiate-a-card-present-authorization/\ncreateTime: '2024-11-20T19:05:44.304Z'\nupdateTime: '2025-01-20T07:46:42.197Z'\n---\n\n\n\n# Initiate a Card Present Authorization\n\nThis page covers the support of separate auth from capture on the Braintree In-Person solution from a card present perspective.\n\n\n## Feature Overview\n\nFor some use cases where a capture delay is required (ex: endless aisle, save the sale, tipping on receipt, hotel check-in), you may need to request an authorization rather than requesting a charge. This gives the API caller complete control over the authorization capture cadence rather than relying on automated Braintree capture logic. Generally, this operates similarly to e-commerce authorization flows, with some important differences.\n\n**NOTE**\nSeparate auth and capture using the [requestAuthorization](/braintree/graphql/reference/#Mutation--requestAuthorizeFromInStoreReader) API mutation is supported starting in firmware [version 5.1.0](/braintree/in-person/reference/app-version-release-notes/#version510)\n\n\n## Initializing the Reader for Authorization\n\nWhen you're ready to charge a customer, you can create an In-Store Context by requesting to authorize a card on the reader. In this step, your application will specify at minimum, the readerId, merchantAccountId and transaction.amount details to initialize the reader for payment acceptance. Note that the merchantAccountId is not validated against in the Sandbox environment; however, this is a required value in the Production environment for all interactions with the card reader.\n\nAuthorizing is similar to charging, except that if the authorization is successful, Braintree will NOT capture the transaction. It would be up to the merchant to send a separate capture request using the transaction.id to complete the charge.\n\n**NOTE**\nCard present authorizations only allow for a single capture request; multiple partial capture is NOT supported. Any remaining authorized funds after the first capture will automatically be voided.\n\nTo provide idempotency on the [requestAuthorize](/braintree/graphql/reference/#Mutation--requestAuthorizeFromInStoreReader) mutation, you must also include the HTTP header Idempotency-Key with a unique value. UUIDv4 is recommended. For example, if using curl to make the request, you would include\n\n**NOTE**\nUsing Idempotency-Key is an important way of preventing duplicate charges to your customer in the event of an API communication failure. For example: if you request a charge from the reader, the customer completes the charge on the reader but for some reason, the POS does not get back the result of the transaction before timing out. In this scenario, the POS could recover the original transaction using the same Idempotency-Key without accidentally creating a duplicate charge.\n\n--header 'Idempotency-Key: 94c9ea8b-31b0-488e-a231-57e32f0bfd70'GraphQL MutationGraphQL VariablesSample API Responsemutation RequestAuthorizeFromInStoreReader($input: RequestAuthorizeFromInStoreReaderInput!) { requestAuthorizeFromInStoreReader(input: $input) { clientMutationId id status reader { id name status } } }{ \"input\": { \"clientMutationId\": \"your event/request reference\", \"readerId\": \"your reader ID\", \"transaction\": { \"amount\": \"any amount\", \"orderId\": \"Your Order Id\", \"merchantAccountId\": \"your merchant account ID\" } } }{ \"data\": { \"requestAuthorizeFromInStoreReader\": { \"clientMutationId\": \"your event/request reference\", \"id\": \"aW5zdI2U3NzY3NTQ4YjM2Mzk0MGExNzU1Yjk5YWM3I1ZFUklGT05FLTgwNS0wMTctNDU0I3VzLXdlc3QtMg\", \"status\": \"PENDING\", \"reader\": { \"id\": \"aW5z3B3c2Y0Mmh3hjbiNWRVJJRk9ORS04MDUtMDE3LTQ1NA\", \"name\": \"Your P400\", \"status\": \"ONLINE\" } } }, \"extensions\": { \"requestId\": \"1b170326-3523-47c1-add6-b079b1ab0\" } }\n## Checking the Reader Authorization Status\n\nAfter the reader is initialized for payment, your application must wait for the customer to interact with it (i.e. insert a test card) and for the payment attempt to be processed. Your application should use [the node query](/braintree/graphql/reference/#Query--node) to poll on a 2-second interval between responses for the current status of the payment using the RequestChargeInStoreContext.id received at charge initialization and monitor the RequestAuthorizeInStoreContext.status field as the transaction goes through the lifecycle.\n\n![](https://www.paypalobjects.com/devdoc/btdocs-gitbook/Initiate%20a%20card%20present%20authorrization:Checking%20the%20Reader%20Authorization%20Status.png)COMPLETE context status will indicate an \"Authorized\" transaction status, not \"SUBMITTED_FOR_SETTLEMENT\" when using the Request Authorize mutationWhen the RequestAuthorizeInStoreContext.status changes to \"COMPLETE\", you will also receive a transaction object RequestAuthorizeInStoreContext.transaction in the response. Save the completed RequestAuthorizeInStoreContext.transaction.id in your database for referencing the transaction in subsequent operations (ie. capture, adjust auth, void, etc...).\n\nAll successful test transactions should have a transaction amount value below $2,000 for testing. For more info on using amounts to simulate various transaction outcomes, take a look at [Testing Your Integration](/braintree/in-person/guides/testing-your-integration/).\n\nQuerySample API response (successful auth){ node(id: \"{{last_braintree_instore_context}}\") { ... on RequestAuthorizeInStoreContext { id status statusReason reader { id name status } transaction { id orderId status statusHistory { ... on PaymentStatusEvent { status timestamp terminal ... on AuthorizedEvent { authorizationExpiresAt processorResponse { authorizationId emvData message legacyCode retrievalReferenceNumber } } ... on GatewayRejectedEvent { gatewayRejectionReason } ... on FailedEvent { processorResponse { retrievalReferenceNumber emvData message legacyCode } networkResponse { message code } } ... on ProcessorDeclinedEvent { processorResponse { legacyCode message authorizationId additionalInformation retrievalReferenceNumber emvData } declineType networkResponse { code message } } } } merchantAddress { company streetAddress addressLine1 extendedAddress addressLine2 locality adminArea2 region adminArea1 postalCode countryCode phoneNumber } amount { value currencyIsoCode } merchantAccountId merchantName createdAt channel customFields { name value } paymentMethodSnapshot { ... on CreditCardDetails { origin { details { ... on EmvCardOriginDetails { applicationPreferredName applicationIdentifier terminalId inputMode pinVerified } } } brandCode last4 bin expirationMonth expirationYear cardholderName binData { issuingBank countryOfIssuance prepaid healthcare debit commercial } } } } } } }{ \"data\": { \"node\": { \"id\": \"aW5zdG9yZWNTQ4YjM2ZTRlZDRhMzk0MGExNzU1Yjk5YWM3I1ZFUklGT05FLTgwNS0wMTctNDU0I3VzLXdlc3QtMg\", \"status\": \"COMPLETE\", \"reader\": { \"id\": \"aW5zdG9yZXJlYWRY0Mmh3OWo1OWhjbiNWRVJJRk9ORS04MDUtMDE3LTQ1NA\", \"name\": \"Your P400\", \"status\": \"ONLINE\" }, \"transaction\": { \"id\": \"dHJhb25fYjNhc2VqY2E\", \"legacyId\": \"bsejca\", \"orderId\": \"Your Order Id\", \"status\": \"AUTHORIZED\", \"statusHistory\": [ { \"__typename\": \"AuthorizedEvent\", \"status\": \"AUTHORIZED\", \"timestamp\": \"2023-06-16T18:24:07.000000Z\", \"terminal\": false, \"processorResponse\": { \"authorizationId\": \"G5TJ7V\", \"emvData\": \"9F240512345678908A023030\", \"message\": \"Approved\", \"legacyCode\": \"1000\", \"retrievalReferenceNumber\": \"1234567\" } } ], \"merchantAddress\": { \"company\": null, \"streetAddress\": null, \"addressLine1\": null, \"extendedAddress\": null, \"addressLine2\": null, \"locality\": \"Braintree\", \"adminArea2\": \"Braintree\", \"region\": \"MA\", \"adminArea1\": \"MA\", \"postalCode\": \"02184\", \"countryCode\": null, \"phoneNumber\": \"5555555555\" }, \"amount\": { \"value\": \"792.00\", \"currencyIsoCode\": \"USD\" }, \"merchantAccountId\": \"OverCapture_AdjustAuth\", \"merchantName\": \"DESCRIPTORNAME\", \"createdAt\": \"2023-06-16T18:24:06.000000Z\", \"channel\": null, \"customFields\": null, \"paymentMethodSnapshot\": { \"__typename\": \"CreditCardDetails\", \"origin\": { \"type\": \"IN_STORE_READER\", \"details\": { \"__typename\": \"EmvCardOriginDetails\", \"authorizationMode\": \"ISSUER\", \"inputMode\": \"CONTACTLESS\", \"pinVerified\": false, \"terminalId\": \"9c3b9fc0\", \"applicationPreferredName\": \"Braintree Credit\", \"applicationIdentifier\": \"A000000003101001\", \"terminalVerificationResult\": \"0000000000\", \"cardSequenceNumber\": null, \"applicationInterchangeProfile\": null, \"terminalTransactionDate\": null, \"terminalTransactionType\": null, \"cashbackAmount\": null, \"applicationUsageControl\": null, \"terminalCountryCode\": null, \"applicationCryptogram\": null, \"cryptogramInformationData\": null, \"cardholderVerificationMethodResults\": null, \"applicationTransactionCounter\": null, \"unpredictableNumber\": null, \"issuerActionCodeDefault\": null, \"issuerActionCodeDenial\": null, \"issuerActionCodeOnline\": null } }, \"brandCode\": \"VISA\", \"last4\": \"8885\", \"bin\": \"421212\", \"expirationMonth\": \"12\", \"expirationYear\": \"2025\", \"cardholderName\": \"BRAINTREE TEST\", \"binData\": { \"issuingBank\": null, \"countryOfIssuance\": null, \"prepaid\": \"UNKNOWN\", \"healthcare\": \"UNKNOWN\", \"debit\": \"UNKNOWN\", \"commercial\": \"UNKNOWN\" } } } } }, \"extensions\": { \"requestId\": \"75004704-898e-4621-a37c-8ead03b1\" } }\n## Capturing funds against an Authorization\n\nTo capture the authorized funds, you must use the [Capture Transaction mutation](/braintree/graphql/reference/#Mutation--captureTransaction) within a 24-hour window of the funds being authorized (except for eligible Lodging MCC codes, which have expiry windows of up to 30 days). For a card-present authorization, you are allowed only a single capture attempt. Any remaining authorized funds not captured after the initial capture request will be voided. You may capture a lesser amount than what was authorized or an amount up to the maximum over-capture threshold (subject to eligibility). For merchants processing on MCC codes ineligible for over-capture, the maximum amount allowed for capture is the amount authorized.\n\n**NOTE**\nThe transaction must be in an Authorized state to allow for funds capture\n\n\n### Example Capture request\n\nGraphQL MutationGraphQL VariablesSample API Responsemutation CaptureTransaction($input: CaptureTransactionInput!) { captureTransaction(input: $input) { transaction { id status } } }{ \"input\": { \"transactionId\": \"transaction ID from successful authorization\", \"transaction\": { \"amount\": \"input amount to be captured\" } } }{ \"data\": { \"captureTransaction\": { \"transaction\": { \"id\": \"dHJhbnNhYfYWt6Zmp5ODM\", \"status\": \"SUBMITTED_FOR_SETTLEMENT\" } } }, \"extensions\": { \"requestId\": \"39f948cb-96f2-406e-9f9f-21787452f\" } }\n## Using Incremental Authorizations\n\nFor some merchants, for example, those in the Hotels \u0026 Hospitality or some other industries, incremental authorizations (aka adjust auth) are an important feature for use cases such as tipping adjustment, hotel room damages, or hotel mini-bar charges, etc... This feature is subject to merchant eligibility based on MCC code, and it is also not supported for AMEX transactions and some other transaction types. This feature leverages the [updateTransactionAmount API mutation](/braintree/graphql/reference/#Mutation--updateTransactionAmount) with Braintree's GraphQL API.\n\n**NOTE**\nThe transaction must be in an Authorized state to be eligible for adjustment\n\n\n### Example Update Transaction Amount request\n\nGraphQL MutationGraphQL VariablesSample API Responsemutation updateTransactionAmount($input: UpdateTransactionAmountInput!) { updateTransactionAmount(input: $input) { transaction { id status customer{ email firstName lastName id } } } }{ \"input\": { \"transactionId\": \"transaction ID from successful authorization\", \"amount\": \"new desired authorization amount\" } }{ \"data\": { \"updateTransactionAmount\": { \"transaction\": { \"id\": \"dHJhbnNhY3bTVwZWZla3M\", \"status\": \"AUTHORIZED\", \"customer\": null } } }, \"extensions\": { \"requestId\": \"f7e636cb-5da5-45dd-ac73-c94b404d\" } }\n### Using Estimated Auth (Pre-Auth)\n\nUsing an estimated authorization or a \"pre-auth\" can help avoid issuer rejections and improve authorization rates for scenarios when you may not know the final charge amount at the time of authorization. Some industries where this may be common are hotels, vehicle rentals, bars, etc... It is recommended that you use this feature if you are using incremental auth. To trigger an estimated authorization you must pass the [paymentInitiator](/braintree/graphql/reference/#Enum--InStorePaymentInitiator) flag with a value of \" ESTIMATED \". See example below:\n\nGraphQL MutationGraphQL Variablesmutation RequestAuthorizeFromInStoreReader($input: RequestAuthorizeFromInStoreReaderInput!) { requestAuthorizeFromInStoreReader(input: $input) { clientMutationId inStoreContext { id status transaction { id orderId status customer{ id } paymentMethodSnapshot{ __typename ... on CreditCardDetails { brandCode bin last4 cardholderName expirationMonth expirationYear } } } reader { id name status softwareVersion } } } }{ \"input\": { \"readerId\": \"your reader ID\", \"transaction\": { \"amount\": \"any amount\", \"orderId\": \"your order ID\", \"merchantAccountId\": \"your merchant account ID\", \"paymentInitiator\": \"ESTIMATED\" } } }\n## AMEX Over Capture Rules\n\nMCC codes such as **4821** (Taxi Cabs and Rideshares) and **5812** (Restaurants) are allowed to capture up to 20% more than the authorized amount.\n\nMCC codes such as **7011** (Lodging), **7512** / **7513** / **7519** (Vehicle Rentals), as well as Cruise Lines, Grocery merchants, and Retailers are allowed to capture up to 15% more than the authorized amount.\n\nIf you have a direct contract with AMEX, you may need to reach out to them to have them configure your account to allow for over-captures.\n\n\n## Important Tips When Integrating Separate Auth from Capture\n\n\n- [Request Authorization](/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/#initializing-the-reader-for-authorization) is supported for [offline transactions](/braintree/in-person/guides/offline-transactions/)\n\n\n- Some MCC codes are allowed to capture more (aka over capture) than the authorized amount (typically used by restaurant merchants for tipping purposes)\n\n\n- Some MCC codes are allowed to use incremental authorizations (adjust auth) in order to incrementally increase the auth amount (typically used by Hotel \u0026 Hospitality merchants)\n\n\n- To enable over-captures or incremental authorizations, your Braintree account must be configured accordingly. Please work with your Solutions Engineer or Integration Engineer to facilitate this\n\n\n- Incremental Auth is not supported for AMEX transactions. For some use cases, you may need to perform an over-capture for an AMEX transaction\n\n\n- [PayPal and Venmo QRC](/braintree/in-person/guides/paypal-and-venmo-qrc/) transactions are NOT supported for separate auth from capture\n\n\n- Passing of [L2/L3 data](/braintree/in-person/guides/making-a-transaction/level-2-and-level-3-data-processing/) is not supported in the authorization request; however, you may pass this data in the [separate capture](/braintree/in-person/guides/making-a-transaction/initiate-a-card-present-authorization/#capturing-funds-against-an-authorization) request\n\n\n\n[Initiate a Sale or Refund](/braintree/in-person/guides/making-a-transaction/)[Level 2 and Level 3 Data Processing](/braintree/in-person/guides/making-a-transaction/level-2-and-level-3-data-processing/)"},"routes/braintree/in-person":null},"actionData":null,"errors":null},"future":{"v2_dev":true,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":false,"v2_meta":true,"v2_normalizeFormMethod":false,"v2_routeConvention":false}};</script><script nonce="Ku85LLnMtCII4Ty8c8XK0vohi/r53BweIaIErNcctf9lQdWf" type="module" async="">import "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/manifest-D829D641.js";
import * as route0 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js";
import * as route1 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/in-person-BCFKGM3O.js";
import * as route2 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/in-person/$-EGOLLNAC.js";
window.__remixRouteModules = {"root":route0,"routes/braintree/in-person":route1,"routes/braintree/in-person/$":route2};

import("https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js");</script></body></html>