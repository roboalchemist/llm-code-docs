# Source: https://developer.paypal.com/braintree/docs/guides/transactions

# Source: https://developer.paypal.com/braintree/graphql/guides/transactions/#searching-for-transactions

# Source: https://developer.paypal.com/braintree/graphql/guides/transactions/#reversing-or-refunding-a-transaction

# Source: https://developer.paypal.com/braintree/graphql/guides/transactions/#creating-transactions

# Source: https://developer.paypal.com/braintree/graphql/guides/transactions/

<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Braintree Graphql Docs</title><meta name="description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="keywords" content=""/><link rel="canonical" href="https://developer.paypal.com/braintree/graphql/guides/transactions/"/><meta property="og:type" content="website"/><meta property="og:url" content="https://developer.paypal.com/braintree/graphql/guides/transactions/"/><meta property="og:title" content="Braintree Graphql Docs"/><meta property="og:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta property="og:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_ogfallback.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:url" content="https://developer.paypal.com/braintree/graphql/guides/transactions/"/><meta name="twitter:title" content="Braintree Graphql Docs"/><meta name="twitter:description" content="Our mission is to empower developers with the tools, 
  resources, and simple-to-use SDKs and APIs to build on 
  one platform, so they can serve merchants from around the world."/><meta name="twitter:site" content="@paypaldev"/><meta name="twitter:creator" content="@paypaldev"/><meta name="twitter:image" content="https://www.paypalobjects.com/devdoc/img/seo/ddnw_twitterfallback.png"/><meta name="twitter:image:alt" content="Black and White PayPal Logo"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/variables-VGGZY4JK.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/footer-NG55V3IZ.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/header-RODVFCUO.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/sideBar-P2XH7TE5.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/app-AVOPA6BH.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/codeblock-DADUWXNB.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/prism-NEYM7EL4.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/components-D2NYPEGL.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/index-2Z52PXGI.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/fonts-and-normalize/1-1-0/fonts-and-normalize.min.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/paypal-ui/web/icon-font/0-0-1/icon-font.min.css"/><link rel="icon" href="https://www.paypalobjects.com/btdevdoc/braintree/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/articlesAndDocs-R4V4BBLG.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/markdown-content-4BSNPPUP.css"/><link rel="stylesheet" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/graphqlFooter-VDPFDO2M.css"/></head><body><header class="header"><div class="nav--global__wrapper" id="nav-global-wrapper"><a class="logo logo--articles" aria-label="Braintree a PayPal Service" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,descriptor=braintree logo,container=header,origin=support articles,intent=view support articles landing page,href=https://articles.braintreepayments.com" pa-marked="1" href="/braintree/graphql/"><span class="logo--fallback">Braintree a PayPal Service</span><span class="nav-logo"><img src="https://www.paypalobjects.com/paypal-ui/logos/svg/braintree-pp-color.svg" alt="PayPal Braintree logo" style="width:200px;height:40px"/></span></a><nav class="nav--global"><span class="mobile__nav-logo mobile__nav-item mobile__nav-left"><img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="PayPal Braintree Mobile logo" style="width:40px;height:40px;fill:#fff"/></span><span class="mobile__nav--global-active-category mobile__nav-item mobile__nav-center"><a class="mobile__nav-active-section-container"><span class="mobile__nav-active-section">API &amp; In-Person</span><span class="mobile__nav-dropdown-chevron"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" width="40px" height="40px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 18" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.291 6.293a1 1 0 0 1 1.415 0l3.293 3.293 3.293-3.293a1 1 0 1 1 1.414 1.414L9.713 11.7a1.01 1.01 0 0 1-1.428 0L4.29 7.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></span></a><div class="mobile__nav-active-tier">Transactions</div></span><ul class="nav--global-sites mobile__nav-item mobile__nav-right"><span class="nav--global-sites__items nav--global-sites__items-hidden"><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_0" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=SDK Docs,intent=view SDK Docs landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/docs/">SDK Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_1 nav--global-sites__link--active" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=API &amp; In-Person Docs,intent=view API &amp; In-Person Docs landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/graphql/">API &amp; In-Person Docs</a></li><li class="nav--global-sites__item nav--global-sites__link__container nav--global-sites__link__container-hidden"><a class="nav--global-sites__link test_nav_link_2" data-track-event-properties="project=journey&amp;amp;docs,context=navbar,component=link,action=click,container=header,descriptor=Support Articles,intent=view Support Articles landing page,href=/braintree/graphql/" pa-marked="1" href="/braintree/articles/">Support Articles</a></li></span><li class="nav--global-sites__item"><button id="searchOpenTrigger" class="search__trigger nav--link" aria-label="Hit enter to search" data-track-event-properties="project=docs&amp;journey,context=search,component=button,action=click,intent=open search,descriptor=Start typing to search,origin=sites search&amp;" pa-marked="1"><svg class="search__trigger-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Open search icon</title><path d="M6.99994 13.988C8.33314 13.9878 9.63816 13.6042 10.7595 12.883L17.2456 19.3688L19.368 17.2466L12.885 10.7639C13.7224 9.45534 14.1003 7.90523 13.959 6.35811C13.8178 4.811 13.1654 3.35494 12.1049 2.21967C11.0444 1.08439 9.63613 0.334526 8.1022 0.0883654C6.56828 -0.157795 4.99605 0.113766 3.63358 0.860206C2.2711 1.60665 1.19592 2.78547 0.577676 4.21071C-0.0405686 5.63594 -0.16669 7.22645 0.219211 8.73131C0.605111 10.2362 1.48107 11.5697 2.70888 12.5216C3.93669 13.4734 5.44647 13.9893 7.00002 13.988H6.99994ZM6.99994 1.98801C7.98884 1.98801 8.95554 2.28125 9.77779 2.83066C10.6 3.38007 11.2409 4.16096 11.6193 5.07459C11.9978 5.98822 12.0968 6.99355 11.9039 7.96346C11.7109 8.93336 11.2347 9.82428 10.5355 10.5235C9.83621 11.2228 8.9453 11.699 7.97539 11.8919C7.00549 12.0849 6.00015 11.9858 5.08652 11.6074C4.17289 11.229 3.392 10.5881 2.84259 9.76586C2.29318 8.94361 1.99994 7.97691 1.99994 6.98801C2.0015 5.6624 2.52878 4.39154 3.46613 3.4542C4.40347 2.51685 5.67433 1.98957 6.99994 1.98801Z" fill="#dedede"></path></svg><span class="search__trigger-text">Search</span></button></li><button data-testid="sidebar-button" class="sidebar-menu-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path d="M5 5a1 1 0 0 0 0 2h14a1 1 0 1 0 0-2H5zm-1 7a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1z" data-ppui="true"></path></svg></span></button></ul><div class="header--aside"><span class="nav--global-sites__item"><a class="nav--global-sites__link" pa-marked="1" href="/braintree/help">Get Help</a></span><span class="nav--global-sites__item" id="contact-sales-nav"><a href="https://www.braintreepayments.com/contact/sales" class="nav--global-sites__link" pa-marked="1">Contact Sales</a></span><div class="login-buttons"><span class="nav--global-sites__item" id="create-account_button"><a class="nav--global-sites__link" pa-marked="1" target="_blank" rel="noreferrer" href="https://www.braintreepayments.com/sandbox" aria-label="Sign up for a sandbox account">Create Account</a></span><span class="nav--global-sites__item"><a class="nav--global-sites__link" href="/braintree/api/auth/connect" aria-label="Log into sandbox" rel="noreferrer" pa-marked="1">Login</a></span></div><div class="header__dropdown ab-control-panel-dropdown-a"><button class="dropdown__title button button--small hamburger-small" style="margin-bottom:0" aria-label="Access production control panel" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown,action=click,container=header,descriptor=more icon,intent=choose a control panel link" pa-marked="1"><svg class="dropdown__icon--closed" width="4" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" fill="#fff"></path></svg></button><div class="dropdown__content"><div class="dropdown__section"><h3 class="dropdown__section-title">Production Control Panel</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreegateway.com/login" target="_blank" aria-label="Log into your production account" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=log in,intent=view production login,href=https://www.braintreegateway.com/login" pa-marked="1" rel="noreferrer">Login</a></li></ul><h3 class="dropdown__section-title">Become a Merchant</h3><ul class="dropdown__list"><li class="dropdown__item"><a class="link-list-link dropdown__link" href="https://www.braintreepayments.com/contact/sales" aria-label="Contact sales on the website" target="_blank" data-track-event-properties="project=journey&amp;docs,context=navbar,component=dropdown item,action=click,descriptor=contact sales,intent=view the sales contact page,href=https://www.braintreepayments.com/contact/sales" pa-marked="1" rel="noreferrer">Contact Sales</a></li></ul></div></div></div></div></nav></div><nav class="nav--local"><ul class="nav__list" id="main-nav-links"><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_0 is-active" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/graphql/">Online</a></li></div></div><div class="hoverDropdown__wrapper navLinkWithHover"><div class="hoverDropdown__target"><li class="nav__item"><a class="nav--link test_sub_nav_link_1" data-track-event-properties="project=journey&amp;docs,context=navbar,component=link,action=click,container=header,descriptor=about,intent=view support articles landing page,href=/braintree/articles/" pa-marked="1" href="/braintree/in-person/">In-Person</a></li></div></div></ul></nav></header><div class="flex-body"><div class="flex-sidebar"><div><aside class="sidebar" data-track-event-context="left-hand nav"><div class="sidebar__inner"><div class="menu-group"><ul class="menu"><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/#about-graphql"><button class="menu__link is-active" pa-marked="1">Get Started</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#about-graphql"><button class="menu__link" pa-marked="1">About GraphQL</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#basic-concepts"><button class="menu__link" pa-marked="1">Basic Concepts</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/#relay"><button class="menu__link" pa-marked="1">Relay</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/concepts/#the-lifecycle-of-a-payment"><button class="menu__link" pa-marked="1">Payment API Concepts</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#the-lifecycle-of-a-payment"><button class="menu__link" pa-marked="1">The Lifecycle of a Payment</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#payment-methods"><button class="menu__link" pa-marked="1">Payment Methods</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#transactions"><button class="menu__link" pa-marked="1">Transactions</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/concepts/#customers"><button class="menu__link" pa-marked="1">Customers</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/making_api_calls/#endpoints"><button class="menu__link" pa-marked="1">Making API Calls</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#endpoints"><button class="menu__link" pa-marked="1">Endpoints</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#request-requirements"><button class="menu__link" pa-marked="1">Request Requirements</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#your-first-request"><button class="menu__link" pa-marked="1">Your First Request</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#a-more-interesting-request"><button class="menu__link" pa-marked="1">A More Interesting Request</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#understanding-responses"><button class="menu__link" pa-marked="1">Understanding Responses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#timeouts"><button class="menu__link" pa-marked="1">Timeouts</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/making_api_calls/#using-graphiql"><button class="menu__link" pa-marked="1">Using GraphiQL</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/collecting_payment_information/#the-client-side-integration"><button class="menu__link" pa-marked="1">Collecting Payment Information</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#the-client-side-integration"><button class="menu__link" pa-marked="1">The Client-Side Integration</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#requesting-a-client-token"><button class="menu__link" pa-marked="1">Requesting a Client Token</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#use-the-client-token-to-get-a-payment-method"><button class="menu__link" pa-marked="1">Use the Client Token to Get a Payment Method</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/collecting_payment_information/#use-the-payment-method"><button class="menu__link" pa-marked="1">Use the Payment Method</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/customers/#create"><button class="menu__link" pa-marked="1">Customers</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#create"><button class="menu__link" pa-marked="1">Create</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#update"><button class="menu__link" pa-marked="1">Update</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#delete"><button class="menu__link" pa-marked="1">Delete</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#search"><button class="menu__link" pa-marked="1">Search</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/customers/#errors"><button class="menu__link" pa-marked="1">Errors</button></a></div></li></ul></li><li class="menu__item is-open auto-open"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/transactions/#creating-transactions"><button class="menu__link is-active" pa-marked="1">Transactions</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#creating-transactions"><button class="menu__link" pa-marked="1">Creating Transactions</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#reversing-or-refunding-a-transaction"><button class="menu__link" pa-marked="1">Reversing or Refunding a Transaction</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/transactions/#searching-for-transactions"><button class="menu__link" pa-marked="1">Searching For Transactions</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/payment_methods/#obtain-a-single-use-payment-method--nonce"><button class="menu__link" pa-marked="1">Payment Methods</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#obtain-a-single-use-payment-method--nonce"><button class="menu__link" pa-marked="1">Obtain A Single-Use Payment Method (Nonce)</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#vaulting-the-payment-method"><button class="menu__link" pa-marked="1">Vaulting The Payment Method</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#verify"><button class="menu__link" pa-marked="1">Verify</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#update"><button class="menu__link" pa-marked="1">Update</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#find"><button class="menu__link" pa-marked="1">Find</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#search"><button class="menu__link" pa-marked="1">Search</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/payment_methods/#delete"><button class="menu__link" pa-marked="1">Delete</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/node_query/#fetching-transactions"><button class="menu__link" pa-marked="1">Fetching Objects via the Node Query</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/node_query/#fetching-transactions"><button class="menu__link" pa-marked="1">Fetching Transactions</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/search/#constructing-searches"><button class="menu__link" pa-marked="1">Searching for Objects</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/search/#constructing-searches"><button class="menu__link" pa-marked="1">Constructing Searches</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/search/#understanding-your-results"><button class="menu__link" pa-marked="1">Understanding Your Results</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/connections/#the-contents-of-a-connection"><button class="menu__link" pa-marked="1">Pagination and Relay Connections</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#the-contents-of-a-connection"><button class="menu__link" pa-marked="1">The Contents of a Connection</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#simple-use"><button class="menu__link" pa-marked="1">Simple Use</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/connections/#complex-connections"><button class="menu__link" pa-marked="1">Complex Connections</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/request_batching/#responses"><button class="menu__link" pa-marked="1">Request Batching</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#responses"><button class="menu__link" pa-marked="1">Responses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#when-to-use-request-batching"><button class="menu__link" pa-marked="1">When to use Request Batching</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#prior-art"><button class="menu__link" pa-marked="1">Prior Art</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#more-considerations-and-limitations"><button class="menu__link" pa-marked="1">More Considerations and Limitations</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/request_batching/#motivation"><button class="menu__link" pa-marked="1">Motivation</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/migrating/#legacy-vs--graphql-ids"><button class="menu__link" pa-marked="1">Migrating from a Server SDK Integration</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#legacy-vs--graphql-ids"><button class="menu__link" pa-marked="1">Legacy vs GraphQL IDs</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#migrating-an-integration-to-use-the-braintree-graphql-api"><button class="menu__link" pa-marked="1">Migrating an Integration to Use the Braintree GrapqhQL API</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/migrating/#api-concepts-vs--sdk-concepts"><button class="menu__link" pa-marked="1">API concepts vs SDK Concepts</button></a></div></li></ul></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.81183 6.65363C4.12865 6.33681 4.64232 6.33681 4.95913 6.65363L10.0643 11.7588L15.1696 6.65363C15.4864 6.33681 16 6.33681 16.3169 6.65363C16.6337 6.97045 16.6337 7.48411 16.3169 7.80093L10.6437 13.4741C10.3237 13.7941 9.80493 13.794 9.48496 13.4741L3.81183 7.80093C3.49501 7.48411 3.49501 6.97045 3.81183 6.65363Z" fill="#001435"></path></svg></div><a href="/braintree/graphql/guides/testing/#test-payment-methods"><button class="menu__link" pa-marked="1">Testing in Sandbox</button></a></div><ul class="menu-list__hidden"><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#test-payment-methods"><button class="menu__link" pa-marked="1">Test Payment Methods</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#testing-different-transaction-statuses"><button class="menu__link" pa-marked="1">Testing Different Transaction Statuses</button></a></div></li><li class="menu__item"><div class="menu-item__title"><div class="menu-item__dropdown"></div><a href="/braintree/graphql/guides/testing/#forcing-settlement-of-transactions"><button class="menu__link" pa-marked="1">Forcing Settlement of Transaction</button></a></div></li></ul></li></ul></div></div></aside></div></div><div id="contentContainer" class="flex-content"><main id="main-section" class="documentation-content__wrapper"><article class="main-content js-outlet docs--constrained"><div class="subtitle-container"><div class="breadcrumb breadcrumbInner"><div class="breadcrumbItem"><a class="breadcrumbLink"></a><span style="padding:0 4px">/</span></div><div class="breadcrumbItem"><a href="/braintree/graphql/guides/transactions/" class="activeBreadcrumbLink">Transactions</a></div></div><div class="markdownopts-container"><div class="markdownopts-face-container"><button class="markdownopts-face-button"><svg fill="#000000" width="16" height="16" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg" style="width:16px;height:16px;margin-right:8px"><title>OpenAI icon</title><path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"></path></svg>Ask ChatGPT</button><button class="markdownopts-chevron-button" data-testid="chevron-button"><style data-emotion="css 1bk0n6-svg-size_md">.css-1bk0n6-svg-size_md{speak:none;display:inline-block;aspect-ratio:1;width:2rem;height:2rem;}.css-1bk0n6-svg-size_md img,.css-1bk0n6-svg-size_md svg{width:100%;height:100%;display:block;}</style><span class="css-1bk0n6-svg-size_md" data-ppui-info="icons_8.24.1__7.46.3" style="width:16px;height:16px" data-ppui="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em" data-ppui="true"><path fill-rule="evenodd" d="M4.292 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 0 1 1.414 1.414L12.713 16.7a1.01 1.01 0 0 1-1.428 0L4.292 9.707a1 1 0 0 1 0-1.414z" clip-rule="evenodd" data-ppui="true"></path></svg></span></button></div></div></div><div class="main-article-content"><div class="ecmRichText" style="margin-bottom:0px"><h1><span>Transactions</span></h1><h2 id="creating-transactions" class="test_h2 markdown-h2"><span>Creating Transactions</span><a class="icon icon--link hash-link" href="#creating-transactions" aria-label="Creating Transactions"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>The GraphQL API currently supports two primary ways of creating transactions:</span></p><ol class="list list--num"><li><span>
        The
        </span><a href="/braintree/graphql/reference/#Mutation--chargePaymentMethod"><code><span>chargePaymentMethod</span></code></a><span>
        mutation creates a transaction and captures funds immediately, beginning the
        </span><a href="/braintree/articles/get-started/transaction-lifecycle"><span>process</span></a><span> of actually
        </span><a href="/braintree/articles/get-started/get-paid"><span>transferring money from the customer to your bank account</span></a><span>.
    </span></li><li><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><ul class="list list--disc"><li><span>
                The
                </span><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><span>
                and
                </span><a href="/braintree/graphql/reference/#Mutation--captureTransaction"><code><span>captureTransaction</span></code></a><span>
                mutations create a transaction and capture funds separately.
            </span></li><li><span>
                The
                </span><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><span>
                and
                </span><a href="/braintree/graphql/reference/#Mutation--partialCaptureTransaction"><code><span>partialCaptureTransaction</span></code></a><span>
                mutations create a transaction and capture the funds in multiple partial amounts. This is
                available for both PayPal and Venmo transactions.
            </span></li></ul></li></ol><p class="markdown-p"><span>
    Which you choose depends on your requirements. In most cases, you’ll want to submit a transaction
    for settlement at the same time that you authorize the payment by using
    </span><a href="/braintree/graphql/reference/#Mutation--chargePaymentMethod"><code><span>chargePaymentMethod</span></code></a><span>.
</span></p><p class="markdown-p"><span>
    However, there are some cases where you would want to create a transaction but not yet capture
    funds—for example, if you ship physical goods. In this case, you could use
    </span><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><span>
    at the time of the sale, which puts the money on hold against your customer's payment method, and
    then use
    </span><a href="/braintree/graphql/reference/#Mutation--captureTransaction"><code><span>captureTransaction</span></code></a><span>
    once the item has shipped.
</span></p><p class="markdown-p"><span>
    For PayPal transactions, if you send physical goods to customers in multiple shipments, you can
    use
    </span><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><span>
    at the time of sale to create a parent authorization for the entire amount. As each shipment
    ships, you can capture that partial amount in a child transaction using
    </span><a href="/braintree/graphql/reference/#Mutation--partialCaptureTransaction"><code><span>partialCaptureTransaction</span></code></a><span>
    against the original authorization.
</span></p><h3 id="charging-a-payment-method" class="test_h3 markdown-h3"><span>Charging a Payment Method</span><a class="icon icon--link hash-link" href="#charging-a-payment-method" aria-label="Charging a Payment Method"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    In order to charge a payment method with
    </span><a href="/braintree/graphql/reference/#Mutation--chargePaymentMethod"><code><span>chargePaymentMethod</span></code></a><span>, you'll need a payment method's ID, and information about the transaction you'd like to create
    using it.
</span></p><p class="markdown-p"><span>
    If you charge a single-use payment method, this will consume it and you will no longer be able to
    look up, charge, or vault that payment method.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ExampleCharge($input: ChargePaymentMethodInput!) {
  chargePaymentMethod(input: $input) {
    transaction {
      id
      status
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;paymentMethodId&quot;: &quot;id_of_payment_method&quot;,
    &quot;transaction&quot;: {
      &quot;amount&quot;: &quot;11.23&quot;
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    To plug this mutation into a curl request, compose the query and variables into a JSON-valid
    string and send it in the request body. For example:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">CURL</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">curl -X POST https://payments.sandbox.braintree-api.com/graphql \
  -H &#x27;Content-Type: application/json&#x27; \
  -H &#x27;Authorization: Basic BASE64_ENCODED(PUBLIC_KEY:PRIVATE_KEY)&#x27; \
  -H &#x27;Braintree-Version: 2019-01-01&#x27; \
  -d &#x27;{
    &quot;query&quot;: &quot;mutation ExampleCharge($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }&quot;,
    &quot;variables&quot;: {
      &quot;input&quot;: {
        &quot;paymentMethodId&quot;: &quot;id_of_payment_method&quot;,
        &quot;transaction&quot;: {
          &quot;amount&quot;: &quot;11.23&quot;
        }
      }
    }
  }&#x27;</code></pre></div></div></div><p class="markdown-p"><span>
    There are many more possible fields you can use in the input or request in the output; see the
    </span><a href="/braintree/graphql/explorer"><span>API Explorer</span></a><span> for more.
</span></p><p class="markdown-p"><span>
    A successful charge results in a transaction with the
    </span><a href="/braintree/docs/reference/general/statuses#submitted-for-settlement"><code><span>SUBMITTED_FOR_SETTLEMENT</span></code></a><span>
    status:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;transaction&quot;: {
      &quot;id&quot;: &quot;id_of_transaction&quot;,
      &quot;status&quot;: &quot;SUBMITTED_FOR_SETTLEMENT&quot;
    }
  }
}</code></pre></div></div></div><h3 id="using-separate-authorization-and-capture" class="test_h3 markdown-h3"><span>Using Separate Authorization and Capture</span><a class="icon icon--link hash-link" href="#using-separate-authorization-and-capture" aria-label="Using Separate Authorization and Capture"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    If you require a
    </span><a href="/braintree/articles/get-started/transaction-lifecycle#authorized"><span>separate authorization step</span></a><span>
    before charging the payment method
    </span><a href="/braintree/articles/get-started/transaction-lifecycle#submitted-for-settlement"><span>to actually capture funds</span></a><span>, the GraphQL API provides the
    </span><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><span>
    and
    </span><a href="/braintree/graphql/reference/#Mutation--captureTransaction"><code><span>captureTransaction</span></code></a><span>
    mutations.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ExampleAuth($input: AuthorizePaymentMethodInput!) {
  authorizePaymentMethod(input: $input) {
    transaction {
      id
      status
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;paymentMethodId&quot;: &quot;id_of_payment_method&quot;,
    &quot;transaction&quot;: {
      &quot;amount&quot;: &quot;11.23&quot;
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    A successful authorization results in a transaction with the
    </span><a href="/braintree/docs/reference/general/statuses#authorized"><code><span>AUTHORIZED</span></code></a><span>
    status:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;transaction&quot;: {
      &quot;id&quot;: &quot;id_of_authorized_transaction&quot;,
      &quot;status&quot;: &quot;AUTHORIZED&quot;
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    Once you have authorized your payment method and are ready to capture funds, you should use the
    </span><a href="/braintree/graphql/reference/#Mutation--captureTransaction"><code><span>captureTransaction</span></code></a><span>
    mutation. This mutation only requires the ID of the transaction that you'd like to capture.
</span></p><p class="markdown-p"><span>
    You have a
    </span><a href="/braintree/docs/reference/general/statuses#authorization-expired"><span>limited number of days to capture a transaction once it has been authorized</span></a><span>.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ExampleCapture($input: CaptureTransactionInput!) {
  captureTransaction(input: $input) {
    transaction {
      id
      status
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;transactionId&quot;: &quot;id_of_authorized_transaction&quot;
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    A successful charge results in a transaction with the
    </span><a href="/braintree/docs/reference/general/statuses#submitted-for-settlement"><code><span>SUBMITTED_FOR_SETTLEMENT</span></code></a><span>
    status:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;transaction&quot;: {
      &quot;id&quot;: &quot;id_of_authorized_transaction&quot;,
      &quot;status&quot;: &quot;SUBMITTED_FOR_SETTLEMENT&quot;
    }
  }
}</code></pre></div></div></div><h3 id="using-multiple-partial-capture" class="test_h3 markdown-h3"><span>Using Multiple Partial Capture</span><a class="icon icon--link hash-link" href="#using-multiple-partial-capture" aria-label="Using Multiple Partial Capture"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>This mutation is available for PayPal transactions.</span></p><p class="markdown-p"><span>To capture a transaction in multiple parts:</span></p><ol class="list list--num"><li><span>
        Authorize the entire order amount with either of the
        </span><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><span>
        or
        </span><a href="/braintree/graphql/reference/#Mutation--authorizePayPalAccount"><code><span>authorizePayPalAccount</span></code></a><span>
        mutations.
    </span></li><li><span>
        Make a separate call to the
        </span><a href="/braintree/graphql/reference/#Mutation--partialCaptureTransaction"><code><span>partialCaptureTransaction</span></code></a><span>
        mutation for each amount you want to capture separately. In each call, specify the ID of the
        parent authorized transaction and the amount you wish to capture.
    </span></li></ol><p class="markdown-p"><span>
    Once you have authorized the payment method as outlined in
    </span><a href="/braintree/graphql/guides/transactions/#using-separate-authorization-and-capture"><span>Using Separate Authorization and Capture</span></a><span>,
    you can partially capture funds with the
    </span><a href="/braintree/graphql/reference/#Mutation--partialCaptureTransaction"><code><span>partialCaptureTransaction</span></code></a><span>
    mutation. This mutation requires the </span><code><span>amount</span></code><span> you want to collect as well as the ID of
    the authorized transaction.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ExamplePartialCapture($input: PartialCaptureTransactionInput!) {
  partialCaptureTransaction(input: $input) {
    capture {
      id
      status
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;transactionId&quot;: &quot;id_of_authorized_transaction&quot;,
    &quot;transaction&quot;: {
      &quot;amount&quot;: &quot;5.45&quot;
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    The mutation is successful if the resulting partial capture transaction is in the
    </span><a href="/braintree/docs/reference/general/statuses#settling"><code><span>SETTLING</span></code></a><span>,
    </span><a href="/braintree/docs/reference/general/statuses#submitted-for-settlement"><code><span>SUBMITTED_FOR_SETTLEMENT</span></code></a><span>, or </span><a href="/braintree/docs/reference/general/statuses#settled"><code><span>SETTLED</span></code></a><span> state.
    The parent transaction will have a status of
    </span><a href="/braintree/docs/reference/general/statuses#settlement-pending"><code><span>SETTLEMENT_PENDING</span></code></a><span>.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;capture&quot;: {
      &quot;id&quot;: &quot;id_of_child_transaction&quot;,
      &quot;status&quot;: &quot;SETTLING&quot;
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    For more information about the lifecycle of partial capture transactions, see our full guide on
    </span><a href="/braintree/docs/reference/request/transaction/submit-for-partial-settlement/ruby"><span>multiple partial capture</span></a><span>.
</span></p><p class="markdown-p"><span>
    After charging a payment method, you may want to store the ID of the resulting transaction in your
    database for future reference, either for presenting back in the UI at a later time, or for your
    own internal book-keeping, analysis, or reporting requirements. You can retrieve this transaction
    by its ID using the </span><a href="/braintree/graphql/guides/node_query"><span>node query</span></a><span>.
</span></p><h3 id="transaction-statuses" class="test_h3 markdown-h3"><span>Transaction Statuses</span><a class="icon icon--link hash-link" href="#transaction-statuses" aria-label="Transaction Statuses"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    Even if the
    </span><a href="/braintree/graphql/reference/#Mutation--chargePaymentMethod"><code><span>chargePaymentMethod</span></code></a><span>
    or
    </span><a href="/braintree/graphql/reference/#Mutation--authorizePaymentMethod"><code><span>authorizePaymentMethod</span></code></a><span>
    mutation doesn't return any errors, the transaction may not have been created successfully. For
    instance, the customer's card-issuing bank may have declined the authorization, or your fraud
    protection settings may have blocked it. In this case, the
    </span><a href="/braintree/graphql/reference/#Object--Transaction"><code><span>Transaction</span></code></a><span> will have
    a failure status, such as </span><em><span>Processor Declined</span></em><span> or </span><em><span>Gateway Rejected</span></em><span>, and further
    information on what caused the failure. You can then use this to decide how to handle the failure
    and how to report it back to your customer.
</span></p><p class="markdown-p"><span>
    A successful transaction will be updated over time as funds are debited from the customer and sent
    to you. As money moves, the transaction passes through multiple states in the payment lifecycle,
    most typically from </span><em><span>Authorized</span></em><span> to </span><em><span>Submitted for Settlement</span></em><span>, to
    </span><em><span>Settling</span></em><span>, to </span><em><span>Settled</span></em><span>. For detailed information on what these statuses mean, see
    </span><a href="/braintree/articles/get-started/transaction-lifecycle"><span>the Transaction Lifecycle</span></a><span>.
</span></p><p class="markdown-p"><span>
    Using the
    </span><a href="/braintree/docs/reference/general/statuses#transaction"><span>complete list of transaction statuses and their meanings</span></a><span>, you can check the
    </span><a href="/braintree/graphql/reference/#Enum--PaymentStatus"><code><span>status</span></code></a><span> of a
    transaction to determine if it was successful or unsuccessful and why, and if successful, what
    will happen to the transaction next.
    </span><a href="https://paypalobjects.com/btdevdoc/braintree/img/developers/flow_processing-workflow.png"><span>This simplified status diagram</span></a><span>
    shows what happens to a transaction if it succeeds or fails various validations.
</span></p><h3 id="error-handling" class="test_h3 markdown-h3"><span>Error Handling</span><a class="icon icon--link hash-link" href="#error-handling" aria-label="Error Handling"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    Unsuccessful transactions are a normal part of transaction processing and should not be considered
    exceptional. If an error occurs, you will either not receive a transaction object on the payload,
    or you will receive only a partial object.
</span></p><p class="markdown-p"><span>Here's an example of an error on a transaction.</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">JSON</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;chargePaymentMethod&quot;: null
  },
  &quot;errors&quot;: [
    {
      &quot;message&quot;: &quot;Amount must be greater than zero.&quot;,
      &quot;path&quot;: [
        &quot;chargePaymentMethod&quot;
      ],
      &quot;extensions&quot;: {
        &quot;errorType&quot;: &quot;user_error&quot;,
        &quot;errorClass&quot;: &quot;VALIDATION&quot;,
        &quot;legacyCode&quot;: &quot;81531&quot;,
        &quot;inputPath&quot;: [
          &quot;input&quot;,
          &quot;transaction&quot;,
          &quot;amount&quot;
        ]
      }
    }
  ],
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;a-uuid-for-the-request&quot;
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    See more details on handling errors in
    </span><a href="/braintree/graphql/guides/making_api_calls#errors"><span>Making API Calls</span></a><span>.
</span></p><h2 id="reversing-or-refunding-a-transaction" class="test_h2 markdown-h2"><span>Reversing or Refunding a Transaction</span><a class="icon icon--link hash-link" href="#reversing-or-refunding-a-transaction" aria-label="Reversing or Refunding a Transaction"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>
    Once you've charged a payment method, you might want to cancel the transaction or refund the
    customer their money later. We will provide instructions here for the various ways you can "undo"
    a charge.
</span></p><p class="markdown-p"><span>
    To attempt to completely reverse a transaction, regardless of its present settlement status, you
    may use the
    </span><a href="/braintree/graphql/reference/#Mutation--reverseTransaction"><code><span>reverseTransaction</span></code></a><span>
    mutation. When using this mutation, we will either void the transaction or issue a refund for the
    full amount of the transaction.
</span></p><p class="markdown-p"><strong><span>Voiding</span></strong><span> the transaction cancels it, preventing funds from being debited from the
    customer's account. A </span><strong><span>refund</span></strong><span> occurs when you have received or are in the process
    of receiving funds from a transaction already, and you would like to debit the full or partial
    amount of money from your own account to send back to the customer.
</span></p><h3 id="reversing-a-transaction" class="test_h3 markdown-h3"><span>Reversing a Transaction</span><a class="icon icon--link hash-link" href="#reversing-a-transaction" aria-label="Reversing a Transaction"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    To reverse a transaction, you only need the ID of the </span><code><span>Transaction</span></code><span>. Depending on the
    settlement status at the time of the attempted reversal, the result of the
    </span><code><span>reverseTransaction</span></code><span> mutation will either be a </span><code><span>Transaction</span></code><span> updated to the
    </span><code><span>VOIDED status</span></code><span>, or a new </span><code><span>Refund</span></code><span> linked to the original transaction. If
    you are interested in only partially refunding a transaction or wish to provide an
    </span><code><span>orderId</span></code><span>, use the </span><code><span>refundTransaction</span></code><span> mutation directly instead.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ExampleReverse($input: ReverseTransactionInput!) {
  reverseTransaction(input: $input) {
    reversal {
      ... on Transaction {
        id
        status
        statusHistory {
          status
          terminal
        }
      }
      ... on Refund {
        id
        amount {
          value
        }
        orderId
        status
        refundedTransaction {
          id
          amount {
            value
          }
          orderId
          status
        }
      }
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;transactionId&quot;: &quot;TRANSACTION_ID&quot;
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;reverseTransaction&quot;: {
      &quot;reversal&quot;: {
        &quot;id&quot;: &quot;TRANSACTION_ID&quot;,
        &quot;status&quot;: &quot;VOIDED&quot;,
        &quot;statusHistory&quot;: [
          {
            &quot;status&quot;: &quot;VOIDED&quot;,
            &quot;terminal&quot;: &quot;true&quot;
          },
          {
            &quot;status&quot;: &quot;SUBMITTED_FOR_SETTLEMENT&quot;,
            &quot;terminal&quot;: &quot;false&quot;
          },
          {
            &quot;status&quot;: &quot;AUTHORIZED&quot;,
            &quot;terminal&quot;: &quot;false&quot;
          }
        ]
      }
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>or</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;reverseTransaction&quot;: {
      &quot;reversal&quot;: {
        &quot;id&quot;: &quot;REFUND_ID&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: &quot;10.00&quot;
        },
        &quot;orderId&quot;: &quot;original-charge-order-id-123&quot;,
        &quot;status&quot;: &quot;SUBMITTED_FOR_SETTLEMENT&quot;,
        &quot;refundedTransaction&quot;: {
          &quot;id&quot;: &quot;TRANSACTION_ID&quot;,
          &quot;amount&quot;: {
            &quot;value&quot;: &quot;10.00&quot;
          },
          &quot;orderId&quot;: &quot;original-charge-order-id-123&quot;,
          &quot;status&quot;: &quot;SETTLED&quot;
        }
      }
    }
  }
}</code></pre></div></div></div><h3 id="refunding-a-transaction" class="test_h3 markdown-h3"><span>Refunding a Transaction</span><a class="icon icon--link hash-link" href="#refunding-a-transaction" aria-label="Refunding a Transaction"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    If you already know the transaction has been </span><code><span>SETTLED,</span></code><span> or you want to partially refund
    it, or you need to provide a refund order ID, you can use the
    </span><code><span>refundTransaction</span></code><span> mutation.
</span></p><p class="markdown-p"><span>
    You'll need the ID for the </span><code><span>Transaction</span></code><span> that needs to be refunded. It must meet the
    following criteria to be refundable:
</span></p><ul class="list list--disc"><li><span>in either the </span><code><span>SETTLING</span></code><span> or </span><code><span>SETTLED</span></code><span> status</span></li><li><span>has not already been fully refunded</span></li></ul><p class="markdown-p"><span>
    By default, </span><code><span>refundTransaction</span></code><span> will fully refund a transaction. You can pass in an
    </span><code><span>amount</span></code><span> less than the original amount in order to partially refund it. You can also
    optionally specify an </span><code><span>orderId</span></code><span> to give the refund its own unique order ID, instead of
    the default behavior, which is inheriting the order ID from the original transaction.
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ExampleRefund($input: RefundTransactionInput!) {
  refundTransaction(input: $input) {
    refund {
      id
      amount {
        value
      }
      orderId
      status
      refundedTransaction {
        id
        amount {
          value
        }
        orderId
        status
      }
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;transactionId&quot;: &quot;SETTLED_TRANSACTION_ID&quot;,
    &quot;refund&quot;: {
      &quot;amount&quot;: &quot;7.00&quot;,
      &quot;orderId&quot;: &quot;refund-order-id-456&quot;
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>A successful refund results in a new </span><code><span>Refund</span></code><span> object:</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;refundTransction&quot;: {
      &quot;refund&quot;: {
        &quot;id&quot;: &quot;REFUND_ID&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: &quot;7.00&quot;
        },
        &quot;orderId&quot;: &quot;refund-order-id-456&quot;,
        &quot;status&quot;: &quot;SUBMITTED_FOR_SETTLEMENT&quot;,
        &quot;refundedTransaction&quot;: {
          &quot;id&quot;: &quot;TRANSACTION_ID&quot;,
          &quot;amount&quot;: {
            &quot;value&quot;: &quot;10.00&quot;
          },
          &quot;orderId&quot;: &quot;original-charge-order-id-123&quot;,
          &quot;status&quot;: &quot;SETTLED&quot;
        }
      }
    }
  }
}</code></pre></div></div></div><p class="markdown-p"><span>
    Or, a refund can fail because the original transaction wasn't ready to refund or had already been
    refunded. For example:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">JSON</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: null,
  &quot;errors&quot;: [
    {
      &quot;message&quot;: &quot;Transaction has already been completely refunded.&quot;,
      &quot;locations&quot;: [
        {
          &quot;line&quot;: 2,
          &quot;column&quot;: 3
        }
      ],
      &quot;path&quot;: [
        &quot;refundTransaction&quot;
      ],
      &quot;extensions&quot;: {
        &quot;errorType&quot;: &quot;user_error&quot;,
        &quot;errorClass&quot;: &quot;VALIDATION&quot;,
        &quot;legacyCode&quot;: &quot;91512&quot;,
        &quot;inputPath&quot;: [
          &quot;input&quot;,
          &quot;transactionId&quot;
        ]
      }
    }
  ]
}</code></pre></div></div></div><h3 id="detached-refunds" class="test_h3 markdown-h3"><span>Detached Refunds</span><a class="icon icon--link hash-link" href="#detached-refunds" aria-label="Detached Refunds"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
    If you need to create a
    </span><a href="/braintree/articles/control-panel/transactions/refunds-voids-credits#detached-credits"><code><span>detached refund</span></code></a><span>
    (unassociated with any previous Braintree payment), you can do so using the
    </span><a href="/braintree/graphql/reference/#Mutation--refundCreditCard"><code><span>refundCreditCard</span></code></a><span>
    and
    </span><a href="/braintree/graphql/reference/#Mutation--refundUsBankAccount"><code><span>refundUsBankAccount</span></code></a><span>
    mutations:
</span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ($input: RefundCreditCardInput!) {
  refundCreditCard(input: $input) {
    clientMutationId
    refund {
      id
      status
      amount {
        value
      }
      orderId
      merchantAccountId
      source
      refundedTransaction {
        id
      }
      paymentMethod {
        id
      }
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;paymentMethodId&quot;: &quot;id_of_payment_method&quot;,
    &quot;refund&quot;: {
      &quot;amount&quot;: &quot;10.00&quot;
    }
  }
}</code></pre></div></div></div><div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;refundCreditCardInput&quot;: {
      &quot;clientMutationId&quot;: &quot;id_of_client_mutation&quot;,
      &quot;refund&quot;: {
        &quot;id&quot;: &quot;id_of_refund&quot;,
        &quot;status&quot;: &quot;SUBMITTED_FOR_SETTLEMENT&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: &quot;10.00&quot;
        },
        &quot;orderId&quot;: &quot;id_of_order&quot;,
        &quot;merchantAccountId&quot;: &quot;id_of_merchant_account&quot;,
        &quot;source&quot;: &quot;API&quot;,
        &quot;refundedTransaction&quot;: {
          &quot;id&quot;: &quot;id_of_refunded_transaction&quot;
        },
        &quot;paymentMethod&quot;: {
          &quot;id&quot;: &quot;id_of_payment_method&quot;
        }
      }
    }
  },
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;a-uuid-for-the-request&quot;
  }
}</code></pre></div></div></div><h3 id="reversing-refunds" class="test_h3 markdown-h3"><span>Reversing Refunds</span><a class="icon icon--link hash-link" href="#reversing-refunds" aria-label="Reversing Refunds"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
        If you want to reverse a previously issued refund, you can use the
        </span><a href="/braintree/graphql/reference/#Mutation--reverseRefund"><code><span>reverseRefund</span></code></a><span>
        mutation:
    </span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Mutation</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">mutation ReverseRefund($input: ReverseRefundInput!) {
  reverseRefund(input: $input) {
    refund {
      id
      createdAt
      amount {
        value
        currencyCode
      }
      status
      source
      refundedTransaction {
        id
      }
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;refundId&quot;: &quot;id_of_refund&quot;
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;reverseRefund&quot;: {
      &quot;refund&quot;: {
        &quot;id&quot;: &quot;id_of_refund&quot;,
        &quot;createdAt&quot;: &quot;created_at_date&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: &quot;10.00&quot;,
          &quot;currencyCode&quot;: &quot;USD&quot;
        },
        &quot;status&quot;: &quot;VOIDED&quot;,
        &quot;source&quot;: &quot;API&quot;,
        &quot;refundedTransaction&quot;: {
          &quot;id&quot;: &quot;id_of_refunded_transaction&quot;
        }
      }
    }
  },
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;a-uuid-for-the-request&quot;
  }
}</code></pre></div></div></div><h2 id="searching-for-transactions" class="test_h2 markdown-h2"><span>Searching For Transactions</span><a class="icon icon--link hash-link" href="#searching-for-transactions" aria-label="Searching For Transactions"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h2><p class="markdown-p"><span>There are two ways to query for specific information on transactions:</span></p><ul class="list list--disc"><li><a href="/braintree/graphql/guides/transactions/#search-query"><span>Using the search query</span></a></li><li><a href="/braintree/graphql/guides/transactions/#node-query"><span>Fetching the transaction by its ID using a node query</span></a></li></ul><h3 id="search-query" class="test_h3 markdown-h3"><span>Search Query</span><a class="icon icon--link hash-link" href="#search-query" aria-label="Search Query"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
        The following is an example of using the
        </span><a href="/braintree/graphql/reference/#Query--search"><code><span>search</span></code></a><span> query to find
        transactions that fit certain criteria:
    </span></p><ul class="list list--disc"><li><span>
            The fields available to search on are on the
            </span><a href="/braintree/graphql/reference/#Input--TransactionSearchInput"><code><span>TransactionSearchInput</span></code></a><span>
            object
        </span></li><li><span>
            The fields available on the returned transactions are on the
            </span><a href="/braintree/graphql/reference/#Object--TransactionConnection"><code><span>TransactionConnection</span></code></a><span>object.
        </span></li></ul><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">query ($input: TransactionSearchInput!) {
  search {
    transactions(input: $input) {
      edges {
        node {
          id
          status
          amount {
            value
            currencyCode
          }
          merchantId
        }
      }
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Variables</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;input&quot;: {
    &quot;id&quot;: {
      &quot;is&quot;: &quot;id_of_transaction&quot;
    },
    &quot;status&quot;: {
      &quot;is&quot;: &quot;status_of_transaction&quot;
    },
    &quot;amount&quot;: {
      &quot;value&quot;: {
        &quot;is&quot;: &quot;value_of_transaction&quot;
      }
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;search&quot;: {
      &quot;transactions&quot;: {
        &quot;edges&quot;: [
          {
            &quot;node&quot;: {
              &quot;id&quot;: &quot;id_of_transaction&quot;,
              &quot;status&quot;: &quot;status_of_transaction&quot;,
              &quot;amount&quot;: {
                &quot;value&quot;: &quot;value_of_transaction&quot;,
                &quot;currencyCode&quot;: &quot;currency_code_of_transaction&quot;
              },
              &quot;merchantId&quot;: &quot;id_of_merchant&quot;
            }
          }
        ]
      }
    }
  },
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;a-uuid-for-the-request&quot;
  }
}</code></pre></div></div></div><h3 id="node-query" class="test_h3 markdown-h3"><span>Node Query</span><a class="icon icon--link hash-link" href="#node-query" aria-label="Node Query"><img src="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_assets/anchor-PKYVW2VT.svg" alt="AnchorIcon"/></a></h3><p class="markdown-p"><span>
        You can also use a </span><a href="/braintree/graphql/guides/node_query/"><code><span>node query</span></code></a><span> to
        perform a GET request to retrieve a transaction by its ID:
    </span></p><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">GraphQL</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-graphql"><code class="language-graphql">node(id: &quot;id_of_transaction&quot;) { ... on Transaction
    { 
      status paymentMethod 
    { 
      id details 
    {
      __typename }
    }
  }
}</code></pre></div></div></div><div><div class="styles_tab_container"><ol class="styles_tab_list"><div><li class="styles_tab_list_item styles_tab_list_active">Response</li></div></ol><div class="codeblock-spacing"><button class="copy-button" aria-label="Copy"><span class="copy-status">Copy</span><svg class="snippet__copy-icon" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><pre class="language-json"><code class="language-json">{
  &quot;data&quot;: {
    &quot;node&quot;: {
      &quot;status&quot;: &quot;status_of_transaction&quot;,
      &quot;paymentMethod&quot;: {
        &quot;id&quot;: &quot;id_of_transaction&quot;,
        &quot;details&quot;: {
          &quot;__typename&quot;: &quot;type_name_of_transaction&quot;
        }
      }
    }
  },
  &quot;extensions&quot;: {
    &quot;requestId&quot;: &quot;a-uuid-for-the-request&quot;
  }
}</code></pre></div></div></div></div></div><nav class="right-nav-container"><h4 class="right-nav-title">On this page</h4><ul class="right-nav-list"></ul></nav></div></article></main><div><footer class="footer wrap nocontent " data-track-event-context="footer"><div id="gqlFooter" data-testid="gqlFooter"><footer><div class="content"><div class="linksAndActions"><div class="as"><svg width="111" height="111" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="111" height="111" rx="16" fill="#1524D9"></rect><path d="M30.7 84h27.7C71.8 84 80 78.1 80 67.5c0-6.7-4.9-11.6-11.8-13.5 4.8-1.9 8.6-5.9 8.6-12.4C76.8 31.7 69.3 26 57 26H30.7v8.5h6.2v41h-6.2V84zm15.4-33.7V34.5H56c7.5 0 11.5 2.7 11.5 7.9 0 5.1-3.9 7.9-11.4 7.9h-10zm0 25.2v-17h10.7c9.2 0 13.9 3 13.9 8.5 0 5.6-4.4 8.5-13.2 8.5H46.1z" fill="#fff"></path></svg><div class="siteLinks"><a data-cy="footer-site-link-articles" href="/braintree/articles/">Support Articles</a><a data-cy="footer-site-link-sdk-docs" href="/braintree/docs/">SDK Docs</a><a data-cy="footer-site-link-in-person" href="/braintree/in-person/">In-Person</a><a target="_blank" rel="noopener noreferrer" href="https://www.braintreepayments.com/sandbox" data-cy="footer-site-link-sandbox">Sandbox</a><a target="_blank" rel="noopener noreferrer" href="https://braintree.github.io/" data-cy="footer-site-link-open">Open Source</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/braintree" data-cy="footer-site-link-github">GitHub</a><a target="_blank" rel="noopener noreferrer" href="https://www.paypal-status.com/product/production" data-cy="footer-site-link-status">API Status</a></div></div><div class="actions"><a href="https://developer.paypal.com/braintree/help?issue=GraphQL" class="footerButton" data-cy="footer-email-question-button" data-testid="footer-email-question-button" target="_blank" rel="noopener noreferrer"><div class="footerButtonContent"><div class="footerButtonTitle">Need help?</div>Get answers to your questions quickly</div><div class="footerButtonIcon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.464 5l-1.461 1.365L16.33 11H4v2h12.33l-4.328 4.635L13.463 19 20 12l-6.536-7z" fill="#BBB"></path></svg></div></a><a href="https://github.com/braintree/graphql-api/issues" class="footerButton" data-cy="footer-issue-button" data-testid="footer-issue-button" target="_blank" rel="noopener noreferrer"><div class="footerButtonContent"><div class="footerButtonTitle">Report a bug</div>Come across anything weird?</div><div class="footerButtonIcon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.464 5l-1.461 1.365L16.33 11H4v2h12.33l-4.328 4.635L13.463 19 20 12l-6.536-7z" fill="#BBB"></path></svg></div></a></div></div><nav class="linkWrapper"><a href="https://braintreepayments.com" data-cy="footer-link-marketing" class="footerLink">Braintreepayments.com</a><div class="footerLink legal">© 2008-<!-- -->2025<!-- --> Braintree, a service of PayPal, Inc. All rights reserved.<!-- --> <a href="https://braintreepayments.com/legal/braintree-privacy-policy" data-cy="footer-link-privacy">Privacy Policy</a> <!-- -->|<!-- --> <a href="https://braintreepayments.com/legal" data-cy="footer-link-legal">Legal</a></div></nav></div></footer></div></footer></div></div></div><script nonce="PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8">
            window.process = globalThis.process = {
              env: {
                NODE_ENV: "development" // or "production", depending on your environment
              }
            };
          </script>
      </script><script src="https://www.paypalobjects.com/pa/js/min/pa.js"></script><div data-testid="cookie_banner"><link rel="stylesheet" type="text/css" href="https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css"/><style nonce="PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8">@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, "Helvetica Neue", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }</style><div class="cdn-consent-css"><div class="ppui-theme theme_ppui_theme_tokens__1ozbsv90"><div id="ccpaCookieBanner" class="CookieBanner_container"><div class="CookieBanner_container_wrapper"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4" data-ppui-info=""><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z"></path></svg></span><div class="CookieBanner_content_wrapper"><div id="ccpaCookieContent_wrapper" class="CookieContent_wrapper"><h4 class="styles_text-title_medium__awycp4g CookieBanner_text" data-ppui-info="title-text" id="cookieTitle">If you accept cookies, we’ll use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. <a id="manageCookiesLink" href="https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US">Manage cookies and learn more</a></h4></div><div class="CookieBanner_buttonGroup"><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton" data-ppui-info="" id="acceptAllButton" tab-index="0">Accept</button><button class="styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton" data-ppui-info="" id="bannerDeclineButton" tab-index="0">Decline</button></div></div><button data-ppui-info="" class="styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon" type="button" id="bannerCloseButton"><span class="styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf" data-ppui-info="" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="1em" height="1em"><path d="M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z"></path></svg></span><span class="styles_screenreader__1p05eo10">Close</span></button></div></div></div></div><script nonce="PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8">(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window && window.fpti && window.PAYPAL && window.PAYPAL.analytics && window.PAYPAL.analytics.instance && window.PAYPAL.analytics.instance.options && window.PAYPAL.analytics.instance.options.request && window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() && getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem("isBannerClosed") || sessionStorage.getItem("isUserAccepted") || sessionStorage.getItem("isInvisibleBanner")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false && true && (navigator && !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false && true && (navigator && !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem("isUserAccepted")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem("isBannerClosed")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem("isInvisibleBanner")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti && window.fpti.page || window.location && window.location.href; queryParamters.component = window.fpti && window.fpti.comp; const eventSourceUrl = window.location && window.location.href; queryParamters.eventSourceUrl = eventSourceUrl && eventSourceUrl.split("?")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) => queryString += (index > 0 ? '&' : '') + key + "=" + btoa(queryParamters[key])); const endPoint = "https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState > 3 && xhr.status === 200) { try { if (xhr?.response && xhr.response != "OK") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length > 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) => {  if(e !== "www"){ subDomains.push("." + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain => { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource="cookieBanner"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable && getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState > 3 && xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:"cookieBanner"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { "accept" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, "decline" : { endPointSuffix : '&type=explicit_banner&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false&performance=false&functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, "close" : { endPointSuffix : '&type=explicit_close&country=US&policy=ccpa&version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true&performance=true&functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton && cookieBanner && cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton && cookieBanner && cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton && cookieBanner && cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton && cookieBanner && cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi && cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += " ccpaHideCookieBannerMobile"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace("ccpaHideCookieBannerMobile",""); } }; document.body.addEventListener("focus", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = ""; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll.length > 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0] && cookieBanner.style.display != 'none') { if (bodyPaddingBottom === "" || (isPaddingBottomAdded && bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length > 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace("px", "")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded && bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded && cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return "true"; else if (navigator.cookieEnabled === true) return "false"; else return "undefined"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:"cookieBanner"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window && window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage && cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName("ccpaCookieBanner-acceptedAll"); if(cookieBannerAcceptAll && cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace("ccpaCookieBanner-acceptedAll",""); document.body.className = document.body.className.replace("top-cookie-banner-enabled",""); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi && getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner && cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) > (cookieBanner.getBoundingClientRect().top)) && !activeElement.parentElement.nodeName.includes("UL")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener("focusin", focusIn); } } if(addListener){ document.addEventListener("focusin",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() && !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- > 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() && document.getElementById('ccpaCookieBanner') && !document.body.className.includes("ccpaCookieBanner-acceptedAll")){ document.body.className = document.body.className += " ccpaCookieBanner-acceptedAll"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += " top-cookie-banner-enabled"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();</script></div><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-DWXUS3OJ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-L5PH23AQ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6FIGYWP.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J6PGNH2U.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-B6RWMYIW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-JWVH3LXD.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-6U42WDX3.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-YVSNDZ53.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-J2GE73YK.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-5BT6OS7I.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-23AVEWBC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RNL33CPM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-KHGBJ4DZ.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MV6WZZTV.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MGQUUIAL.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-4XUXT72V.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-7GGXQ4CC.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ARCSJZ66.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-HUHQJMXM.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V5GCSBYI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-RTF7FTLH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-Y6FV67CR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-SDOOWKWW.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-ZAEIBDVB.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-H5OFEOJY.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AJAXRUVI.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-XQKKFWZR.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-MZ7A5LCT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-M3EUWJZ6.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-AGQ7GS2C.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-V4QDYNUE.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-G6HOB2YT.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TIBAJGV5.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-4BNLONG6.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-QPO3S2DS.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-C5EWQJ4M.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-WCFLXRHO.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-TL4Q62UH.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql-5WTNGTXD.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/_shared/chunk-N3FY5ECO.js"/><link rel="modulepreload" href="https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql/$-AOXYBYSX.js"/><script nonce="PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8">window.__remixContext = {"url":"/braintree/graphql/guides/transactions/","state":{"loaderData":{"root":{"isLoggedIn":false,"_csrf":"osngkSmACxxPzXrFL0OzhHZ0ki5HN7o7MmH8s=","searchConfig":{"appId":"^@KGPPiC^4KSTT85","aKey":"GROm[oD;FA\\0OoH=Q\\2XhWaFQf2[hHqRRShLBK`FhH\u003c","BTDOCS_INDEX":"BTDOCS_BTDOCSNODEWEB"},"analytics":{"appName":"btdocsnodeweb","stock":"UA-37159521-1","exp":"UA-37159521-8"},"nonce":"PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8","cookieBannerInfo":{"css":"\u003clink rel=\"stylesheet\" type=\"text/css\" href=\"https://www.paypalobjects.com/ncp-ui-web/consumer-home/8.2.3-legacy-v2/consent.min.css\"/\u003e\u003cstyle nonce=\"PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8\"\u003e@keyframes slideInFromBottom { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } } .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 15.125em; } .CookieBanner_rtl { direction: rtl; } .CookieBanner_container { box-sizing: border-box; animation: 1s ease-in 0s 1 slideInFromBottom; width: 100%; z-index: 1051; padding: 0 1rem; display: flex; justify-content: center; position: fixed; bottom: 1rem; left:0; } .CookieBanner_container * { box-sizing: border-box; } .CookieBanner_container_wrapper { max-width: 80rem; width: 100%; display: flex; padding: 1rem; border-radius: 1rem; background-color: #f0f2f9; box-shadow: 0px 0px 17px 0px rgba(0, 0, 0, 0.01), 0px 0px 15px 0px rgba(0, 0, 0, 0.01), 0px 0px 13px 0px rgba(0, 0, 0, 0.02), 0px -10px 10px 0px rgba(0, 0, 0, 0.03), 0px 0px 5px 0px rgba(0, 0, 0, 0.04); } .CookieBanner_content_wrapper { display: flex; flex-direction: column; } #manageCookiesLink { color: #0070e0; font-weight: 500; text-decoration: underline; font-family: PayPalOpen-Medium, \"Helvetica Neue\", Arial, sans-serif; } .CookieContent_wrapper { margin-block-end: 1rem; margin-inline: 0.5rem; } .CookieBanner_text { margin: 0; } .CookieBanner_buttonGroup { display: flex; } button.acceptButton { margin-inline-end: 0.25rem; } button.declineButton { margin-inline-start: 0.25rem; }  .close_icon { color: #686a6d; } @media only screen and (min-width: 752px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 10.25em; } .CookieBanner_container_wrapper { align-items: center; padding-block: 1.5rem; } .CookieBanner_content_wrapper { flex-direction: row; align-items: center; } .CookieContent_wrapper { margin-block-end: 0; margin-inline: 0.75rem; flex: 3; } .CookieBanner_buttonGroup { padding-inline: 1.5rem; } button.acceptButton { margin-inline-end: 0.5rem; } button.declineButton { margin-inline-start: 0.5rem; } } @media only screen and (min-width: 1024px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7.75em; } } @media only screen and (min-width: 1152px) { .ccpaCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } .gdprCookieBanner-acceptedAll { height: auto; padding-bottom: 7em; } }\u003c/style\u003e","html":"\u003cdiv class=\"cdn-consent-css\"\u003e\u003cdiv class=\"ppui-theme theme_ppui_theme_tokens__1ozbsv90\"\u003e\u003cdiv id=\"ccpaCookieBanner\" class=\"CookieBanner_container\"\u003e\u003cdiv class=\"CookieBanner_container_wrapper\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_md__1dkwumb4\" data-ppui-info=\"\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M18.822 5.052A9.682 9.682 0 0 0 12 2.25h-.1A9.75 9.75 0 0 0 2.25 12c0 4.031 2.492 7.412 6.502 8.828A3 3 0 0 0 12.75 18a1.5 1.5 0 0 1 1.5-1.5h4.332a2.982 2.982 0 0 0 2.925-2.332c.168-.739.25-1.494.243-2.25a9.685 9.685 0 0 0-2.928-6.866zm1.219 8.785A1.49 1.49 0 0 1 18.582 15H14.25a3 3 0 0 0-3 3 1.5 1.5 0 0 1-1.998 1.413C5.858 18.216 3.75 15.375 3.75 12a8.25 8.25 0 0 1 8.165-8.25h.084a8.283 8.283 0 0 1 8.25 8.18 8.334 8.334 0 0 1-.204 1.908h-.004zm-6.916-6.712a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zM9 9.375a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm0 5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0zm8.25-5.25a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cdiv class=\"CookieBanner_content_wrapper\"\u003e\u003cdiv id=\"ccpaCookieContent_wrapper\" class=\"CookieContent_wrapper\"\u003e\u003ch4 class=\"styles_text-title_medium__awycp4g CookieBanner_text\" data-ppui-info=\"title-text\" id=\"cookieTitle\"\u003eIf you accept cookies, we’ll use them to improve and customize your experience and enable our partners to show you personalized PayPal ads when you visit other sites. \u003ca id=\"manageCookiesLink\" href=\"https://www.paypal.com/myaccount/privacy/cookiePrefs?locale=en_US\"\u003eManage cookies and learn more\u003c/a\u003e\u003c/h4\u003e\u003c/div\u003e\u003cdiv class=\"CookieBanner_buttonGroup\"\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l acceptButton\" data-ppui-info=\"\" id=\"acceptAllButton\" tab-index=\"0\"\u003eAccept\u003c/button\u003e\u003cbutton class=\"styles_button_base__6ka6j61 styles_button_size_lg__6ka6j62 styles_button_overlay__6ka6j69 styles_button_full_width__6ka6j6l declineButton\" data-ppui-info=\"\" id=\"bannerDeclineButton\" tab-index=\"0\"\u003eDecline\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003cbutton data-ppui-info=\"\" class=\"styles_icon-button_base__134l21c8 styles_icon-button_size_lg__134l21c7 styles_icon-button_size__134l21c4 styles_icon-button_tertiary__134l21cd close_icon\" type=\"button\" id=\"bannerCloseButton\"\u003e\u003cspan class=\"styles_icon_svg__1dkwumb7 styles_icon_size_sm__1dkwumb3 styles_icon-button_icon__134l21cf\" data-ppui-info=\"\" aria-hidden=\"true\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\"\u003e\u003cpath d=\"M19.28 18.22a.751.751 0 0 1-1.06 1.06L12 13.06l-6.22 6.22a.75.75 0 0 1-1.06-1.06L10.94 12 4.72 5.78a.75.75 0 1 1 1.06-1.06L12 10.94l6.22-6.22a.75.75 0 1 1 1.06 1.06L13.06 12l6.22 6.22z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003cspan class=\"styles_screenreader__1p05eo10\"\u003eClose\u003c/span\u003e\u003c/button\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e","js":"\u003cscript nonce=\"PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8\"\u003e(function () { var bannerFptiData = {}; function getFptiReqData () { let fptiReqData = window \u0026\u0026 window.fpti \u0026\u0026 window.PAYPAL \u0026\u0026 window.PAYPAL.analytics \u0026\u0026 window.PAYPAL.analytics.instance \u0026\u0026 window.PAYPAL.analytics.instance.options \u0026\u0026 window.PAYPAL.analytics.instance.options.request \u0026\u0026 window.PAYPAL.analytics.instance.options.request.data; if (fptiReqData) {  bannerFptiData = { api_name: 'cookieBanner', page:  'main:privacy:policy:ccpa', pgrp:  'main:privacy:policy', displaypage: window.fpti.pgrp, ppage: 'privacy_banner', bannertype: 'cookiebanner', ccpg: 'US', flag: 'ccpa', bannerversion: 'v14', bannersource: 'ConsentNodeServ', bannervariant: '', xe: '110041,109128,105410,105409,111623,111624,109059,111560,111622,110042,104407', xt: '148501,143659,123956,123954,158942,158944,143369,161854,158940,148504,119038', eligibility_reason: 'true', is_native: 'false', cookie_disabled: cookieDisabled(), reason_to_hide: reasonToHideBanner(), comp: 'consentnodeserv', space_key: 'SKSVPL', erpg: '' }; if(true){ bannerFptiData = {   ...bannerFptiData, userstate : 'NOT FOUND', usercountry : 'US', stateaccuracy : '0', countryaccuracy : '99', loggedin : 'false' } } } return fptiReqData; } function getFptiPage () { return getFptiReqData() \u0026\u0026 getFptiReqData().page; } function setSessionStorage(key) { try { sessionStorage.setItem(key, true); } catch (e) { console.log('error on setting sessioStorage', e); } } function isBannerClosed () { let is_banner_closed = false; try{ if(sessionStorage.getItem(\"isBannerClosed\") || sessionStorage.getItem(\"isUserAccepted\") || sessionStorage.getItem(\"isInvisibleBanner\")){ is_banner_closed = true; } } catch (e){ is_banner_closed = false; } return is_banner_closed || (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)); } function reasonToHideBanner(){ let reason = ''; try { if (false \u0026\u0026 true \u0026\u0026 (navigator \u0026\u0026 !navigator.cookieEnabled)){ reason = 'cookies are disabled'; } else if(sessionStorage.getItem(\"isUserAccepted\")){ reason = 'User accepted or declined'; } else if(sessionStorage.getItem(\"isBannerClosed\")){ reason = 'Banner Closed'; } else if(sessionStorage.getItem(\"isInvisibleBanner\")){ reason = 'Invisible banner loaded'; } } catch (error) { reason=''; } return reason; } function cookieFilteringRequest(eventSource) { const queryParamters = { eventSource, isQueryEncoded: true, page: '', component: '', eventSourceUrl: '', expireCookies: true }; if (window) { queryParamters.page = window.fpti \u0026\u0026 window.fpti.page || window.location \u0026\u0026 window.location.href; queryParamters.component = window.fpti \u0026\u0026 window.fpti.comp; const eventSourceUrl = window.location \u0026\u0026 window.location.href; queryParamters.eventSourceUrl = eventSourceUrl \u0026\u0026 eventSourceUrl.split(\"?\")[0]; } const xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); let queryString = ''; Object.keys(queryParamters).forEach((key, index) =\u003e queryString += (index \u003e 0 ? '\u0026' : '') + key + \"=\" + btoa(queryParamters[key])); const endPoint = \"https://www.paypal.com/myaccount/privacy/cookieprefs/cookies?\" + queryString; xhr.open('GET', endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function () { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status === 200) { try { if (xhr?.response \u0026\u0026 xhr.response != \"OK\") { const invalidCookies = JSON.parse(xhr?.response)?.invalidCookies; if (invalidCookies.length \u003e 0) { const hostName = document.location.hostname; let subDomains = [hostName]; const parts = hostName.split('.'); parts.forEach((e, i) =\u003e {  if(e !== \"www\"){ subDomains.push(\".\" + parts.slice(i).join('.')); } }); subDomains.pop(); invalidCookies.forEach(cookie =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.paypal.com'; document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; subDomains.forEach(domain =\u003e { document.cookie = cookie + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=' + domain; }) }) } } } catch (error) { } } }; xhr.setRequestHeader('Accept', 'application/json'); xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(); }; function cookieFiltering(eventSource=\"cookieBanner\"){ if(!true || false){ return; } cookieFilteringRequest(eventSource); } function postAjax(isFptiDataAvailable , cookieObj ) { if(!isFptiDataAvailable \u0026\u0026 getFptiReqData()){  isFptiDataAvailable = true; } if(isFptiDataAvailable){ acceptDeclineFptiEvents(cookieObj); } var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\"); var endPoint = cookieObj.endPointPrefix + cookieObj.endPointSuffix; xhr.open('GET',endPoint); xhr.withCredentials = true; xhr.onreadystatechange = function() { if (xhr.readyState \u003e 3 \u0026\u0026 xhr.status == 200) { cookieFiltering(cookieObj.eventSource); } }; xhr.setRequestHeader('Accept', 'application/json','Content-Type', 'application/json'); xhr.send(null); return xhr; }; function fptiRecordClick(bannerData){ window.PAYPAL.analytics.Analytics.prototype.recordClick({ data: {...bannerData, product:\"cookieBanner\"}}); }; function acceptDeclineFptiEvents(cookieObj){ var trackingPageName = '' || getFptiPage() || document.title; var cookiesText = cookieObj.cookiesText; var cookiePrefs = cookieObj.cookiePrefs; var eventName = cookieObj.eventName; var acEventName = cookieObj.acEventName; var bannerData = { e: 'cl', link: cookiesText, pglk: trackingPageName + '|' + cookiesText, pgln: trackingPageName + '|' + cookiesText, c_prefs: cookiePrefs, opsel: cookiePrefs + ',US', csource: 'cookie', event_name: eventName }; for(var key in bannerFptiData){ bannerData[key] = bannerFptiData[key]; }; fptiRecordClick(bannerData); var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); var updatedFptiData = { cookiebannerhidden: 'true', c_prefs: cookiePrefs, event_name: acEventName }; for(var key in bannerFptiData){ updatedFptiData[key] = bannerFptiData[key]; }; for(var key in updatedFptiData){ winFptiData[key] = updatedFptiData[key]; }; fptiLogActivity(winFptiData); }; function cookieObjSetup (type) { const cookieObjValue = { \"accept\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'acceptCookieBanner', cookiesText : 'acceptcookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_banner', eventName : 'cookie_banner_accept_clicked', acEventName : 'cookie_banner_accepted' }, \"decline\" : { endPointSuffix : '\u0026type=explicit_banner\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=false\u0026performance=false\u0026functional=false', eventSource : 'declineCookieBanner', cookiesText : 'declinecookies', cookiePrefs : 'T=0,P=0,F=0,type=explicit_banner', eventName : 'cookie_banner_decline_clicked', acEventName : 'cookie_banner_declined' }, \"close\" : { endPointSuffix : '\u0026type=explicit_close\u0026country=US\u0026policy=ccpa\u0026version=v14', endPointPrefix : 'https://www.paypal.com/myaccount/privacy/cookiePrefs/accept?marketing=true\u0026performance=true\u0026functional=true', eventSource : 'closeCookieBanner', cookiesText : 'closecookies', cookiePrefs : 'T=1,P=1,F=1,type=explicit_close', eventName : 'cookie_banner_close_clicked', acEventName : 'cookie_banner_closed' } }; return cookieObjValue[type]; } function bindGdprEvents () { var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var manageCookiesLink = document.getElementById('manageCookiesLink'); var cookieStatement = document.getElementById('cookieStatement'); var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); var trackingPageName = '' || getFptiPage() || document.title; if (manageCookiesLink) { manageCookiesLink.onclick = function() { var manageCookiesData = { e: 'cl', link: 'managecookies', pglk: trackingPageName + '|managecookies', pgln: trackingPageName + '|managecookies', event_name: 'cookie_banner_manage_cookies_clicked' }; for(var key in bannerFptiData){ manageCookiesData[key] = bannerFptiData[key]; }; fptiRecordClick(manageCookiesData); }; } if (cookieStatement) { cookieStatement.onclick = function() { var cookieStatementData = { e: 'cl', link: 'cookieStmtLink', pglk: trackingPageName + '|cookieStmtLink', pgln: trackingPageName + '|cookieStmtLink', event_name: 'cookie_banner_cookie_statement_clicked' }; for(var key in bannerFptiData){ cookieStatementData[key] = bannerFptiData[key]; }; fptiRecordClick(cookieStatementData); }; } if(bannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage){ bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); var closebannerFptiData = { e: 'cl', link: 'closeBanner', pglk: trackingPageName + '|closeBanner', pgln: trackingPageName + '|closeBanner', event_name: 'cookie_banner_close_clicked' }; for(var key in bannerFptiData){ closebannerFptiData[key] = bannerFptiData[key]; }; fptiRecordClick(closebannerFptiData); }; } if (acceptAllButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('accept')); }; } if (bannerDeclineButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('decline')); }; } if (usBannerCloseButton \u0026\u0026 cookieBanner \u0026\u0026 cookieLanguage) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(true , cookieObjSetup('close')); }; } window.hideGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi \u0026\u0026 cookieBannerUi.className.indexOf('ccpaHideCookieBannerMobile') === -1) { cookieBannerUi.className += \" ccpaHideCookieBannerMobile\"; } }; window.showGdprBanner = function () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); if (cookieBannerUi) { cookieBannerUi.className = cookieBannerUi.className.replace(\"ccpaHideCookieBannerMobile\",\"\"); } }; document.body.addEventListener(\"focus\", function (event) { if (event.target.type === 'text' || event.target.type === 'number' || event.target.type === 'password' || event.target.type === 'email' || event.target.type === 'select-one') { window.hideGdprBanner(); } }, true); } function adjustPaddingTop(){ var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var cookieBanner = document.getElementById('ccpaCookieBanner'); var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 bannerHeight){ cookieBannerAcceptAll[0].style.paddingTop = bannerHeight/16 +'em'; } } }; var isPaddingBottomAdded = false, bannerPaddingBottom = \"\"; function adjustPaddingBottom(addListener){ if (undefined || !false) { return; } function adjustPaddingBottomEvent() { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll.length \u003e 0){ var bodyPaddingBottom = cookieBannerAcceptAll[0].style.paddingBottom; var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0] \u0026\u0026 cookieBanner.style.display != 'none') { if (bodyPaddingBottom === \"\" || (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom === bodyPaddingBottom)) { var cookieBannerContainer = document.getElementsByClassName('ccpaCookieBanner_container'); var bannerBottomHeight = cookieBannerContainer.length \u003e 0 ? parseInt(window.getComputedStyle(cookieBannerContainer[0]).bottom.replace(\"px\", \"\")) : 0; var bannerHeight = cookieBanner ? cookieBanner.clientHeight : 0; bannerPaddingBottom = ((bannerHeight + bannerBottomHeight) / 16) + 'em'; cookieBannerAcceptAll[0].style.paddingBottom = bannerPaddingBottom; isPaddingBottomAdded = true; } else if (isPaddingBottomAdded \u0026\u0026 bannerPaddingBottom !== bodyPaddingBottom) { isPaddingBottomAdded = false; } } } } if (addListener) { adjustPaddingBottomEvent(); window.addEventListener('resize', adjustPaddingBottomEvent);  } else { var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ window.removeEventListener('resize', adjustPaddingBottomEvent); adjustPaddingBottomEvent(); if (isPaddingBottomAdded \u0026\u0026 cookieBannerAcceptAll[0].style.paddingBottom === bannerPaddingBottom) { cookieBannerAcceptAll[0].style.removeProperty('padding-bottom'); } } } }; window.bindGdprEvents = bindGdprEvents; function cookieDisabled() { if (navigator.cookieEnabled === false) return \"true\"; else if (navigator.cookieEnabled === true) return \"false\"; else return \"undefined\"; }; function fptiLogActivity(winFptiData){ window.PAYPAL.analytics.Analytics.prototype.logActivity({...winFptiData, product:\"cookieBanner\"}); }; function gdprSetup () { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); var manageLink = document.getElementById('manageCookiesLink'); var acceptAllLink = document.getElementById('acceptAllButton'); var trackingPageName = '' || getFptiPage() || document.title; if(!isBannerClosed()){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\";    } } var pageName = trackingPageName || getFptiPage() || document.title; var winFptiData = JSON.parse(JSON.stringify((window \u0026\u0026 window.fpti) || {})); if(false){ bannerFptiData.isNativeBannerHidden = true; } for(var key in bannerFptiData){ winFptiData[key] = bannerFptiData[key]; }; winFptiData['event_name'] = 'cookie_banner_shown'; fptiLogActivity(winFptiData); if (manageLink) { manageLink.setAttribute('pagename', (pageName + '|managecookies')); } if (acceptAllLink) { acceptAllLink.setAttribute('pagename', (pageName + '|acceptcookies')); } bindGdprEvents(); }; function hideBanner() { var cookieLanguage = document.getElementById('ccpaCookieContent_wrapper'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if(cookieLanguage \u0026\u0026 cookieBanner){ cookieLanguage.style.display = 'none'; cookieBanner.style.display = 'none'; }else { return false; } window.removeEventListener('resize', adjustPaddingTop); var cookieBannerAcceptAll = document.getElementsByClassName(\"ccpaCookieBanner-acceptedAll\"); if(cookieBannerAcceptAll \u0026\u0026 cookieBannerAcceptAll[0]){ cookieBannerAcceptAll[0].style.removeProperty('padding-top'); } document.body.className = document.body.className.replace(\"ccpaCookieBanner-acceptedAll\",\"\"); document.body.className = document.body.className.replace(\"top-cookie-banner-enabled\",\"\"); return true; } function isPageReady () { var cookieBannerUi = document.getElementById('ccpaCookieBanner'); return !!(cookieBannerUi \u0026\u0026 getFptiReqData()); } function enableFocusEvent(addListener){ if(!false || undefined){ return; } var cookieBanner = document.getElementById('ccpaCookieBanner'); function focusIn(e) { if(cookieBanner \u0026\u0026 cookieBanner.style.display != 'none'){ var activeElement = document.activeElement; if(((activeElement.getBoundingClientRect().bottom) \u003e (cookieBanner.getBoundingClientRect().top)) \u0026\u0026 !activeElement.parentElement.nodeName.includes(\"UL\")){ activeElement.scrollIntoView({block: 'center'}); } }else{ document.removeEventListener(\"focusin\", focusIn); } } if(addListener){ document.addEventListener(\"focusin\",focusIn); } } function enableEvents(enable){ adjustPaddingBottom(enable); enableFocusEvent(enable); } var maxRetries = 34, bannerhidden=false; function triggerBanner() { if (isPageReady()) { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(false){ setSessionStorage('isInvisibleBanner'); } gdprSetup(); } else { if (isBannerClosed() \u0026\u0026 !bannerhidden ) { bannerhidden=hideBanner(); } if (maxRetries-- \u003e 0) { setTimeout(triggerBanner, 150); } else { cookieFiltering('pageLoad'); if(true){setTimeout(function(){ cookieFiltering('afterPageLoad')}, 3000);} if (isBannerClosed()) { hideBanner(); } if(!isBannerClosed() \u0026\u0026 document.getElementById('ccpaCookieBanner') \u0026\u0026 !document.body.className.includes(\"ccpaCookieBanner-acceptedAll\")){ document.body.className = document.body.className += \" ccpaCookieBanner-acceptedAll\"; if(undefined){ adjustPaddingTop(); window.addEventListener('resize', adjustPaddingTop);   document.body.className = document.body.className += \" top-cookie-banner-enabled\"; } } var acceptAllButton = document.getElementById('acceptAllButton'); var bannerDeclineButton = document.getElementById('bannerDeclineButton'); var bannerCloseButton = document.getElementById('bannerCloseButton'); var usBannerCloseButton = document.getElementById('usBannerCloseButton'); var cookieBanner = document.getElementById('ccpaCookieBanner'); if ( acceptAllButton ) { acceptAllButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('accept')); }; } if ( bannerDeclineButton ) { bannerDeclineButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('decline')); }; } if ( usBannerCloseButton ) { usBannerCloseButton.onclick = function() { hideBanner(); if (false) { setSessionStorage('isUserAccepted'); } postAjax(false,cookieObjSetup('close')); }; } if ( bannerCloseButton ) { bannerCloseButton.onclick = function() { hideBanner(); setSessionStorage('isBannerClosed'); } } if(false){ setSessionStorage('isInvisibleBanner'); } } } } triggerBanner(); })();\u003c/script\u003e","cookies":{"cookie_prefs":{"value":"T=0,P=0,F=0,type=initial","options":{"maxAge":31536000000,"SameSite":"None","Secure":true,"domain":".paypal.com"}}}},"fptiTracking":{"name":"pta","jsURL":"https://www.paypalobjects.com","serverURL":"https://t.paypal.com/ts","dataString":"pgrp=btdocs%3Agraphql_guides_transactions_\u0026page=btdocsnodeweb%2F.dust\u0026pgst=1767195275430\u0026calc=64774888f1bb9\u0026nsid=xCy4xGa9vrGFjvvXArxdQVsEqBKiB5Sb\u0026rsta=en_US\u0026pgtf=Nodejs\u0026env=live\u0026s=ci\u0026ccpg=US\u0026csci=85a757783c794f25bae2e954b2f61455\u0026comp=btdocsnodeweb\u0026tsrce=btdocsnodeweb\u0026cu=0"},"experiments":{"feedback":true,"onboarding":true,"signupramp":false,"uiramp":true,"webllsOn":false,"runInPostmanFeatureSwitch":true,"integrationBuilder":true,"migration":true,"askAIOptionsExp":true,"enableInternalUIFeatures":false},"env":"prod","nodeEnv":{"_env":"LIVE","isDev":false,"isNotDev":true,"isTest":false,"isNotTest":true,"isStage":false,"isQA":false,"isNotStage":true,"isNotQA":true,"isSandbox":false,"isNotSandbox":true,"isProd":true,"isLive":true,"isNotProd":false,"isNotLive":false}},"routes/braintree/graphql/$":{"id":"XSYVJtzclJ3flqcrZ6nxGc","document_id":"BTGQL19","entry_template_id":"BraintreeGraphqlDoc","entry_template_name":"Braintree Graphql Doc","resource_type":"ENTRY","create_time":"2025-01-16T11:26:19.684Z","update_time":"2025-04-30T05:10:59.042Z","language":["en-US"],"revision":30,"published_counter":2,"published_version":29,"content":{"internalTitle":"Transactions /graphql/guides/transactions/","slug":"/graphql/guides/transactions/","title":"Transactions","content":{"node":"root","child":[{"node":"element","tag":"h1","child":[{"node":"text","text":"Transactions"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Creating Transactions"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"The GraphQL API currently supports two primary ways of creating transactions:"}]},{"node":"text","text":"\n"},{"node":"element","tag":"ol","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        The\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--chargePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"chargePaymentMethod"}]}]},{"node":"text","text":"\n        mutation creates a transaction and captures funds immediately, beginning the\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/articles/get-started/transaction-lifecycle"},"child":[{"node":"text","text":"process"}]},{"node":"text","text":" of actually\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/articles/get-started/get-paid"},"child":[{"node":"text","text":"transferring money from the customer to your bank account"}]},{"node":"text","text":".\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n        "},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                The\n                "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n                and\n                "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--captureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"captureTransaction"}]}]},{"node":"text","text":"\n                mutations create a transaction and capture funds separately.\n            "}]},{"node":"text","text":"\n            "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n                The\n                "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n                and\n                "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--partialCaptureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"partialCaptureTransaction"}]}]},{"node":"text","text":"\n                mutations create a transaction and capture the funds in multiple partial amounts. This is\n                available for both PayPal and Venmo transactions.\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Which you choose depends on your requirements. In most cases, you’ll want to submit a transaction\n    for settlement at the same time that you authorize the payment by using\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--chargePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"chargePaymentMethod"}]}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    However, there are some cases where you would want to create a transaction but not yet capture\n    funds—for example, if you ship physical goods. In this case, you could use\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n    at the time of the sale, which puts the money on hold against your customer's payment method, and\n    then use\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--captureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"captureTransaction"}]}]},{"node":"text","text":"\n    once the item has shipped.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    For PayPal transactions, if you send physical goods to customers in multiple shipments, you can\n    use\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n    at the time of sale to create a parent authorization for the entire amount. As each shipment\n    ships, you can capture that partial amount in a child transaction using\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--partialCaptureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"partialCaptureTransaction"}]}]},{"node":"text","text":"\n    against the original authorization.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Charging a Payment Method"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    In order to charge a payment method with\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--chargePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"chargePaymentMethod"}]}]},{"node":"text","text":", you'll need a payment method's ID, and information about the transaction you'd like to create\n    using it.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If you charge a single-use payment method, this will consume it and you will no longer be able to\n    look up, charge, or vault that payment method.\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ExampleCharge($input: ChargePaymentMethodInput!) {\n  chargePaymentMethod(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"A7K3J9MZQ2","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"transaction\": {\n      \"amount\": \"11.23\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    To plug this mutation into a curl request, compose the query and variables into a JSON-valid\n    string and send it in the request body. For example:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"CURL"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"T5R9LP6OQZ","class":"language-graphql"},"child":[{"node":"text","text":"curl -X POST https://payments.sandbox.braintree-api.com/graphql \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Basic BASE64_ENCODED(PUBLIC_KEY:PRIVATE_KEY)' \\\n  -H 'Braintree-Version: 2019-01-01' \\\n  -d '{\n    \"query\": \"mutation ExampleCharge($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }\",\n    \"variables\": {\n      \"input\": {\n        \"paymentMethodId\": \"id_of_payment_method\",\n        \"transaction\": {\n          \"amount\": \"11.23\"\n        }\n      }\n    }\n  }'"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    There are many more possible fields you can use in the input or request in the output; see the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/explorer"},"child":[{"node":"text","text":"API Explorer"}]},{"node":"text","text":" for more.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    A successful charge results in a transaction with the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#submitted-for-settlement"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"SUBMITTED_FOR_SETTLEMENT"}]}]},{"node":"text","text":"\n    status:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"WU49CE5M1T","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_transaction\",\n      \"status\": \"SUBMITTED_FOR_SETTLEMENT\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Using Separate Authorization and Capture"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If you require a\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/articles/get-started/transaction-lifecycle#authorized"},"child":[{"node":"text","text":"separate authorization step"}]},{"node":"text","text":"\n    before charging the payment method\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/articles/get-started/transaction-lifecycle#submitted-for-settlement"},"child":[{"node":"text","text":"to actually capture funds"}]},{"node":"text","text":", the GraphQL API provides the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n    and\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--captureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"captureTransaction"}]}]},{"node":"text","text":"\n    mutations.\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ExampleAuth($input: AuthorizePaymentMethodInput!) {\n  authorizePaymentMethod(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"F6PVDAY78L","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"transaction\": {\n      \"amount\": \"11.23\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    A successful authorization results in a transaction with the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#authorized"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"AUTHORIZED"}]}]},{"node":"text","text":"\n    status:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"M3CQ0ATZWL","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_authorized_transaction\",\n      \"status\": \"AUTHORIZED\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Once you have authorized your payment method and are ready to capture funds, you should use the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--captureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"captureTransaction"}]}]},{"node":"text","text":"\n    mutation. This mutation only requires the ID of the transaction that you'd like to capture.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    You have a\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#authorization-expired"},"child":[{"node":"text","text":"limited number of days to capture a transaction once it has been authorized"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ExampleCapture($input: CaptureTransactionInput!) {\n  captureTransaction(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"X2QJMV5ALU","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"transactionId\": \"id_of_authorized_transaction\"\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    A successful charge results in a transaction with the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#submitted-for-settlement"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"SUBMITTED_FOR_SETTLEMENT"}]}]},{"node":"text","text":"\n    status:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"9ZJK1MR3OQ","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_authorized_transaction\",\n      \"status\": \"SUBMITTED_FOR_SETTLEMENT\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Using Multiple Partial Capture"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"This mutation is available for PayPal transactions."}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"To capture a transaction in multiple parts:"}]},{"node":"text","text":"\n"},{"node":"element","tag":"ol","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        Authorize the entire order amount with either of the\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n        or\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePayPalAccount"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePayPalAccount"}]}]},{"node":"text","text":"\n        mutations.\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n        Make a separate call to the\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--partialCaptureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"partialCaptureTransaction"}]}]},{"node":"text","text":"\n        mutation for each amount you want to capture separately. In each call, specify the ID of the\n        parent authorized transaction and the amount you wish to capture.\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Once you have authorized the payment method as outlined in\n    "},{"node":"element","tag":"a","attr":{"href":"#using-separate-authorization-and-capture"},"child":[{"node":"text","text":"Using Separate Authorization and Capture"}]},{"node":"text","text":",\n    you can partially capture funds with the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--partialCaptureTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"partialCaptureTransaction"}]}]},{"node":"text","text":"\n    mutation. This mutation requires the "},{"node":"element","tag":"code","child":[{"node":"text","text":"amount"}]},{"node":"text","text":" you want to collect as well as the ID of\n    the authorized transaction.\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ExamplePartialCapture($input: PartialCaptureTransactionInput!) {\n  partialCaptureTransaction(input: $input) {\n    capture {\n      id\n      status\n    }\n  }\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"8RZLMKV57Y","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"transactionId\": \"id_of_authorized_transaction\",\n    \"transaction\": {\n      \"amount\": \"5.45\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    The mutation is successful if the resulting partial capture transaction is in the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#settling"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"SETTLING"}]}]},{"node":"text","text":",\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#submitted-for-settlement"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"SUBMITTED_FOR_SETTLEMENT"}]}]},{"node":"text","text":", or "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#settled"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"SETTLED"}]}]},{"node":"text","text":" state.\n    The parent transaction will have a status of\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#settlement-pending"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"SETTLEMENT_PENDING"}]}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"JD5XRMV0Q3","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"capture\": {\n      \"id\": \"id_of_child_transaction\",\n      \"status\": \"SETTLING\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    For more information about the lifecycle of partial capture transactions, see our full guide on\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/request/transaction/submit-for-partial-settlement/ruby"},"child":[{"node":"text","text":"multiple partial capture"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    After charging a payment method, you may want to store the ID of the resulting transaction in your\n    database for future reference, either for presenting back in the UI at a later time, or for your\n    own internal book-keeping, analysis, or reporting requirements. You can retrieve this transaction\n    by its ID using the "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/guides/node_query"},"child":[{"node":"text","text":"node query"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Transaction Statuses"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Even if the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--chargePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"chargePaymentMethod"}]}]},{"node":"text","text":"\n    or\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--authorizePaymentMethod"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"authorizePaymentMethod"}]}]},{"node":"text","text":"\n    mutation doesn't return any errors, the transaction may not have been created successfully. For\n    instance, the customer's card-issuing bank may have declined the authorization, or your fraud\n    protection settings may have blocked it. In this case, the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Object--Transaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"Transaction"}]}]},{"node":"text","text":" will have\n    a failure status, such as "},{"node":"element","tag":"em","child":[{"node":"text","text":"Processor Declined"}]},{"node":"text","text":" or "},{"node":"element","tag":"em","child":[{"node":"text","text":"Gateway Rejected"}]},{"node":"text","text":", and further\n    information on what caused the failure. You can then use this to decide how to handle the failure\n    and how to report it back to your customer.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    A successful transaction will be updated over time as funds are debited from the customer and sent\n    to you. As money moves, the transaction passes through multiple states in the payment lifecycle,\n    most typically from "},{"node":"element","tag":"em","child":[{"node":"text","text":"Authorized"}]},{"node":"text","text":" to "},{"node":"element","tag":"em","child":[{"node":"text","text":"Submitted for Settlement"}]},{"node":"text","text":", to\n    "},{"node":"element","tag":"em","child":[{"node":"text","text":"Settling"}]},{"node":"text","text":", to "},{"node":"element","tag":"em","child":[{"node":"text","text":"Settled"}]},{"node":"text","text":". For detailed information on what these statuses mean, see\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/articles/get-started/transaction-lifecycle"},"child":[{"node":"text","text":"the Transaction Lifecycle"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Using the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/docs/reference/general/statuses#transaction"},"child":[{"node":"text","text":"complete list of transaction statuses and their meanings"}]},{"node":"text","text":", you can check the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Enum--PaymentStatus"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"status"}]}]},{"node":"text","text":" of a\n    transaction to determine if it was successful or unsuccessful and why, and if successful, what\n    will happen to the transaction next.\n    "},{"node":"element","tag":"a","attr":{"href":"https://paypalobjects.com/btdevdoc/braintree/img/developers/flow_processing-workflow.png"},"child":[{"node":"text","text":"This simplified status diagram"}]},{"node":"text","text":"\n    shows what happens to a transaction if it succeeds or fails various validations.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Error Handling"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Unsuccessful transactions are a normal part of transaction processing and should not be considered\n    exceptional. If an error occurs, you will either not receive a transaction object on the payload,\n    or you will receive only a partial object.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"Here's an example of an error on a transaction."}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"JSON"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"A9LD43QZPV","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"chargePaymentMethod\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \"Amount must be greater than zero.\",\n      \"path\": [\n        \"chargePaymentMethod\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"81531\",\n        \"inputPath\": [\n          \"input\",\n          \"transaction\",\n          \"amount\"\n        ]\n      }\n    }\n  ],\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    See more details on handling errors in\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/guides/making_api_calls#errors"},"child":[{"node":"text","text":"Making API Calls"}]},{"node":"text","text":".\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h2","child":[{"node":"text","text":"Reversing or Refunding a Transaction"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Once you've charged a payment method, you might want to cancel the transaction or refund the\n    customer their money later. We will provide instructions here for the various ways you can \"undo\"\n    a charge.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    To attempt to completely reverse a transaction, regardless of its present settlement status, you\n    may use the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--reverseTransaction"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"reverseTransaction"}]}]},{"node":"text","text":"\n    mutation. When using this mutation, we will either void the transaction or issue a refund for the\n    full amount of the transaction.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"strong","child":[{"node":"text","text":"Voiding"}]},{"node":"text","text":" the transaction cancels it, preventing funds from being debited from the\n    customer's account. A "},{"node":"element","tag":"strong","child":[{"node":"text","text":"refund"}]},{"node":"text","text":" occurs when you have received or are in the process\n    of receiving funds from a transaction already, and you would like to debit the full or partial\n    amount of money from your own account to send back to the customer.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Reversing a Transaction"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    To reverse a transaction, you only need the ID of the "},{"node":"element","tag":"code","child":[{"node":"text","text":"Transaction"}]},{"node":"text","text":". Depending on the\n    settlement status at the time of the attempted reversal, the result of the\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"reverseTransaction"}]},{"node":"text","text":" mutation will either be a "},{"node":"element","tag":"code","child":[{"node":"text","text":"Transaction"}]},{"node":"text","text":" updated to the\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"VOIDED status"}]},{"node":"text","text":", or a new "},{"node":"element","tag":"code","child":[{"node":"text","text":"Refund"}]},{"node":"text","text":" linked to the original transaction. If\n    you are interested in only partially refunding a transaction or wish to provide an\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"orderId"}]},{"node":"text","text":", use the "},{"node":"element","tag":"code","child":[{"node":"text","text":"refundTransaction"}]},{"node":"text","text":" mutation directly instead.\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ExampleReverse($input: ReverseTransactionInput!) {\n  reverseTransaction(input: $input) {\n    reversal {\n      ... on Transaction {\n        id\n        status\n        statusHistory {\n          status\n          terminal\n        }\n      }\n      ... on Refund {\n        id\n        amount {\n          value\n        }\n        orderId\n        status\n        refundedTransaction {\n          id\n          amount {\n            value\n          }\n          orderId\n          status\n        }\n      }\n    }\n  }\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"Q9TPZKX5V1","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"transactionId\": \"TRANSACTION_ID\"\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"KXWTVP1J94","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"reverseTransaction\": {\n      \"reversal\": {\n        \"id\": \"TRANSACTION_ID\",\n        \"status\": \"VOIDED\",\n        \"statusHistory\": [\n          {\n            \"status\": \"VOIDED\",\n            \"terminal\": \"true\"\n          },\n          {\n            \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n            \"terminal\": \"false\"\n          },\n          {\n            \"status\": \"AUTHORIZED\",\n            \"terminal\": \"false\"\n          }\n        ]\n      }\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"or"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"D79QFMYCZ1","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"reverseTransaction\": {\n      \"reversal\": {\n        \"id\": \"REFUND_ID\",\n        \"amount\": {\n          \"value\": \"10.00\"\n        },\n        \"orderId\": \"original-charge-order-id-123\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"refundedTransaction\": {\n          \"id\": \"TRANSACTION_ID\",\n          \"amount\": {\n            \"value\": \"10.00\"\n          },\n          \"orderId\": \"original-charge-order-id-123\",\n          \"status\": \"SETTLED\"\n        }\n      }\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Refunding a Transaction"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If you already know the transaction has been "},{"node":"element","tag":"code","child":[{"node":"text","text":"SETTLED,"}]},{"node":"text","text":" or you want to partially refund\n    it, or you need to provide a refund order ID, you can use the\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"refundTransaction"}]},{"node":"text","text":" mutation.\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    You'll need the ID for the "},{"node":"element","tag":"code","child":[{"node":"text","text":"Transaction"}]},{"node":"text","text":" that needs to be refunded. It must meet the\n    following criteria to be refundable:\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"in either the "},{"node":"element","tag":"code","child":[{"node":"text","text":"SETTLING"}]},{"node":"text","text":" or "},{"node":"element","tag":"code","child":[{"node":"text","text":"SETTLED"}]},{"node":"text","text":" status"}]},{"node":"text","text":"\n    "},{"node":"element","tag":"li","child":[{"node":"text","text":"has not already been fully refunded"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    By default, "},{"node":"element","tag":"code","child":[{"node":"text","text":"refundTransaction"}]},{"node":"text","text":" will fully refund a transaction. You can pass in an\n    "},{"node":"element","tag":"code","child":[{"node":"text","text":"amount"}]},{"node":"text","text":" less than the original amount in order to partially refund it. You can also\n    optionally specify an "},{"node":"element","tag":"code","child":[{"node":"text","text":"orderId"}]},{"node":"text","text":" to give the refund its own unique order ID, instead of\n    the default behavior, which is inheriting the order ID from the original transaction.\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ExampleRefund($input: RefundTransactionInput!) {\n  refundTransaction(input: $input) {\n    refund {\n      id\n      amount {\n        value\n      }\n      orderId\n      status\n      refundedTransaction {\n        id\n        amount {\n          value\n        }\n        orderId\n        status\n      }\n    }\n  }\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"GYTQP98WDL","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"transactionId\": \"SETTLED_TRANSACTION_ID\",\n    \"refund\": {\n      \"amount\": \"7.00\",\n      \"orderId\": \"refund-order-id-456\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"A successful refund results in a new "},{"node":"element","tag":"code","child":[{"node":"text","text":"Refund"}]},{"node":"text","text":" object:"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"B8F5ZMK4WY","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"refundTransction\": {\n      \"refund\": {\n        \"id\": \"REFUND_ID\",\n        \"amount\": {\n          \"value\": \"7.00\"\n        },\n        \"orderId\": \"refund-order-id-456\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"refundedTransaction\": {\n          \"id\": \"TRANSACTION_ID\",\n          \"amount\": {\n            \"value\": \"10.00\"\n          },\n          \"orderId\": \"original-charge-order-id-123\",\n          \"status\": \"SETTLED\"\n        }\n      }\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    Or, a refund can fail because the original transaction wasn't ready to refund or had already been\n    refunded. For example:\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"JSON"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"UPXJDY38M1","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": null,\n  \"errors\": [\n    {\n      \"message\": \"Transaction has already been completely refunded.\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"refundTransaction\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"91512\",\n        \"inputPath\": [\n          \"input\",\n          \"transactionId\"\n        ]\n      }\n    }\n  ]\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"h3","child":[{"node":"text","text":"Detached Refunds"}]},{"node":"text","text":"\n"},{"node":"element","tag":"p","child":[{"node":"text","text":"\n    If you need to create a\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/articles/control-panel/transactions/refunds-voids-credits#detached-credits"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"detached refund"}]}]},{"node":"text","text":"\n    (unassociated with any previous Braintree payment), you can do so using the\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--refundCreditCard"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"refundCreditCard"}]}]},{"node":"text","text":"\n    and\n    "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--refundUsBankAccount"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"refundUsBankAccount"}]}]},{"node":"text","text":"\n    mutations:\n"}]},{"node":"text","text":"\n\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ($input: RefundCreditCardInput!) {\n  refundCreditCard(input: $input) {\n    clientMutationId\n    refund {\n      id\n      status\n      amount {\n        value\n      }\n      orderId\n      merchantAccountId\n      source\n      refundedTransaction {\n        id\n      }\n      paymentMethod {\n        id\n      }\n    }\n  }\n}\n"}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblock","attr":{"reference":"LCMKTZ5YXA","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"refund\": {\n      \"amount\": \"10.00\"\n    }\n  }\n}"}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]},{"node":"text","text":"\n"},{"node":"element","tag":"div","child":[{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"3ZKLDV9YQA","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"refundCreditCardInput\": {\n      \"clientMutationId\": \"id_of_client_mutation\",\n      \"refund\": {\n        \"id\": \"id_of_refund\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"amount\": {\n          \"value\": \"10.00\"\n        },\n        \"orderId\": \"id_of_order\",\n        \"merchantAccountId\": \"id_of_merchant_account\",\n        \"source\": \"API\",\n        \"refundedTransaction\": {\n          \"id\": \"id_of_refunded_transaction\"\n        },\n        \"paymentMethod\": {\n          \"id\": \"id_of_payment_method\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"h3","child":[{"node":"text","text":"Reversing Refunds"}]},{"node":"text","text":"\n    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n        If you want to reverse a previously issued refund, you can use the\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Mutation--reverseRefund"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"reverseRefund"}]}]},{"node":"text","text":"\n        mutation:\n    "}]},{"node":"text","text":"\n\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"mutationcodeblock","child":[{"node":"text","text":"mutation ReverseRefund($input: ReverseRefundInput!) {\n  reverseRefund(input: $input) {\n    refund {\n      id\n      createdAt\n      amount {\n        value\n        currencyCode\n      }\n      status\n      source\n      refundedTransaction {\n        id\n      }\n    }\n  }\n}\n"}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"HR5VYTZMAQ","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"refundId\": \"id_of_refund\"\n  }\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"Q2KJMP9AZL","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"reverseRefund\": {\n      \"refund\": {\n        \"id\": \"id_of_refund\",\n        \"createdAt\": \"created_at_date\",\n        \"amount\": {\n          \"value\": \"10.00\",\n          \"currencyCode\": \"USD\"\n        },\n        \"status\": \"VOIDED\",\n        \"source\": \"API\",\n        \"refundedTransaction\": {\n          \"id\": \"id_of_refunded_transaction\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"h2","child":[{"node":"text","text":"Searching For Transactions"}]},{"node":"text","text":"\n    "},{"node":"element","tag":"p","child":[{"node":"text","text":"There are two ways to query for specific information on transactions:"}]},{"node":"text","text":"\n    "},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"li","child":[{"node":"element","tag":"a","attr":{"href":"#search-query"},"child":[{"node":"text","text":"Using the search query"}]}]},{"node":"text","text":"\n        "},{"node":"element","tag":"li","child":[{"node":"element","tag":"a","attr":{"href":"#node-query"},"child":[{"node":"text","text":"Fetching the transaction by its ID using a node query"}]}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"h3","child":[{"node":"text","text":"Search Query"}]},{"node":"text","text":"\n    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n        The following is an example of using the\n        "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Query--search"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"search"}]}]},{"node":"text","text":" query to find\n        transactions that fit certain criteria:\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"ul","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n            The fields available to search on are on the\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Input--TransactionSearchInput"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"TransactionSearchInput"}]}]},{"node":"text","text":"\n            object\n        "}]},{"node":"text","text":"\n        "},{"node":"element","tag":"li","child":[{"node":"text","text":"\n            The fields available on the returned transactions are on the\n            "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/reference/#Object--TransactionConnection"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"TransactionConnection"}]}]},{"node":"text","text":"object.\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"querycodeblock","child":[{"node":"text","text":"query ($input: TransactionSearchInput!) {\n  search {\n    transactions(input: $input) {\n      edges {\n        node {\n          id\n          status\n          amount {\n            value\n            currencyCode\n          }\n          merchantId\n        }\n      }\n    }\n  }\n}\n"}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Variables"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"OLPKZ19XVA","class":"language-json"},"child":[{"node":"text","text":"{\n  \"input\": {\n    \"id\": {\n      \"is\": \"id_of_transaction\"\n    },\n    \"status\": {\n      \"is\": \"status_of_transaction\"\n    },\n    \"amount\": {\n      \"value\": {\n        \"is\": \"value_of_transaction\"\n      }\n    }\n  }\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"FQTY9MWLAZ","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"search\": {\n      \"transactions\": {\n        \"edges\": [\n          {\n            \"node\": {\n              \"id\": \"id_of_transaction\",\n              \"status\": \"status_of_transaction\",\n              \"amount\": {\n                \"value\": \"value_of_transaction\",\n                \"currencyCode\": \"currency_code_of_transaction\"\n              },\n              \"merchantId\": \"id_of_merchant\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"h3","child":[{"node":"text","text":"Node Query"}]},{"node":"text","text":"\n    "},{"node":"element","tag":"p","child":[{"node":"text","text":"\n        You can also use a "},{"node":"element","tag":"a","attr":{"href":"/braintree/graphql/guides/node_query/"},"child":[{"node":"element","tag":"code","child":[{"node":"text","text":"node query"}]}]},{"node":"text","text":" to\n        perform a GET request to retrieve a transaction by its ID:\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"GraphQL"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"ZJKYPX1QOV","class":"language-graphql"},"child":[{"node":"text","text":" node(id: \"id_of_transaction\") { ... on Transaction\n    { \n      status paymentMethod \n    { \n      id details \n    {\n      __typename }\n    }\n  }\n} "}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n    "},{"node":"element","tag":"div","child":[{"node":"text","text":"\n        "},{"node":"element","tag":"codeblocktabs","child":[{"node":"text","text":"\n            "},{"node":"element","tag":"codeblocktab","attr":{"label":"Response"},"child":[{"node":"text","text":"\n                "},{"node":"element","tag":"codeblock","attr":{"reference":"KTWPZOLX93","class":"language-json"},"child":[{"node":"text","text":"{\n  \"data\": {\n    \"node\": {\n      \"status\": \"status_of_transaction\",\n      \"paymentMethod\": {\n        \"id\": \"id_of_transaction\",\n        \"details\": {\n          \"__typename\": \"type_name_of_transaction\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}"}]},{"node":"text","text":"\n            "}]},{"node":"text","text":"\n        "}]},{"node":"text","text":"\n    "}]},{"node":"text","text":"\n"}]}]},"codeblockReferences":[{"update_time":"2025-04-29T10:16:01.871Z","create_time":"2025-04-29T10:11:47.585Z","entry_template_id":"codeblock","resource_type":"Entry","id":"2GMbylEY8TCet4H1qdlWMd","document_id":"CODE28","content":{"internalTitle":"[Variables][A7K3J9MZQ2][/graphql/guides/transactions/]","referenceId":"A7K3J9MZQ2","code":"{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"transaction\": {\n      \"amount\": \"11.23\"\n    }\n  }\n}","language":"json"},"revision":3},{"update_time":"2025-04-29T10:26:01.373Z","create_time":"2025-04-29T10:20:25.613Z","entry_template_id":"codeblock","resource_type":"Entry","id":"YJNTPwtQJxQbQnj46399lt","document_id":"CODE29","content":{"internalTitle":"[curl][T5R9LP6OQZ][/graphql/guides/transactions/]","referenceId":"T5R9LP6OQZ","code":"curl -X POST https://payments.sandbox.braintree-api.com/graphql \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Basic BASE64_ENCODED(PUBLIC_KEY:PRIVATE_KEY)' \\\n  -H 'Braintree-Version: 2019-01-01' \\\n  -d '{\n    \"query\": \"mutation ExampleCharge($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }\",\n    \"variables\": {\n      \"input\": {\n        \"paymentMethodId\": \"id_of_payment_method\",\n        \"transaction\": {\n          \"amount\": \"11.23\"\n        }\n      }\n    }\n  }'","language":"bash"},"revision":2},{"update_time":"2025-04-29T10:27:50.022Z","create_time":"2025-04-29T10:26:42.803Z","entry_template_id":"codeblock","resource_type":"Entry","id":"6KjLm4pBCC9dQATMd3F1Qe","document_id":"CODE30","content":{"internalTitle":"[Response ][WU49CE5M1T][/graphql/guides/transactions/]","referenceId":"WU49CE5M1T","code":"{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_transaction\",\n      \"status\": \"SUBMITTED_FOR_SETTLEMENT\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:30:57.099Z","create_time":"2025-04-29T10:29:14.626Z","entry_template_id":"codeblock","resource_type":"Entry","id":"6B2jOKTM3r5d73NkrreasB","document_id":"CODE31","content":{"internalTitle":"[Variables][F6PVDAY78L][/graphql/guides/transactions/]","referenceId":"F6PVDAY78L","code":"{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"transaction\": {\n      \"amount\": \"11.23\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:32:27.919Z","create_time":"2025-04-29T10:31:28.747Z","entry_template_id":"codeblock","resource_type":"Entry","id":"6AgLlQqhODUbL5fqcn04uC","document_id":"CODE32","content":{"internalTitle":"[Response][M3CQ0ATZWL][/graphql/guides/transactions/]","referenceId":"M3CQ0ATZWL","code":"{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_authorized_transaction\",\n      \"status\": \"AUTHORIZED\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:34:22.257Z","create_time":"2025-04-29T10:33:20.664Z","entry_template_id":"codeblock","resource_type":"Entry","id":"b9cAxZDRnhpfSG64SGRv6B","document_id":"CODE33","content":{"internalTitle":"[Variables][X2QJMV5ALU][/graphql/guides/transactions/]","referenceId":"X2QJMV5ALU","code":"{\n  \"input\": {\n    \"transactionId\": \"id_of_authorized_transaction\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:36:13.678Z","create_time":"2025-04-29T10:34:59.687Z","entry_template_id":"codeblock","resource_type":"Entry","id":"7PncqwfgR6BexXSjz3UfLU","document_id":"CODE34","content":{"internalTitle":"[Response][9ZJK1MR3OQ][/graphql/guides/transactions/]","referenceId":"9ZJK1MR3OQ","code":"{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_authorized_transaction\",\n      \"status\": \"SUBMITTED_FOR_SETTLEMENT\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:38:09.582Z","create_time":"2025-04-29T10:36:32.969Z","entry_template_id":"codeblock","resource_type":"Entry","id":"44vguiTwLGmb0rGIbiGR9r","document_id":"CODE35","content":{"internalTitle":"[Variables][8RZLMKV57Y][/graphql/guides/transactions/]","referenceId":"8RZLMKV57Y","code":"{\n  \"input\": {\n    \"transactionId\": \"id_of_authorized_transaction\",\n    \"transaction\": {\n      \"amount\": \"5.45\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:41:40.617Z","create_time":"2025-04-29T10:40:38.763Z","entry_template_id":"codeblock","resource_type":"Entry","id":"ZkvrkK7s9WxcsiiWtjBbAH","document_id":"CODE36","content":{"internalTitle":"[Response][JD5XRMV0Q3][/graphql/guides/transactions/]","referenceId":"JD5XRMV0Q3","code":"{\n  \"data\": {\n    \"capture\": {\n      \"id\": \"id_of_child_transaction\",\n      \"status\": \"SETTLING\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:45:17.964Z","create_time":"2025-04-29T10:44:20.873Z","entry_template_id":"codeblock","resource_type":"Entry","id":"egGSCV6tJbXcngsMIp30RP","document_id":"CODE37","content":{"internalTitle":"[JSON][A9LD43QZPV][/graphql/guides/transactions/]","referenceId":"A9LD43QZPV","code":"{\n  \"data\": {\n    \"chargePaymentMethod\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \"Amount must be greater than zero.\",\n      \"path\": [\n        \"chargePaymentMethod\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"81531\",\n        \"inputPath\": [\n          \"input\",\n          \"transaction\",\n          \"amount\"\n        ]\n      }\n    }\n  ],\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T10:56:13.531Z","create_time":"2025-04-29T10:46:07.380Z","entry_template_id":"codeblock","resource_type":"Entry","id":"Y1TX1Jo5HSKe5dkPzdjPnR","document_id":"CODE38","content":{"internalTitle":"[Variables][Q9TPZKX5V1][/graphql/guides/transactions/]","referenceId":"Q9TPZKX5V1","code":"{\n  \"input\": {\n    \"transactionId\": \"TRANSACTION_ID\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:00:49.672Z","create_time":"2025-04-29T10:56:42.856Z","entry_template_id":"codeblock","resource_type":"Entry","id":"0H5JS3teA53eIIZJDkp5Ug","document_id":"CODE39","content":{"internalTitle":"[Response][KXWTVP1J94][/graphql/guides/transactions/]","referenceId":"KXWTVP1J94","code":"{\n  \"data\": {\n    \"reverseTransaction\": {\n      \"reversal\": {\n        \"id\": \"TRANSACTION_ID\",\n        \"status\": \"VOIDED\",\n        \"statusHistory\": [\n          {\n            \"status\": \"VOIDED\",\n            \"terminal\": \"true\"\n          },\n          {\n            \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n            \"terminal\": \"false\"\n          },\n          {\n            \"status\": \"AUTHORIZED\",\n            \"terminal\": \"false\"\n          }\n        ]\n      }\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:02:39.004Z","create_time":"2025-04-29T11:01:45.536Z","entry_template_id":"codeblock","resource_type":"Entry","id":"22yzmWt6E2YfaWbwRTbItc","document_id":"CODE40","content":{"internalTitle":"[Response][D79QFMYCZ1][/graphql/guides/transactions/]","referenceId":"D79QFMYCZ1","code":"{\n  \"data\": {\n    \"reverseTransaction\": {\n      \"reversal\": {\n        \"id\": \"REFUND_ID\",\n        \"amount\": {\n          \"value\": \"10.00\"\n        },\n        \"orderId\": \"original-charge-order-id-123\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"refundedTransaction\": {\n          \"id\": \"TRANSACTION_ID\",\n          \"amount\": {\n            \"value\": \"10.00\"\n          },\n          \"orderId\": \"original-charge-order-id-123\",\n          \"status\": \"SETTLED\"\n        }\n      }\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:04:47.020Z","create_time":"2025-04-29T11:03:04.375Z","entry_template_id":"codeblock","resource_type":"Entry","id":"dQRpogAogszedDLSlzud24","document_id":"CODE41","content":{"internalTitle":"[Variables][GYTQP98WDL][/graphql/guides/transactions/]","referenceId":"GYTQP98WDL","code":"{\n  \"input\": {\n    \"transactionId\": \"SETTLED_TRANSACTION_ID\",\n    \"refund\": {\n      \"amount\": \"7.00\",\n      \"orderId\": \"refund-order-id-456\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:06:34.232Z","create_time":"2025-04-29T11:05:31.985Z","entry_template_id":"codeblock","resource_type":"Entry","id":"WaFHAlF4JXQcvtKpVEwXWP","document_id":"CODE42","content":{"internalTitle":"[Response][B8F5ZMK4WY][/graphql/guides/transactions/]","referenceId":"B8F5ZMK4WY","code":"{\n  \"data\": {\n    \"refundTransction\": {\n      \"refund\": {\n        \"id\": \"REFUND_ID\",\n        \"amount\": {\n          \"value\": \"7.00\"\n        },\n        \"orderId\": \"refund-order-id-456\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"refundedTransaction\": {\n          \"id\": \"TRANSACTION_ID\",\n          \"amount\": {\n            \"value\": \"10.00\"\n          },\n          \"orderId\": \"original-charge-order-id-123\",\n          \"status\": \"SETTLED\"\n        }\n      }\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:08:11.923Z","create_time":"2025-04-29T11:07:06.493Z","entry_template_id":"codeblock","resource_type":"Entry","id":"fUyatZQRhNkc3Vd8yef0Hd","document_id":"CODE43","content":{"internalTitle":"[JSON][UPXJDY38M1][/graphql/guides/transactions/]","referenceId":"UPXJDY38M1","code":"{\n  \"data\": null,\n  \"errors\": [\n    {\n      \"message\": \"Transaction has already been completely refunded.\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"refundTransaction\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"91512\",\n        \"inputPath\": [\n          \"input\",\n          \"transactionId\"\n        ]\n      }\n    }\n  ]\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:09:51.380Z","create_time":"2025-04-29T11:09:00.715Z","entry_template_id":"codeblock","resource_type":"Entry","id":"enn1apHTfVIfFo4UvYwYev","document_id":"CODE44","content":{"internalTitle":"[Variables][LCMKTZ5YXA][/graphql/guides/transactions/]","referenceId":"LCMKTZ5YXA","code":"{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"refund\": {\n      \"amount\": \"10.00\"\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:11:56.634Z","create_time":"2025-04-29T11:10:33.266Z","entry_template_id":"codeblock","resource_type":"Entry","id":"ecJ8LUU52fgbluWys0bbcQ","document_id":"CODE45","content":{"internalTitle":"[Response][3ZKLDV9YQA][/graphql/guides/transactions/]","referenceId":"3ZKLDV9YQA","code":"{\n  \"data\": {\n    \"refundCreditCardInput\": {\n      \"clientMutationId\": \"id_of_client_mutation\",\n      \"refund\": {\n        \"id\": \"id_of_refund\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"amount\": {\n          \"value\": \"10.00\"\n        },\n        \"orderId\": \"id_of_order\",\n        \"merchantAccountId\": \"id_of_merchant_account\",\n        \"source\": \"API\",\n        \"refundedTransaction\": {\n          \"id\": \"id_of_refunded_transaction\"\n        },\n        \"paymentMethod\": {\n          \"id\": \"id_of_payment_method\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:13:31.486Z","create_time":"2025-04-29T11:12:32.060Z","entry_template_id":"codeblock","resource_type":"Entry","id":"687zEi47y9JdothyfRvCBt","document_id":"CODE46","content":{"internalTitle":"[Variables][HR5VYTZMAQ][/graphql/guides/transactions/]","referenceId":"HR5VYTZMAQ","code":"{\n  \"input\": {\n    \"refundId\": \"id_of_refund\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:15:13.929Z","create_time":"2025-04-29T11:13:59.698Z","entry_template_id":"codeblock","resource_type":"Entry","id":"0sU5EYTWWvgeb1T7yfOsjI","document_id":"CODE47","content":{"internalTitle":"[Response][Q2KJMP9AZL][/graphql/guides/transactions/]","referenceId":"Q2KJMP9AZL","code":"{\n  \"data\": {\n    \"reverseRefund\": {\n      \"refund\": {\n        \"id\": \"id_of_refund\",\n        \"createdAt\": \"created_at_date\",\n        \"amount\": {\n          \"value\": \"10.00\",\n          \"currencyCode\": \"USD\"\n        },\n        \"status\": \"VOIDED\",\n        \"source\": \"API\",\n        \"refundedTransaction\": {\n          \"id\": \"id_of_refunded_transaction\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:16:56.737Z","create_time":"2025-04-29T11:16:00.168Z","entry_template_id":"codeblock","resource_type":"Entry","id":"0naVsCWMFD6f8UF776al4M","document_id":"CODE48","content":{"internalTitle":"[Variables][OLPKZ19XVA][/graphql/guides/transactions/]","referenceId":"OLPKZ19XVA","code":"{\n  \"input\": {\n    \"id\": {\n      \"is\": \"id_of_transaction\"\n    },\n    \"status\": {\n      \"is\": \"status_of_transaction\"\n    },\n    \"amount\": {\n      \"value\": {\n        \"is\": \"value_of_transaction\"\n      }\n    }\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:18:38.862Z","create_time":"2025-04-29T11:17:29.699Z","entry_template_id":"codeblock","resource_type":"Entry","id":"65PTpNvTlKaarInmu4BLvz","document_id":"CODE49","content":{"internalTitle":"[Response][FQTY9MWLAZ][/graphql/guides/transactions/]","referenceId":"FQTY9MWLAZ","code":"{\n  \"data\": {\n    \"search\": {\n      \"transactions\": {\n        \"edges\": [\n          {\n            \"node\": {\n              \"id\": \"id_of_transaction\",\n              \"status\": \"status_of_transaction\",\n              \"amount\": {\n                \"value\": \"value_of_transaction\",\n                \"currencyCode\": \"currency_code_of_transaction\"\n              },\n              \"merchantId\": \"id_of_merchant\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}","language":"json"},"revision":2},{"update_time":"2025-04-29T11:21:17.614Z","create_time":"2025-04-29T11:19:26.897Z","entry_template_id":"codeblock","resource_type":"Entry","id":"bjsO4FNLgW1fmAHOvproyk","document_id":"CODE50","content":{"internalTitle":"[GraphQL][ZJKYPX1QOV][/graphql/guides/transactions/]","referenceId":"ZJKYPX1QOV","code":" node(id: \"id_of_transaction\") { ... on Transaction\n    { \n      status paymentMethod \n    { \n      id details \n    {\n      __typename }\n    }\n  }\n} ","language":"graphql"},"revision":2},{"update_time":"2025-04-29T11:23:01.718Z","create_time":"2025-04-29T11:22:00.693Z","entry_template_id":"codeblock","resource_type":"Entry","id":"X38Sflt1uiMf56w4UThR1X","document_id":"CODE51","content":{"internalTitle":"[Response][KTWPZOLX93][/graphql/guides/transactions/]","referenceId":"KTWPZOLX93","code":"{\n  \"data\": {\n    \"node\": {\n      \"status\": \"status_of_transaction\",\n      \"paymentMethod\": {\n        \"id\": \"id_of_transaction\",\n        \"details\": {\n          \"__typename\": \"type_name_of_transaction\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}","language":"json"},"revision":2}]},"links":[{"rel":"self","method":"GET","href":"https://api.paypal.com/v2/content/environments/c7e53cfe-a29e-4a16-9a5c-a0a91c7c957f/entries/XSYVJtzclJ3flqcrZ6nxGc"}],"ecm":{"envAllowsPreview":true},"markdown":"---\ntitle: Transactions\nslug: /graphql/guides/transactions/\ncreateTime: '2025-01-16T11:26:19.684Z'\nupdateTime: '2025-04-30T05:10:59.042Z'\n---\n\n\n\n# Transactions\n\n\n## Creating Transactions\n\nThe GraphQL API currently supports two primary ways of creating transactions:\n\n\n- The[chargePaymentMethod](/braintree/graphql/reference/#Mutation--chargePaymentMethod)mutation creates a transaction and captures funds immediately, beginning the[process](/braintree/articles/get-started/transaction-lifecycle)of actually[transferring money from the customer to your bank account](/braintree/articles/get-started/get-paid).\n- [authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod)\n- The[authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod)and[captureTransaction](/braintree/graphql/reference/#Mutation--captureTransaction)mutations create a transaction and capture funds separately.\n- The[authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod)and[partialCaptureTransaction](/braintree/graphql/reference/#Mutation--partialCaptureTransaction)mutations create a transaction and capture the funds in multiple partial amounts. This is available for both PayPal and Venmo transactions.\n\n\n\nWhich you choose depends on your requirements. In most cases, you’ll want to submit a transaction for settlement at the same time that you authorize the payment by using [chargePaymentMethod](/braintree/graphql/reference/#Mutation--chargePaymentMethod).\n\nHowever, there are some cases where you would want to create a transaction but not yet capture funds—for example, if you ship physical goods. In this case, you could use [authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod) at the time of the sale, which puts the money on hold against your customer's payment method, and then use [captureTransaction](/braintree/graphql/reference/#Mutation--captureTransaction) once the item has shipped.\n\nFor PayPal transactions, if you send physical goods to customers in multiple shipments, you can use [authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod) at the time of sale to create a parent authorization for the entire amount. As each shipment ships, you can capture that partial amount in a child transaction using [partialCaptureTransaction](/braintree/graphql/reference/#Mutation--partialCaptureTransaction) against the original authorization.\n\n\n### Charging a Payment Method\n\nIn order to charge a payment method with [chargePaymentMethod](/braintree/graphql/reference/#Mutation--chargePaymentMethod), you'll need a payment method's ID, and information about the transaction you'd like to create using it.\n\nIf you charge a single-use payment method, this will consume it and you will no longer be able to look up, charge, or vault that payment method.\n\n### Mutation\n```graphql\nmutation ExampleCharge($input: ChargePaymentMethodInput!) {\n  chargePaymentMethod(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"transaction\": {\n      \"amount\": \"11.23\"\n    }\n  }\n}\n```\nTo plug this mutation into a curl request, compose the query and variables into a JSON-valid string and send it in the request body. For example:\n\n\n### CURL\n```graphql\ncurl -X POST https://payments.sandbox.braintree-api.com/graphql \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Basic BASE64_ENCODED(PUBLIC_KEY:PRIVATE_KEY)' \\\n  -H 'Braintree-Version: 2019-01-01' \\\n  -d '{\n    \"query\": \"mutation ExampleCharge($input: ChargePaymentMethodInput!) { chargePaymentMethod(input: $input) { transaction { id status } } }\",\n    \"variables\": {\n      \"input\": {\n        \"paymentMethodId\": \"id_of_payment_method\",\n        \"transaction\": {\n          \"amount\": \"11.23\"\n        }\n      }\n    }\n  }'\n```\nThere are many more possible fields you can use in the input or request in the output; see the [API Explorer](/braintree/graphql/explorer) for more.\n\nA successful charge results in a transaction with the [SUBMITTED_FOR_SETTLEMENT](/braintree/docs/reference/general/statuses#submitted-for-settlement) status:\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_transaction\",\n      \"status\": \"SUBMITTED_FOR_SETTLEMENT\"\n    }\n  }\n}\n```\n\n### Using Separate Authorization and Capture\n\nIf you require a [separate authorization step](/braintree/articles/get-started/transaction-lifecycle#authorized) before charging the payment method [to actually capture funds](/braintree/articles/get-started/transaction-lifecycle#submitted-for-settlement), the GraphQL API provides the [authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod) and [captureTransaction](/braintree/graphql/reference/#Mutation--captureTransaction) mutations.\n\n### Mutation\n```graphql\nmutation ExampleAuth($input: AuthorizePaymentMethodInput!) {\n  authorizePaymentMethod(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"transaction\": {\n      \"amount\": \"11.23\"\n    }\n  }\n}\n```\nA successful authorization results in a transaction with the [AUTHORIZED](/braintree/docs/reference/general/statuses#authorized) status:\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_authorized_transaction\",\n      \"status\": \"AUTHORIZED\"\n    }\n  }\n}\n```\nOnce you have authorized your payment method and are ready to capture funds, you should use the [captureTransaction](/braintree/graphql/reference/#Mutation--captureTransaction) mutation. This mutation only requires the ID of the transaction that you'd like to capture.\n\nYou have a [limited number of days to capture a transaction once it has been authorized](/braintree/docs/reference/general/statuses#authorization-expired).\n\n### Mutation\n```graphql\nmutation ExampleCapture($input: CaptureTransactionInput!) {\n  captureTransaction(input: $input) {\n    transaction {\n      id\n      status\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"transactionId\": \"id_of_authorized_transaction\"\n  }\n}\n```\nA successful charge results in a transaction with the [SUBMITTED_FOR_SETTLEMENT](/braintree/docs/reference/general/statuses#submitted-for-settlement) status:\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"transaction\": {\n      \"id\": \"id_of_authorized_transaction\",\n      \"status\": \"SUBMITTED_FOR_SETTLEMENT\"\n    }\n  }\n}\n```\n\n### Using Multiple Partial Capture\n\nThis mutation is available for PayPal transactions.\n\nTo capture a transaction in multiple parts:\n\n\n- Authorize the entire order amount with either of the[authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod)or[authorizePayPalAccount](/braintree/graphql/reference/#Mutation--authorizePayPalAccount)mutations.\n- Make a separate call to the[partialCaptureTransaction](/braintree/graphql/reference/#Mutation--partialCaptureTransaction)mutation for each amount you want to capture separately. In each call, specify the ID of the parent authorized transaction and the amount you wish to capture.\n\nOnce you have authorized the payment method as outlined in [Using Separate Authorization and Capture](#using-separate-authorization-and-capture), you can partially capture funds with the [partialCaptureTransaction](/braintree/graphql/reference/#Mutation--partialCaptureTransaction) mutation. This mutation requires the amount you want to collect as well as the ID of the authorized transaction.\n\n### Mutation\n```graphql\nmutation ExamplePartialCapture($input: PartialCaptureTransactionInput!) {\n  partialCaptureTransaction(input: $input) {\n    capture {\n      id\n      status\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"transactionId\": \"id_of_authorized_transaction\",\n    \"transaction\": {\n      \"amount\": \"5.45\"\n    }\n  }\n}\n```\nThe mutation is successful if the resulting partial capture transaction is in the [SETTLING](/braintree/docs/reference/general/statuses#settling), [SUBMITTED_FOR_SETTLEMENT](/braintree/docs/reference/general/statuses#submitted-for-settlement), or [SETTLED](/braintree/docs/reference/general/statuses#settled) state. The parent transaction will have a status of [SETTLEMENT_PENDING](/braintree/docs/reference/general/statuses#settlement-pending).\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"capture\": {\n      \"id\": \"id_of_child_transaction\",\n      \"status\": \"SETTLING\"\n    }\n  }\n}\n```\nFor more information about the lifecycle of partial capture transactions, see our full guide on [multiple partial capture](/braintree/docs/reference/request/transaction/submit-for-partial-settlement/ruby).\n\nAfter charging a payment method, you may want to store the ID of the resulting transaction in your database for future reference, either for presenting back in the UI at a later time, or for your own internal book-keeping, analysis, or reporting requirements. You can retrieve this transaction by its ID using the [node query](/braintree/graphql/guides/node_query).\n\n\n### Transaction Statuses\n\nEven if the [chargePaymentMethod](/braintree/graphql/reference/#Mutation--chargePaymentMethod) or [authorizePaymentMethod](/braintree/graphql/reference/#Mutation--authorizePaymentMethod) mutation doesn't return any errors, the transaction may not have been created successfully. For instance, the customer's card-issuing bank may have declined the authorization, or your fraud protection settings may have blocked it. In this case, the [Transaction](/braintree/graphql/reference/#Object--Transaction) will have a failure status, such as Processor Declined or Gateway Rejected, and further information on what caused the failure. You can then use this to decide how to handle the failure and how to report it back to your customer.\n\nA successful transaction will be updated over time as funds are debited from the customer and sent to you. As money moves, the transaction passes through multiple states in the payment lifecycle, most typically from Authorized to Submitted for Settlement, to Settling, to Settled. For detailed information on what these statuses mean, see [the Transaction Lifecycle](/braintree/articles/get-started/transaction-lifecycle).\n\nUsing the [complete list of transaction statuses and their meanings](/braintree/docs/reference/general/statuses#transaction), you can check the [status](/braintree/graphql/reference/#Enum--PaymentStatus) of a transaction to determine if it was successful or unsuccessful and why, and if successful, what will happen to the transaction next. [This simplified status diagram](https://paypalobjects.com/btdevdoc/braintree/img/developers/flow_processing-workflow.png) shows what happens to a transaction if it succeeds or fails various validations.\n\n\n### Error Handling\n\nUnsuccessful transactions are a normal part of transaction processing and should not be considered exceptional. If an error occurs, you will either not receive a transaction object on the payload, or you will receive only a partial object.\n\nHere's an example of an error on a transaction.\n\n\n### JSON\n```json\n{\n  \"data\": {\n    \"chargePaymentMethod\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \"Amount must be greater than zero.\",\n      \"path\": [\n        \"chargePaymentMethod\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"81531\",\n        \"inputPath\": [\n          \"input\",\n          \"transaction\",\n          \"amount\"\n        ]\n      }\n    }\n  ],\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}\n```\nSee more details on handling errors in [Making API Calls](/braintree/graphql/guides/making_api_calls#errors).\n\n\n## Reversing or Refunding a Transaction\n\nOnce you've charged a payment method, you might want to cancel the transaction or refund the customer their money later. We will provide instructions here for the various ways you can \"undo\" a charge.\n\nTo attempt to completely reverse a transaction, regardless of its present settlement status, you may use the [reverseTransaction](/braintree/graphql/reference/#Mutation--reverseTransaction) mutation. When using this mutation, we will either void the transaction or issue a refund for the full amount of the transaction.\n\n**Voiding** the transaction cancels it, preventing funds from being debited from the customer's account. A **refund** occurs when you have received or are in the process of receiving funds from a transaction already, and you would like to debit the full or partial amount of money from your own account to send back to the customer.\n\n\n### Reversing a Transaction\n\nTo reverse a transaction, you only need the ID of the Transaction. Depending on the settlement status at the time of the attempted reversal, the result of the reverseTransaction mutation will either be a Transaction updated to the VOIDED status, or a new Refund linked to the original transaction. If you are interested in only partially refunding a transaction or wish to provide an orderId, use the refundTransaction mutation directly instead.\n\n### Mutation\n```graphql\nmutation ExampleReverse($input: ReverseTransactionInput!) {\n  reverseTransaction(input: $input) {\n    reversal {\n      ... on Transaction {\n        id\n        status\n        statusHistory {\n          status\n          terminal\n        }\n      }\n      ... on Refund {\n        id\n        amount {\n          value\n        }\n        orderId\n        status\n        refundedTransaction {\n          id\n          amount {\n            value\n          }\n          orderId\n          status\n        }\n      }\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"transactionId\": \"TRANSACTION_ID\"\n  }\n}\n```\n\n### Response\n```json\n{\n  \"data\": {\n    \"reverseTransaction\": {\n      \"reversal\": {\n        \"id\": \"TRANSACTION_ID\",\n        \"status\": \"VOIDED\",\n        \"statusHistory\": [\n          {\n            \"status\": \"VOIDED\",\n            \"terminal\": \"true\"\n          },\n          {\n            \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n            \"terminal\": \"false\"\n          },\n          {\n            \"status\": \"AUTHORIZED\",\n            \"terminal\": \"false\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\nor\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"reverseTransaction\": {\n      \"reversal\": {\n        \"id\": \"REFUND_ID\",\n        \"amount\": {\n          \"value\": \"10.00\"\n        },\n        \"orderId\": \"original-charge-order-id-123\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"refundedTransaction\": {\n          \"id\": \"TRANSACTION_ID\",\n          \"amount\": {\n            \"value\": \"10.00\"\n          },\n          \"orderId\": \"original-charge-order-id-123\",\n          \"status\": \"SETTLED\"\n        }\n      }\n    }\n  }\n}\n```\n\n### Refunding a Transaction\n\nIf you already know the transaction has been SETTLED, or you want to partially refund it, or you need to provide a refund order ID, you can use the refundTransaction mutation.\n\nYou'll need the ID for the Transaction that needs to be refunded. It must meet the following criteria to be refundable:\n\n\n- in either theSETTLINGorSETTLEDstatus\n- has not already been fully refunded\n\nBy default, refundTransaction will fully refund a transaction. You can pass in an amount less than the original amount in order to partially refund it. You can also optionally specify an orderId to give the refund its own unique order ID, instead of the default behavior, which is inheriting the order ID from the original transaction.\n\n### Mutation\n```graphql\nmutation ExampleRefund($input: RefundTransactionInput!) {\n  refundTransaction(input: $input) {\n    refund {\n      id\n      amount {\n        value\n      }\n      orderId\n      status\n      refundedTransaction {\n        id\n        amount {\n          value\n        }\n        orderId\n        status\n      }\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"transactionId\": \"SETTLED_TRANSACTION_ID\",\n    \"refund\": {\n      \"amount\": \"7.00\",\n      \"orderId\": \"refund-order-id-456\"\n    }\n  }\n}\n```\nA successful refund results in a new Refund object:\n\n\n### Response\n```json\n{\n  \"data\": {\n    \"refundTransction\": {\n      \"refund\": {\n        \"id\": \"REFUND_ID\",\n        \"amount\": {\n          \"value\": \"7.00\"\n        },\n        \"orderId\": \"refund-order-id-456\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"refundedTransaction\": {\n          \"id\": \"TRANSACTION_ID\",\n          \"amount\": {\n            \"value\": \"10.00\"\n          },\n          \"orderId\": \"original-charge-order-id-123\",\n          \"status\": \"SETTLED\"\n        }\n      }\n    }\n  }\n}\n```\nOr, a refund can fail because the original transaction wasn't ready to refund or had already been refunded. For example:\n\n\n### JSON\n```json\n{\n  \"data\": null,\n  \"errors\": [\n    {\n      \"message\": \"Transaction has already been completely refunded.\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"refundTransaction\"\n      ],\n      \"extensions\": {\n        \"errorType\": \"user_error\",\n        \"errorClass\": \"VALIDATION\",\n        \"legacyCode\": \"91512\",\n        \"inputPath\": [\n          \"input\",\n          \"transactionId\"\n        ]\n      }\n    }\n  ]\n}\n```\n\n### Detached Refunds\n\nIf you need to create a [detached refund](/braintree/articles/control-panel/transactions/refunds-voids-credits#detached-credits) (unassociated with any previous Braintree payment), you can do so using the [refundCreditCard](/braintree/graphql/reference/#Mutation--refundCreditCard) and [refundUsBankAccount](/braintree/graphql/reference/#Mutation--refundUsBankAccount) mutations:\n\n### Mutation\n```graphql\nmutation ($input: RefundCreditCardInput!) {\n  refundCreditCard(input: $input) {\n    clientMutationId\n    refund {\n      id\n      status\n      amount {\n        value\n      }\n      orderId\n      merchantAccountId\n      source\n      refundedTransaction {\n        id\n      }\n      paymentMethod {\n        id\n      }\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"paymentMethodId\": \"id_of_payment_method\",\n    \"refund\": {\n      \"amount\": \"10.00\"\n    }\n  }\n}\n```\n\n### Response\n```json\n{\n  \"data\": {\n    \"refundCreditCardInput\": {\n      \"clientMutationId\": \"id_of_client_mutation\",\n      \"refund\": {\n        \"id\": \"id_of_refund\",\n        \"status\": \"SUBMITTED_FOR_SETTLEMENT\",\n        \"amount\": {\n          \"value\": \"10.00\"\n        },\n        \"orderId\": \"id_of_order\",\n        \"merchantAccountId\": \"id_of_merchant_account\",\n        \"source\": \"API\",\n        \"refundedTransaction\": {\n          \"id\": \"id_of_refunded_transaction\"\n        },\n        \"paymentMethod\": {\n          \"id\": \"id_of_payment_method\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}\n```\n\n### Reversing Refunds\n\nIf you want to reverse a previously issued refund, you can use the [reverseRefund](/braintree/graphql/reference/#Mutation--reverseRefund) mutation:\n\n### Mutation\n```graphql\nmutation ReverseRefund($input: ReverseRefundInput!) {\n  reverseRefund(input: $input) {\n    refund {\n      id\n      createdAt\n      amount {\n        value\n        currencyCode\n      }\n      status\n      source\n      refundedTransaction {\n        id\n      }\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"refundId\": \"id_of_refund\"\n  }\n}\n```\n\n### Response\n```json\n{\n  \"data\": {\n    \"reverseRefund\": {\n      \"refund\": {\n        \"id\": \"id_of_refund\",\n        \"createdAt\": \"created_at_date\",\n        \"amount\": {\n          \"value\": \"10.00\",\n          \"currencyCode\": \"USD\"\n        },\n        \"status\": \"VOIDED\",\n        \"source\": \"API\",\n        \"refundedTransaction\": {\n          \"id\": \"id_of_refunded_transaction\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}\n```\n\n## Searching For Transactions\n\nThere are two ways to query for specific information on transactions:\n\n\n- [Using the search query](#search-query)\n- [Fetching the transaction by its ID using a node query](#node-query)\n\n\n### Search Query\n\nThe following is an example of using the [search](/braintree/graphql/reference/#Query--search) query to find transactions that fit certain criteria:\n\n\n- The fields available to search on are on the[TransactionSearchInput](/braintree/graphql/reference/#Input--TransactionSearchInput)object\n- The fields available on the returned transactions are on the[TransactionConnection](/braintree/graphql/reference/#Object--TransactionConnection)object.\n\n### Query\n```graphql\nquery ($input: TransactionSearchInput!) {\n  search {\n    transactions(input: $input) {\n      edges {\n        node {\n          id\n          status\n          amount {\n            value\n            currencyCode\n          }\n          merchantId\n        }\n      }\n    }\n  }\n}\n\n```\n\n\n### Variables\n```json\n{\n  \"input\": {\n    \"id\": {\n      \"is\": \"id_of_transaction\"\n    },\n    \"status\": {\n      \"is\": \"status_of_transaction\"\n    },\n    \"amount\": {\n      \"value\": {\n        \"is\": \"value_of_transaction\"\n      }\n    }\n  }\n}\n```\n\n### Response\n```json\n{\n  \"data\": {\n    \"search\": {\n      \"transactions\": {\n        \"edges\": [\n          {\n            \"node\": {\n              \"id\": \"id_of_transaction\",\n              \"status\": \"status_of_transaction\",\n              \"amount\": {\n                \"value\": \"value_of_transaction\",\n                \"currencyCode\": \"currency_code_of_transaction\"\n              },\n              \"merchantId\": \"id_of_merchant\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}\n```\n\n### Node Query\n\nYou can also use a [node query](/braintree/graphql/guides/node_query/) to perform a GET request to retrieve a transaction by its ID:\n\n\n### GraphQL\n```graphql\n node(id: \"id_of_transaction\") { ... on Transaction\n    { \n      status paymentMethod \n    { \n      id details \n    {\n      __typename }\n    }\n  }\n} \n```\n\n### Response\n```json\n{\n  \"data\": {\n    \"node\": {\n      \"status\": \"status_of_transaction\",\n      \"paymentMethod\": {\n        \"id\": \"id_of_transaction\",\n        \"details\": {\n          \"__typename\": \"type_name_of_transaction\"\n        }\n      }\n    }\n  },\n  \"extensions\": {\n    \"requestId\": \"a-uuid-for-the-request\"\n  }\n}\n```\n"},"routes/braintree/graphql":null},"actionData":null,"errors":null},"future":{"v2_dev":true,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":false,"v2_meta":true,"v2_normalizeFormMethod":false,"v2_routeConvention":false}};</script><script nonce="PoXz5p3Y/CJh1a8Kmv5SK4WEiOUlZJ+BSs+D5TjAq4Bh6l/8" type="module" async="">import "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/manifest-D829D641.js";
import * as route0 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/root-HIAAUWNH.js";
import * as route1 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql-5WTNGTXD.js";
import * as route2 from "https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/routes/graphql/$-AOXYBYSX.js";
window.__remixRouteModules = {"root":route0,"routes/braintree/graphql":route1,"routes/braintree/graphql/$":route2};

import("https://www.paypalobjects.com/btdevdoc/bundles/4.3.24/entry.client-I74HTVVJ.js");</script></body></html>