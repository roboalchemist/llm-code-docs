# Source: https://docs.meshconnect.com/api-reference/account-management/auth-token/generate-auth-token.md

# Generate Auth token

> Get a short lived token for initializing request calls for Registered client API.

## OpenAPI

````yaml https://admin-api.meshconnect.com/swagger/AdminAPI/swagger.json post /admin/api/v1/Token
paths:
  path: /admin/api/v1/Token
  method: post
  servers:
    - url: https://admin-api.meshconnect.com
  request:
    security:
      - title: Bearer
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                Authorization header using the Bearer scheme. Example:
                "Authorization: Bearer {Value}"
          cookie: {}
    parameters:
      path: {}
      query: {}
      header: {}
      cookie: {}
    body:
      application/json:
        schemaArray:
          - type: object
            properties:
              clientId:
                allOf:
                  - &ref_0
                    minLength: 1
                    type: string
                    description: Contact Mesh to get client Id.
              clientSecret:
                allOf:
                  - &ref_1
                    minLength: 1
                    type: string
                    description: >-
                      Contact Mesh to get Client Secret for Account Management
                      API.
            description: Generate Auth token.
            refIdentifier: '#/components/schemas/ClientAdminTokenRequest'
            requiredProperties: &ref_2
              - clientId
              - clientSecret
            additionalProperties: false
        examples:
          example:
            value:
              clientId: <api-key>
              clientSecret: <api-key>
      text/json:
        schemaArray:
          - type: object
            properties:
              clientId:
                allOf:
                  - *ref_0
              clientSecret:
                allOf:
                  - *ref_1
            description: Generate Auth token.
            refIdentifier: '#/components/schemas/ClientAdminTokenRequest'
            requiredProperties: *ref_2
            additionalProperties: false
        examples:
          example:
            value:
              clientId: <api-key>
              clientSecret: <api-key>
      application/*+json:
        schemaArray:
          - type: object
            properties:
              clientId:
                allOf:
                  - *ref_0
              clientSecret:
                allOf:
                  - *ref_1
            description: Generate Auth token.
            refIdentifier: '#/components/schemas/ClientAdminTokenRequest'
            requiredProperties: *ref_2
            additionalProperties: false
        examples:
          example:
            value:
              clientId: <api-key>
              clientSecret: <api-key>
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              status:
                allOf:
                  - $ref: '#/components/schemas/ApiResultStatus'
              message:
                allOf:
                  - type: string
                    description: A message generated by the API
                    nullable: true
              displayMessage:
                allOf:
                  - type: string
                    description: >-
                      User-friendly display message that can be presented to the
                      end user
                    nullable: true
              errorHash:
                allOf:
                  - type: string
                    description: >-
                      An error grouping hash from string components and caller
                      information. Used by bugsnag on FE for correct error
                      grouping
                    nullable: true
                    readOnly: true
              errorType:
                allOf:
                  - type: string
                    description: "Strictly-typed error type that is explaining the reason of an unsuccessful status of the operation.\r\nAll possible error types are available in the documentation."
                    nullable: true
              errorData:
                allOf:
                  - nullable: true
                    readOnly: true
              content:
                allOf:
                  - $ref: '#/components/schemas/OAuthTokenResponse'
            refIdentifier: '#/components/schemas/OAuthTokenResponseApiResult'
            additionalProperties: false
        examples:
          example:
            value:
              content:
                id_token: >-
                  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.KMUFsIDTnFmyG3nMiGM6H9FNFUROf3wh7SmqJp-QV30
                expires_in: 3600
                status: available
              status: ok
              message: ''
              errorHash: e47df370
              errorType: ''
        description: Token created
    '400':
      application/json:
        schemaArray:
          - type: any
        examples:
          example:
            value:
              status: badRequest
              message: Error message
              displayMessage: Optional display message
              errorHash: cd59bd31
              errorType: missingField
        description: Token request is not correct
    '403':
      application/json:
        schemaArray:
          - type: any
        examples:
          example:
            value:
              status: permissionDenied
              message: Error message
              displayMessage: Optional display message
              errorHash: cd59bd31
              errorType: missingField
        description: >-
          Permission denied: Client Id or Client Secret are not correct or
          missing
  deprecated: false
  type: path
components:
  schemas:
    ApiResultStatus:
      enum:
        - ok
        - serverFailure
        - permissionDenied
        - badRequest
        - notFound
        - conflict
        - tooManyRequest
        - locked
        - unavailableForLegalReasons
      type: string
    AuthenticationStatus:
      enum:
        - failed
        - succeeded
        - mfaRequired
        - available
      type: string
    OAuthTokenResponse:
      type: object
      properties:
        id_token:
          type: string
          description: Authentication token.
          nullable: true
        expires_in:
          type: integer
          description: Expiration time in seconds.
          format: int64
          nullable: true
        status:
          $ref: '#/components/schemas/AuthenticationStatus'
      additionalProperties: false

````