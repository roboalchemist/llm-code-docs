# Source: https://planetscale.com/docs/vitess/architecture.md

# PlanetScale Vitess architecture

> PlanetScale's Vitess product is designed for reliability, scalability, and developer productivity.

## Overview

We achieve these goals through a combination of [MySQL](/docs/vitess/terminology#mysql), [Vitess](/docs/vitess/terminology#vitess), and our own application and ecosystem we have built atop these open-source technologies.
There is a great deal of infrastructure that enables our databases to be highly-available, secure, and resilient.
In this article, you'll learn about what powers PlanetScale databases and how you can view your database's configuration on our app.

## The infrastructure diagram

After creating a PlanetScale account and joining at least one organization, you can create a database.
Each new database has a single default [keyspace](/docs/vitess/terminology#keyspace) — a logical database — with the same name as the database.
On the dashboard of every PlanetScale database is a diagram outlining the infrastructure that powers the database.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8ff461953de326678c550456a3ca4ace" alt="Architecture diagram for a PlanetScale database" className="hidden dark:block" data-og-width="2752" width="2752" data-og-height="1830" height="1830" data-path="docs/images/architecture/diagram-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a2376fe44d17be55bfc4f355680c4739 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=37980db67a4c23f90fa24e872654dff3 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=f6e8a9cdebcd60ec614a4ddc4fda288a 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=e8002abeb1d3beb08a8feb6d2c689a69 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=1ac4fc381ed9c8be5be52ff431749058 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=984db971b4593965516b587f438f130f 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6e9cddee148d4715b51b49c5e768d48e" alt="Architecture diagram for a PlanetScale database" className="block dark:hidden" data-og-width="2752" width="2752" data-og-height="1830" height="1830" data-path="docs/images/architecture/diagram.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=daa7f290d50579e377f1b8a02224ba2b 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d55648cfda6ddd4da518e462c67d06d9 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=52602bec4a0af285dfc33639ac1858fd 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=28691706e7fc2f9c5ba9aa5318b4ac3c 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6bd6e447437ee1bacc3c9c7749a88eb0 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=5509812fb8cfae7ee8761830b0e6c2b8 2500w" />
</Frame>

By default, the architecture diagram will show the architecture for the keyspace corresponding to your default branch.
Here's how you can tell what keyspace and branch you are viewing the diagram of:

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c221e690867e4e5549921166eb4da63b" alt="Architecture diagram for a PlanetScale database" className="hidden dark:block" data-og-width="2752" width="2752" data-og-height="1830" height="1830" data-path="docs/images/architecture/diagram-labeled-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6a1c6a4a791756b5d7b11ea472a42f05 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=7ba53127a8be7b1a3c220677cb03ce5e 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2acf394224d00c4198a26368270ce09a 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=cd00f860d17bd567236e75d87942d9f4 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=46d4d841a7896f22048e32f25bcf313d 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=4844e4a83423f1224ad0ee8f99547d40 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=e0dc87424518edca1be088c095546075" alt="Architecture diagram for a PlanetScale database" className="block dark:hidden" data-og-width="2752" width="2752" data-og-height="1830" height="1830" data-path="docs/images/architecture/diagram-labeled.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2f18d5afb6aa30eb6626600609632df0 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=ae1ec32b445cbdf2879bee459a59ae65 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=efd116d37e1cd6e56101cc71f75b846e 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=e29af0a0b60055ad6b25c1b1233ad4af 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c55d06df26eb9e4ae5b708d4683273e2 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-labeled.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=0988504efebd2271aa7df4146de25d95 2500w" />
</Frame>

### Production branches

Production branches are designed for production workloads, and as such are given enough resources to ensure high availability.
By default, every production branch has a single primary MySQL instance and two replicas.
Each primary also comes with 3 [VTGates](/docs/vitess/terminology#vtgate) across 3 availability zones, which act as proxies for your MySQL instances.
These are all pictured in the diagram for a production branch:

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=248e2000bda9548ee2fff5c56492d0e7" alt="Production branch architecture" className="hidden dark:block" data-og-width="2752" width="2752" data-og-height="1830" height="1830" data-path="docs/images/architecture/diagram-production-branch-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=3c8c4505eb2d16cf7ed36d2a8cedb647 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=47c8663d518f1e22875eab9204425c77 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=f11fc8850d2429a01bf00e88b8e54101 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=bcb53e4c06f1b21a59933bcf01816a9a 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=68ce599df8ff85e52da7f7a321c1eebc 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=e4823ed8807cf86cbf1c6c1f41f5aab5 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6985e505d93f50dc2760686c3e839b09" alt="Production branch architecture" className="block dark:hidden" data-og-width="2752" width="2752" data-og-height="1830" height="1830" data-path="docs/images/architecture/diagram-production-branch.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c4b1a6a0261b50c999469358a6502be4 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=76d90e0b388471e2f0d39765de03f98a 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=55342d49ffefd27d7306ce4bb7792e13 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=adde57a391c9ad3f2fbf2e35337cc98a 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=36a11e21c206ab67f34eb76069592f18 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-production-branch.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6845332a300c9b94a9f899c3d4aef061 2500w" />
</Frame>

Generally, the application connecting to this database need not be aware of these various components.
One exception to this is if you are specifically trying to [send queries to a replica](/docs/vitess/scaling/replicas#how-to-query-replicas).

### Development branches

Development branches are specced to enable the development and testing of new features and are not designed for production workloads.
When a new development branch is created, a single MySQL node is created along with a VTGate that handles connections to that node.
This is reflected in the diagram of a development branch.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=78d2f37bc38ec95cdd035564724d88a1" alt="Development branch architecture" className="hidden dark:block" data-og-width="2752" width="2752" data-og-height="1580" height="1580" data-path="docs/images/architecture/diagram-dev-branch-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=94782ad3469a5e40b76d3b47a8ac0636 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a5bb52bf82947f5cee84ae644aa8144e 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6d239901e10ebc925ec674218510f68f 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c8ad1da53f792173b447b2e79893d540 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=5924c6c36d20c97a1659f7d2eb04c9bc 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=ee1da429a6448e40bf6fb8a6c53a3afc 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=3f5b2f5dd63a4442c07aa6bd840960a4" alt="Development branch architecture" className="block dark:hidden" data-og-width="2752" width="2752" data-og-height="1580" height="1580" data-path="docs/images/architecture/diagram-dev-branch.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=73e58b9e4b4efe1b2fc33fe6e3e1c083 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d9be9b275637f246f3eb46eef131d211 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=3f6e9407202d864d27f76fa9da41511f 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=ff8ae7d504b40fe76cf25d224849c633 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=b166da089c303fdc830ee8b181de388c 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-dev-branch.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=feb90895258113309cd69c995293c8ce 2500w" />
</Frame>

When you promote a development branch to production status, PlanetScale automatically adds additional replicas and VTGates deployed across multiple availability zones in a given region.

### Read-only regions

The primary of your database is the only node that can accept writes, and it resides in a single region.
You can add [read-only regions](/docs/vitess/scaling/read-only-regions) to a branch which adds replicas in another region and can be used to serve read traffic.
This can help reduce read latency for application servers that are distributed around the world.

Below, you can see our database has the primary and two replicas in `us-east-2` with read-only replicas added in both `us-west-2` and `eu-central-1`.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=946fd6c98c9f5e7a91627324988c9aaf" alt="Production branch with read-only regions architecture" className="hidden dark:block" data-og-width="2752" width="2752" data-og-height="2146" height="2146" data-path="docs/images/architecture/read-only-regions-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=3727ec758b17f33e26c4d22e538f00c1 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=683fc5b7b985c68e67ca99db4aac6c21 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=fa80def7463b85f52b7d303e0e22e776 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=419aedf356c386da9c0f879443da956a 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=4c96cfee3e55aaefe8d0ce9d0a993578 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2155b87d1213a9fdc1000f8cb18ed92d 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=0f9b16928bd3303ac9220794332ff5eb" alt="Production branch with read-only regions architecture" className="block dark:hidden" data-og-width="2752" width="2752" data-og-height="2146" height="2146" data-path="docs/images/architecture/read-only-regions.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=b39b991025ebbbec0f8d0ac3d1c86afe 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6222d63c6e3b754214e4b15f1aab5992 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=ebcb6b58574f9c33a44e91526a387f66 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=b3e6118fa32a7cc77704b649b6fec114 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a1b10f9fb73a3a1eeba98341f2aec1c2 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/read-only-regions.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=0fd138b584af4e844634f1bf34a8e96b 2500w" />
</Frame>

The read-only replicas can be identified by the blue globe icon.

## Infrastructure metrics

Each element within the infrastructure diagram for PlanetScale database branches can be selected to display additional metrics related to that element.
These metrics are displayed in expandable cards that present themselves when an element is selected.
By default, the cards display metrics from the last 6 hours but can be adjusted if additional data is needed.

### VTGates

The VTGate node displays the total number of VTGates that exist for a given branch, as well as the number of availability zones in which they live.
Selecting the VTGates node will show the following metrics:

* Number of connections.
* Latency.
* Queries received.
* CPU.
* Memory consumption.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=fe6fcb89a10cdfc68de6a0b571751302" alt="VTGate metrics" className="hidden dark:block" data-og-width="1430" width="1430" data-og-height="1585" height="1585" data-path="docs/images/architecture/vtgate-metrics-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8120f1584dac7cb2518e678a8725a557 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=0e844c912059cd4589fffffbf87c377f 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=eb6feccdb678e410dbb3dbca19e65cd5 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=ca51c4776dabd9a2da69090c8d44eb65 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8bb7e27617f246ef10c80d3b6ee1f6d0 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=324bfe0aea03824d194c0e6695de436e 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=84aef5fca619f4398c027528216b3767" alt="VTGate metrics" className="block dark:hidden" data-og-width="1430" width="1430" data-og-height="1590" height="1590" data-path="docs/images/architecture/vtgate-metrics.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c469e1f7a36296a6d8ae4e43d3cd1b1d 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=92e8d7ffc6f64a0f93d1a9413efc65e5 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=9219bc3233481a7b2f6aeb640a23fe6a 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=04ff265c7a8668b99ce1015b8e216c7a 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=77e041ace6145863f3cef0fc991ad4e2 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vtgate-metrics.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=5380742e50b49a78c7140b90b76a444a 2500w" />
</Frame>

### MySQL nodes

Each MySQL node in the diagram will display whether it is the primary node or a replica, along with the region where that node is deployed to.
Clicking any of the MySQL nodes will display the following metrics:

* Database reads and writes for that node.
* Queries served.
* IOPS.
* CPU and Memory utilization.
* Storage utilization over the past week.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=89fa57f12f3ff28a6754050bb27cb7bc" alt="Primary MySQL node metrics" className="hidden dark:block" data-og-width="1430" width="1430" data-og-height="1584" height="1584" data-path="docs/images/architecture/vttablet-metrics-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=85e417d989b45795369a25af59b1afc2 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=105e1e2ba94d9a58cd3f29400b9a8270 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c51d0f3b3eece3c1d16ee6f19648b965 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=4040abac1dec0c4eb4aeedbcb82fb500 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=07638261f61ade5d88b9d505d837333a 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=79c59cde7e264d6233c892b8b74b36f9 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2807ccfa5a46923d5a71dc4bf509142e" alt="Primary MySQL node metrics" className="block dark:hidden" data-og-width="1430" width="1430" data-og-height="1591" height="1591" data-path="docs/images/architecture/vttablet-metrics.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d93fab022f7c565aa00ebe75076b9038 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2eed96d1be7f062ab6d7545e4f07799a 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=ee8c13deca7ef9190308e9248de885ad 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=dabad7915c37567f8ad6499b99b2bda4 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c1e63af7f97f553fd00acd17c55ac5e2 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/vttablet-metrics.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c7ffb7b1c3a84a2d0fa8fb270548b2d6 2500w" />
</Frame>

Selecting a replica will display the replication lag in addition to the other metrics.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=18e5076155cb9373c3653537f8d44cd7" alt="Replication lag diagram" className="hidden dark:block" data-og-width="1698" width="1698" data-og-height="570" height="570" data-path="docs/images/architecture/replication-lag-diagram-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=aa15bc99c068110594486e9d22ad3ac7 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=f665c98cc3adba9e06df0641806adac9 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=b3d17abe27f2fcec00ab5b494a15c828 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=369035dcf3832e328695d3e4c34a627f 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6d66bbbfe328fed44fb8723d8e052b4e 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=b6293d132f6d3323dad60065ec92162d 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=cfca029fc14d0776e69f45e5e09c530e" alt="Replication lag diagram" className="block dark:hidden" data-og-width="1698" width="1698" data-og-height="570" height="570" data-path="docs/images/architecture/replication-lag-diagram.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=67e3d43e9cf5f68cb4782839fe66480b 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=5856afb2604fa8aa3ca7b9453ffdefdb 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=96e337cc6d755d49d021d5008e01e709 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8fc0ef4f54b9d7548bf2812bcffd22cf 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=3e1895d144e4c0b743568652da34a6ed 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-diagram.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=e4068f5d6888eb651002147dd7572f8d 2500w" />
</Frame>

### Replication lag at a glance

Within the infrastructure diagram, you'll also notice that there is a number near the connection points for each replica.
These numbers are a way to read the replication lag between the Primary node and that given node at a glance.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=53b4da3de7945142a1a0e9763e6109d5" alt="Replication lag" className="hidden dark:block" data-og-width="2936" width="2936" data-og-height="1614" height="1614" data-path="docs/images/architecture/replication-lag-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=fdafa63fc9fe14a0a7af26ef6bff2e6d 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=868e9876b6436fbda649755457f3893e 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=dfdb719f551d0a844c614d8cbb63146e 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2c3f7dd95ded8550f470001219f7e2ee 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=023ef2d76b58340380b84b1aafd05a0a 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=67c70922cf93819d3019403a9f5cb386 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6eebc912c88aa168e8329126b3ca9391" alt="Replication lag" className="block dark:hidden" data-og-width="2934" width="2934" data-og-height="1612" height="1612" data-path="docs/images/architecture/replication-lag.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=66bfa6c04e6e51d2f08cd38a3091c914 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=7f796d463a5efc41fc83c51ee0e18f01 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c402cb30622ae04280b35b5dde49af76 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=c43cb11be81ea3fcab7eaf1bf56e9994 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=376156e4de012975675cd67f7b134b73 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/replication-lag.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=e21228126d2d58489c3d851763794100 2500w" />
</Frame>

### Database shards

If your database is [sharded](/docs/vitess/sharding), the infrastructure diagram will represent that as a green stack of shards.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=49ca1c508f46e4384b8edc520be1464b" alt="Stacked shards" className="hidden dark:block" data-og-width="2936" width="2936" data-og-height="1810" height="1810" data-path="docs/images/architecture/shard-stack-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=45d319b7f6dd2c9e8ea912b1278a9184 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=ecadadd26f83f084491f2054622de353 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=575e6216f66a05e53a743177c58c1645 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=7edcdc8e75432bd5ca39307157200d6b 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=90230cd0a13ad3c439fe2cfd3d1b5a82 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=dd3aaccaec8edafc18f6c55b7a7a7f58 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=59b797580764d61b3992da0703e7bf56" alt="Stacked shards" className="block dark:hidden" data-og-width="2936" width="2936" data-og-height="1810" height="1810" data-path="docs/images/architecture/shard-stack.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=f1fdac6b01e18cf09fa08dc12a475a45 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=9a16b97fa11b06946d73513b03c399c7 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d02a05a8f36da6d085a1fe76bc667282 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d66db1b2472fa7c25f9379ad0c1afa92 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=19149a5c0c320a2a374323a3fc7af87b 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-stack.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=736f055f4d6c6e909a2e3936ca9102bb 2500w" />
</Frame>

Selecting the stack from the diagram will open a card displaying all of the shards belonging to that keyspace.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8ce63cf5bb54afe5e49fddc39693afc3" alt="Shard list" className="hidden dark:block" data-og-width="1850" width="1850" data-og-height="2124" height="2124" data-path="docs/images/architecture/shard-list-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2bcc3f44d60b5189a7c9b64e42689c31 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=92ceb27e357fd2c90e4e0e1ebf7e99dd 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8c8216152c83e08e75f5a1c06d302f4c 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=7ec646e3e53d82b6113770ca732f8c07 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a4e16079e0a829dd47ba2c7c7e281fa4 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=02aa0aa4ecc68cf07a305b4ad84a0368 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=bac1d60c412c34f8a81920b7e8def601" alt="Shard list" className="block dark:hidden" data-og-width="1850" width="1850" data-og-height="2130" height="2130" data-path="docs/images/architecture/shard-list.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=26bb8fbf2b3f2b929223106196f11352 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=5b391577764b1a644195ad427a175b48 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a5cb0cef3ffc55eff565be345ecc0ced 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=02482f077d8d7d937eab53d9e9c8b7f7 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=fec63927cc845a19677bb097f8fdba20 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-list.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a896faf6c23f7e06382530e60011b66c 2500w" />
</Frame>

After selecting a shard, you'll be able to choose to look at metrics for either that shard's primary or one of its replicas.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=3c07a572ca54cf9ef1b39294c46dfd7c" alt="Shard list" className="hidden dark:block" data-og-width="1850" width="1850" data-og-height="2124" height="2124" data-path="docs/images/architecture/shard-primary-replicas-list-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=57508b0eea87b7174685618366831cf9 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=06fbb0fbed40a2016eb5f8e126cee004 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=079b7d9975927dcf561d45d76fe67711 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=903ce01b9a0b2ff9eddb889d3589f141 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=1dfaa53209abf7aca2c1c7bacab38934 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=1240f52cee27d089e346251e7ac4f322 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d27e29bba924d3a456d59a56ff2243cd" alt="Shard list" className="block dark:hidden" data-og-width="1850" width="1850" data-og-height="2130" height="2130" data-path="docs/images/architecture/shard-primary-replicas-list.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=08fa833b7b90a8c9befa5d35cc4a96c0 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=5621a0cebd60afb6a321dbfe9dd9315c 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a28d5347439058e1467009f65a6ec9d9 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=86b258224119e8506283e5ba35ab5b0e 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=00ae8ac3aea0b7a403776be9edaeb38e 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-replicas-list.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=f410973b16b275d6be14f7cf6040bbde 2500w" />
</Frame>

Selecting one will show you the metrics for that specific node in your database architecture.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=59b9f35fa7f64183343fb73038ab047b" alt="Shard" className="hidden dark:block" data-og-width="1850" width="1850" data-og-height="2184" height="2184" data-path="docs/images/architecture/shard-primary-metrics-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=9c25ba30bdca6104752c1fa29531853f 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=516d267b6c0ea35dc0e41736392902f1 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=86ae36755050fff4a2f3806b838c3fd6 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=b940d88ef483925d00d2c94183543d95 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=335ddf4b8731bf95dfb94f68a254b70a 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=89e90b58ad3b5819f9f45cb327aa6db3 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=828657f74aba7b4cb60e48c297a52aff" alt="Shard" className="block dark:hidden" data-og-width="1850" width="1850" data-og-height="2198" height="2198" data-path="docs/images/architecture/shard-primary-metrics.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2b51fb71b8305c7e071d5a35e898f1f3 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=0616f26060913ac2be8d5e2126426e89 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=640c025b43b41062fcdbf0fdd236733d 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=412bfebecc9a81451cf9a4c9ef2c5146 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=3b1a39f3b6fcc5d6b66b5be812455702 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/shard-primary-metrics.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8f678af5d1087c212d1ec38b093165e2 2500w" />
</Frame>

### Resizing

You can use the [Clusters page](/docs/vitess/cluster-configuration) menu to resize your keyspaces.
When a resize is in progress, this will be indicated at the top of the diagram.

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=5f55648ced6c5f66e3614777156e1f51" alt="Architecture diagram with resize indicator" className="hidden dark:block" data-og-width="2666" width="2666" data-og-height="1546" height="1546" data-path="docs/images/architecture/diagram-resize-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=fff504c00ae7b3d73355c3501f26ded0 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=280b9976d927ca70695656f334f958c3 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=290b4f494b2c2dad0d0e84fd2531c192 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=861843cd286593f37981beb44d57fa52 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=6dbe44d12f63b837b75a49ae456e023f 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=07f5c648a727cb500c989534ef6d9e6c 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a7b30d905a4347941fa0d84e7f0e478b" alt="Architecture diagram with resize indicator" className="block dark:hidden" data-og-width="2666" width="2666" data-og-height="1546" height="1546" data-path="docs/images/architecture/diagram-resize.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=8a6c43e5998a909fce27c49385246200 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=a1fe0ec6cd2b257a610a6aa7366fb82f 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=331136a3e92ab4ef3794da8c93a094b3 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=60f4796dd8c1cf5a87d5c1df5fd6a94b 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=f6297b5c02342e4ef453292d3e0ec1c6 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/diagram-resize.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=35786008821459d2255e0c5ffde757d4 2500w" />
</Frame>

Click on "**View**" to see the status for each shard being resized:

<Frame>
  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress-darkmode.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d98344833cfbbcf0132aed9f9860f12d" alt="Per-shard resize status" className="hidden dark:block" data-og-width="2410" width="2410" data-og-height="1784" height="1784" data-path="docs/images/architecture/resize-progress-darkmode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress-darkmode.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=bc5fd9fca6b661d46c1abb8609038f2e 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress-darkmode.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=fb5e1323998afff651f17111140659f2 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress-darkmode.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=d34edb597976ab123177522a8a7ba12e 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress-darkmode.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=65b31d56bc4994553da59d27cee0c117 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress-darkmode.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=9b83853c3acb90b6a62589bb3a233208 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress-darkmode.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=332c4b7c05033cb86b851d584f8b4a37 2500w" />

  <img src="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress.png?fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=1b820c2aacae5d4ff0898477a59c08bd" alt="Per-shard resize status" className="block dark:hidden" data-og-width="2282" width="2282" data-og-height="1652" height="1652" data-path="docs/images/architecture/resize-progress.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress.png?w=280&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=9fbea2e9341740272203549a57f2396b 280w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress.png?w=560&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=1487deadbd733adb31dfa2c36f3ad8a6 560w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress.png?w=840&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=263c748c0502baa81eff38cf5b0e8ef2 840w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress.png?w=1100&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=55b38da80247b4c02bd67685ff4189f1 1100w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress.png?w=1650&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=4fd4431b46d01666bb52900dc406e381 1650w, https://mintcdn.com/planetscale-cad1a68a/1n39MWo25_njbahn/docs/images/architecture/resize-progress.png?w=2500&fit=max&auto=format&n=1n39MWo25_njbahn&q=85&s=2b2b1965d034b1f60d151950ee9b71ad 2500w" />
</Frame>

## Need help?

Get help from [the PlanetScale Support team](https://support.planetscale.com/), or join our [GitHub discussion board](https://github.com/planetscale/discussion/discussions) to see how others are using PlanetScale.


---

> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://planetscale.com/llms.txt