# Source: https://docs.datadoghq.com/security/default_rules/292-15d-f17.md

---
title: Cloudfront distribution should be encrypted
description: Datadog, the leading service for cloud-scale monitoring.
breadcrumbs: >-
  Docs > Datadog Security > OOTB Rules > Cloudfront distribution should be
  encrypted
---

# Cloudfront distribution should be encrypted

## Description{% #description %}

Verify that HTTPS is used to secure AWS CloudFront distributions communications.

## Rationale{% #rationale %}

HTTPS ensures that malicious activity cannot occur when data is sent within AWS CloudFront's Content Distribution Network (CDN).

## Remediation{% #remediation %}

### From the console{% #from-the-console %}

Follow the [configure CloudFront to require HTTPS between CloudFront and your custom origin](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/using-https-cloudfront-to-custom-origin.html) docs to change your Origin Protocol Policy to HTTPS only.

### From the command line{% #from-the-command-line %}

1. Run `get-distribution-config` with your AWS CloudFront distribution ID to retrieve your [distribution's configuration information](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/cloudfront/get-distribution-config.html).

In the `get-distribution-config.sh` file:

   ```bash
       aws cloudfront get-distribution-config
           --id ID000000000000

```

1. In a new JSON file, modify the returned configuration. Set `OriginProtocolPolicy` to `https-only` and save the configuration file.

In the `https-only.sh` file:

   ```json
       {
         "ETag": "ETAG0000000000",
         "DistributionConfig": {
           "Origins": {
             "Items": [
               {
                 "CustomOriginConfig": {
                   "OriginProtocolPolicy": "https-only",
                   ...
                 }
               }
             ]
           }
         }
       }

```

1. Run `update-distribution` to [update your distribution](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/cloudfront/update-distribution.html) with your distribution `id`, the path of the configuration file (created in step 2), and your `etag`.

In the `update-distribution.sh` file:

   ```bash
       aws cloudfront update-distribution
           --id ID000000000000
           --distribution-config https-only.json
           --if-match ETAG0000000000

```
