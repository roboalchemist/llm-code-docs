# Source: https://docs.datadoghq.com/ddsql_reference/data_directory/aws/aws.ec2_fleet.dataset.md

---
title: EC2 Fleet
description: Datadog, the leading service for cloud-scale monitoring.
breadcrumbs: Docs > DDSQL Reference > Data Directory > EC2 Fleet
---

# EC2 Fleet

This table represents the EC2 Fleet resource from Amazon Web Services.

```
aws.ec2_fleet
```

## Fields

| Title                               | ID   | Type       | Data Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Description |
| ----------------------------------- | ---- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| _key                                | core | string     |
| account_id                          | core | string     |
| activity_status                     | core | string     | The progress of the EC2 Fleet. If there is an error, the status is <code>error</code>. After all requests are placed, the status is <code>pending_fulfillment</code>. If the size of the EC2 Fleet is equal to or greater than its target capacity, the status is <code>fulfilled</code>. If the size of the EC2 Fleet is decreased, the status is <code>pending_termination</code> while instances are terminating.                                                                                                                                                                                                    |
| client_token                        | core | string     | Unique, case-sensitive identifier that you provide to ensure the idempotency of the request. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/Run_Instance_Idempotency.html">Ensuring idempotency</a>. Constraints: Maximum 64 ASCII characters                                                                                                                                                                                                                                                                                                                                |
| context                             | core | string     | Reserved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| create_time                         | core | timestamp  | The creation date and time of the EC2 Fleet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| errors                              | core | json       | Information about the instances that could not be launched by the fleet. Valid only when <b>Type</b> is set to <code>instant</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| excess_capacity_termination_policy  | core | string     | Indicates whether running instances should be terminated if the target capacity of the EC2 Fleet is decreased below the current size of the EC2 Fleet. Supported only for fleets of type <code>maintain</code>.                                                                                                                                                                                                                                                                                                                                                                                                         |
| fleet_id                            | core | string     | The ID of the EC2 Fleet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| fleet_state                         | core | string     | The state of the EC2 Fleet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| fulfilled_capacity                  | core | float64    | The number of units fulfilled by this request compared to the set target capacity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| fulfilled_on_demand_capacity        | core | float64    | The number of units fulfilled by this request compared to the set target On-Demand capacity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| instances                           | core | json       | Information about the instances that were launched by the fleet. Valid only when <b>Type</b> is set to <code>instant</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| launch_template_configs             | core | json       | The launch template and overrides.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| on_demand_options                   | core | json       | The allocation strategy of On-Demand Instances in an EC2 Fleet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| replace_unhealthy_instances         | core | bool       | Indicates whether EC2 Fleet should replace unhealthy Spot Instances. Supported only for fleets of type <code>maintain</code>. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/manage-ec2-fleet.html#ec2-fleet-health-checks">EC2 Fleet health checks</a> in the <i>Amazon EC2 User Guide</i>.                                                                                                                                                                                                                                                                                    |
| spot_options                        | core | json       | The configuration of Spot Instances in an EC2 Fleet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| tags                                | core | hstore_csv |
| target_capacity_specification       | core | json       | The number of units to request. You can choose to set the target capacity in terms of instances or a performance characteristic that is important to your application workload, such as vCPUs, memory, or I/O. If the request type is <code>maintain</code>, you can specify a target capacity of 0 and add capacity later.                                                                                                                                                                                                                                                                                             |
| terminate_instances_with_expiration | core | bool       | Indicates whether running instances should be terminated when the EC2 Fleet expires.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| type                                | core | string     | The type of request. Indicates whether the EC2 Fleet only <code>requests</code> the target capacity, or also attempts to <code>maintain</code> it. If you request a certain target capacity, EC2 Fleet only places the required requests; it does not attempt to replenish instances if capacity is diminished, and it does not submit requests in alternative capacity pools if capacity is unavailable. To maintain a certain target capacity, EC2 Fleet places the required requests to meet this target capacity. It also automatically replenishes any interrupted Spot Instances. Default: <code>maintain</code>. |
| valid_from                          | core | timestamp  | The start date and time of the request, in UTC format (for example, <i>YYYY</i>-<i>MM</i>-<i>DD</i>T<i>HH</i>:<i>MM</i>:<i>SS</i>Z). The default is to start fulfilling the request immediately.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| valid_until                         | core | timestamp  | The end date and time of the request, in UTC format (for example, <i>YYYY</i>-<i>MM</i>-<i>DD</i>T<i>HH</i>:<i>MM</i>:<i>SS</i>Z). At this point, no new instance requests are placed or able to fulfill the request. The default end date is 7 days from the current date.                                                                                                                                                                                                                                                                                                                                             |
