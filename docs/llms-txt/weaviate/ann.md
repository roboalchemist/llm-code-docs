# Source: https://docs.weaviate.io/weaviate/benchmarks/ann

<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-weaviate/benchmarks/ann" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ANN Benchmark | Weaviate Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.weaviate.io/weaviate/benchmarks/ann"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ANN Benchmark | Weaviate Documentation"><meta data-rh="true" name="description" content="Approximate Nearest Neighbor performance benchmarks measuring Weaviate&#x27;s search accuracy and speed in real-world scenarios."><meta data-rh="true" property="og:description" content="Approximate Nearest Neighbor performance benchmarks measuring Weaviate&#x27;s search accuracy and speed in real-world scenarios."><meta data-rh="true" property="og:image" content="https://docs.weaviate.io/og/docs/benchmarks.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.weaviate.io/og/docs/benchmarks.jpg"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.weaviate.io/weaviate/benchmarks/ann"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/weaviate/benchmarks/ann" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/weaviate/benchmarks/ann" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Benchmarks","item":"https://docs.weaviate.io/weaviate/benchmarks/"},{"@type":"ListItem","position":2,"name":"ANN Benchmark","item":"https://docs.weaviate.io/weaviate/benchmarks/ann"}]}</script><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-WS8CG676",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>

<script>!function(){if("undefined"!=typeof window&&void 0===window.signals){var n=document.createElement("script");n.src="https://cdn.cr-relay.com/v1/site/3709e2b3-c0eb-4239-9087-775e484fab16/signals.js",n.async=!0,window.signals=Object.assign([],["page","identify","form"].reduce((function(n,e){return n[e]=function(){return signals.push([e,arguments]),signals},n}),{})),document.head.appendChild(n)}}()</script>
<script id="hs-script-loader" async="true" defer="true" src="https://js.hs-scripts.com/8738733.js"></script>
<link rel="stylesheet" href="/fonts/font-awesome/fontawesome.css">
<link rel="stylesheet" href="/fonts/font-awesome/solid.css">
<link rel="stylesheet" href="/fonts/font-awesome/regular.css">
<link rel="stylesheet" href="/fonts/font-awesome/brands.css"><link rel="stylesheet" href="/assets/css/styles.f4cdad07.css">
<script src="/assets/js/runtime~main.444b5859.js" defer="defer"></script>
<script src="/assets/js/main.6a4a6ee2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>


<script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WS8CG676" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-light-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-dark-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-w.png"><link rel="preload" as="image" href="/img/benchmark/dbpedia-openai-1000k-angular-light.svg"><link rel="preload" as="image" href="/img/benchmark/dbpedia-openai-1000k-angular-dark.svg"><link rel="preload" as="image" href="/img/benchmark/sift-128-euclidean-light.svg"><link rel="preload" as="image" href="/img/benchmark/sift-128-euclidean-dark.svg"><link rel="preload" as="image" href="/img/benchmark/snowflake-msmarco-arctic-embed-m-v1-light.svg"><link rel="preload" as="image" href="/img/benchmark/snowflake-msmarco-arctic-embed-m-v1-dark.svg"><link rel="preload" as="image" href="/img/benchmark/sphere-10M-meta-dpr-light.svg"><link rel="preload" as="image" href="/img/benchmark/sphere-10M-meta-dpr-dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#1C1468;color:#F5F5F5" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a href="https://academy.weaviate.io/">The new <b>Weaviate Academy</b> learning platform is here!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="defaultNavbar_mOWn"><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/site/weaviate-logo-horizontal-light-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/site/weaviate-logo-horizontal-dark-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/weaviate/api/rest"></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg class="githubStars" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a href="https://academy.weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link academy-button">Academy</a><a href="https://weaviate.io/go/console?utm_source=docs&amp;utm_content=navbar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cloud-button">Weaviate Cloud</a><div class="hiddenSearch navbarSearchContainer_Bca1"><div class="searchBox"><button class="searchButton"><span class="searchPlaceholder"><i class="searchIcon fas fa-magnifying-glass"></i><span class="searchPlaceholderText">Ask AI or Search</span></span><div class="commandIconContainer"><span class="commandIcon">⌘K</span></div></button></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div class="secondaryNavbar_Zq6r"><nav class="secondaryNavLinks_WJZI"><a class="navLink_kzb_" href="/weaviate">Get started</a><a class="navLink_kzb_" href="/weaviate/guides">How-to manuals &amp; Guides</a><a class="navLink_kzb_" href="/weaviate/model-providers">Model integrations</a><a class="navLink_kzb_" href="/weaviate/config-refs">Reference &amp; APIs</a><a class="navLink_kzb_" href="/weaviate/concepts">Concepts</a><a class="navLink_kzb_" href="/weaviate/recipes">Recipes</a><a class="navLink_kzb_ activeNavLink_ObEy" href="/weaviate/release-notes">Other</a></nav></div><div class="modalOverlay_BeVA"><div class="modalContent_CPV2"><div class="modalHeader_aBIn"><div class="modalHeaderLeft_Jnp2"><strong>Go to documentation:</strong></div><div class="modalHeaderRight_pW31"><div class="modalHeaderButton_lyv9"><span class="buttonShortcut_rHzY">⌘U</span><div class="verticalDivider_TWYg"></div><button class="headerCloseIcon_Nc0n">✕</button></div></div></div><div class="modalBody_bZ4G"><div class="modalOptionsContainer_GF7c"><div class="modalOption_Zqj6 activeOption_IUKI"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Database</strong><p>Develop AI applications using Weaviate&#x27;s APIs and tools</p></div><div class="activeIndicator_uCqh"></div></div><div class="modalOption_Zqj6"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Deploy</strong><p>Deploy, configure, and maintain Weaviate Database</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-robot modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Agents</strong><p>Build and deploy intelligent agents with Weaviate</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-cloud modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Cloud</strong><p>Manage and scale Weaviate in the cloud</p></div></div></div><div class="resourcesSection__QVP"><h4 class="sectionTitle_TjaJ">Additional resources</h4><div class="resourcesGrid_Fe8L"><div class="resourceCard_qG9v"><i class="fa fa-puzzle-piece resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Integrations</span></div><div class="resourceCard_qG9v"><i class="fa fa-edit resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Contributor guide</span></div><div class="resourceCard_qG9v"><i class="fa fa-calendar-days resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Events &amp; Workshops</span></div><div class="resourceCard_qG9v"><i class="fa-solid fa-graduation-cap resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Weaviate Academy</span></div></div></div><div class="aiAssistantSection_Qefr"><h4 class="sectionTitle_TjaJ">Need help?</h4><div class="resourcesGrid_Fe8L"><div class="askAiButton_snh2"><img src="/img/site/weaviate-logo-w.png" alt="Weaviate Logo" class="askAiIcon_T_rP"><span class="askAiText_snFq">Ask AI Assistant</span><span class="askAiShortcut_kkRQ">⌘K</span></div><div class="resourceCard_qG9v"><i class="fa fa-comments styles.resourceIcon" aria-hidden="true"></i><span class="resourceTitle__PWa">Community Forum</span></div></div></div></div></div></div><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/weaviate/release-notes"><span title="Releases" class="categoryLinkLabel_W154">Releases</span></a><button aria-label="Expand sidebar category &#x27;Releases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/weaviate/benchmarks"><span title="Benchmarks" class="categoryLinkLabel_W154">Benchmarks</span></a><button aria-label="Collapse sidebar category &#x27;Benchmarks&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/weaviate/benchmarks/ann"><span title="ANN Benchmark" class="linkLabel_WmDU">ANN Benchmark</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/weaviate/modules"><span title="Modules" class="categoryLinkLabel_W154">Modules</span></a><button aria-label="Expand sidebar category &#x27;Modules&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaviate/more-resources/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaviate/more-resources/glossary"><span title="Glossary" class="linkLabel_WmDU">Glossary</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaviate/more-resources/example-datasets"><span title="Example datasets" class="linkLabel_WmDU">Example datasets</span></a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/weaviate/benchmarks"><span>Benchmarks</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">ANN Benchmark</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ANN Benchmark</h1></header>
<p>This vector database benchmark is designed to measure and illustrate Weaviate&#x27;s Approximate Nearest Neighbor (ANN) performance for a range of real-life use cases.</p>
<p>To make the most of this vector database benchmark, you can look at it from different perspectives:</p>
<ul>
<li class=""><strong>The overall performance</strong> – Review the <a href="#benchmark-results" class="">benchmark results</a> to draw conclusions about what to expect from Weaviate in a production setting.</li>
<li class=""><strong>Expectation for your use case</strong> – Find the dataset closest to your production use case, and estimate Weaviate&#x27;s expected performance for your use case.</li>
<li class=""><strong>Fine Tuning</strong> – If you don&#x27;t get the results you expect. Find the optimal combinations of the configuration parameters (<code>efConstruction</code>, <code>maxConnections</code> and <code>ef</code>) to achieve the best results for your production configuration. (See <a class="" href="/weaviate/config-refs/indexing/vector-index#hnsw-configuration-tips">HNSW Configuration Tips</a>)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="measured-metrics">Measured Metrics<a href="#measured-metrics" class="hash-link" aria-label="Direct link to Measured Metrics" title="Direct link to Measured Metrics" translate="no">​</a></h2>
<p>For each benchmark test, we set these HNSW parameters:</p>
<ul>
<li class=""><strong><code>efConstruction</code></strong> - Controls the search quality at build time.</li>
<li class=""><strong><code>maxConnections</code></strong>	 - The number of outgoing edges a node can have in the HNSW graph.</li>
<li class=""><strong><code>ef</code></strong> - Controls the search quality at query time.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>HNSW Parameter Configuration Guide</div><div class="admonitionContent_BuS1"><p>For good starting point values and performance tuning advice, see <a class="" href="/weaviate/config-refs/indexing/vector-index#hnsw-configuration-tips">HNSW Configuration Tips</a>.</p></div></div>
<p>For each set of parameters, we&#x27;ve run 10,000 requests, and we measured the following metrics:</p>
<ul>
<li class="">The <strong>Recall@10</strong> and <strong>Recall@100</strong> - by comparing Weaviate&#x27;s results to the ground truths specified in each dataset.</li>
<li class=""><strong>Multi-threaded Queries per Second (QPS)</strong> - The overall throughput you can
achieve with each configuration.</li>
<li class=""><strong>Individual Request Latency (mean)</strong> - The mean latency over all 10,000 requests.</li>
<li class=""><strong>P99 Latency</strong> - 99% of all requests (9,900 out of 10,000) have a latency that is lower than or equal to this number</li>
<li class=""><strong>Import time</strong> - Since varying build parameters has an effect on import time, the import time is also included.</li>
</ul>
<p>By request, we mean:
An unfiltered vector search across the entire dataset for the given test. All
latency and throughput results represent the end-to-end time that your
users would also experience. In particular, these means:</p>
<ul>
<li class="">Each request time includes the network overhead for sending the results over the
wire. In the test setup, the client and server machines were located in the
same VPC.</li>
<li class="">Each request includes retrieving all the matched objects from disk. This is
a significant difference from <code>ann-benchmarks</code>, where the embedded libraries
only return the matched IDs.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>This benchmark is <a href="https://github.com/weaviate/weaviate-benchmarking" target="_blank" rel="noopener noreferrer" class="">open source</a>, so you can reproduce the results yourself.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="benchmark-results">Benchmark Results<a href="#benchmark-results" class="hash-link" aria-label="Direct link to Benchmark Results" title="Direct link to Benchmark Results" translate="no">​</a></h2>
<p>This section contains datasets modeled after the <a href="https://github.com/erikbern/ann-benchmarks" target="_blank" rel="noopener noreferrer" class="">ANN Benchmarks</a>. Pick a dataset that is closest to your production workload:</p>
<table><thead><tr><th><strong>Dataset</strong></th><th><strong>Number of Objects</strong></th><th><strong>Vector Dimensions</strong></th><th><strong><a href="https://weaviate.io/blog/distance-metrics-in-vector-search" target="_blank" rel="noopener noreferrer" class="">Distance metric</a></strong></th><th><strong>Use case</strong></th></tr></thead><tbody><tr><td><a href="http://corpus-texmex.irisa.fr/" target="_blank" rel="noopener noreferrer" class="">SIFT1M</a></td><td>1 M</td><td>128</td><td>l2-squared</td><td>SIFT is a common ANN test dataset generated from image data</td></tr><tr><td><a href="https://huggingface.co/datasets/mteb/dbpedia" target="_blank" rel="noopener noreferrer" class="">DBPedia OpenAI</a></td><td>1 M</td><td>1536</td><td>cosine</td><td>DBPedia dataset from MTEB embedded with OpenAI&#x27;s ada002 model</td></tr><tr><td><a href="https://huggingface.co/datasets/Snowflake/mteb-retrieval-snowflake-arctic-embed-m-v1.5" target="_blank" rel="noopener noreferrer" class="">MSMARCO Snowflake</a></td><td>8.8 M</td><td>768</td><td>l2-squared</td><td>MSMARCO dataset embedded with Snowflake&#x27;s Arctic Embed M v1.5 model</td></tr><tr><td><a href="https://weaviate.io/blog/sphere-dataset-in-weaviate" target="_blank" rel="noopener noreferrer" class="">Sphere DPR</a></td><td>10 M</td><td>768</td><td>dot</td><td>Meta&#x27;s Sphere dataset (10M sample)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="benchmark-datasets">Benchmark Datasets<a href="#benchmark-datasets" class="hash-link" aria-label="Direct link to Benchmark Datasets" title="Direct link to Benchmark Datasets" translate="no">​</a></h4>
<p>These are the results for each dataset:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">DBPedia OpenAI</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">SIFT1M</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">MSMARCO Snowflake</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Sphere DPR</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="qps-vs-recall-for-dbpedia-openai">QPS vs Recall for DBPedia OpenAI<a href="#qps-vs-recall-for-dbpedia-openai" class="hash-link" aria-label="Direct link to QPS vs Recall for DBPedia OpenAI" title="Direct link to QPS vs Recall for DBPedia OpenAI" translate="no">​</a></h4><img src="/img/benchmark/dbpedia-openai-1000k-angular-light.svg" alt="DBPedia OpenAI Benchmark results" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/benchmark/dbpedia-openai-1000k-angular-dark.svg" alt="DBPedia OpenAI Benchmark results" class="themedComponent_mlkZ themedComponent--dark_xIcU"><div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Limit 10</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Limit 100</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>How to read the results table</summary><div><div class="collapsibleContent_i85q"><ul><li><p><strong>Choose the desired limit using the tab selector above the table.</strong> <br>
The limit describes how many objects are returned for a query.
Different use cases require different levels of QPS
and returned objects per query. <br>
For example, at 100 QPS and <code>limit 100</code> (100 objects per query) 10,000 objects will be returned in total.
At 1,000 QPS and <code>limit 10</code> (10 objects per query), you
will also receive 10,000 objects in total as each request contains fewer
objects, but you can send more requests in the same timespan. <br>
Pick the value that matches your desired limit in production most closely.</p></li><li><p><strong>Pick the desired configuration</strong> <br>
The first three columns represent the different input parameters to configure the HNSW index. These inputs lead to the results shown in columns four through six.</p></li><li><p><strong>Recall/Throughput Trade-Off at a glance</strong> <br>
The highlighted columns (Recall, QPS) reflect the Recall/QPS trade-off.
Generally, as the Recall improves, the throughput drops. Pick the row
that represents a combination that satisfies your requirements. Since
the benchmark is multi-threaded and running on a 30-core machine, the
QPS/vCore columns shows the throughput per single CPU core. You can use
this column to extrapolate what the throughput would be like on a
machine of different size. See also this section below
<a href="#what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine">outlining what changes to expect when running on different hardware.</a></p></li><li><p><strong>Latencies</strong> <br>
Besides the overall throughput, columns seven and eight show the
latencies for individual requests. The Mean Latency columns shows the
mean over all 10,000 test queries. The p99 Latency shows the maximum
latency for the 99th-percentile of requests. In other words, 9,900 out
of 10,000 queries will have a latency equal to or lower than the
specified number. The <a href="#what-is-a-p99-latency">difference
between mean and p99</a> helps you get an impression how stable the
request times are in a highly concurrent setup.</p></li><li><p><strong>Import times</strong> <br>
Changing the configuration parameters can also have an effect on the
time it takes to import the dataset. This is shown in the last column.</p></li></ul></div></div></details><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-configuration-for-dbpedia-openai-ada002">Recommended configuration for DBPedia OpenAI ada002<a href="#recommended-configuration-for-dbpedia-openai-ada002" class="hash-link" aria-label="Direct link to Recommended configuration for DBPedia OpenAI ada002" title="Direct link to Recommended configuration for DBPedia OpenAI ada002" translate="no">​</a></h4><p>This is the recommended configuration for this dataset. It balances recall, latency, and throughput to give you a good overview of Weaviate&#x27;s performance.</p><table><thead><tr><th><code>efConstruction</code></th><th><code>maxConnections</code></th><th><code>ef</code></th><th><strong>Recall@10</strong></th><th><strong>QPS (Limit 10)</strong></th><th><strong>Mean Latency (Limit 10</strong>)</th><th><strong>p99 Latency (Limit 10)</strong></th></tr></thead><tbody><tr><td>256</td><td>16</td><td>96</td><td>97.24%</td><td>5639</td><td>2.80ms</td><td>4.43ms</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="qps-vs-recall-for-sift1m">QPS vs Recall for SIFT1M<a href="#qps-vs-recall-for-sift1m" class="hash-link" aria-label="Direct link to QPS vs Recall for SIFT1M" title="Direct link to QPS vs Recall for SIFT1M" translate="no">​</a></h4><img src="/img/benchmark/sift-128-euclidean-light.svg" alt="SIFT1M Benchmark results" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/benchmark/sift-128-euclidean-dark.svg" alt="SIFT1M Benchmark results" class="themedComponent_mlkZ themedComponent--dark_xIcU"><div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Limit 10</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Limit 100</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>How to read the results table</summary><div><div class="collapsibleContent_i85q"><ul><li><p><strong>Choose the desired limit using the tab selector above the table.</strong> <br>
The limit describes how many objects are returned for a query.
Different use cases require different levels of QPS
and returned objects per query. <br>
For example, at 100 QPS and <code>limit 100</code> (100 objects per query) 10,000 objects will be returned in total.
At 1,000 QPS and <code>limit 10</code> (10 objects per query), you
will also receive 10,000 objects in total as each request contains fewer
objects, but you can send more requests in the same timespan. <br>
Pick the value that matches your desired limit in production most closely.</p></li><li><p><strong>Pick the desired configuration</strong> <br>
The first three columns represent the different input parameters to configure the HNSW index. These inputs lead to the results shown in columns four through six.</p></li><li><p><strong>Recall/Throughput Trade-Off at a glance</strong> <br>
The highlighted columns (Recall, QPS) reflect the Recall/QPS trade-off.
Generally, as the Recall improves, the throughput drops. Pick the row
that represents a combination that satisfies your requirements. Since
the benchmark is multi-threaded and running on a 30-core machine, the
QPS/vCore columns shows the throughput per single CPU core. You can use
this column to extrapolate what the throughput would be like on a
machine of different size. See also this section below
<a href="#what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine">outlining what changes to expect when running on different hardware.</a></p></li><li><p><strong>Latencies</strong> <br>
Besides the overall throughput, columns seven and eight show the
latencies for individual requests. The Mean Latency columns shows the
mean over all 10,000 test queries. The p99 Latency shows the maximum
latency for the 99th-percentile of requests. In other words, 9,900 out
of 10,000 queries will have a latency equal to or lower than the
specified number. The <a href="#what-is-a-p99-latency">difference
between mean and p99</a> helps you get an impression how stable the
request times are in a highly concurrent setup.</p></li><li><p><strong>Import times</strong> <br>
Changing the configuration parameters can also have an effect on the
time it takes to import the dataset. This is shown in the last column.</p></li></ul></div></div></details><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-configuration-for-sift1m">Recommended configuration for SIFT1M<a href="#recommended-configuration-for-sift1m" class="hash-link" aria-label="Direct link to Recommended configuration for SIFT1M" title="Direct link to Recommended configuration for SIFT1M" translate="no">​</a></h4><p>This is the recommended configuration for this dataset. It balances recall, latency, and throughput to give you a good overview of Weaviate&#x27;s performance.</p><table><thead><tr><th><code>efConstruction</code></th><th><code>maxConnections</code></th><th><code>ef</code></th><th><strong>Recall@10</strong></th><th><strong>QPS (Limit 10)</strong></th><th><strong>Mean Latency (Limit 10</strong>)</th><th><strong>p99 Latency (Limit 10)</strong></th></tr></thead><tbody><tr><td>256</td><td>32</td><td>64</td><td>98.35%</td><td>10940</td><td>1.44ms</td><td>3.13ms</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="qps-vs-recall-for-msmarco-snowflake">QPS vs Recall for MSMARCO Snowflake<a href="#qps-vs-recall-for-msmarco-snowflake" class="hash-link" aria-label="Direct link to QPS vs Recall for MSMARCO Snowflake" title="Direct link to QPS vs Recall for MSMARCO Snowflake" translate="no">​</a></h4><img src="/img/benchmark/snowflake-msmarco-arctic-embed-m-v1-light.svg" alt="MSMARCO Snowflake Benchmark results" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/benchmark/snowflake-msmarco-arctic-embed-m-v1-dark.svg" alt="MSMARCO Snowflake Benchmark results" class="themedComponent_mlkZ themedComponent--dark_xIcU"><div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Limit 10</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Limit 100</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>How to read the results table</summary><div><div class="collapsibleContent_i85q"><ul><li><p><strong>Choose the desired limit using the tab selector above the table.</strong> <br>
The limit describes how many objects are returned for a query.
Different use cases require different levels of QPS
and returned objects per query. <br>
For example, at 100 QPS and <code>limit 100</code> (100 objects per query) 10,000 objects will be returned in total.
At 1,000 QPS and <code>limit 10</code> (10 objects per query), you
will also receive 10,000 objects in total as each request contains fewer
objects, but you can send more requests in the same timespan. <br>
Pick the value that matches your desired limit in production most closely.</p></li><li><p><strong>Pick the desired configuration</strong> <br>
The first three columns represent the different input parameters to configure the HNSW index. These inputs lead to the results shown in columns four through six.</p></li><li><p><strong>Recall/Throughput Trade-Off at a glance</strong> <br>
The highlighted columns (Recall, QPS) reflect the Recall/QPS trade-off.
Generally, as the Recall improves, the throughput drops. Pick the row
that represents a combination that satisfies your requirements. Since
the benchmark is multi-threaded and running on a 30-core machine, the
QPS/vCore columns shows the throughput per single CPU core. You can use
this column to extrapolate what the throughput would be like on a
machine of different size. See also this section below
<a href="#what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine">outlining what changes to expect when running on different hardware.</a></p></li><li><p><strong>Latencies</strong> <br>
Besides the overall throughput, columns seven and eight show the
latencies for individual requests. The Mean Latency columns shows the
mean over all 10,000 test queries. The p99 Latency shows the maximum
latency for the 99th-percentile of requests. In other words, 9,900 out
of 10,000 queries will have a latency equal to or lower than the
specified number. The <a href="#what-is-a-p99-latency">difference
between mean and p99</a> helps you get an impression how stable the
request times are in a highly concurrent setup.</p></li><li><p><strong>Import times</strong> <br>
Changing the configuration parameters can also have an effect on the
time it takes to import the dataset. This is shown in the last column.</p></li></ul></div></div></details><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-configuration-for-msmarco-snowflake">Recommended configuration for MSMARCO Snowflake<a href="#recommended-configuration-for-msmarco-snowflake" class="hash-link" aria-label="Direct link to Recommended configuration for MSMARCO Snowflake" title="Direct link to Recommended configuration for MSMARCO Snowflake" translate="no">​</a></h4><p>This is the recommended configuration for this dataset. It balances recall, latency, and throughput to give you a good overview of Weaviate&#x27;s performance.</p><table><thead><tr><th><code>efConstruction</code></th><th><code>maxConnections</code></th><th><code>ef</code></th><th><strong>Recall@10</strong></th><th><strong>QPS (Limit 10)</strong></th><th><strong>Mean Latency (Limit 10</strong>)</th><th><strong>p99 Latency (Limit 10)</strong></th></tr></thead><tbody><tr><td>384</td><td>32</td><td>48</td><td>97.36%</td><td>7363</td><td>2.15ms</td><td>3.69ms</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="qps-vs-recall-for-sphere-dpr">QPS vs Recall for Sphere DPR<a href="#qps-vs-recall-for-sphere-dpr" class="hash-link" aria-label="Direct link to QPS vs Recall for Sphere DPR" title="Direct link to QPS vs Recall for Sphere DPR" translate="no">​</a></h4><img src="/img/benchmark/sphere-10M-meta-dpr-light.svg" alt="Sphere DPR Benchmark results" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/benchmark/sphere-10M-meta-dpr-dark.svg" alt="Sphere DPR Benchmark results" class="themedComponent_mlkZ themedComponent--dark_xIcU"><div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Limit 10</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Limit 100</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="ag-theme-quartz" style="height:500px"><div style="height:100%"></div></div></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>How to read the results table</summary><div><div class="collapsibleContent_i85q"><ul><li><p><strong>Choose the desired limit using the tab selector above the table.</strong> <br>
The limit describes how many objects are returned for a query.
Different use cases require different levels of QPS
and returned objects per query. <br>
For example, at 100 QPS and <code>limit 100</code> (100 objects per query) 10,000 objects will be returned in total.
At 1,000 QPS and <code>limit 10</code> (10 objects per query), you
will also receive 10,000 objects in total as each request contains fewer
objects, but you can send more requests in the same timespan. <br>
Pick the value that matches your desired limit in production most closely.</p></li><li><p><strong>Pick the desired configuration</strong> <br>
The first three columns represent the different input parameters to configure the HNSW index. These inputs lead to the results shown in columns four through six.</p></li><li><p><strong>Recall/Throughput Trade-Off at a glance</strong> <br>
The highlighted columns (Recall, QPS) reflect the Recall/QPS trade-off.
Generally, as the Recall improves, the throughput drops. Pick the row
that represents a combination that satisfies your requirements. Since
the benchmark is multi-threaded and running on a 30-core machine, the
QPS/vCore columns shows the throughput per single CPU core. You can use
this column to extrapolate what the throughput would be like on a
machine of different size. See also this section below
<a href="#what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine">outlining what changes to expect when running on different hardware.</a></p></li><li><p><strong>Latencies</strong> <br>
Besides the overall throughput, columns seven and eight show the
latencies for individual requests. The Mean Latency columns shows the
mean over all 10,000 test queries. The p99 Latency shows the maximum
latency for the 99th-percentile of requests. In other words, 9,900 out
of 10,000 queries will have a latency equal to or lower than the
specified number. The <a href="#what-is-a-p99-latency">difference
between mean and p99</a> helps you get an impression how stable the
request times are in a highly concurrent setup.</p></li><li><p><strong>Import times</strong> <br>
Changing the configuration parameters can also have an effect on the
time it takes to import the dataset. This is shown in the last column.</p></li></ul></div></div></details><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-configuration-for-sphere-dpr">Recommended configuration for Sphere DPR<a href="#recommended-configuration-for-sphere-dpr" class="hash-link" aria-label="Direct link to Recommended configuration for Sphere DPR" title="Direct link to Recommended configuration for Sphere DPR" translate="no">​</a></h4><p>This is the recommended configuration for this dataset. It balances recall, latency, and throughput to give you a good overview of Weaviate&#x27;s performance.</p><table><thead><tr><th><code>efConstruction</code></th><th><code>maxConnections</code></th><th><code>ef</code></th><th><strong>Recall@10</strong></th><th><strong>QPS (Limit 10)</strong></th><th><strong>Mean Latency (Limit 10</strong>)</th><th><strong>p99 Latency (Limit 10)</strong></th></tr></thead><tbody><tr><td>384</td><td>32</td><td>96</td><td>96.06%</td><td>3523</td><td>4.49ms</td><td>7.73ms</td></tr></tbody></table></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="benchmark-setup">Benchmark Setup<a href="#benchmark-setup" class="hash-link" aria-label="Direct link to Benchmark Setup" title="Direct link to Benchmark Setup" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scripts">Scripts<a href="#scripts" class="hash-link" aria-label="Direct link to Scripts" title="Direct link to Scripts" translate="no">​</a></h3>
<p>This benchmark is <a href="https://github.com/weaviate/weaviate-benchmarking" target="_blank" rel="noopener noreferrer" class="">open source</a>, so you can reproduce the results yourself.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hardware">Hardware<a href="#hardware" class="hash-link" aria-label="Direct link to Hardware" title="Direct link to Hardware" translate="no">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Setup with Weaviate and benchmark machine" src="/assets/images/weaviate_benchmark_setup-90af4d66c5f4186e78301ff0885d3164.png" width="2400" height="900" class="img_ev3q"></p>
<p>This benchmark test uses one GCP instances to run both Weaviate and the Benchmark scripts:</p>
<ul>
<li class="">a <code>n4-highmem-16</code> instance with 16 vCPU cores and 128 GB memory.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Here&#x27;s why we chose the <code>n4-highmem-16</code>:</div><div class="admonitionContent_BuS1"><ul>
<li class="">It is large enough to show that Weaviate is a highly concurrent <a href="https://weaviate.io/blog/what-is-a-vector-database" target="_blank" rel="noopener noreferrer" class="">vector search engine</a>.</li>
<li class="">It scales well while running thousands of searches across multiple threads.</li>
<li class="">It is small enough to represent a typical production case without inducing
high costs.</li>
</ul></div></div>
<p>Based on your throughput requirements, it is very likely that you will run Weaviate
on a considerably smaller or larger machine in production.</p>
<p>We have outlined in the <a href="#what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine" class="">Benchmark FAQs</a>
what you should expect when altering the configuration or
setup parameters.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="experiment-setup">Experiment Setup<a href="#experiment-setup" class="hash-link" aria-label="Direct link to Experiment Setup" title="Direct link to Experiment Setup" translate="no">​</a></h3>
<p>We modeled our dataset selection after
<a href="https://github.com/erikbern/ann-benchmarks" target="_blank" rel="noopener noreferrer" class="">ann-benchmarks</a>. The same test
queries are used to test speed, throughput, and recall. The provided ground
truths are used to calculate the recall.</p>
<p>We use Weaviate&#x27;s Golang client to import data.
We use Go to measure the concurrent (multi-threaded) queries.
Each language has its own performance characteristics.
You may get different results if you use a different language to send your queries.</p>
<p>For maximum throughput, we recommend using the <a class="" href="/weaviate/client-libraries/go">Go</a> or
<a class="" href="/weaviate/client-libraries/java">Java</a> client libraries.</p>
<p>The complete import and test scripts are available <a href="https://github.com/weaviate/weaviate-benchmarking" target="_blank" rel="noopener noreferrer" class="">here</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="benchmark-faq">Benchmark FAQ<a href="#benchmark-faq" class="hash-link" aria-label="Direct link to Benchmark FAQ" title="Direct link to Benchmark FAQ" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-can-i-get-the-most-performance-for-my-use-case">How can I get the most performance for my use case?<a href="#how-can-i-get-the-most-performance-for-my-use-case" class="hash-link" aria-label="Direct link to How can I get the most performance for my use case?" title="Direct link to How can I get the most performance for my use case?" translate="no">​</a></h3>
<p>If your use case is similar to one of the benchmark tests, use the recommended HNSW parameter configurations to start tuning.</p>
<p>For more instructions on how to tune your configuration for best performance, see <a class="" href="/weaviate/config-refs/indexing/vector-index#hnsw-configuration-tips">HNSW Configuration Tips</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-the-difference-between-latency-and-throughput">What is the difference between latency and throughput?<a href="#what-is-the-difference-between-latency-and-throughput" class="hash-link" aria-label="Direct link to What is the difference between latency and throughput?" title="Direct link to What is the difference between latency and throughput?" translate="no">​</a></h3>
<p>The latency refers to the time it takes to complete a single request. This
is typically measured by taking a mean or percentile distribution of all
requests. For example, a mean latency of 5ms means that a single request takes, on average, 5ms to complete. This does not say anything about how many queries
can be answered in a given timeframe.</p>
<p>If Weaviate were single-threaded, the throughput per second would roughly equal
to 1s divided by mean latency. For example, with a mean latency of 5ms, this
would mean that 200 requests can be answered in a second.</p>
<p>However, in reality, you often don&#x27;t have a single user sending one query after
another. Instead, you have multiple users sending queries. This makes the
querying side concurrent. Similarly, Weaviate can handle concurrent incoming
requests. We can identify how many concurrent requests can be served by measuring
the throughput.</p>
<p>We can take our single-thread calculation from before and multiply it with the
number of server CPU cores. This will give us a rough estimate of what the
server can handle concurrently. However, it would be best never to trust this
calculation alone and continuously measure the actual throughput. This is because
such scaling may not always be linear. For example, there may be synchronization
mechanisms used to make concurrent access safe, such as locks. Not only do
these mechanisms have a cost themselves, but if implemented incorrectly, they
can also lead to congestion, which would further decrease the concurrent
throughput. As a result, you cannot perform a single-threaded benchmark and
extrapolate what the numbers would be like in a multi-threaded setting.</p>
<p>All throughput numbers (&quot;QPS&quot;) outlined in this benchmark are actual
multi-threaded measurements on a 30-core machine, not estimations.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-a-p99-latency">What is a p99 latency?<a href="#what-is-a-p99-latency" class="hash-link" aria-label="Direct link to What is a p99 latency?" title="Direct link to What is a p99 latency?" translate="no">​</a></h3>
<p>The mean latency gives you an average value of all requests measured. This is a
good indication of how long a user will have to wait on average for
their request to be completed. Based on this mean value, you cannot make any
promises to your users about wait times. 90 out of 100 users might see a
considerably better time, but the remaining 10 might see a significantly worse
time.</p>
<p>Percentile-based latencies are used to give a more precise indication. A
99th-percentile latency - or &quot;p99 latency&quot; for short - indicates the slowest
request that 99% of requests experience. In other words, 99% of your users will
experience a time equal to or better than the stated value. This is a much
better guarantee than a mean value.</p>
<p>In production settings, requirements - as stated in support plans - are often a
combination of throughput and a percentile latency. For example, the statement
&quot;3000 QPS at p95 latency of 20ms&quot; conveys the following meaning.</p>
<ul>
<li class="">3000 requests need to be successfully completed per second</li>
<li class="">95% of users must see a latency of 20ms or lower.</li>
<li class="">There is no assumption about the remaining 5% of users, implicitly tolerating
that they will experience higher latencies than 20ms.</li>
</ul>
<p>The higher the percentile (e.g. p99 over p95) the &quot;safer&quot; the quoted
latency becomes. We have thus decided to use p99-latencies instead of
p95-latencies in our measurements.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine">What happens if I run with fewer or more CPU cores than on the example test machine?<a href="#what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine" class="hash-link" aria-label="Direct link to What happens if I run with fewer or more CPU cores than on the example test machine?" title="Direct link to What happens if I run with fewer or more CPU cores than on the example test machine?" translate="no">​</a></h3>
<p>The benchmark outlines a QPS per core measurement. This can help you make a
rough estimation of how the throughput would vary on smaller or larger
machines. If you do not need the stated throughput, you can run with fewer CPU
cores. If you need more throughput, you can run with more CPU cores.</p>
<p>Adding more CPUs reaches a point of diminishing returns because of synchronization mechanisms, disk, and memory bottlenecks. Beyond that point, you  should scale horizontally instead of vertically. Horizontal scaling with replication is also available.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-are-ef-efconstruction-and-maxconnections">What are <code>ef</code>, <code>efConstruction</code>, and <code>maxConnections</code>?<a href="#what-are-ef-efconstruction-and-maxconnections" class="hash-link" aria-label="Direct link to what-are-ef-efconstruction-and-maxconnections" title="Direct link to what-are-ef-efconstruction-and-maxconnections" translate="no">​</a></h3>
<p>These parameters refer to the <a class="" href="/weaviate/config-refs/indexing/vector-index#hnsw-index">HNSW build and query
parameters</a>.
They represent a trade-off between recall, latency &amp; throughput, index size, and
memory consumption. This trade-off is highlighted in the benchmark results.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="i-cant-match-the-same-latenciesthroughput-in-my-own-setup-how-can-i-debug-this">I can&#x27;t match the same latencies/throughput in my own setup. How can I debug this?<a href="#i-cant-match-the-same-latenciesthroughput-in-my-own-setup-how-can-i-debug-this" class="hash-link" aria-label="Direct link to I can&#x27;t match the same latencies/throughput in my own setup. How can I debug this?" title="Direct link to I can&#x27;t match the same latencies/throughput in my own setup. How can I debug this?" translate="no">​</a></h3>
<p>If you are encountering other numbers in your own dataset, here are a couple of
hints to look at:</p>
<ul>
<li class="">
<p>What CPU architecture are you using? The benchmarks above were run on a GCP
<code>c2</code> CPU type, which is based on <code>amd64</code> architecture. Weaviate also supports
<code>arm64</code> architecture, but not all optimizations are present. If your machine
shows maximum CPU usage but you cannot achieve the same throughput, consider
switching the CPU type to the one used in this benchmark.</p>
</li>
<li class="">
<p>Are you using an actual dataset or random vectors? HNSW is known to perform
considerably worse with random vectors than with real-world datasets. This is due
to the distribution of points in real-world datasets compared to randomly
generated vectors. If you cannot achieve the performance (or recall)
outlined above with random vectors, switch to an actual dataset.</p>
</li>
<li class="">
<p>Are your disks fast enough? While the ANN search itself is CPU-bound, the objects
must be read from disk after the search has been completed. Weaviate
uses memory-mapped files to speed this process up. However, if not enough
memory is present or the operating system has allocated the cached pages
elsewhere, a physical disk read needs to occur. If your disk is slow,
it could then be that your benchmark is bottlenecked by those disks.</p>
</li>
<li class="">
<p>Are you using more than 2 million vectors? If yes, make sure to set the
<a class="" href="/weaviate/concepts/resources#vector-cache">vector cache large enough</a>
for maximum performance.</p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="where-can-i-find-the-scripts-to-run-this-benchmark-myself">Where can I find the scripts to run this benchmark myself?<a href="#where-can-i-find-the-scripts-to-run-this-benchmark-myself" class="hash-link" aria-label="Direct link to Where can I find the scripts to run this benchmark myself?" title="Direct link to Where can I find the scripts to run this benchmark myself?" translate="no">​</a></h3>
<p>The <a href="https://github.com/weaviate/weaviate-benchmarking" target="_blank" rel="noopener noreferrer" class="">repository is located here</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="questions-and-feedback">Questions and feedback<a href="#questions-and-feedback" class="hash-link" aria-label="Direct link to Questions and feedback" title="Direct link to Questions and feedback" translate="no">​</a></h2>
<!-- -->
<p>If you have any questions or feedback, let us know in the <a href="https://forum.weaviate.io/" target="_blank" rel="noopener noreferrer" class="">user forum</a>.</p>
<!-- -->
<!-- -->
<div class="cardsSection_Ezca smallCards_eRph"><a href="https://forum.weaviate.io/new-topic?title=%5BQuestion%5D%20YOUR%20TOPIC&amp;body=Details%20here&amp;category=support&amp;tags=technical" target="_blank" rel="noopener noreferrer" class="card_OoQD"><div class="cardHeader_rXdg"><i class="fas fa-comments cardIcon_K4xK"></i><span class="cardTitle_TsZq">Technical questions</span></div><p class="cardDescription__QXy">If you have questions feel free to post on our<!-- --> <span class="highlight_acB9">Community forum</span>.</p></a><a href="https://github.com/weaviate/docs/issues" target="_blank" rel="noopener noreferrer" class="card_OoQD"><div class="cardHeader_rXdg"><i class="fa-brands fa-github cardIcon_K4xK"></i><span class="cardTitle_TsZq">Documentation feedback</span></div><p class="cardDescription__QXy">Leave feedback by opening a GitHub issue.</p></a></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/weaviate/docs/tree/main/docs/weaviate/benchmarks/ann.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div><footer class="footer_G0fi"><div class="container"><div class="footerContent_oI6g"><div class="leftSection_TIm0"><div class="socialIcons_Okfn"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github" aria-hidden="true"></i></a><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer" title="Slack"><i class="fab fa-slack" aria-hidden="true"></i></a><a href="https://x.com/weaviate_io" target="_blank" rel="noopener noreferrer" title="X"><i class="fab fa-twitter" aria-hidden="true"></i></a><a href="https://instagram.com/weaviate.io" target="_blank" rel="noopener noreferrer" title="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a><a href="https://youtube.com/@Weaviate" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i></a><a href="https://www.linkedin.com/company/weaviate-io" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i></a></div></div><div class="rightSection_LCNx"><div class="footerSection_l31a"><h5>Documentation</h5><ul><li><a href="/weaviate">Weaviate Database</a></li><li><a href="/deploy">Deployment documentation</a></li><li><a href="/cloud">Weaviate Cloud</a></li><li><a href="/agents">Weaviate Agents</a></li></ul></div><div class="footerSection_l31a"><h5>Support</h5><ul><li><a href="https://forum.weaviate.io/c/support/" target="_blank" rel="noopener noreferrer">Forum</a></li><li><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer">Slack</a></li></ul></div></div></div></div></footer></footer></article></div></div><div class="col col--3"><div class="customTocStickyContainer_xbxO"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#measured-metrics" class="table-of-contents__link toc-highlight">Measured Metrics</a></li><li><a href="#benchmark-results" class="table-of-contents__link toc-highlight">Benchmark Results</a></li><li><a href="#benchmark-setup" class="table-of-contents__link toc-highlight">Benchmark Setup</a><ul><li><a href="#scripts" class="table-of-contents__link toc-highlight">Scripts</a></li><li><a href="#hardware" class="table-of-contents__link toc-highlight">Hardware</a></li><li><a href="#experiment-setup" class="table-of-contents__link toc-highlight">Experiment Setup</a></li></ul></li><li><a href="#benchmark-faq" class="table-of-contents__link toc-highlight">Benchmark FAQ</a><ul><li><a href="#how-can-i-get-the-most-performance-for-my-use-case" class="table-of-contents__link toc-highlight">How can I get the most performance for my use case?</a></li><li><a href="#what-is-the-difference-between-latency-and-throughput" class="table-of-contents__link toc-highlight">What is the difference between latency and throughput?</a></li><li><a href="#what-is-a-p99-latency" class="table-of-contents__link toc-highlight">What is a p99 latency?</a></li><li><a href="#what-happens-if-i-run-with-fewer-or-more-cpu-cores-than-on-the-example-test-machine" class="table-of-contents__link toc-highlight">What happens if I run with fewer or more CPU cores than on the example test machine?</a></li><li><a href="#what-are-ef-efconstruction-and-maxconnections" class="table-of-contents__link toc-highlight">What are <code>ef</code>, <code>efConstruction</code>, and <code>maxConnections</code>?</a></li><li><a href="#i-cant-match-the-same-latenciesthroughput-in-my-own-setup-how-can-i-debug-this" class="table-of-contents__link toc-highlight">I can&#39;t match the same latencies/throughput in my own setup. How can I debug this?</a></li><li><a href="#where-can-i-find-the-scripts-to-run-this-benchmark-myself" class="table-of-contents__link toc-highlight">Where can I find the scripts to run this benchmark myself?</a></li></ul></li><li><a href="#questions-and-feedback" class="table-of-contents__link toc-highlight">Questions and feedback</a></li></ul></div><div class="container_jpeN"><p class="text_tGp7">Was this page helpful?</p><div class="buttonContainer_rFWk"><button class="voteButton_HXmX undefined" aria-label="Vote up"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 10v12"></path><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"></path></svg>Yes</button><button class="voteButton_HXmX undefined" aria-label="Vote down"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 14V2"></path><path d="M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z"></path></svg>No</button></div></div></div><div class="feedbackWrapper_JTi0"></div></div></div></div></main></div></div></div></div>
</body>
</html>