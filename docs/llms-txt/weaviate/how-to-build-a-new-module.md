# Source: https://docs.weaviate.io/contributor-guide/weaviate-modules/how-to-build-a-new-module

<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contributor-guide/weaviate-modules/how-to-build-a-new-module" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Module creation in a nutshell | Weaviate Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.weaviate.io/contributor-guide/weaviate-modules/how-to-build-a-new-module"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Module creation in a nutshell | Weaviate Documentation"><meta data-rh="true" name="description" content="If you have your own vectorizer, machine learning or other model that you want to use with Weaviate, you can build your own Weaviate Module."><meta data-rh="true" property="og:description" content="If you have your own vectorizer, machine learning or other model that you want to use with Weaviate, you can build your own Weaviate Module."><meta data-rh="true" property="og:image" content="https://docs.weaviate.io/og/contributor-guide/weaviate-modules.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.weaviate.io/og/contributor-guide/weaviate-modules.jpg"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.weaviate.io/contributor-guide/weaviate-modules/how-to-build-a-new-module"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/contributor-guide/weaviate-modules/how-to-build-a-new-module" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/contributor-guide/weaviate-modules/how-to-build-a-new-module" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Weaviate Modules","item":"https://docs.weaviate.io/contributor-guide/weaviate-modules/"},{"@type":"ListItem","position":2,"name":"Module creation in a nutshell","item":"https://docs.weaviate.io/contributor-guide/weaviate-modules/how-to-build-a-new-module"}]}</script><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-WS8CG676",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>

<script>!function(){if("undefined"!=typeof window&&void 0===window.signals){var n=document.createElement("script");n.src="https://cdn.cr-relay.com/v1/site/3709e2b3-c0eb-4239-9087-775e484fab16/signals.js",n.async=!0,window.signals=Object.assign([],["page","identify","form"].reduce((function(n,e){return n[e]=function(){return signals.push([e,arguments]),signals},n}),{})),document.head.appendChild(n)}}()</script>
<script id="hs-script-loader" async="true" defer="true" src="https://js.hs-scripts.com/8738733.js"></script>
<link rel="stylesheet" href="/fonts/font-awesome/fontawesome.css">
<link rel="stylesheet" href="/fonts/font-awesome/solid.css">
<link rel="stylesheet" href="/fonts/font-awesome/regular.css">
<link rel="stylesheet" href="/fonts/font-awesome/brands.css"><link rel="stylesheet" href="/assets/css/styles.f4cdad07.css">
<script src="/assets/js/runtime~main.444b5859.js" defer="defer"></script>
<script src="/assets/js/main.6a4a6ee2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>


<script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WS8CG676" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-light-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-dark-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-w.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#1C1468;color:#F5F5F5" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a href="https://academy.weaviate.io/">The new <b>Weaviate Academy</b> learning platform is here!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="defaultNavbar_mOWn" style="top:0"><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/site/weaviate-logo-horizontal-light-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/site/weaviate-logo-horizontal-dark-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/weaviate/api/rest"></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg class="githubStars" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a href="https://academy.weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link academy-button">Academy</a><a href="https://weaviate.io/go/console?utm_source=docs&amp;utm_content=navbar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cloud-button">Weaviate Cloud</a><div class="hiddenSearch navbarSearchContainer_Bca1"><div class="searchBox"><button class="searchButton"><span class="searchPlaceholder"><i class="searchIcon fas fa-magnifying-glass"></i><span class="searchPlaceholderText">Ask AI or Search</span></span><div class="commandIconContainer"><span class="commandIcon">⌘K</span></div></button></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div class="modalOverlay_BeVA"><div class="modalContent_CPV2"><div class="modalHeader_aBIn"><div class="modalHeaderLeft_Jnp2"><strong>Go to documentation:</strong></div><div class="modalHeaderRight_pW31"><div class="modalHeaderButton_lyv9"><span class="buttonShortcut_rHzY">⌘U</span><div class="verticalDivider_TWYg"></div><button class="headerCloseIcon_Nc0n">✕</button></div></div></div><div class="modalBody_bZ4G"><div class="modalOptionsContainer_GF7c"><div class="modalOption_Zqj6"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Database</strong><p>Develop AI applications using Weaviate&#x27;s APIs and tools</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Deploy</strong><p>Deploy, configure, and maintain Weaviate Database</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-robot modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Agents</strong><p>Build and deploy intelligent agents with Weaviate</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-cloud modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Cloud</strong><p>Manage and scale Weaviate in the cloud</p></div></div></div><div class="resourcesSection__QVP"><h4 class="sectionTitle_TjaJ">Additional resources</h4><div class="resourcesGrid_Fe8L"><div class="resourceCard_qG9v"><i class="fa fa-puzzle-piece resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Integrations</span></div><div class="resourceCard_qG9v activeResource_STZh"><i class="fa fa-edit resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Contributor guide</span><div class="activeResourceIndicator_RYRi"></div></div><div class="resourceCard_qG9v"><i class="fa fa-calendar-days resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Events &amp; Workshops</span></div><div class="resourceCard_qG9v"><i class="fa-solid fa-graduation-cap resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Weaviate Academy</span></div></div></div><div class="aiAssistantSection_Qefr"><h4 class="sectionTitle_TjaJ">Need help?</h4><div class="resourcesGrid_Fe8L"><div class="askAiButton_snh2"><img src="/img/site/weaviate-logo-w.png" alt="Weaviate Logo" class="askAiIcon_T_rP"><span class="askAiText_snFq">Ask AI Assistant</span><span class="askAiShortcut_kkRQ">⌘K</span></div><div class="resourceCard_qG9v"><i class="fa fa-comments styles.resourceIcon" aria-hidden="true"></i><span class="resourceTitle__PWa">Community Forum</span></div></div></div></div></div></div><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/contributor-guide"><span title="Contributor guide" class="categoryLinkLabel_W154">Contributor guide</span></a><button aria-label="Collapse sidebar category &#x27;Contributor guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributor-guide/getting-started/suggesting-enhancements"><span title="Feature requests" class="linkLabel_WmDU">Feature requests</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributor-guide/getting-started/reporting-bugs"><span title="Reporting bugs" class="linkLabel_WmDU">Reporting bugs</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/contributor-guide/weaviate-core"><span title="Weaviate Database" class="categoryLinkLabel_W154">Weaviate Database</span></a><button aria-label="Expand sidebar category &#x27;Weaviate Database&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/contributor-guide/weaviate-docs"><span title="Weaviate Docs" class="categoryLinkLabel_W154">Weaviate Docs</span></a><button aria-label="Expand sidebar category &#x27;Weaviate Docs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contributor-guide/weaviate-clients"><span title="Weaviate Clients" class="linkLabel_WmDU">Weaviate Clients</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/contributor-guide/weaviate-modules"><span title="Weaviate Modules" class="categoryLinkLabel_W154">Weaviate Modules</span></a><button aria-label="Collapse sidebar category &#x27;Weaviate Modules&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contributor-guide/weaviate-modules/architecture"><span title="Architecture" class="linkLabel_WmDU">Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contributor-guide/weaviate-modules/how-to-build-a-new-module"><span title="Module creation in a nutshell" class="linkLabel_WmDU">Module creation in a nutshell</span></a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/contributor-guide/weaviate-modules"><span>Weaviate Modules</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Module creation in a nutshell</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Module creation in a nutshell</h1></header><p>If you have your own vectorizer, machine learning or other model that you want to use with Weaviate, you can build your own Weaviate Module.</p>
<p>The visualization below shows how modules are part of and connected to Weaviate. The black border indicates Weaviate Database, with the grey boxes as internals. Everything in red involves how Weaviate uses the modules that are connected, with the general Module System API. The red Module API spans two internal &#x27;layers&#x27;, because it can influence the Weaviate APIs (e.g. by extending GraphQL or providing additional properties), and it can influence the business logic (e.g. by taking the properties of an object and setting a vector).</p>
<p>Everything that is blue belongs to a specific module (more than one module can be attached, but here we show one module). Here we have an example of Weaviate using the <code>text2vec-transformers</code> module <code>bert-base-uncased</code>. Everything that belongs to the <code>text2vec-transformers</code> module is thus drawn in blue. The blue box inside Weaviate Database is the part 1 of the module: the module code for Weaviate. The blue box outside Weaviate Database is the separate inference service, part 2.</p>
<p>The picture shows three APIs:</p>
<ul>
<li class="">The first grey box inside Weaviate Database, which is the user-facing RESTful and GraphQL API.</li>
<li class="">The red box is the Module System API, which are interfaces written in Go.</li>
<li class="">The third API is completely owned by the module, which is used to communicate with the separate module container. This is in this case a Python container, shown on the left.</li>
</ul>
<p>To use a custom ML model with Weaviate, you have two options:</p>
<ul>
<li class="">A: Replace parts of an existing module, where you only replace the inference service (part 2). You don&#x27;t have to touch Weaviate Database here. This is a good option for fast prototyping and proofs of concepts. In this case, you simply replace the inference model (part 2), but keep the interface with Weaviate in Go. This is a quick way to integrate completely different model types.</li>
<li class="">B: Build a complete new module and replace all existing (blue) module parts (both 1 and 2). You can configure custom behavior like extending the GraphQL API, as long as the module can hook into the &#x27;red&#x27; Module System API. Keep in mind that you&#x27;ll need to write some module code in Go to achieve this.</li>
</ul>
<p>On this page, you&#x27;ll find how to create a complete new module (option B), so building part 1 and 2. If you only want to replace part 2 (so making use of an existing Weaviate module&#x27;s API design), you can find instructions <a class="" href="/weaviate/modules/custom-modules#a-replace-parts-of-an-existing-module">here</a>.</p>
<p><img decoding="async" loading="lazy" alt="Weaviate module APIs overview" src="/assets/images/weaviate-module-apis-3a56351def9cd3a66f6cd0186875d2c4.svg" title="Weaviate module APIs overview" width="703" height="403" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<p>This requires some programming in Golang, since you&#x27;ll need to build the module for Weaviate, which is written in Go. You don&#x27;t need to be a very experienced Go programmer, but you&#x27;ll need some basic understanding of how this statically typed language works. You can view and copy code from other modules to your own project, which is explained later. You&#x27;ll build a custom module (<a class="" href="/contributor-guide/weaviate-modules/architecture#visualization">part 1 of this image</a>), as well as a custom inference service (<a class="" href="/contributor-guide/weaviate-modules/architecture#visualization">part 2</a>). It is recommended to understand the module architecture of Weaviate which you can read <a class="" href="/contributor-guide/weaviate-modules">here</a> (overview) and <a class="" href="/contributor-guide/weaviate-modules/architecture">here</a> (architecture), before you start building your own module.</p>
<p>If you want to make a pull request to Weaviate with your custom module, make sure to adhere to the <a class="" href="/contributor-guide/weaviate-core/structure">code structure</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-the-internal-weaviate-module-part-1">Design the internal Weaviate Module (part 1)<a href="#design-the-internal-weaviate-module-part-1" class="hash-link" aria-label="Direct link to Design the internal Weaviate Module (part 1)" title="Direct link to Design the internal Weaviate Module (part 1)" translate="no">​</a></h2>
<p>Before you start programming, make sure you have a good design and idea how your module should look like:</p>
<ol>
<li class="">The name of the module should follow the <a class="" href="/contributor-guide/weaviate-modules#module-characteristics">naming convention</a>. For a vectorizer: <code>&lt;media&gt;2vec-&lt;name&gt;-&lt;optional&gt;</code> and other modules: <code>&lt;functionality&gt;-&lt;name&gt;-&lt;optional&gt;</code>.</li>
<li class="">Optional GraphQL <a class="" href="/weaviate/api/graphql/additional-properties"><code>_additional</code> property fields</a>. Here you can return any new field with data that you would like. Make sure the field name doesn&#x27;t clash with existing field names, like <code>id</code>, <code>certainty</code>, <code>classification</code> and <code>featureProjection</code>, and <code>_additional</code> fields of other modules that you activate in the same startup configuration. New <code>_additional</code> fields can also have subfields.</li>
<li class="">Optional GraphQL <a class="" href="/weaviate/api/graphql/filters">filters</a>. You can make a new GraphQL filter on different levels. If your filter is a &#x27;class-level influencer&#x27; that influences which results will be returned, you can introduce it at the <code>Class</code> level. Examples are <code>near&lt;Foo&gt;</code>, <code>limit</code> or <code>ask</code>. If your module would only enhance existing results, you should scope the filter to the new <code>_additional</code> property. An example is <code>featureProjection</code>.</li>
<li class="">Think about what you or another user should be able to configure to use this Weaviate Module. Configuration can be passed in the Weaviate configuration (e.g. in the <a href="https://github.com/weaviate/weaviate-examples/blob/4edd6ee767d0e80bca1dd8d982db2378992ddb67/weaviate-contextionary-newspublications/docker-compose.yaml#L24-L29" target="_blank" rel="noopener noreferrer" class="">docker-compose.yml file</a>).</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-the-inference-model-part-2">Design the inference model (part 2)<a href="#design-the-inference-model-part-2" class="hash-link" aria-label="Direct link to Design the inference model (part 2)" title="Direct link to Design the inference model (part 2)" translate="no">​</a></h2>
<p>The inference model is a service that provides at least four API endpoints:</p>
<ol>
<li class=""><code>GET /.well-known/live</code> responds <code>204</code> when the app is alive.</li>
<li class=""><code>GET /.well-known/ready</code> responds <code>204</code> when the app is ready to serve traffic.</li>
<li class=""><code>GET /meta</code> responds meta information about the inference model.</li>
<li class=""><code>POST /&lt;foo&gt;</code> (at least 1) is the endpoint that the Weaviate Module uses for inference. For a vectorizer this might for example be <code>POST /vectors</code>, which takes a JSON body with the data to vectorize. A vector will be returned (in JSON format). The Question Answering model, on the other hand, has an endpoint <code>POST /answers</code>, which takes a JSON body with the text to tokenize and returns a list of tokens found in the text (also formatted as JSON).</li>
</ol>
<p>You can always ask us on <a href="https://forum.weaviate.io/" target="_blank" rel="noopener noreferrer" class="">the forum</a>, <a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer" class="">Slack</a> or <a href="https://github.com/weaviate/weaviate/issues" target="_blank" rel="noopener noreferrer" class="">GitHub</a> to get help with the design.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-to-build-a-custom-module---guidelines">How to build a custom module - guidelines<a href="#how-to-build-a-custom-module---guidelines" class="hash-link" aria-label="Direct link to How to build a custom module - guidelines" title="Direct link to How to build a custom module - guidelines" translate="no">​</a></h2>
<p>Once you are happy with the design, you can <a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" class="">fork the latest Weaviate version</a> and make a new branch from master.
Ideally, you create an <a href="https://github.com/weaviate/weaviate/issues" target="_blank" rel="noopener noreferrer" class="">issue on GitHub</a> with the module. Now you can refer to this issue in you commits, as well as ask for feedback from us and the community.</p>
<p>These guidelines follow the example of the <a href="https://github.com/weaviate/weaviate/tree/master/modules/qna-transformers" target="_blank" rel="noopener noreferrer" class="">QnA module</a>. This is a module with an additional feature, no vectorization module. It adds information in the GraphQL <code>_additional</code> field by examining the data in Weaviate.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-first-files">1. First files<a href="#1-first-files" class="hash-link" aria-label="Direct link to 1. First files" title="Direct link to 1. First files" translate="no">​</a></h3>
<ol>
<li class="">In the <code>/modules</code> folder, make a new folder with the name of your module. Make sure to adhere to the <a class="" href="/contributor-guide/weaviate-modules#module-characteristics">naming convention</a>.</li>
<li class="">Add a file <code>config.go</code> (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/config.go" target="_blank" rel="noopener noreferrer" class="">example</a>). This file describes some configuration of the module to Weaviate. You can copy/paste most of the example file, make sure to adapt the functions&#x27; receiver names.</li>
<li class="">Add a file <code>module.go</code> (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/module.go" target="_blank" rel="noopener noreferrer" class="">example</a>). This file describes the module as a whole and its capabilities. You will, again, be able to copy most of an example file to your project. Make sure to define which <code>modulecapabilities</code> (from <a href="https://github.com/weaviate/weaviate/tree/master/entities/modulecapabilities" target="_blank" rel="noopener noreferrer" class="">here</a>) you want to use (this will be explained later).</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-add-graphql-additional-query-filter-and-result-fields">2. Add GraphQL additional query, filter and result fields<a href="#2-add-graphql-additional-query-filter-and-result-fields" class="hash-link" aria-label="Direct link to 2. Add GraphQL additional query, filter and result fields" title="Direct link to 2. Add GraphQL additional query, filter and result fields" translate="no">​</a></h3>
<p>If you want to add GraphQL query and results field with your module, you can add them in the <code>_additional</code> field (note, filters may also appear on higher level, see <a href="#design-the-internal-weaviate-module-part-1" class="">above</a>). Information in this field contains additional information per data objects that is returned by the GraphQL query. If you are making a vectorization module, you might not need a new <code>_additional</code> field, so follow these steps only if you made a new field in your design.</p>
<ol>
<li class="">First, add a folder called <code>additional</code> in the module.</li>
<li class="">In here, make a file <code>provider.go</code>, a folder named <code>/models</code> with a file <code>models.go</code> and a folder named which describes your new additional field (in this example <code>/answer</code>)</li>
<li class="">In <code>models.go</code>, define the new field as a <code>struct</code>. For example, <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/models/models.go" target="_blank" rel="noopener noreferrer" class="">here</a> the struct <code>Answer</code> defines the fields that will be added to the GraphQL <code>_additional { answer {} }</code> field. GraphQL results are in JSON, so we need to specify that. <code>&quot;omitempty&quot;</code> should be added to prevent GraphQL errors.</li>
<li class="">In <code>/answer</code>, we will define the result using the <a href="https://github.com/graphql-go/graphql" target="_blank" rel="noopener noreferrer" class="">GraphQL Go library</a>. In this folder, we make 3 files to add GraphQL result fields:<!-- -->
<ol>
<li class=""><code>newField_graphql_field.go</code>(e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/answer/answer_graphql_field.go" target="_blank" rel="noopener noreferrer" class=""><code>answer_graphql_field.go</code></a>). Here we write the complete GraphQL <code>_additional {newField}</code>. We make use of the GraphQL Go library to define the new function.  If you would like to add a filter in this new <code>_additional</code> field, you can define that here. If you would like to add a filter on a higher level in the GraphQL query (not in the <code>_additional</code> field), you don&#x27;t need to define this in this file, but on a higher level (<a href="https://github.com/weaviate/weaviate/tree/master/modules/qna-transformers/ask" target="_blank" rel="noopener noreferrer" class="">see for example the QnA <code>ask</code> filter</a>).</li>
<li class=""><code>&lt;fieldname&gt;.go</code> (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/answer/answer.go" target="_blank" rel="noopener noreferrer" class=""><code>answer.go</code></a>). <code>AdditionalPropertyFn</code> will be called when the GraphQL <code>_additional {&lt;new_field&gt;} </code> field is called. Best is to refer to a new function, which is the next file to create.</li>
<li class=""><code>&lt;fieldname&gt;_result.go</code> (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/answer/answer_result.go" target="_blank" rel="noopener noreferrer" class=""><code>answer_result.go</code></a>). Here&#x27;s the function that goes from argument values (in <code>params</code>) and a list of returned data objects (in <code>in</code>), to results in your new <code>_additional { newField {} }</code>, via a call to the inference container. It should return a struct defined in <code>/ent/&lt;foo&gt;_result.go</code>. For example in <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ent/vectorization_result.go" target="_blank" rel="noopener noreferrer" class=""><code>/ent/vectorization_result.go</code></a>, we see a struct <code>AnswerResult</code>.
It is recommended to first return some hard-coded values, to validate this is working correctly without calling the inference API.</li>
</ol>
</li>
<li class="">Finally, let&#x27;s look at <code>provider.go</code>. In here the connection between the new <code>_additional {}</code> field and Weaviate is defined. With this module, you want to add information to the <code>_additional {}</code> field with a new field. We need to define this here, to let the GraphQL fields appear when the module is selected in the Weaviate setup. Methods to return a GraphQL result should follow Weaviate&#x27;s module API. Those methods are written in <a href="https://github.com/weaviate/weaviate/tree/master/entities/modulecapabilities" target="_blank" rel="noopener noreferrer" class=""><code>/entities/modulecapabilities</code></a>. See <a class="" href="/contributor-guide/weaviate-modules/architecture#module-capabilities-additionalgo">here</a> for a detailed explanation of what you can find in <a href="https://github.com/weaviate/weaviate/blob/master/entities/modulecapabilities/additional.go" target="_blank" rel="noopener noreferrer" class=""><code>additional.go</code></a>.</li>
</ol>
<p>It is recommended to <a href="#running-and-testing-weaviate-during-development" class="">test</a> what you built until now with hardcoded data (so without making a call to an inference API yet). You can replace this later with actual calls.</p>
<p>Make sure to also write tests for the GraphQL field and for the result (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/answer/answer_graphql_field_test.go" target="_blank" rel="noopener noreferrer" class="">this</a> and <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/answer/answer_test.go" target="_blank" rel="noopener noreferrer" class="">this</a>).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-add-graphql-filter-other-than-in-_additional">3. Add GraphQL filter (other than in <code>_additional</code>)<a href="#3-add-graphql-filter-other-than-in-_additional" class="hash-link" aria-label="Direct link to 3-add-graphql-filter-other-than-in-_additional" title="Direct link to 3-add-graphql-filter-other-than-in-_additional" translate="no">​</a></h3>
<p>If you choose to add a filter outside the <code>_additional</code> GraphQL field, you need to take a slightly different approach to add the filter arguments as explained in the previous step. That is because you can&#x27;t include the filter arguments in the <code>/additional</code> GraphQL field. For example, the QnA module has the filter <code>ask</code> on class level (click <a class="" href="/weaviate/modules/qna-transformers#graphql-ask-search">here</a> for an example). This argument was created in a new folder inside the new module folder in Weaviate (<a href="https://github.com/weaviate/weaviate/tree/master/modules/qna-transformers/ask" target="_blank" rel="noopener noreferrer" class="">example</a>). To achieve this, make sure to follow these steps:</p>
<ol>
<li class="">Create a new folder inside your new module folder with the name of the filter (e.g. <a href="https://github.com/weaviate/weaviate/tree/master/modules/qna-transformers/ask" target="_blank" rel="noopener noreferrer" class=""><code>/ask</code></a>). In this folder:</li>
<li class="">Define the GraphQL filter arguments in <code>graphql_argument.go</code> (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ask/graphql_argument.go" target="_blank" rel="noopener noreferrer" class="">example</a>, and also write a test for this.</li>
<li class="">Define the parameters in <code>params.go</code> (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ask/param.go" target="_blank" rel="noopener noreferrer" class="">example</a>).</li>
<li class="">In <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ask/graphql_provider.go" target="_blank" rel="noopener noreferrer" class=""><code>graphql_provider.go</code></a>, you define which <code>modulecapabilities</code> of Weaviate you want to use with this filter.</li>
<li class="">Additionally, you can add some &#x27;helper functions&#x27;, for example to extract parameter values (see <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ask/param_helper.go" target="_blank" rel="noopener noreferrer" class=""><code>param_helper.go</code></a> and <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ask/grapqhl_extract.go" target="_blank" rel="noopener noreferrer" class=""><code>params_extract.go</code></a>) (and don&#x27;t forget the tests).</li>
<li class="">Make sure to let Weaviate know about this new filter and arguments in a file in the new module folder (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ask.go" target="_blank" rel="noopener noreferrer" class="">example</a>).</li>
<li class="">Again, you can first fill the filter arguments with some hardcoded values to test, before you use the filter&#x27;s values to compute the GraphQL result (which you do for example <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/answer/answer_result.go#L28" target="_blank" rel="noopener noreferrer" class="">here</a>).</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-design-the-client-for-communication-with-the-inference-app">4. Design the client for communication with the inference app<a href="#4-design-the-client-for-communication-with-the-inference-app" class="hash-link" aria-label="Direct link to 4. Design the client for communication with the inference app" title="Direct link to 4. Design the client for communication with the inference app" translate="no">​</a></h3>
<p>The internal Weaviate module makes <code>http</code> requests to a service that does the actual inference or computation. You need to define this connection in the Weaviate module.</p>
<ol>
<li class="">Create a <code>/clients</code> folder.</li>
<li class="">Create a <code>startup.go</code> file (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/startup.go" target="_blank" rel="noopener noreferrer" class="">example</a>). Weaviate uses the functions <code>WaitForStartup()</code> and <code>checkReady</code> to connect to the specified inference service location, by calling the <code>&quot;/.well-known/ready&quot;</code> endpoint of the container. Most likely, you will be able to copy and past <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/startup.go" target="_blank" rel="noopener noreferrer" class="">this file</a> almost completely to your project (you need to change the function receiver and the warning messages to your custom module).</li>
<li class="">Create a <code>&lt;&gt;_meta.go</code> file (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/qna_meta.go" target="_blank" rel="noopener noreferrer" class=""><code>qna_meta.go</code></a>). The function <code>MetaInfo()</code> will use the <code>/meta</code> endpoint of the service to collect meta information, which will be exposed in Weaviate&#x27;s <code>/meta</code> endpoint.</li>
<li class="">Create a file (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/qna.go" target="_blank" rel="noopener noreferrer" class=""><code>qna.go</code></a>) that calls the inference service and returns results that you want to add to the GraphQL result. You can use the arguments and GraphQL results, and your custom inference container to return the module&#x27;s results in the <code>_additional {}</code> field. The result should be in the format (struct) you define in <code>/ent/&lt;module&gt;_result.go</code> (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/ent/vectorization_result.go" target="_blank" rel="noopener noreferrer" class=""><code>/ent/vectorization_result.go</code></a>). For now, you can return any hardcoded data (and not make an actual call to the inference API), to test whether this function works.</li>
<li class="">Create tests: testing <code>meta</code> (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/qna_meta_test.go" target="_blank" rel="noopener noreferrer" class="">example</a>) and <code>startup</code> (<a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/startup_test.go" target="_blank" rel="noopener noreferrer" class="">example</a>).</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-create-the-inference-container">5. Create the inference container<a href="#5-create-the-inference-container" class="hash-link" aria-label="Direct link to 5. Create the inference container" title="Direct link to 5. Create the inference container" translate="no">​</a></h3>
<p>So far we&#x27;ve programmed the module inside Weaviate. Now, let&#x27;s work on the inference container, which takes care of the actual machine learning or data enhancement. This should be a service, that is running when Weaviate is using the module or can be packed in a container (which is recommended). The service API should have at least 4 endpoints, described above. Make sure that the body of the actual inference endpoint(s) accepts JSON with data that is sent by Weaviate (which you defined in e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/qna.go" target="_blank" rel="noopener noreferrer" class=""><code>qna.go</code></a>), and that it returns JSON that Weaviate understands (as you defined in e.g. <a href="https://github.com/weaviate/weaviate/blob/7036332051486b393d83f9ea2ffb0ca1b2269328/modules/qna-transformers/clients/qna.go#L94" target="_blank" rel="noopener noreferrer" class=""><code>qna.go</code>: <code>answersResponse</code></a>).</p>
<p>How you build the inference service is up to you. For example, if you have your own machine learning model, you could write a Python wrapper around it, using for example <a href="https://fastapi.tiangolo.com/" target="_blank" rel="noopener noreferrer" class=""><code>FastAPI</code></a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-call-the-inference-container">6. Call the inference container<a href="#6-call-the-inference-container" class="hash-link" aria-label="Direct link to 6. Call the inference container" title="Direct link to 6. Call the inference container" translate="no">​</a></h3>
<p>Now it is time to replace any hardcoded data from previous steps with results from an API call.</p>
<ol>
<li class="">Call the inference container in the dedicated script you wrote in the <code>/client</code> folder (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/clients/qna.go" target="_blank" rel="noopener noreferrer" class=""><code>qna.go</code></a>).</li>
<li class="">Finish your <code>/additional/&lt;fieldname&gt;_result.go</code> function by replacing hardcoded return values with values you get from the inference API (e.g. <a href="https://github.com/weaviate/weaviate/blob/master/modules/qna-transformers/additional/answer/answer_result.go" target="_blank" rel="noopener noreferrer" class=""><code>answer_result.go</code></a>).</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-add-user-specific-configuration">7. Add user-specific configuration<a href="#7-add-user-specific-configuration" class="hash-link" aria-label="Direct link to 7. Add user-specific configuration" title="Direct link to 7. Add user-specific configuration" translate="no">​</a></h3>
<p>Add user-specific configuration to both the Weaviate module and the inference API that you omitted for simplification in the previous steps.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-and-testing-weaviate-during-development">Running and testing Weaviate during development<a href="#running-and-testing-weaviate-during-development" class="hash-link" aria-label="Direct link to Running and testing Weaviate during development" title="Direct link to Running and testing Weaviate during development" translate="no">​</a></h2>
<p>During development of the new Module, you can run Weaviate locally. Make sure to have the following set:</p>
<ol>
<li class="">Your module should be present in the (local) <a href="https://github.com/weaviate/weaviate/tree/master/modules" target="_blank" rel="noopener noreferrer" class=""><code>/modules</code> folder</a>.</li>
<li class="">Hook up the module to Weaviate. The module will not be &#x27;turned on&#x27; if you don&#x27;t say so in <code>docker-compose.yml</code>.<!-- -->
<ol>
<li class="">In <code>/adapters/handlers/rest/configure_api.go</code>, add your module to the import list (<a href="https://github.com/weaviate/weaviate/blob/7036332051486b393d83f9ea2ffb0ca1b2269328/adapters/handlers/rest/configure_api.go#L37" target="_blank" rel="noopener noreferrer" class="">example</a>), and register it as a module (<a href="https://github.com/weaviate/weaviate/blob/7036332051486b393d83f9ea2ffb0ca1b2269328/adapters/handlers/rest/configure_api.go#L330-L332" target="_blank" rel="noopener noreferrer" class="">example</a>). The module will not be turned on if you don&#x27;t say so in the Docker Compose file. Use the name of the module here, the same as you have used as folder name in the <code>/modules</code>.</li>
<li class="">Add the service to <code>tools/dev/restart_dev_environment.go</code> (<a href="https://github.com/weaviate/weaviate/blob/7036332051486b393d83f9ea2ffb0ca1b2269328/tools/dev/restart_dev_environment.sh#L21-L23" target="_blank" rel="noopener noreferrer" class="">example</a>). Here you define the argument (to start the dev environment) that will start the correct Weaviate setup. In the example, the argument is <code>i2v-neural</code>.</li>
<li class="">Add the service to <code>tools/dev/run_dev_server.sh</code> (<a href="https://github.com/weaviate/weaviate/blob/7036332051486b393d83f9ea2ffb0ca1b2269328/tools/dev/run_dev_server.sh#L77-L92" target="_blank" rel="noopener noreferrer" class="">example</a>). This is the Docker Compose setup for running the development server. Define where the new modules should run and configure them. It also includes the command to run Weaviate, you can copy this.</li>
<li class="">And add the service to <code>docker-compose.yml</code>(<a href="https://github.com/weaviate/weaviate/blob/7036332051486b393d83f9ea2ffb0ca1b2269328/docker-compose.yml#L37-L40" target="_blank" rel="noopener noreferrer" class="">example</a>). The inference container (part 2) should be running on the defined port.</li>
</ol>
</li>
</ol>
<p>Inside the Weaviate project folder, run</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tools/dev/restart_dev_environment.sh --&lt;SERVICE-NAME&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># e.g. tools/dev/restart_dev_environment.sh --i2v-neural</span><br></span></code></pre></div></div>
<p>to restart the development server. Then, run</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tools/dev/run_dev_server.sh --&lt;LOCAL-CONFIG-NAME&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># e.g. tools/dev/run_dev_server.sh --local-image</span><br></span></code></pre></div></div>
<p>You can now load in any sample or test dataset. If you only make changes in the <code>/modules/&lt;new-module&gt;</code> folder afterwards, you only need to re-run <code>tools/dev/run_dev_server.sh --&lt;LOCAL-CONFIG-NAME&gt;</code> to apply the changes. The data will be kept, so no need to re-import.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="passing-tests">Passing tests<a href="#passing-tests" class="hash-link" aria-label="Direct link to Passing tests" title="Direct link to Passing tests" translate="no">​</a></h4>
<p>Before you submit your PR, your new module implementation must pass all existing tests and any new tests that you added. How to run tests, <a class="" href="/contributor-guide/weaviate-core/tests#run-the-whole-pipeline">check this page</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="questions-and-feedback">Questions and feedback<a href="#questions-and-feedback" class="hash-link" aria-label="Direct link to Questions and feedback" title="Direct link to Questions and feedback" translate="no">​</a></h2>
<!-- -->
<p>If you have any questions or feedback, let us know in the <a href="https://forum.weaviate.io/" target="_blank" rel="noopener noreferrer" class="">user forum</a>.</p>
<!-- -->
<!-- -->
<div class="cardsSection_Ezca smallCards_eRph"><a href="https://forum.weaviate.io/new-topic?title=%5BQuestion%5D%20YOUR%20TOPIC&amp;body=Details%20here&amp;category=support&amp;tags=technical" target="_blank" rel="noopener noreferrer" class="card_OoQD"><div class="cardHeader_rXdg"><i class="fas fa-comments cardIcon_K4xK"></i><span class="cardTitle_TsZq">Technical questions</span></div><p class="cardDescription__QXy">If you have questions feel free to post on our<!-- --> <span class="highlight_acB9">Community forum</span>.</p></a><a href="https://github.com/weaviate/docs/issues" target="_blank" rel="noopener noreferrer" class="card_OoQD"><div class="cardHeader_rXdg"><i class="fa-brands fa-github cardIcon_K4xK"></i><span class="cardTitle_TsZq">Documentation feedback</span></div><p class="cardDescription__QXy">Leave feedback by opening a GitHub issue.</p></a></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/weaviate/docs/tree/main/docs/contributor-guide/weaviate-modules/how-to-build-a-new-module.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div><footer class="footer_G0fi"><div class="container"><div class="footerContent_oI6g"><div class="leftSection_TIm0"><div class="socialIcons_Okfn"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github" aria-hidden="true"></i></a><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer" title="Slack"><i class="fab fa-slack" aria-hidden="true"></i></a><a href="https://x.com/weaviate_io" target="_blank" rel="noopener noreferrer" title="X"><i class="fab fa-twitter" aria-hidden="true"></i></a><a href="https://instagram.com/weaviate.io" target="_blank" rel="noopener noreferrer" title="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a><a href="https://youtube.com/@Weaviate" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i></a><a href="https://www.linkedin.com/company/weaviate-io" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i></a></div></div><div class="rightSection_LCNx"><div class="footerSection_l31a"><h5>Documentation</h5><ul><li><a href="/weaviate">Weaviate Database</a></li><li><a href="/deploy">Deployment documentation</a></li><li><a href="/cloud">Weaviate Cloud</a></li><li><a href="/agents">Weaviate Agents</a></li></ul></div><div class="footerSection_l31a"><h5>Support</h5><ul><li><a href="https://forum.weaviate.io/c/support/" target="_blank" rel="noopener noreferrer">Forum</a></li><li><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer">Slack</a></li></ul></div></div></div></div></footer></footer></article></div></div><div class="col col--3"><div class="customTocStickyContainer_xbxO"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#design-the-internal-weaviate-module-part-1" class="table-of-contents__link toc-highlight">Design the internal Weaviate Module (part 1)</a></li><li><a href="#design-the-inference-model-part-2" class="table-of-contents__link toc-highlight">Design the inference model (part 2)</a></li><li><a href="#how-to-build-a-custom-module---guidelines" class="table-of-contents__link toc-highlight">How to build a custom module - guidelines</a><ul><li><a href="#1-first-files" class="table-of-contents__link toc-highlight">1. First files</a></li><li><a href="#2-add-graphql-additional-query-filter-and-result-fields" class="table-of-contents__link toc-highlight">2. Add GraphQL additional query, filter and result fields</a></li><li><a href="#3-add-graphql-filter-other-than-in-_additional" class="table-of-contents__link toc-highlight">3. Add GraphQL filter (other than in <code>_additional</code>)</a></li><li><a href="#4-design-the-client-for-communication-with-the-inference-app" class="table-of-contents__link toc-highlight">4. Design the client for communication with the inference app</a></li><li><a href="#5-create-the-inference-container" class="table-of-contents__link toc-highlight">5. Create the inference container</a></li><li><a href="#6-call-the-inference-container" class="table-of-contents__link toc-highlight">6. Call the inference container</a></li><li><a href="#7-add-user-specific-configuration" class="table-of-contents__link toc-highlight">7. Add user-specific configuration</a></li></ul></li><li><a href="#running-and-testing-weaviate-during-development" class="table-of-contents__link toc-highlight">Running and testing Weaviate during development</a></li><li><a href="#questions-and-feedback" class="table-of-contents__link toc-highlight">Questions and feedback</a></li></ul></div><div class="container_jpeN"><p class="text_tGp7">Was this page helpful?</p><div class="buttonContainer_rFWk"><button class="voteButton_HXmX undefined" aria-label="Vote up"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 10v12"></path><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"></path></svg>Yes</button><button class="voteButton_HXmX undefined" aria-label="Vote down"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 14V2"></path><path d="M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z"></path></svg>No</button></div></div></div><div class="feedbackWrapper_JTi0"></div></div></div></div></main></div></div></div></div>
</body>
</html>