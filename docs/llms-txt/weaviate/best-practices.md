# Source: https://docs.weaviate.io/weaviate/best-practices

<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-weaviate/best-practices/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Best practices | Weaviate Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.weaviate.io/weaviate/best-practices"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Best practices | Weaviate Documentation"><meta data-rh="true" name="description" content="Expert recommendations and optimization strategies for maximizing Weaviate performance."><meta data-rh="true" property="og:description" content="Expert recommendations and optimization strategies for maximizing Weaviate performance."><meta data-rh="true" property="og:image" content="https://docs.weaviate.io/og/docs/howto.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.weaviate.io/og/docs/howto.jpg"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.weaviate.io/weaviate/best-practices"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/weaviate/best-practices" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/weaviate/best-practices" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Best practices","item":"https://docs.weaviate.io/weaviate/best-practices/"}]}</script><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-WS8CG676",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>

<script>!function(){if("undefined"!=typeof window&&void 0===window.signals){var n=document.createElement("script");n.src="https://cdn.cr-relay.com/v1/site/3709e2b3-c0eb-4239-9087-775e484fab16/signals.js",n.async=!0,window.signals=Object.assign([],["page","identify","form"].reduce((function(n,e){return n[e]=function(){return signals.push([e,arguments]),signals},n}),{})),document.head.appendChild(n)}}()</script>
<script id="hs-script-loader" async="true" defer="true" src="https://js.hs-scripts.com/8738733.js"></script>
<link rel="stylesheet" href="/fonts/font-awesome/fontawesome.css">
<link rel="stylesheet" href="/fonts/font-awesome/solid.css">
<link rel="stylesheet" href="/fonts/font-awesome/regular.css">
<link rel="stylesheet" href="/fonts/font-awesome/brands.css"><link rel="stylesheet" href="/assets/css/styles.f4cdad07.css">
<script src="/assets/js/runtime~main.444b5859.js" defer="defer"></script>
<script src="/assets/js/main.6a4a6ee2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>


<script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WS8CG676" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-light-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-dark-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-w.png"><link rel="preload" as="image" href="/img/graduation-cap-icon.svg"><link rel="preload" as="image" href="/img/docs/system/collections_with_without_mt.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#1C1468;color:#F5F5F5" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a href="https://academy.weaviate.io/">The new <b>Weaviate Academy</b> learning platform is here!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="defaultNavbar_mOWn"><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/site/weaviate-logo-horizontal-light-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/site/weaviate-logo-horizontal-dark-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/weaviate/api/rest"></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg class="githubStars" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a href="https://academy.weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link academy-button">Academy</a><a href="https://weaviate.io/go/console?utm_source=docs&amp;utm_content=navbar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cloud-button">Weaviate Cloud</a><div class="hiddenSearch navbarSearchContainer_Bca1"><div class="searchBox"><button class="searchButton"><span class="searchPlaceholder"><i class="searchIcon fas fa-magnifying-glass"></i><span class="searchPlaceholderText">Ask AI or Search</span></span><div class="commandIconContainer"><span class="commandIcon">⌘K</span></div></button></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div class="secondaryNavbar_Zq6r"><nav class="secondaryNavLinks_WJZI"><a class="navLink_kzb_ activeNavLink_ObEy" href="/weaviate">Get started</a><a class="navLink_kzb_" href="/weaviate/guides">How-to manuals &amp; Guides</a><a class="navLink_kzb_" href="/weaviate/model-providers">Model integrations</a><a class="navLink_kzb_" href="/weaviate/config-refs">Reference &amp; APIs</a><a class="navLink_kzb_" href="/weaviate/concepts">Concepts</a><a class="navLink_kzb_" href="/weaviate/recipes">Recipes</a><a class="navLink_kzb_" href="/weaviate/release-notes">Other</a></nav></div><div class="modalOverlay_BeVA"><div class="modalContent_CPV2"><div class="modalHeader_aBIn"><div class="modalHeaderLeft_Jnp2"><strong>Go to documentation:</strong></div><div class="modalHeaderRight_pW31"><div class="modalHeaderButton_lyv9"><span class="buttonShortcut_rHzY">⌘U</span><div class="verticalDivider_TWYg"></div><button class="headerCloseIcon_Nc0n">✕</button></div></div></div><div class="modalBody_bZ4G"><div class="modalOptionsContainer_GF7c"><div class="modalOption_Zqj6 activeOption_IUKI"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Database</strong><p>Develop AI applications using Weaviate&#x27;s APIs and tools</p></div><div class="activeIndicator_uCqh"></div></div><div class="modalOption_Zqj6"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Deploy</strong><p>Deploy, configure, and maintain Weaviate Database</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-robot modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Agents</strong><p>Build and deploy intelligent agents with Weaviate</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-cloud modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Cloud</strong><p>Manage and scale Weaviate in the cloud</p></div></div></div><div class="resourcesSection__QVP"><h4 class="sectionTitle_TjaJ">Additional resources</h4><div class="resourcesGrid_Fe8L"><div class="resourceCard_qG9v"><i class="fa fa-puzzle-piece resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Integrations</span></div><div class="resourceCard_qG9v"><i class="fa fa-edit resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Contributor guide</span></div><div class="resourceCard_qG9v"><i class="fa fa-calendar-days resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Events &amp; Workshops</span></div><div class="resourceCard_qG9v"><i class="fa-solid fa-graduation-cap resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Weaviate Academy</span></div></div></div><div class="aiAssistantSection_Qefr"><h4 class="sectionTitle_TjaJ">Need help?</h4><div class="resourcesGrid_Fe8L"><div class="askAiButton_snh2"><img src="/img/site/weaviate-logo-w.png" alt="Weaviate Logo" class="askAiIcon_T_rP"><span class="askAiText_snFq">Ask AI Assistant</span><span class="askAiShortcut_kkRQ">⌘K</span></div><div class="resourceCard_qG9v"><i class="fa fa-comments styles.resourceIcon" aria-hidden="true"></i><span class="resourceTitle__PWa">Community Forum</span></div></div></div></div></div></div><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaviate"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/weaviate/quickstart"><span title="Quickstart" class="categoryLinkLabel_W154">Quickstart</span></a><button aria-label="Expand sidebar category &#x27;Quickstart&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://docs.weaviate.io/deploy" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Installation" class="linkLabel_WmDU">Installation</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/weaviate/connections"><span title="Connect to Weaviate" class="categoryLinkLabel_W154">Connect to Weaviate</span></a><button aria-label="Expand sidebar category &#x27;Connect to Weaviate&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><div class="sidebarLinkWrapper_fTbI"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://academy.weaviate.io/courses/wa050-py" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Concepts &amp; architecture" class="linkLabel_WmDU">Concepts &amp; architecture</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><div class="badgeContainer_R7KD externalLink_nfWd"><span class="academyBadge_llGK iconOnly_qVvK" title="Weaviate Academy"><img src="/img/graduation-cap-icon.svg" alt="" class="academyIcon_l_RD"></span></div></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/weaviate/starter-guides"><span title="Starter guides" class="categoryLinkLabel_W154">Starter guides</span></a><button aria-label="Expand sidebar category &#x27;Starter guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/weaviate/best-practices"><span title="Best practices" class="linkLabel_WmDU">Best practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaviate/best-practices/code-generation"><span title="AI-based code generation" class="linkLabel_WmDU">AI-based code generation</span></a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Best practices</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Best practices &amp; tips</h1></header>
<p>This page covers what we consider general best practices for using Weaviate. They are based on our experience and the feedback we have received from our users.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Consider this a hub for best practices</div><div class="admonitionContent_BuS1"><p>We will update this page over time as Weaviate evolves and we learn more about how our users are using it. Please check back regularly for updates.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="upgrades--maintenance">Upgrades &amp; maintenance<a href="#upgrades--maintenance" class="hash-link" aria-label="Direct link to Upgrades &amp; maintenance" title="Direct link to Upgrades &amp; maintenance" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="keep-weaviate-and-client-libraries-up-to-date">Keep Weaviate and client libraries up-to-date<a href="#keep-weaviate-and-client-libraries-up-to-date" class="hash-link" aria-label="Direct link to Keep Weaviate and client libraries up-to-date" title="Direct link to Keep Weaviate and client libraries up-to-date" translate="no">​</a></h3>
<p>Weaviate is a fast-evolving product, where we are constantly adding new features, improving performance, and fixing bugs. We recommend keeping Weaviate and the client libraries you use up-to-date to benefit from the latest features and improvements.</p>
<p>To keep up-to-date with the latest releases, you can:</p>
<ul>
<li class="">Subscribe to the <a href="https://newsletter.weaviate.io/" target="_blank" rel="noopener noreferrer" class="">Weaviate newsletter</a></li>
<li class=""><a href="https://docs.github.com/en/account-and-profile/managing-subscriptions-and-notifications-on-github/managing-subscriptions-for-activity-on-github/viewing-your-subscriptions#reviewing-repositories-that-youre-watching" target="_blank" rel="noopener noreferrer" class="">Watch</a> the relevant Weaviate GitHub repositories. They are:<!-- -->
<ul>
<li class=""><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" class="">Weaviate</a></li>
<li class=""><a href="https://github.com/weaviate/weaviate-python-client" target="_blank" rel="noopener noreferrer" class="">Weaviate Python client</a></li>
<li class=""><a href="https://github.com/weaviate/typescript-client" target="_blank" rel="noopener noreferrer" class="">Weaviate TS/JS client</a></li>
<li class=""><a href="https://github.com/weaviate/weaviate-go-client" target="_blank" rel="noopener noreferrer" class="">Weaviate Go client</a></li>
<li class=""><a href="https://github.com/weaviate/java-client" target="_blank" rel="noopener noreferrer" class="">Weaviate Java client</a></li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>How often are new versions released?</div><div class="admonitionContent_BuS1"><p>Generally, a new minor version of Weaviate is released every 6-10 weeks, and new patch versions are regularly released.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="resource-management">Resource management<a href="#resource-management" class="hash-link" aria-label="Direct link to Resource management" title="Direct link to Resource management" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-high-availability-clusters-for-speed-and-reliability">Use high availability clusters for speed and reliability<a href="#use-high-availability-clusters-for-speed-and-reliability" class="hash-link" aria-label="Direct link to Use high availability clusters for speed and reliability" title="Direct link to Use high availability clusters for speed and reliability" translate="no">​</a></h3>
<p>For environments with high reliability requirements, high query loads or latency requirements, consider deploying Weaviate in a high availability (HA) configuration. An HA configuration with multiple nodes provide several benefits:</p>
<ul>
<li class=""><strong>Better fault tolerance</strong>: Continue serving requests even if individual nodes experience issues</li>
<li class=""><strong>Rolling upgrades</strong>: Individual nodes can be upgrades without cluster-level downtime</li>
<li class=""><strong>Improved query performance</strong>: Distribute query load across multiple nodes to reduce latency</li>
<li class=""><strong>Increased throughput</strong>: Handle more concurrent queries and data operations</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/concepts/cluster">Concepts: Cluster architecture</a></li>
<li class=""><a class="" href="/deploy/configuration/replication">Configuration: Replication</a></li>
</ul></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="replication-settings">Replication settings<a href="#replication-settings" class="hash-link" aria-label="Direct link to Replication settings" title="Direct link to Replication settings" translate="no">​</a></h4>
<p>If using high availability (HA) configurations, consider the following replication settings:</p>
<ul>
<li class=""><strong>Replication factor</strong>: Set the replication factor to an odd number to ensure quorum (majority of cluster size) is possible without excessive replication. Note: If the number of nodes is fewer than the replication factor, Weaviate will not start.</li>
<li class=""><strong>Deletion strategy</strong>: Use a deletion strategy that fits your use case. The <code>NoAutomatedResolution</code> strategy is generally recommended.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-multi-tenancy-for-data-subsets">Use multi-tenancy for data subsets<a href="#use-multi-tenancy-for-data-subsets" class="hash-link" aria-label="Direct link to Use multi-tenancy for data subsets" title="Direct link to Use multi-tenancy for data subsets" translate="no">​</a></h3>
<p>If your use cases involves multiple subsets of data which meet all of the following criteria:</p>
<ul>
<li class="">Have the same data structure (i.e. data schema)</li>
<li class="">Can share the same settings (e.g. vector index, inverted index, vectorizer models, etc.)</li>
<li class="">Do not need to be queried together</li>
</ul>
<p>Then consider enabling multi-tenancy, and assigning each subset of data to a separate tenant. This will reduce the resource overhead on Weaviate, and allow you to scale more effectively.</p>
<p align="center"><img src="/img/docs/system/collections_with_without_mt.png" alt="Replication Factor" width="100%"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/manage-collections/multi-tenancy">How-to: Perform multi-tenancy operations</a></li>
<li class=""><a class="" href="/weaviate/manage-collections/tenant-states">How to: Manage tenant states</a></li>
<li class=""><a class="" href="/weaviate/concepts/data#multi-tenancy">Concepts: Multi-tenancy</a></li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-a-vector-index-type-to-suit-your-data-scale">Set a vector index type to suit your data scale<a href="#set-a-vector-index-type-to-suit-your-data-scale" class="hash-link" aria-label="Direct link to Set a vector index type to suit your data scale" title="Direct link to Set a vector index type to suit your data scale" translate="no">​</a></h3>
<p>For many cases, the default, <code>hnsw</code> index type is a good starting point. However, in some cases, using <code>flat</code> indexes, or <code>dynamic</code> indexes may be more appropriate.</p>
<ul>
<li class=""><code>flat</code> indexes are useful when you know that each collection will only ever contain a small number of vectors (e.g. fewer than 100,000).<!-- -->
<ul>
<li class="">They use very little memory, but can be slow for large datasets.</li>
</ul>
</li>
<li class=""><code>dynamic</code> indexes start with a <code>flat</code> index, and automatically switch to an <code>hnsw</code> index when the number of vectors in the collection exceeds a certain threshold.<!-- -->
<ul>
<li class="">They are a good compromise between memory usage and query performance.</li>
</ul>
</li>
</ul>
<p>Typically, multi-tenant setups can benefit from using <code>dynamic</code> indexes, as they can automatically switch to <code>hnsw</code> indexes when the number of vectors in a tenant exceeds a certain threshold.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/manage-collections/vector-config#set-vector-index-type">How-to: Set the vector index type</a></li>
<li class=""><a class="" href="/weaviate/concepts/vector-index">Concepts: Vector indexes</a></li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="reduce-memory-footprint-with-vector-quantization">Reduce memory footprint with vector quantization<a href="#reduce-memory-footprint-with-vector-quantization" class="hash-link" aria-label="Direct link to Reduce memory footprint with vector quantization" title="Direct link to Reduce memory footprint with vector quantization" translate="no">​</a></h3>
<p>As the size of your dataset grows, the accompanying vector indexes can lead to high memory requirements and thus significant costs. Especially if the <code>hnsw</code> index type is used.</p>
<p>If you have a large number of vectors, consider using vector quantization to reduce the memory footprint of the vector index. This will reduce the required memory, and allow you to scale more effectively at lower costs.</p>
<p><img decoding="async" loading="lazy" alt="Overview of quantization schemes" src="/assets/images/quantization_overview_light-91bfee2d40f1e583b0252a817446fc3b.png#gh-light-mode-only" title="Overview of quantization schemes" width="2312" height="520" class="img_ev3q">
<img decoding="async" loading="lazy" alt="Overview of quantization schemes" src="/assets/images/quantization_overview_dark-6d87ecfe876497cf940920f84deec87f.png#gh-dark-mode-only" title="Overview of quantization schemes" width="2312" height="520" class="img_ev3q"></p>
<p>For HNSW indexes, we suggest enabling <a class="" href="/weaviate/configuration/compression/rq-compression">rotational quantization (RQ)</a> as a starting point. It provides significant memory usage benefits and almost no loss in query accuracy.</p>
<!-- -->
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Compression by Default</div><div class="admonitionContent_BuS1"><p>Starting with <code>v1.33</code>, Weaviate enables <strong>8-bit <a class="" href="/weaviate/configuration/compression/rq-compression">RQ quantization</a> by default</strong> when creating new collections to ensure efficient resource utilization and faster performance. This behavior can be changed through the <a class="" href="/deploy/configuration/env-vars#DEFAULT_QUANTIZATION"><code>DEFAULT_QUANTIZATION</code></a> environment variable. Note that once enabled, quantization can&#x27;t be disabled for a collection. Default quantization only applies for the HNSW vector index type.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/configuration/compression">How-to: Configure vector quantization</a></li>
<li class=""><a class="" href="/weaviate/concepts/vector-quantization">Concepts: Vector quantization</a></li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="customize-system-thresholds-to-prevent-downtime">Customize system thresholds to prevent downtime<a href="#customize-system-thresholds-to-prevent-downtime" class="hash-link" aria-label="Direct link to Customize system thresholds to prevent downtime" title="Direct link to Customize system thresholds to prevent downtime" translate="no">​</a></h3>
<p>Weaviate is configured to emit warnings, or to even go into read-only mode when certain thresholds (in percentage) are exceeded for memory or disk usage.</p>
<p>These thresholds can be adjusted to better fit your use case. For example, if you are running Weaviate on a machine with a large amount of memory, you may want to increase the memory threshold before Weaviate goes into read-only mode. This is because the same percentage of memory usage will represent a larger amount of memory on a machine with more memory.</p>
<p>Set <code>DISK_USE_WARNING_PERCENTAGE</code> and <code>DISK_USE_READONLY_PERCENTAGE</code> to adjust the disk usage thresholds, and <code>MEMORY_WARNING_PERCENTAGE</code> and <code>MEMORY_READONLY_PERCENTAGE</code> to adjust the memory usage thresholds.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/deploy/configuration/env-vars#general">References: Environment variables</a></li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="plan-memory-allocation">Plan memory allocation<a href="#plan-memory-allocation" class="hash-link" aria-label="Direct link to Plan memory allocation" title="Direct link to Plan memory allocation" translate="no">​</a></h3>
<p>When running Weaviate, its memory footprint is a common bottleneck. As a rule of thumb, you can expect to need:</p>
<ul>
<li class="">6GB of memory for 1 million, 1024-dimensional vectors</li>
<li class="">1.5GB of memory for 1 million, 256-dimensional vectors</li>
<li class="">2GB of memory 1 million, 1024-dimensional vectors with quantization enabled</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>How did we come up with this figure?</summary><div><div class="collapsibleContent_i85q"><p>Without quantization, each vector is stored as an n-dimensional float. For 1024-dimensional vectors, this means:</p><ul>
<li class="">4 bytes per float * 1024 dimensions * 1M vectors = 4GB</li>
</ul><p>We add some overhead for the index structure, and additional overheads, which brings us to the approximate figure of 6GB.</p></div></div></details>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/concepts/resources">Concepts: Resource planning</a></li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-to-quickly-check-the-memory-usage">How to quickly check the memory usage<a href="#how-to-quickly-check-the-memory-usage" class="hash-link" aria-label="Direct link to How to quickly check the memory usage" title="Direct link to How to quickly check the memory usage" translate="no">​</a></h3>
<p>In production settings, you should set up cluster <a class="" href="/deploy/configuration/monitoring">monitoring</a> with tools such as Grafana &amp; Prometheus.</p>
<p>There are, however, other ways to quickly check Weaviate&#x27;s memory usage.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>If you have Prometheus monitoring setup already</div><div class="admonitionContent_BuS1"><p>If you only care about the overall usage, independent of the contents, and have a prometheus monitoring setup already, you can check the metric <code>go_memstats_heap_inuse_bytes</code> which should always show the full memory footprint.</p></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="through-pprof">Through <code>pprof</code><a href="#through-pprof" class="hash-link" aria-label="Direct link to through-pprof" title="Direct link to through-pprof" translate="no">​</a></h4>
<p>If <code>go</code> is available to your system, you can view the heap profile with golang&#x27;s <code>pprof</code> tool&quot;.</p>
<ul>
<li class="">Have a go runtime installed, or start a Go-based docker container</li>
<li class="">Expose port 6060 if running in docker/k8s</li>
</ul>
<p>To view the profile visually:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go tool pprof -png http://{host}:6060/debug/pprof/heap</span><br></span></code></pre></div></div>
<p>Or to view a textual output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go tool pprof -top http://{host}:6060/debug/pprof/heap</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="check-the-container-usage">Check the container usage<a href="#check-the-container-usage" class="hash-link" aria-label="Direct link to Check the container usage" title="Direct link to Check the container usage" translate="no">​</a></h4>
<p>If you are running Weaviate in kubernetes, you can check an entire container&#x27;s memory usage with <code>kubectl</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec weaviate-0 -- /usr/bin/free</span><br></span></code></pre></div></div>
<p>Where <code>weaviate-0</code> is the pod name.</p>
<p>Note that the apparent memory consumption from the outside (e.g. OS/container levels) will look much higher because the Go runtime is very opportunistic. It often uses <a href="https://www.man7.org/linux/man-pages/man2/madvise.2.html" target="_blank" rel="noopener noreferrer" class="">MADV_FREE</a> which means that part of the memory can be easily freed as needed. As a result, if Weaviate is the only application running in a container, it will hold on to much more memory than it actually needs, since much of it can be released very quickly when other processes need it.</p>
<p>As a result, this method may be useful for showing the overall high bound for the memory usage. On the other hand, looking at <code>pprof</code> may be more reflective of Weaviate&#x27;s specific heap profile.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configure-shard-loading-behavior-to-balance-system--data-availability">Configure shard loading behavior to balance system &amp; data availability<a href="#configure-shard-loading-behavior-to-balance-system--data-availability" class="hash-link" aria-label="Direct link to Configure shard loading behavior to balance system &amp; data availability" title="Direct link to Configure shard loading behavior to balance system &amp; data availability" translate="no">​</a></h3>
<p>When Weaviate starts, it loads data from all shards in your deployment. By default, lazy shard loading enables faster startup by loading shards in the background while allowing immediate queries to already-loaded shards.</p>
<p>However, for single-tenant collections under high loads, lazy loading can cause import operations to slow down or partially fail. In these scenarios, consider <a class="" href="/weaviate/concepts/storage#lazy-shard-loading">disabling lazy loading</a>, by setting the following environment variable:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DISABLE_LAZY_LOAD_SHARDS: &quot;true&quot;</span><br></span></code></pre></div></div>
<p>This ensures all shards are fully loaded before Weaviate reports itself as ready.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Important</div><div class="admonitionContent_BuS1"><p>Only disable lazy shard loading for single-tenant collections. For multi-tenant deployments, keeping lazy loading enabled is recommended as it can significantly speed up the startup time.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-structures">Data structures<a href="#data-structures" class="hash-link" aria-label="Direct link to Data structures" title="Direct link to Data structures" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cross-references-vs-flattened-properties">Cross-references vs flattened properties<a href="#cross-references-vs-flattened-properties" class="hash-link" aria-label="Direct link to Cross-references vs flattened properties" title="Direct link to Cross-references vs flattened properties" translate="no">​</a></h3>
<p>When designing your data schema, consider whether to use cross-references or flattened properties. If you come from a relational database background, you may be tempted to normalize your data and use cross-references.</p>
<p>However, in Weaviate, cross-references can have multiple drawbacks:</p>
<ul>
<li class="">They are not vectorized, which means that this information is not incorporated as a part of the vector representation of the object.</li>
<li class="">They can be slow to query, as they require additional queries to fetch the referenced object. Weaviate is not designed for graph-like queries or joins.</li>
</ul>
<p>Instead, consider directly embedding the information in each object as another property. This will ensure that the information is vectorized, and can be queried more efficiently.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-operations">Data operations<a href="#data-operations" class="hash-link" aria-label="Direct link to Data operations" title="Direct link to Data operations" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="explicitly-define-your-data-schema">Explicitly define your data schema<a href="#explicitly-define-your-data-schema" class="hash-link" aria-label="Direct link to Explicitly define your data schema" title="Direct link to Explicitly define your data schema" translate="no">​</a></h3>
<p>Weaviate includes a convenient <a class="" href="/weaviate/config-refs/collections#auto-schema">&quot;auto-schema&quot; functionality</a> that can automatically infer the schema of your data.</p>
<p>However, for production use cases, we recommend explicitly defining your schema, and disabling the auto-schema functionality (set <code>AUTOSCHEMA_ENABLED: &#x27;false&#x27;</code>). This will ensure that your data is correctly interpreted by Weaviate, and that malformed data is not ingested into the system, rather than to potentially create unexpected properties.</p>
<p>As an example, consider importing the following two objects:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The Bourne Identity&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;category&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Action&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The Bourne Supremacy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;cattegory&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Action&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The Bourne Ultimatum&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;category&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2007</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>In this case, the second and third objects are malformed. The second has a typo in the property name <code>cattegory</code>, and the third has a category that is a number, rather than a string.</p>
<p>If you have auto-schema enabled, Weaviate will create a property <code>cattegory</code> in the collection, which can lead to unexpected behavior when querying the data. And the third object could lead to the creation of a property <code>category</code> with a data type of <code>INT</code>, which is not what you intended.</p>
<p>Instead, disable auto-schema, and define the schema explicitly:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> weaviate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">classes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Property</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DataType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;WikiArticle&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    properties</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;category&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>This will ensure that only objects with the correct schema are ingested into Weaviate, and the user will be notified if they try to ingest an object with a malformed schema.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/concepts/data#data-schema">Concepts: Data schema</a></li>
<li class=""><a class="" href="/weaviate/config-refs/collections#auto-schema">References: Collection definition - Auto-schema</a></li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="accelerate-data-ingestion-with-batch-imports">Accelerate data ingestion with batch imports<a href="#accelerate-data-ingestion-with-batch-imports" class="hash-link" aria-label="Direct link to Accelerate data ingestion with batch imports" title="Direct link to Accelerate data ingestion with batch imports" translate="no">​</a></h3>
<p>When importing any significant amount of data (i.e. more than 10 objects), use batch imports. This will significantly improve your import speed for two reasons:</p>
<ul>
<li class="">You will be sending fewer requests to Weaviate, which reduces the overhead of the network.</li>
<li class="">If Weaviate orchestrates data vectorization, it can in turn send vectorization requests in batches, which can be significantly faster, especially where inferences are done with GPUs.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ⬇️ Don&#x27;t do this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> obj </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> objects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    collection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">properties</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ Do this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> collection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fixed_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">batch_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> batch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> obj </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> objects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">properties</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/manage-objects/import">How-to: Batch import data</a></li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="minimize-costs-by-offloading-inactive-tenants">Minimize costs by offloading inactive tenants<a href="#minimize-costs-by-offloading-inactive-tenants" class="hash-link" aria-label="Direct link to Minimize costs by offloading inactive tenants" title="Direct link to Minimize costs by offloading inactive tenants" translate="no">​</a></h3>
<p>If you are using multi-tenancy, and have tenants that are not being queried frequently, consider offloading them to cold (cloud) storage.</p>
<p><img decoding="async" loading="lazy" alt="Storage Tiers" src="/assets/images/storage-tiers-42d32dfd416335c0a1ff0ffb257d978b.jpg" width="1200" height="221" class="img_ev3q"></p>
<p>Offloaded tenants are stored in a cloud storage bucket, and can be reloaded into Weaviate when needed. This can significantly reduce the memory and disk usage of Weaviate, and thus reduce costs.</p>
<p>When the tenant is likely to be used again (e.g. when a user logs in), it can be reloaded into Weaviate, and will be available for querying again.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Available in open-source Weaviate only</div><div class="admonitionContent_BuS1"><p>At the moment, offloading tenants is only available in the open-source version of Weaviate. We plan to make this feature available in Weaviate Cloud.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Further resources</div><div class="admonitionContent_BuS1"><ul>
<li class=""><a class="" href="/weaviate/starter-guides/managing-resources">Starter guide: Managing resources</a></li>
<li class=""><a class="" href="/weaviate/manage-collections/tenant-states">How-to: Manage tenant states</a></li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="application-design-and-integration">Application design and integration<a href="#application-design-and-integration" class="hash-link" aria-label="Direct link to Application design and integration" title="Direct link to Application design and integration" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="minimize-client-instantiations">Minimize client instantiations<a href="#minimize-client-instantiations" class="hash-link" aria-label="Direct link to Minimize client instantiations" title="Direct link to Minimize client instantiations" translate="no">​</a></h3>
<p>There is a performance overhead when instantiating a Weaviate client object, due to the I/O operations to establish a connection and perform health checks.</p>
<p>Where possible, reuse the same client object for as many operations as you can. Generally, the client object is thread-safe and can be used in parallel across multiple threads.</p>
<p>If multiple client objects are absolutely necessary, consider skipping initial checks (e.g. <a class="" href="/weaviate/client-libraries/python/notes-best-practices#initial-connection-checks">Python</a>). This can significantly reduce the overhead of instantiating multiple clients.</p>
<p>Note that there may be some client library-specific limitations. For example, the Weaviate Python client should only be used with <a class="" href="/weaviate/client-libraries/python/notes-best-practices#thread-safety">one batch import thread per client object</a>.</p>
<p>Additionally, you should <a href="#use-the-relevant-async-client-as-needed" class="">consider the asynchronous client API</a> to improve performance in asynchronous environments.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-the-relevant-async-client-as-needed">Use the relevant Async Client as needed<a href="#use-the-relevant-async-client-as-needed" class="hash-link" aria-label="Direct link to Use the relevant Async Client as needed" title="Direct link to Use the relevant Async Client as needed" translate="no">​</a></h3>
<p>When using Weaviate in an asynchronous environment, consider using the asynchronous client API. This can significantly improve the performance of your application, especially when making multiple queries in parallel.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="python">Python<a href="#python" class="hash-link" aria-label="Direct link to Python" title="Direct link to Python" translate="no">​</a></h4>
<p>The Weaviate Python client <code>4.7.0</code> and higher includes an <a class="" href="/weaviate/client-libraries/python/async">asynchronous client API (<code>WeaviateAsyncClient</code>)</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="java">Java<a href="#java" class="hash-link" aria-label="Direct link to Java" title="Direct link to Java" translate="no">​</a></h4>
<p>The Weaviate Java client <code>5.0.0</code> and higher includes an <a href="https://javadoc.io/doc/io.weaviate/client/latest/io/weaviate/client/v1/async/WeaviateAsyncClient.html" target="_blank" rel="noopener noreferrer" class="">asynchronous client API (<code>WeaviateAsyncClient</code>)</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="questions-and-feedback">Questions and feedback<a href="#questions-and-feedback" class="hash-link" aria-label="Direct link to Questions and feedback" title="Direct link to Questions and feedback" translate="no">​</a></h2>
<!-- -->
<p>If you have any questions or feedback, let us know in the <a href="https://forum.weaviate.io/" target="_blank" rel="noopener noreferrer" class="">user forum</a>.</p>
<!-- -->
<!-- -->
<div class="cardsSection_Ezca smallCards_eRph"><a href="https://forum.weaviate.io/new-topic?title=%5BQuestion%5D%20YOUR%20TOPIC&amp;body=Details%20here&amp;category=support&amp;tags=technical" target="_blank" rel="noopener noreferrer" class="card_OoQD"><div class="cardHeader_rXdg"><i class="fas fa-comments cardIcon_K4xK"></i><span class="cardTitle_TsZq">Technical questions</span></div><p class="cardDescription__QXy">If you have questions feel free to post on our<!-- --> <span class="highlight_acB9">Community forum</span>.</p></a><a href="https://github.com/weaviate/docs/issues" target="_blank" rel="noopener noreferrer" class="card_OoQD"><div class="cardHeader_rXdg"><i class="fa-brands fa-github cardIcon_K4xK"></i><span class="cardTitle_TsZq">Documentation feedback</span></div><p class="cardDescription__QXy">Leave feedback by opening a GitHub issue.</p></a></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/weaviate/docs/tree/main/docs/weaviate/best-practices/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div><footer class="footer_G0fi"><div class="container"><div class="footerContent_oI6g"><div class="leftSection_TIm0"><div class="socialIcons_Okfn"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github" aria-hidden="true"></i></a><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer" title="Slack"><i class="fab fa-slack" aria-hidden="true"></i></a><a href="https://x.com/weaviate_io" target="_blank" rel="noopener noreferrer" title="X"><i class="fab fa-twitter" aria-hidden="true"></i></a><a href="https://instagram.com/weaviate.io" target="_blank" rel="noopener noreferrer" title="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a><a href="https://youtube.com/@Weaviate" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i></a><a href="https://www.linkedin.com/company/weaviate-io" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i></a></div></div><div class="rightSection_LCNx"><div class="footerSection_l31a"><h5>Documentation</h5><ul><li><a href="/weaviate">Weaviate Database</a></li><li><a href="/deploy">Deployment documentation</a></li><li><a href="/cloud">Weaviate Cloud</a></li><li><a href="/agents">Weaviate Agents</a></li></ul></div><div class="footerSection_l31a"><h5>Support</h5><ul><li><a href="https://forum.weaviate.io/c/support/" target="_blank" rel="noopener noreferrer">Forum</a></li><li><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer">Slack</a></li></ul></div></div></div></div></footer></footer></article></div></div><div class="col col--3"><div class="customTocStickyContainer_xbxO"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#upgrades--maintenance" class="table-of-contents__link toc-highlight">Upgrades &amp; maintenance</a><ul><li><a href="#keep-weaviate-and-client-libraries-up-to-date" class="table-of-contents__link toc-highlight">Keep Weaviate and client libraries up-to-date</a></li></ul></li><li><a href="#resource-management" class="table-of-contents__link toc-highlight">Resource management</a><ul><li><a href="#use-high-availability-clusters-for-speed-and-reliability" class="table-of-contents__link toc-highlight">Use high availability clusters for speed and reliability</a></li><li><a href="#use-multi-tenancy-for-data-subsets" class="table-of-contents__link toc-highlight">Use multi-tenancy for data subsets</a></li><li><a href="#set-a-vector-index-type-to-suit-your-data-scale" class="table-of-contents__link toc-highlight">Set a vector index type to suit your data scale</a></li><li><a href="#reduce-memory-footprint-with-vector-quantization" class="table-of-contents__link toc-highlight">Reduce memory footprint with vector quantization</a></li><li><a href="#customize-system-thresholds-to-prevent-downtime" class="table-of-contents__link toc-highlight">Customize system thresholds to prevent downtime</a></li><li><a href="#plan-memory-allocation" class="table-of-contents__link toc-highlight">Plan memory allocation</a></li><li><a href="#how-to-quickly-check-the-memory-usage" class="table-of-contents__link toc-highlight">How to quickly check the memory usage</a></li><li><a href="#configure-shard-loading-behavior-to-balance-system--data-availability" class="table-of-contents__link toc-highlight">Configure shard loading behavior to balance system &amp; data availability</a></li></ul></li><li><a href="#data-structures" class="table-of-contents__link toc-highlight">Data structures</a><ul><li><a href="#cross-references-vs-flattened-properties" class="table-of-contents__link toc-highlight">Cross-references vs flattened properties</a></li></ul></li><li><a href="#data-operations" class="table-of-contents__link toc-highlight">Data operations</a><ul><li><a href="#explicitly-define-your-data-schema" class="table-of-contents__link toc-highlight">Explicitly define your data schema</a></li><li><a href="#accelerate-data-ingestion-with-batch-imports" class="table-of-contents__link toc-highlight">Accelerate data ingestion with batch imports</a></li><li><a href="#minimize-costs-by-offloading-inactive-tenants" class="table-of-contents__link toc-highlight">Minimize costs by offloading inactive tenants</a></li></ul></li><li><a href="#application-design-and-integration" class="table-of-contents__link toc-highlight">Application design and integration</a><ul><li><a href="#minimize-client-instantiations" class="table-of-contents__link toc-highlight">Minimize client instantiations</a></li><li><a href="#use-the-relevant-async-client-as-needed" class="table-of-contents__link toc-highlight">Use the relevant Async Client as needed</a></li></ul></li><li><a href="#questions-and-feedback" class="table-of-contents__link toc-highlight">Questions and feedback</a></li></ul></div><div class="container_jpeN"><p class="text_tGp7">Was this page helpful?</p><div class="buttonContainer_rFWk"><button class="voteButton_HXmX undefined" aria-label="Vote up"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 10v12"></path><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"></path></svg>Yes</button><button class="voteButton_HXmX undefined" aria-label="Vote down"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 14V2"></path><path d="M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z"></path></svg>No</button></div></div></div><div class="feedbackWrapper_JTi0"></div></div></div></div></main></div></div></div></div>
</body>
</html>