# Source: https://docs.weaviate.io/agents/recipes/personalization-agent-get-started-movies

<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-agents/recipes/personalization-agent-get-started-movies" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Build a Weaviate Personalization Agent - Movie Recommender | Weaviate Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.weaviate.io/og/default.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.weaviate.io/og/default.jpg"><meta data-rh="true" property="og:url" content="https://docs.weaviate.io/agents/recipes/personalization-agent-get-started-movies"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build a Weaviate Personalization Agent - Movie Recommender | Weaviate Documentation"><meta data-rh="true" name="description" content="In this recipe, we will use the new Weaviate PersonalizationAgent to fetch personalized objects from a Weaviate collection, in a user personalized way. This new agentic way of retrieving objects is based on a users persona profile and past interactions with your collection."><meta data-rh="true" property="og:description" content="In this recipe, we will use the new Weaviate PersonalizationAgent to fetch personalized objects from a Weaviate collection, in a user personalized way. This new agentic way of retrieving objects is based on a users persona profile and past interactions with your collection."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.weaviate.io/agents/recipes/personalization-agent-get-started-movies"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/agents/recipes/personalization-agent-get-started-movies" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.weaviate.io/agents/recipes/personalization-agent-get-started-movies" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Recipes","item":"https://docs.weaviate.io/agents/recipes"},{"@type":"ListItem","position":2,"name":"Build a Weaviate Personalization Agent - Movie Recommender","item":"https://docs.weaviate.io/agents/recipes/personalization-agent-get-started-movies"}]}</script><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-WS8CG676",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>

<script>!function(){if("undefined"!=typeof window&&void 0===window.signals){var n=document.createElement("script");n.src="https://cdn.cr-relay.com/v1/site/3709e2b3-c0eb-4239-9087-775e484fab16/signals.js",n.async=!0,window.signals=Object.assign([],["page","identify","form"].reduce((function(n,e){return n[e]=function(){return signals.push([e,arguments]),signals},n}),{})),document.head.appendChild(n)}}()</script>
<script id="hs-script-loader" async="true" defer="true" src="https://js.hs-scripts.com/8738733.js"></script>
<link rel="stylesheet" href="/fonts/font-awesome/fontawesome.css">
<link rel="stylesheet" href="/fonts/font-awesome/solid.css">
<link rel="stylesheet" href="/fonts/font-awesome/regular.css">
<link rel="stylesheet" href="/fonts/font-awesome/brands.css"><link rel="stylesheet" href="/assets/css/styles.f4cdad07.css">
<script src="/assets/js/runtime~main.444b5859.js" defer="defer"></script>
<script src="/assets/js/main.6a4a6ee2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>


<script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WS8CG676" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-light-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-horizontal-dark-1.svg"><link rel="preload" as="image" href="/img/site/weaviate-logo-w.png"><link rel="preload" as="image" href="https://img.shields.io/badge/Open%20in-Colab-4285F4?style=flat&amp;logo=googlecolab&amp;logoColor=white"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#1C1468;color:#F5F5F5" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a href="https://academy.weaviate.io/">The new <b>Weaviate Academy</b> learning platform is here!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="defaultNavbar_mOWn"><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/site/weaviate-logo-horizontal-light-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/site/weaviate-logo-horizontal-dark-1.svg" alt="Weaviate" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/weaviate/api/rest"></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg class="githubStars" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a href="https://academy.weaviate.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link academy-button">Academy</a><a href="https://weaviate.io/go/console?utm_source=docs&amp;utm_content=navbar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cloud-button">Weaviate Cloud</a><div class="hiddenSearch navbarSearchContainer_Bca1"><div class="searchBox"><button class="searchButton"><span class="searchPlaceholder"><i class="searchIcon fas fa-magnifying-glass"></i><span class="searchPlaceholderText">Ask AI or Search</span></span><div class="commandIconContainer"><span class="commandIcon">âŒ˜K</span></div></button></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div class="secondaryNavbar_Zq6r"><nav class="secondaryNavLinks_WJZI"><a class="navLink_kzb_" href="/agents">Documentation</a><a class="navLink_kzb_ activeNavLink_ObEy" href="/agents/recipes">Recipes</a></nav></div><div class="modalOverlay_BeVA"><div class="modalContent_CPV2"><div class="modalHeader_aBIn"><div class="modalHeaderLeft_Jnp2"><strong>Go to documentation:</strong></div><div class="modalHeaderRight_pW31"><div class="modalHeaderButton_lyv9"><span class="buttonShortcut_rHzY">âŒ˜U</span><div class="verticalDivider_TWYg"></div><button class="headerCloseIcon_Nc0n">âœ•</button></div></div></div><div class="modalBody_bZ4G"><div class="modalOptionsContainer_GF7c"><div class="modalOption_Zqj6"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Database</strong><p>Develop AI applications using Weaviate&#x27;s APIs and tools</p></div></div><div class="modalOption_Zqj6"><i class="fa fa-database modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Deploy</strong><p>Deploy, configure, and maintain Weaviate Database</p></div></div><div class="modalOption_Zqj6 activeOption_IUKI"><i class="fa fa-robot modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Agents</strong><p>Build and deploy intelligent agents with Weaviate</p></div><div class="activeIndicator_uCqh"></div></div><div class="modalOption_Zqj6"><i class="fa fa-cloud modalIcon__725" aria-hidden="true"></i><div class="modalText_gt5h"><strong>Weaviate Cloud</strong><p>Manage and scale Weaviate in the cloud</p></div></div></div><div class="resourcesSection__QVP"><h4 class="sectionTitle_TjaJ">Additional resources</h4><div class="resourcesGrid_Fe8L"><div class="resourceCard_qG9v"><i class="fa fa-puzzle-piece resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Integrations</span></div><div class="resourceCard_qG9v"><i class="fa fa-edit resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Contributor guide</span></div><div class="resourceCard_qG9v"><i class="fa fa-calendar-days resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Events &amp; Workshops</span></div><div class="resourceCard_qG9v"><i class="fa-solid fa-graduation-cap resourceIcon_KgrH" aria-hidden="true"></i><span class="resourceTitle__PWa">Weaviate Academy</span></div></div></div><div class="aiAssistantSection_Qefr"><h4 class="sectionTitle_TjaJ">Need help?</h4><div class="resourcesGrid_Fe8L"><div class="askAiButton_snh2"><img src="/img/site/weaviate-logo-w.png" alt="Weaviate Logo" class="askAiIcon_T_rP"><span class="askAiText_snFq">Ask AI Assistant</span><span class="askAiShortcut_kkRQ">âŒ˜K</span></div><div class="resourceCard_qG9v"><i class="fa fa-comments styles.resourceIcon" aria-hidden="true"></i><span class="resourceTitle__PWa">Community Forum</span></div></div></div></div></div></div><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--active" href="/agents/recipes"><span title="Recipes" class="categoryLinkLabel_W154">Recipes</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/agents/recipes/personalization-agent-get-started-movies"><span title="Build a Weaviate Personalization Agent - Movie Recommender" class="linkLabel_WmDU">Build a Weaviate Personalization Agent - Movie Recommender</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agents/recipes/personalization-agent-get-started-recipes"><span title="Build a Weaviate Personalization Agent - Food Recommender" class="linkLabel_WmDU">Build a Weaviate Personalization Agent - Food Recommender</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agents/recipes/query-agent-get-started"><span title="Build A Weaviate Query Agent - The E-Commerce Assistant" class="linkLabel_WmDU">Build A Weaviate Query Agent - The E-Commerce Assistant</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agents/recipes/transformation-agent-get-started"><span title="Build A Weaviate Transformation Agent" class="linkLabel_WmDU">Build A Weaviate Transformation Agent</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agents/recipes/transformation-agent-retrieval-benchmark"><span title="Benchmarking Arctic 2.0 vs. Arctic 1.5 with Synthetic RAG Evals" class="linkLabel_WmDU">Benchmarking Arctic 2.0 vs. Arctic 1.5 with Synthetic RAG Evals</span></a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/agents/recipes"><span>Recipes</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Build a Weaviate Personalization Agent - Movie Recommender</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Build a Weaviate Personalization Agent - Movie Recommender</h1></header><a href="https://colab.research.google.com/github/weaviate/recipes/blob/main/weaviate-services/agents/personalization-agent-get-started-movies.ipynb" target="_blank"><img src="https://img.shields.io/badge/Open%20in-Colab-4285F4?style=flat&amp;logo=googlecolab&amp;logoColor=white" alt="Open In Google Colab" width="130"></a>
<p>In this recipe, we will use the new Weaviate <code>PersonalizationAgent</code> to fetch personalized objects from a Weaviate collection, in a user personalized way. This new agentic way of retrieving objects is based on a users persona profile and past interactions with your collection.</p>
<blockquote>
<p>ðŸ“š You can learn more about how to use the <code>PersonalizationAgent</code>, in our <a href="https://weaviate.io/blog/personalization-agent?utm_source=recipe&amp;utm_campaign=agents" target="_blank" rel="noopener noreferrer" class="">&quot;Introducing the Weaviate Personalization Agent&quot;</a> blog and <a href="https://docs.weaviate.io/agents/personalization" target="_blank" rel="noopener noreferrer" class="">documentation</a>.</p>
</blockquote>
<p>To help you get started, we&#x27;re providing a few demo datasets, available on Hugging Face datasets ðŸ¤—:</p>
<ul>
<li class=""><a href="https://huggingface.co/datasets/weaviate/agents/viewer/personalization-agent-movies" target="_blank" rel="noopener noreferrer" class="">Movies</a>: A dataset that lists movies, their ratings, original language etc.</li>
<li class=""><a href="https://huggingface.co/datasets/weaviate/agents/viewer/personalization-agent-recipes" target="_blank" rel="noopener noreferrer" class="">Recipes</a>: A dataset that lists the name, short description and cuisine of a dish.</li>
</ul>
<p>For this example, we will be using the movies dataset to create a movie recommender service</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!pip install weaviate</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">agents</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> datasets</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="setting-up-weaviate--importing-data">Setting Up Weaviate &amp; Importing Data<a href="#setting-up-weaviate--importing-data" class="hash-link" aria-label="Direct link to Setting Up Weaviate &amp; Importing Data" title="Direct link to Setting Up Weaviate &amp; Importing Data" translate="no">â€‹</a></h2>
<p>To use the Weaviate Personalization Agent, first, create a <a href="tps://weaviate.io/deployment/serverless?utm_source=recipe&amp;utm_campaign=agents" target="_blank" rel="noopener noreferrer" class="">Weaviate Cloud</a> accountðŸ‘‡</p>
<ol>
<li class=""><a href="https://weaviate.io/deployment/serverless?utm_source=recipe&amp;utm_campaign=agents" target="_blank" rel="noopener noreferrer" class="">Create Serverless Weaviate Cloud account</a> and setup a free <a href="https://docs.weaviate.io/cloud/manage-clusters/create#sandbox-clusters?utm_source=recipe&amp;utm_campaign=agents" target="_blank" rel="noopener noreferrer" class="">Sandbox</a></li>
<li class="">Go to &#x27;Embedding&#x27; and enable it, by default, this will make it so that we use <code>Snowflake/snowflake-arctic-embed-l-v2.0</code> as the embedding model</li>
<li class="">Take note of the <code>WEAVIATE_URL</code> and <code>WEAVIATE_API_KEY</code> to connect to your cluster below</li>
</ol>
<blockquote>
<p>Info: We recommend using <a href="https://docs.weaviate.io/weaviate/model-providers/weaviate" target="_blank" rel="noopener noreferrer" class="">Weaviate Embeddings</a> so you do not have to provide any extra keys for external embedding providers.</p>
</blockquote>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> weaviate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> weaviate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">auth </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Auth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> getpass </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> getpass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;WEAVIATE_API_KEY&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;WEAVIATE_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> getpass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Weaviate API Key&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;WEAVIATE_URL&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;WEAVIATE_URL&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> getpass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Weaviate URL&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> weaviate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect_to_weaviate_cloud</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cluster_url</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;WEAVIATE_URL&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    auth_credentials</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api_key</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;WEAVIATE_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-new-collection">Create a New Collection<a href="#create-a-new-collection" class="hash-link" aria-label="Direct link to Create a New Collection" title="Direct link to Create a New Collection" translate="no">â€‹</a></h3>
<p>Next, we create a new collection in Weaviate called &quot;Movies&quot;. For the agentic services in Weaviate, it&#x27;s a good idea to include descriptions of the properties in your collection. These descriptions can then be used by the agent.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> weaviate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">classes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Configure</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DataType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># if client.collections.exists(&quot;Movies&quot;):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># client.collections.delete(&quot;Movies&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Movies&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;A dataset that lists movies, including their release dates, ratings, popularity etc.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector_config</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Configure</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Vectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text2vec_weaviate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    properties</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;release_date&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;release date of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            skip_vectorization</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;title of the movie&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;overview&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;overview of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;genres&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT_ARRAY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;genres of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;vote_average&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;vote average of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;vote_count&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;vote count of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;popularity&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;popularity of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;poster_url&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;poster path of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            skip_vectorization</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;original_language&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Code of the language of the movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            skip_vectorization</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Python output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;weaviate.collections.collection.sync.Collection at 0x7f62f442b250&gt;</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> datasets </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> load_dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_dataset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;weaviate/agents&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;personalization-agent-movies&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> split</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;train&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> streaming</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">movies_collection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Movies&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> movies_collection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamic</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> batch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> item </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> dataset</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">properties</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;properties&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-personalization-agent">Create a Personalization Agent<a href="#create-a-personalization-agent" class="hash-link" aria-label="Direct link to Create a Personalization Agent" title="Direct link to Create a Personalization Agent" translate="no">â€‹</a></h2>
<p>Below, we create a <code>PersonalizationAgent</code> for the <code>&quot;Movies&quot;</code> collection. If an agent for this collection already exists, we can simply connect to it.</p>
<p>When creating a new <code>PeresonalizationAgent</code>, we can also optioanlly define <code>user_properties</code>.</p>
<p>User properties can be anything that may be useful iformation about users that will be added to the agent. In this case, since we are creating a Movie recommender service, we may ask each persona to be added with ther <code>age</code>, <code>favorite_genres</code> and <code>languages</code>.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> weaviate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">personalization </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> PersonalizationAgent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> PersonalizationAgent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Movies&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PersonalizationAgent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          client</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          reference_collection</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Movies&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PersonalizationAgent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          client</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          reference_collection</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Movies&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          user_properties</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;age&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;favorite_genres&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT_ARRAY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;languages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DataType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEXT_ARRAY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="adding-new-personas">Adding New Personas<a href="#adding-new-personas" class="hash-link" aria-label="Direct link to Adding New Personas" title="Direct link to Adding New Personas" translate="no">â€‹</a></h3>
<p>We can add new users with <code>add_persona</code>, listing the requested user properties when adding them. Try changing the code block below to represent yourself if you like ðŸ‘‡</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> uuid </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> uuid4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> weaviate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">classes </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Persona</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PersonaInteraction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">persona_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> uuid4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_persona</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Persona</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        properties</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;age&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">29</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;favorite_genres&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;RomCom&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Adventure&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Sci-Fi&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Fantasy&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;languages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;English&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;French&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="adding-interactions">Adding Interactions<a href="#adding-interactions" class="hash-link" aria-label="Direct link to Adding Interactions" title="Direct link to Adding Interactions" translate="no">â€‹</a></h3>
<p>Once we have at least one persona for our agent, we can start adding interactions for that persona. For example, in this movie recommender service, it makes sense to add a personas movie reviews.</p>
<p>Each interaction can have a weight between -1.0 (negative) and 1.0 positive. So, we can add some reviews for a number or films below.</p>
<p>It&#x27;s a good idea to think about what kind of end application may be forwarding these interactions and have a rule around what each weight might represent. For example:</p>
<ul>
<li class="">1.0: favorite movie</li>
<li class="">0.8: user liked the movie</li>
<li class="">0.5: user viewed and did not review the movie</li>
<li class="">-0.5: user disliked the movie</li>
<li class="">-1.0: user absolutely hated the movie ðŸ‘Ž</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> uuid </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UUID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> weaviate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">classes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filters </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reviewed_movies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Fantastic Beasts and Where to Find Them&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;The Emoji Movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Titanic&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;The Shining&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Jumanji&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;West Side Story&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;The Shape of Water&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Morbius&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reviews_dict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    movie</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> movie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> movie </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> movies_collection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fetch_objects</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filters</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Filter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">by_property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contains_any</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reviewed_movies</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interactions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fantastic Beasts and Where to Find Them&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;The Emoji Movie&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Titanic&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;The Shining&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Jumanji&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;West Side Story&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;The Shape of Water&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonaInteraction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        persona_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reviews_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Morbius&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weight</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_interactions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">interactions</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">interactions</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-recommendations-and-rationale">Get Recommendations and Rationale<a href="#get-recommendations-and-rationale" class="hash-link" aria-label="Direct link to Get Recommendations and Rationale" title="Direct link to Get Recommendations and Rationale" translate="no">â€‹</a></h2>
<p>Now that we have a persona and some interactions for that persona, we can start getting recommended objects from the agent with <code>get_objects</code>. We have two options here: we can set <code>use_agent_ranking</code> or not.</p>
<p>When we do not use agent ranking, the returned objects are ranked by classic ML clustering, whereas when we do use it, it will go through an additional re-ranking with an LLM and an optioanl <code>instruction</code>.</p>
<p>When we use agent ranking, we can also see the rationale behind the ranking in <code>ranking_rationale</code> as we&#x27;ve done below ðŸ‘‡</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_objects</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> use_agent_ranking</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ranking_rationale</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> obj </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;*****</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">*****&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;overview&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;genres&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;vote_average: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">obj</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">properties</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;vote_average&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;poster_url&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Python output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">We&#x27;ve placed a spotlight on fantasy and adventure titles given your love for these genres. Movies like &#x27;The Chronicles of Narnia&#x27; and &#x27;Jumanji&#x27; have been prioritized as they align with your past favorites and preferences. Holiday-themed family films were also considered due to their family-friendly and adventurous nature.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****0*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Chronicles of Narnia: The Lion, the Witch and the Wardrobe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Siblings Lucy, Edmund, Susan and Peter step through a magical wardrobe and find the land of Narnia. There, they discover a charming, once peaceful kingdom that has been plunged into eternal winter by the evil White Witch, Jadis. Aided by the wise and magnificent lion, Aslan, the children lead Narnia into a spectacular, climactic battle to be free of the Witch&#x27;s glacial powers forever.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/kzJip9vndXYSKQHCgekrgqbnUrA.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****1*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Ewok Adventure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Towani family civilian shuttlecraft crashes on the forest moon of Endor. The four Towani&#x27;s are separated. Jermitt and Catarine, the mother and father are captured by the giant Gorax, and Mace and Cindel, the son and daughter, are missing when they are captured. The next day, the Ewok Deej is looking for his two sons when they find Cindel all alone in the shuttle (Mace and Cindel were looking for the transmitter to send a distress call), when Mace appears with his emergency blaster. Eventually, the four-year old Cindel is able to convince the teenage Mace that the Ewoks are nice. Then, the Ewoks and the Towani&#x27;s go on an adventure to find the elder Towanis.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;, &#x27;Science Fiction&#x27;, &#x27;TV Movie&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/lP7FIxojVrgWsam9efElk5ba3I5.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****2*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Chronicles of Narnia: Prince Caspian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">One year after their incredible adventures in the Lion, the Witch and the Wardrobe, Peter, Edmund, Lucy and Susan Pevensie return to Narnia to aid a young prince whose life has been threatened by the evil King Miraz. Now, with the help of a colorful cast of new characters, including Trufflehunter the badger and Nikabrik the dwarf, the Pevensie clan embarks on an incredible quest to ensure that Narnia is returned to its rightful heir.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/qxz3WIyjZiSKUhaTIEJ3c1GcC9z.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****3*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pete&#x27;s Dragon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For years, old wood carver Mr. Meacham has delighted local children with his tales of the fierce dragon that resides deep in the woods of the Pacific Northwest. To his daughter, Grace, who works as a forest ranger, these stories are little more than tall tales... until she meets Pete, a mysterious 10-year-old with no family and no home who claims to live in the woods with a giant, green dragon named Elliott. And from Pete&#x27;s descriptions, Elliott seems remarkably similar to the dragon from Mr. Meacham&#x27;s stories. With the help of Natalie, an 11-year-old girl whose father Jack owns the local lumber mill, Grace sets out to determine where Pete came from, where he belongs, and the truth about this dragon.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/6TwrPngfpbwtVH6UsDfVNUnn3ms.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****4*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Chronicles of Narnia: The Voyage of the Dawn Treader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This time around Edmund and Lucy Pevensie, along with their pesky cousin Eustace Scrubb find themselves swallowed into a painting and on to a fantastic Narnian ship headed for the very edges of the world.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/pP27zlm9yeKrCeDZLFLP2HKELot.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****5*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">One Piece: Clockwork Island Adventure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Relaxing on a cozy beach, the Straw Hat Pirates are taking a rest from their quest. Right until Luffy noticed the Going Merry has been hijacked and sailed off from the beach. This leads them to search the ship and find the thief who took it from them. They ran into a duo named the Theif Brothers, who informed them that their ship was stolen by a group of pirates called the Trump Kyoudai. When they encountered the Trump Pirates, Nami ended up getting kidnapped as well as Luffy&#x27;s hat. They tracked down the pirates to their base on Clockwork Island. Now Luffy, Zoro, Sanji, Usopp, and the Theif Brothers must reclaim the Going Merry, Save Nami, and get back Shank&#x27;s straw hat.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Action&#x27;, &#x27;Animation&#x27;, &#x27;Adventure&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/mocek0mTd2dX2neCB691iU9le9k.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****6*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Good Luck Charlie, It&#x27;s Christmas!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Teddy Duncan&#x27;s middle-class family embarks on a road trip from their home in Denver to visit Mrs. Duncans Parents, the Blankenhoopers, in Palm Springs. When they find themselves stranded between Denver and Utah, they try to hitch a ride to Las Vegas with a seemingly normal older couple in a station wagon from Roswell, New Mexico. It turns out that the couple believes they are the victims of alien abduction. The Duncan&#x27;s must resort to purchasing a clunker Yugo to get to Utah, have their luggage stolen in Las Vegas, and survive a zany Christmas with Grandpa and Grandma Blankenhooper.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;TV Movie&#x27;, &#x27;Comedy&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/ecuJMYZM3HQ96mnWtmyXoHb7s7T.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****7*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bedknobs and Broomsticks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Three children evacuated from London during World War II are forced to stay with an eccentric spinster (Eglantine Price). The children&#x27;s initial fears disappear when they find out she is in fact a trainee witch.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Fantasy&#x27;, &#x27;Comedy&#x27;, &#x27;Family&#x27;, &#x27;Music&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/3V7UFCu1u8BJLnoCdvdEqPYVaxQ.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****8*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Doraemon: Nobita&#x27;s New Great Adventure Into the Underworld - The Seven Magic Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nobita has changed the real world to a world of magic using the &quot;Moshimo Box&quot; in admiration of magic. One day, Nobita meets Chaplain Mangetsu, a magic researcher, and his daughter Miyoko. Nobita learns from them that the Great Satan of the Devildom Star is scheming to invade the Earth. The Chaplain tries to find a way out using ancient books, however, the Devildom Star rapidly approaches the Earth by the minute, causing earthquakes and abnormal weather conditions. Nobita, along with his friends, Doraemon, Shizuka, Suneo, Gaian and Dorami, together with Miyoko, storm into the Devildom Star, just like the &quot;Legendary Seven Heroes&quot; in an ancient book in order to confront the Great Satan and peace returns to the world of magic.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Family&#x27;, &#x27;Adventure&#x27;, &#x27;Animation&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/4E0qUqbevK4DAW2RRbvZmjjPsOd.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****9*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Barbie: A Perfect Christmas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Join Barbie and her sisters Skipper, Stacie and Chelsea as their holiday vacation plans turn into a most unexpected adventure and heartwarming lesson. After a snowstorm diverts their plane, the girls find themselves far from their New York destination and their holiday dreams. Now stranded at a remote inn in the tiny town of Tannenbaum, the sisters are welcomed by new friends and magical experiences. In appreciation for the wonderful hospitality they receive, they use their musical talents to put on a performance for the whole town. Barbie and her sisters realize the joy of being together is what really makes A Perfect Christmas!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/u14NrsyD9h505ZXs5Ofm7Tv3AuM.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****10*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Many Adventures of Winnie the Pooh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Whether weâ€™re young or forever young at heart, the Hundred Acre Wood calls to that place in each of us that still believes in magic. Join pals Pooh, Piglet, Kanga, Roo, Owl, Rabbit, Tigger and Christopher Robin as they enjoy their days together and sing their way through adventures.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/2xwaFVLv5geVrFd81eUttv7OutF.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****11*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Gruffalo&#x27;s Child</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A follow up to the 2009 animated feature and adapted from the childrens&#x27; book by Julia Donaldson and Alex Scheffler.  The Gruffalo&#x27;s child explores the deep dark wood in search of the big bad mouse and meets the Snake, Owl and Fox in the process.  She eventually finds the mouse, who manages to outwit her like the Gruffalo before!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Animation&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/n8fu0eATvUWtmR9CsDlL1gwqTcp.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****12*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Tigger Movie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Winnie the Pooh, Piglet, Owl, Kanga, Roo, and Rabbit are preparing a suitable winter home for Eeyore, the perennially dejected donkey, but Tigger&#x27;s continual bouncing interrupts their efforts. Rabbit suggests that Tigger go find others of his kind to bounce with, but Tigger thinks &quot;the most wonderful thing about tiggers is&quot; he&#x27;s &quot;the only one!&quot; Just in case though, the joyously jouncy feline sets out to see if he can find relatives.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Family&#x27;, &#x27;Animation&#x27;, &#x27;Comedy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/lxuiGvLHIL1ZyePP7bn6FcKj0Mr.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****13*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return to Never Land</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">In 1940, the world is besieged by World War II. Wendy, all grown up, has two children; including Jane, who does not believe Wendy&#x27;s stories about Peter Pan.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Fantasy&#x27;, &#x27;Animation&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/zfclCksB7vCLA5Rd9HKHMGSz40.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****14*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Winnie the Pooh: A Very Merry Pooh Year</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">It&#x27;s Christmastime in the Hundred Acre Wood and all of the gang is getting ready with presents and decorations. The gang makes a list of what they want for Christmas and send it to Santa Claus - except that Pooh forgot to ask for something. So he heads out to retrieve the letter and get it to Santa by Christmas...which happens to be tomorrow!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/1NbobWwoX7kFd1if8aCyCtFRZpu.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****15*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice in Wonderland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice follows a white rabbit down a rabbit-hole into a whimsical Wonderland, where she meets characters like the delightful Cheshire Cat, the clumsy White Knight, a rude caterpillar, and the hot-tempered Queen of Hearts and can grow ten feet tall or shrink to three inches. But will she ever be able to return home?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Fantasy&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/kpXmXjqeyuSYCtNuGMytWQLdKX.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****16*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tarzan the Ape Man</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">James Parker and Harry Holt are on an expedition in Africa in search of the elephant burial grounds that will provide enough ivory to make them rich. Parker&#x27;s beautiful daughter Jane arrives unexpectedly to join them. Jane is terrified when Tarzan and his ape friends abduct her, but when she returns to her father&#x27;s expedition she has second thoughts about leaving Tarzan.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Action&#x27;, &#x27;Adventure&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/sqtdNAktAI3p1iXmaEooaHjMmWd.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****17*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Doraemon: Nobita and the Tin Labyrinth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nobita&#x27;s dad stumbled upon a strange advertisement of a fantastic resort on television at midnight. Sleepy as he was, he made a reservation even though he didn&#x27;t even realize he was talking to the advertisement. The next day he discussed with the family their holiday plans, only to realize he could not find the place anywhere on earth. All of a sudden though there was a suitcase in Nobita&#x27;s room and intrigued as he was, he opened it only to find a portal to a beautiful resort managed by tin robots. Better still, it&#x27;s absolutely free. It seems that there is a hidden agenda behind the person who invites them there.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Animation&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/bkIR641RQyqk7hBlk0hui70dkz9.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****18*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Casper&#x27;s Haunted Christmas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Kibosh, supreme ruler of all ghosts, decrees that casper must scare at least one person before Christmas Day so Casper visits Kriss, Massachusetts where he meets the Jollimore family and sets out to complete his mission. As usual, kindhearted Casper has a ghastky time trying to scare anyone; so The Ghostly Trio, fed up with his goody-boo-shoes behavior, secretly hires Casper&#x27;s look-alike cousin Spooky to do the job-with hilarious results.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 5.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/3BFR30kh0O3NKR1Sfea3HXCG6hw.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****19*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Home Alone: The Holiday Heist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8-year-old Finn is terrified to learn his family is relocating from sunny California to Maine in the scariest house he has ever seen! Convinced that his new house is haunted, Finn sets up a series of elaborate traps to catch the â€œghostâ€ in action. Left home alone with his sister while their parents are stranded across town, Finnâ€™s traps catch a new target â€“ a group of thieves who have targeted Finnâ€™s house.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Comedy&#x27;, &#x27;Family&#x27;, &#x27;TV Movie&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 5.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/6JPrRC0JPM06y17pUXD6w1xMvKi.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****20*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Three Caballeros</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For Donald&#x27;s birthday he receives a box with three gifts inside. The gifts, a movie projector, a pop-up book, and a pinata, each take Donald on wild adventures through Mexico and South America.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;, &#x27;Music&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/nMfScRxw9wVLoO7LiEjziFAKLSK.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****21*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Madagascar Penguins in a Christmas Caper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">During the holiday season, when the animals of the Central Park Zoo are preparing for Christmas, Private, the youngest of the penguins notices that the Polar Bear is all alone. Assured that nobody should have to spend Christmas alone, Private goes into the city for some last-minute Christmas shopping. Along the way, he gets stuffed into a stocking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Comedy&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/gOVdfrRfzQjYwezOxIap13j05d8.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****22*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Jumanji: Welcome to the Jungle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The tables are turned as four teenagers are sucked into Jumanji&#x27;s world - pitted against rhinos, black mambas and an endless variety of jungle traps and puzzles. To survive, they&#x27;ll play as characters from the game.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Action&#x27;, &#x27;Comedy&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/pSgXKPU5h6U89ipF7HBYajvYt7j.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****23*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Poltergeist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Steve Freeling lives with his wife, Diane, and their three children, Dana, Robbie, and Carol Anne, in Southern California where he sells houses for the company that built the neighborhood. It starts with just a few odd occurrences, such as broken dishes and furniture moving around by itself. However, when he realizes that something truly evil haunts his home, Steve calls in a team of parapsychologists led by Dr. Lesh to help before it&#x27;s too late.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Horror&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/xPazCcKp62IshnLVf9BLAjf9vgC.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****24*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Up and Away</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hodja is a dreamer. He wants to experience the world, but his father insists he stays home and takes over the family&#x27;s tailor shop. Fortunately, Hodja meets the old rug merchant El Faza, who gives him a flying carpet. In exchange he has to bring the old man&#x27;s little granddaughter, Diamond, back to Pjort. El Faza canâ€™t travel to the Sultan city himself, as the mighty ruler has imposed a death sentence on El Faza, on the grounds that he has stolen the Sultan&#x27;s carpet. However, city life isn&#x27;t quite what Hodja expected, and he only survives because of Emerald, a poor but street smart girl, who teaches him how to manage in the big world. But when Hodja loses his carpet to the power-hungry sultan, his luck seems to run out. Will he complete his mission, find El Faza&#x27;s granddaughter and return safely back to Pjort?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;, &#x27;Comedy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/1WRK69soLEfVFRW1WwE0vWGz1mq.jpg</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-recommendations-with-an-instruction">Get Recommendations with an Instruction<a href="#get-recommendations-with-an-instruction" class="hash-link" aria-label="Direct link to Get Recommendations with an Instruction" title="Direct link to Get Recommendations with an Instruction" translate="no">â€‹</a></h3>
<p>Optionally, you can also provide the agent with an instruction too. This allows the agent LLM to have more context as to what kind of recommendations it could make.</p>
<p>It may also make sense to set a higher limit for the initial ranking, and then filter down to a smaller group after the agent ranking as we&#x27;ve done below ðŸ‘‡</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_objects</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">persona_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             use_agent_ranking</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             instruction</span><span class="token operator" style="color:#393A34">=</span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Your task is to recommend a diverse set of movies that the user may</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                             like based on their fave genres and past interactions. Try to avoid recommending multiple films from within</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                             the same cinematic universe.&quot;&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ranking_rationale</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> obj </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;*****</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">*****&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;overview&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;genres&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;vote_average: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">obj</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">properties</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;vote_average&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;poster_url&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Python output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">We&#x27;ve highlighted a mix of movies from the user&#x27;s favorite genres â€” RomCom, Adventure, Sci-Fi, and Fantasy â€” ensuring a diverse selection. We&#x27;ve also included some lesser-known gems to provide variety while avoiding multiple entries from the same cinematic universe.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****0*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Jumanji: Welcome to the Jungle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The tables are turned as four teenagers are sucked into Jumanji&#x27;s world - pitted against rhinos, black mambas and an endless variety of jungle traps and puzzles. To survive, they&#x27;ll play as characters from the game.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Action&#x27;, &#x27;Comedy&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/pSgXKPU5h6U89ipF7HBYajvYt7j.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****1*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Chronicles of Narnia: The Lion, the Witch and the Wardrobe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Siblings Lucy, Edmund, Susan and Peter step through a magical wardrobe and find the land of Narnia. There, they discover a charming, once peaceful kingdom that has been plunged into eternal winter by the evil White Witch, Jadis. Aided by the wise and magnificent lion, Aslan, the children lead Narnia into a spectacular, climactic battle to be free of the Witch&#x27;s glacial powers forever.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/kzJip9vndXYSKQHCgekrgqbnUrA.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****2*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice Through the Looking Glass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice Kingsleigh returns to Underland and faces a new adventure in saving the Mad Hatter.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/kbGamUkYfgKIYIrU8kW5oc0NatZ.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****3*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Madagascar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alex the lion is the king of the urban jungle, the main attraction at New York&#x27;s Central Park Zoo. He and his best friendsâ€”Marty the zebra, Melman the giraffe and Gloria the hippoâ€”have spent their whole lives in blissful captivity before an admiring public and with regular meals provided for them. Not content to leave well enough alone, Marty lets his curiosity get the better of him and makes his escapeâ€”with the help of some prodigious penguinsâ€”to explore the world.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Family&#x27;, &#x27;Animation&#x27;, &#x27;Adventure&#x27;, &#x27;Comedy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/uHkmbxb70IQhV4q94MiBe9dqVqv.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****4*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Rio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Captured by smugglers when he was just a hatchling, a macaw named Blu never learned to fly and lives a happily domesticated life in Minnesota with his human friend, Linda. Blu is thought to be the last of his kind, but when word comes that Jewel, a lone female, lives in Rio de Janeiro, Blu and Linda go to meet her. Animal smugglers kidnap Blu and Jewel, but the pair soon escape and begin a perilous adventure back to freedom -- and Linda.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Adventure&#x27;, &#x27;Comedy&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/oo7M77GXEyyqDGOhzNNZTzEuDSF.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****5*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice in Wonderland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice, now 19 years old, returns to the whimsical world she first entered as a child and embarks on a journey to discover her true destiny.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Family&#x27;, &#x27;Fantasy&#x27;, &#x27;Adventure&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/o0kre9wRCZz3jjSjaru7QU0UtFz.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****6*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Peter Pan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Leaving the safety of their nursery behind, Wendy, Michael and John follow Peter Pan to a magical world where childhood lasts forever. But while in Neverland, the kids must face Captain Hook and foil his attempts to get rid of Peter for good.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;, &#x27;Adventure&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/fJJOs1iyrhKfZceANxoPxPwNGF1.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****7*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Titanic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">101-year-old Rose DeWitt Bukater tells the story of her life aboard the Titanic, 84 years later. A young Rose boards the ship with her mother and fiancÃ©. Meanwhile, Jack Dawson and Fabrizio De Rossi win third-class tickets aboard the ship. Rose tells the whole story from Titanic&#x27;s departure through to its deathâ€”on its first and last voyageâ€”on April 15, 1912.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Drama&#x27;, &#x27;Romance&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/9xjZS2rlVxm8SFx8kPC3aIGCOYQ.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****8*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Nutcracker and the Four Realms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">When Claraâ€™s mother leaves her a mysterious gift, she embarks on a journey to four secret realmsâ€”where she discovers her greatest strength could change the world.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Fantasy&#x27;, &#x27;Adventure&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/9vPDY8e7YxLwgVum7YZIUJbr4qc.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****9*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pete&#x27;s Dragon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For years, old wood carver Mr. Meacham has delighted local children with his tales of the fierce dragon that resides deep in the woods of the Pacific Northwest. To his daughter, Grace, who works as a forest ranger, these stories are little more than tall tales... until she meets Pete, a mysterious 10-year-old with no family and no home who claims to live in the woods with a giant, green dragon named Elliott. And from Pete&#x27;s descriptions, Elliott seems remarkably similar to the dragon from Mr. Meacham&#x27;s stories. With the help of Natalie, an 11-year-old girl whose father Jack owns the local lumber mill, Grace sets out to determine where Pete came from, where he belongs, and the truth about this dragon.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/6TwrPngfpbwtVH6UsDfVNUnn3ms.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****10*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Chronicles of Narnia: Prince Caspian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">One year after their incredible adventures in the Lion, the Witch and the Wardrobe, Peter, Edmund, Lucy and Susan Pevensie return to Narnia to aid a young prince whose life has been threatened by the evil King Miraz. Now, with the help of a colorful cast of new characters, including Trufflehunter the badger and Nikabrik the dwarf, the Pevensie clan embarks on an incredible quest to ensure that Narnia is returned to its rightful heir.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/qxz3WIyjZiSKUhaTIEJ3c1GcC9z.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****11*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">One Piece: Chopper&#x27;s Kingdom on the Island of Strange Animals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">As the Straw Hat Pirates sail through the Grand Line.A line of geysers erupted from under the Going Merry. And the whole crew find themselves flying over the island. Unfortunatly, Chopper fell off the ship and was separated from his friends. Luffy and the others landed on the other side of the island. Chopper meanwhile finds himself being worshiped as the island&#x27;s new king by the animals. To make matters worse, a trio of human &quot;horn&quot; hunters are on the island. The leader, Count Butler is a violin playing/horn eating human who wants to eat the island&#x27;s treasure to inherit immense power. Will Luffy &amp; the rest be able to prevent the count from terrorizing the island? And will they be able to convince Momambi that not all pirates are bad?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Action&#x27;, &#x27;Animation&#x27;, &#x27;Adventure&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/8uzFccR8F3h7tC9zfIOT063r91N.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****12*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Ewok Adventure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Towani family civilian shuttlecraft crashes on the forest moon of Endor. The four Towani&#x27;s are separated. Jermitt and Catarine, the mother and father are captured by the giant Gorax, and Mace and Cindel, the son and daughter, are missing when they are captured. The next day, the Ewok Deej is looking for his two sons when they find Cindel all alone in the shuttle (Mace and Cindel were looking for the transmitter to send a distress call), when Mace appears with his emergency blaster. Eventually, the four-year old Cindel is able to convince the teenage Mace that the Ewoks are nice. Then, the Ewoks and the Towani&#x27;s go on an adventure to find the elder Towanis.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;, &#x27;Science Fiction&#x27;, &#x27;TV Movie&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/lP7FIxojVrgWsam9efElk5ba3I5.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****13*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Doraemon: Nobita and the Tin Labyrinth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nobita&#x27;s dad stumbled upon a strange advertisement of a fantastic resort on television at midnight. Sleepy as he was, he made a reservation even though he didn&#x27;t even realize he was talking to the advertisement. The next day he discussed with the family their holiday plans, only to realize he could not find the place anywhere on earth. All of a sudden though there was a suitcase in Nobita&#x27;s room and intrigued as he was, he opened it only to find a portal to a beautiful resort managed by tin robots. Better still, it&#x27;s absolutely free. It seems that there is a hidden agenda behind the person who invites them there.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Animation&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/bkIR641RQyqk7hBlk0hui70dkz9.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****14*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Barbie &amp; Her Sisters in the Great Puppy Adventure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Barbie and her sisters, Skipper, Stacie and Chelsea, and their adorable new puppy friends find unexpected mystery and adventure when they return to their hometown of Willows. While going through mementos in Grandma&#x27;s attic, the sisters discover an old map, believed to lead to a long-lost treasure buried somewhere in the town. With their puppy pals in tow, the four girls go on an exciting treasure hunt, along the way discovering that the greatest treasure of all is the love and laughter they share as sisters!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Family&#x27;, &#x27;Animation&#x27;, &#x27;Adventure&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/3ybjPWweUjPXXqIXFERgPnOQ5O3.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****15*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tinker Bell and the Lost Treasure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A blue harvest moon will rise, allowing the fairies to use a precious moonstone to restore the Pixie Dust Tree, the source of all their magic. But when Tinker Bell accidentally puts all of Pixie Hollow in jeopardy, she must venture out across the sea on a secret quest to set things right.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;, &#x27;Adventure&#x27;, &#x27;Fantasy&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 6.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/hg1959yuBkHb4BKbIvETQSfxGCT.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****16*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Barbie and the Diamond Castle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Liana and Alexa (Barbie and Teresa) are best friends who share everything, including their love of singing. One day while walking through the forest home from the village, the girls meet an old beggar who gives them a magical mirror. As they clean the mirror and sing, a musical apprentice muse named Melody appears in the mirror&#x27;s surface, and tells the girls about the secret of the Diamond Castle.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Animation&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/dvjFM3GgYm3gDZ6Ulw0JurDYs4r.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****17*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Doraemon: New Nobita&#x27;s Great Demon â€“ Peko and the Exploration Party of Five</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The film starts with Gian seeing some like spirit and it asks him to accomplish a task. The story starts when a stray dogs are searching some foods in the can. Then a dirty white dog comes out of nowhere. Just then, the dog creates a close stare to the stray dogs and forces to run away. But the dog is disappointed that he doesn&#x27;t know what to do after searching the garbage, under the pouring rain. After that, Suneo starts saying about the discoverable places on Earth and him and Gian are totally disappointed about that. That then, they are asking favor to Nobita to take them to an undiscovered place to be seen by their naked eyes. Nobita refuses but tells he will try his best. He comes to upstairs to explain Doraemon what the problem is now.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Family&#x27;, &#x27;Animation&#x27;, &#x27;Adventure&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/1XxnaUvLuAlfSWEqravAfSiCaFj.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****18*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The Wolf and the Lion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">After her grandfather&#x27;s death, 20-year-old Alma decides to go back to her childhood home - a little island in the heart of the majestic Canadian forest. Whilst there, she rescues two helpless cubs: a wolf and a lion. They forge an inseparable bond, but their world soon collapses as the forest ranger discovers the animals and takes them away. The two cub brothers must now embark on a treacherous journey across Canada to be reunited with one another and Alma once more.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/aSRvK4kLJORBrVdlFn2wrGx8XPv.jpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*****19*****</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tinker Bell and the Legend of the NeverBeast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">An ancient myth of a massive creature sparks the curiosity of Tinker Bell and her good friend Fawn, an animal fairy whoâ€™s not afraid to break the rules to help an animal in need. But this creature is not welcome in Pixie Hollow â€” and the scout fairies are determined to capture the mysterious beast, who they fear will destroy their home. Fawn must convince her fairy friends to risk everything to rescue the NeverBeast.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;Adventure&#x27;, &#x27;Animation&#x27;, &#x27;Family&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vote_average: 7.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://image.tmdb.org/t/p/original/bUGX7duQWSm04yAA1rBBfNRe4kY.jpg</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/personalization-agent">Personalization Agent</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/weaviate/docs/tree/main/docs/agents/recipes/personalization-agent-get-started-movies.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div><footer class="footer_G0fi"><div class="container"><div class="footerContent_oI6g"><div class="leftSection_TIm0"><div class="socialIcons_Okfn"><a href="https://github.com/weaviate/weaviate" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github" aria-hidden="true"></i></a><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer" title="Slack"><i class="fab fa-slack" aria-hidden="true"></i></a><a href="https://x.com/weaviate_io" target="_blank" rel="noopener noreferrer" title="X"><i class="fab fa-twitter" aria-hidden="true"></i></a><a href="https://instagram.com/weaviate.io" target="_blank" rel="noopener noreferrer" title="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a><a href="https://youtube.com/@Weaviate" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i></a><a href="https://www.linkedin.com/company/weaviate-io" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i></a></div></div><div class="rightSection_LCNx"><div class="footerSection_l31a"><h5>Documentation</h5><ul><li><a href="/weaviate">Weaviate Database</a></li><li><a href="/deploy">Deployment documentation</a></li><li><a href="/cloud">Weaviate Cloud</a></li><li><a href="/agents">Weaviate Agents</a></li></ul></div><div class="footerSection_l31a"><h5>Support</h5><ul><li><a href="https://forum.weaviate.io/c/support/" target="_blank" rel="noopener noreferrer">Forum</a></li><li><a href="https://weaviate.io/slack" target="_blank" rel="noopener noreferrer">Slack</a></li></ul></div></div></div></div></footer></footer></article></div></div><div class="col col--3"><div class="customTocStickyContainer_xbxO"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-weaviate--importing-data" class="table-of-contents__link toc-highlight">Setting Up Weaviate &amp; Importing Data</a><ul><li><a href="#create-a-new-collection" class="table-of-contents__link toc-highlight">Create a New Collection</a></li></ul></li><li><a href="#create-a-personalization-agent" class="table-of-contents__link toc-highlight">Create a Personalization Agent</a><ul><li><a href="#adding-new-personas" class="table-of-contents__link toc-highlight">Adding New Personas</a></li><li><a href="#adding-interactions" class="table-of-contents__link toc-highlight">Adding Interactions</a></li></ul></li><li><a href="#get-recommendations-and-rationale" class="table-of-contents__link toc-highlight">Get Recommendations and Rationale</a><ul><li><a href="#get-recommendations-with-an-instruction" class="table-of-contents__link toc-highlight">Get Recommendations with an Instruction</a></li></ul></li></ul></div><div class="container_jpeN"><p class="text_tGp7">Was this page helpful?</p><div class="buttonContainer_rFWk"><button class="voteButton_HXmX undefined" aria-label="Vote up"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 10v12"></path><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"></path></svg>Yes</button><button class="voteButton_HXmX undefined" aria-label="Vote down"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 14V2"></path><path d="M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z"></path></svg>No</button></div></div></div><div class="feedbackWrapper_JTi0"></div></div></div></div></main></div></div></div></div>
</body>
</html>