# Source: https://dev.writer.com/no-code/chat.md

# Chat

Agents with the chat capability can answer questions with tailored responses based on topics, personas, or data. You can connect the chat agent to a [Knowledge Graph](/home/knowledge-graph-concepts) to answer questions about your company's data.

<img src="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/chat-agent.png?fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=dd6e7a64209642c722447513842150ce" alt="Agent with chat capabilities" data-og-width="3824" width="3824" data-og-height="1786" height="1786" data-path="images/no-code/chat-agent.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/chat-agent.png?w=280&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=7152b450a82ff80355b4436d803bd74c 280w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/chat-agent.png?w=560&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=133d286a08de6406d928164183ebfff2 560w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/chat-agent.png?w=840&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=368001498bb2529fe756f93969038c4e 840w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/chat-agent.png?w=1100&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=67e6153a01fe54e2c024b66094c3ceff 1100w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/chat-agent.png?w=1650&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=7bd060062b3fcc9709f0fcdcc4229e3d 1650w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/chat-agent.png?w=2500&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=d955f105310d535a14e78d6a1936a5d5 2500w" />

## Building an agent with chat

To build an agent with chat capabilities, choose the **Chat** option after clicking **Build an agent** in AI Studio.

<img src="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/build-options.png?fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=9bdf96574dc8e8ab1e5158413be185ca" alt="Create an agent with chat" data-og-width="1878" width="1878" data-og-height="592" height="592" data-path="images/no-code/build-options.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/build-options.png?w=280&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=b1ba2b86382f9b244000952189cd014d 280w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/build-options.png?w=560&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=53778a4f5ea5c73d98b43cc53abaaf6e 560w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/build-options.png?w=840&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=47a4237fe493a14fc5dc34168a98bd5d 840w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/build-options.png?w=1100&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=95ff0f843e6c66af1d23d368748ba31d 1100w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/build-options.png?w=1650&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=abe733b6d7166c4e4e83c800cd8ff93e 1650w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/build-options.png?w=2500&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=fc920731bb83d3c85cb56eb139566be4 2500w" />

## Write a welcome message

Next, create a welcome message. A welcome message is the first message your users see. Greet them, tell them how to use the chat, and include any special instructions or anything else they should know.

<img src="https://mintcdn.com/writer/kYaX1Myslb-BtXRR/images/no-code/welcome-message.png?fit=max&auto=format&n=kYaX1Myslb-BtXRR&q=85&s=c27cb7078cfe59a2f7307bfce2c5867c" alt="welcome-message" data-og-width="1812" width="1812" data-og-height="576" height="576" data-path="images/no-code/welcome-message.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/kYaX1Myslb-BtXRR/images/no-code/welcome-message.png?w=280&fit=max&auto=format&n=kYaX1Myslb-BtXRR&q=85&s=e26a45252ac446a2c2186693b59ff434 280w, https://mintcdn.com/writer/kYaX1Myslb-BtXRR/images/no-code/welcome-message.png?w=560&fit=max&auto=format&n=kYaX1Myslb-BtXRR&q=85&s=2aca5621d59a451bdcda91d0ec78103c 560w, https://mintcdn.com/writer/kYaX1Myslb-BtXRR/images/no-code/welcome-message.png?w=840&fit=max&auto=format&n=kYaX1Myslb-BtXRR&q=85&s=77912cf96d51331566b6aa1f72bed41c 840w, https://mintcdn.com/writer/kYaX1Myslb-BtXRR/images/no-code/welcome-message.png?w=1100&fit=max&auto=format&n=kYaX1Myslb-BtXRR&q=85&s=3925ee352a08195d46900ce547c928de 1100w, https://mintcdn.com/writer/kYaX1Myslb-BtXRR/images/no-code/welcome-message.png?w=1650&fit=max&auto=format&n=kYaX1Myslb-BtXRR&q=85&s=dd1b60b8d39708e01ed5be8b5881abd3 1650w, https://mintcdn.com/writer/kYaX1Myslb-BtXRR/images/no-code/welcome-message.png?w=2500&fit=max&auto=format&n=kYaX1Myslb-BtXRR&q=85&s=82fbe5453c168f620ed947863dbfe7f7 2500w" />

## Create an avatar

Choose an avatar for your chat. This can be your company logo or any other image you prefer.

<img src="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/creating-avatar.png?fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=afb9bc6ba3ba270180bb945f97734ebb" alt="Creating a chat avatar" data-og-width="1844" width="1844" data-og-height="388" height="388" data-path="images/no-code/creating-avatar.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/creating-avatar.png?w=280&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=bf13cca54b65259981d3c53104542c26 280w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/creating-avatar.png?w=560&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=7baaedda452777bc46f927c9f91db3c1 560w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/creating-avatar.png?w=840&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=5e867f9bf6a9fa6ad757768c572e350f 840w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/creating-avatar.png?w=1100&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=c2e10446467cd693981fceb352197c60 1100w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/creating-avatar.png?w=1650&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=4a0ebd831fe330f026e417f65cb2a674 1650w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/creating-avatar.png?w=2500&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=1021ea4cd73b95a27a51c0dff88df968 2500w" />

<Info> Currently only .svg files are supported.</Info>

## Choose a mode

To choose the right mode for your chat, decide how your users should interact with the agent. If you want users to ask general questions, choose the **General chat mode**. If you want users to ask specific questions about your company's data, choose the **Knowledge Graph mode**. If you want users to ask questions about specific documents they provide, choose the **Document mode**. You can also select multiple modes for your agent.

<Tip>
  [Knowledge Graph](https://support.writer.com/category/241-knowledge-graph) lets you ask questions about your company's data and get reliable, accurate answers. It uses multiple internal sources, making it easy to find information even if you're not sure where it's stored. Read more [here](https://support.writer.com/article/244-how-to-use-knowledge-graph).
</Tip>

The following modes are available:

* **General chat mode**: Use this mode to ideate or create content
* **Knowledge Graph mode**: Use this mode to get answers from your company's data stored in a [Knowledge Graph](/home/knowledge-graph-concepts). Before you can use Knowledge Graph mode, you need to [set up a Knowledge Graph](https://support.writer.com/article/242-how-to-create-and-manage-a-knowledge-graph) with all the relevant information for your use case. For more granular control over how the agent answers questions using Knowledge Graph, see [Configure Knowledge Graph settings](#configure-knowledge-graph-settings).
* **Document mode**: Use this mode to answer questions about specific documents users provide. You can specify the number, types, and sources of documents you want to allow users to upload. You can also choose to allow users to add URLs or copy and paste text.

<img src="https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/choosing-mode.png?fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=252a1dac0983b71f095f04ba3a74d227" alt="Choosing a mode for your agent with chat capabilities" data-og-width="914" width="914" data-og-height="708" height="708" data-path="images/no-code/choosing-mode.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/choosing-mode.png?w=280&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=2672b4e9fe3e2a90800b608b38e013cd 280w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/choosing-mode.png?w=560&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=190d6b90a5078691c03d2c21f3af7814 560w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/choosing-mode.png?w=840&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=0314d9c2fa8be3fa3d286d98083c74de 840w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/choosing-mode.png?w=1100&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=5193841673a05ed2c0ec3e0bfb353b18 1100w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/choosing-mode.png?w=1650&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=e961aee1d6850cf6bc56d14c90359dd2 1650w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/choosing-mode.png?w=2500&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=9fc9c1c9ca3de829cedb88000425ab64 2500w" />

## Provide instructions

All of the modes allow you to provide instructions. Instructions are the system messages that reach the LLM to provide context or structure around how your chat responds to requests.

<img src="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/mode-instructions.png?fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=970b91b89b3b4dd53d191ec29e3f98e3" alt="Providing instructions" data-og-width="1778" width="1778" data-og-height="1206" height="1206" data-path="images/no-code/mode-instructions.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/mode-instructions.png?w=280&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=9ed19e36af83a8261b48eeb614372a20 280w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/mode-instructions.png?w=560&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=834b105aefeac298d6054012a028e2ca 560w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/mode-instructions.png?w=840&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=45a3d2f57ee558b11117a5d280e22d81 840w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/mode-instructions.png?w=1100&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=aefe75e54573aa7e0120de4ad6b88e7f 1100w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/mode-instructions.png?w=1650&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=1cef1ed5b2e6e35221f85452210c2448 1650w, https://mintcdn.com/writer/EtzIGhya5-RmdX2Q/images/no-code/mode-instructions.png?w=2500&fit=max&auto=format&n=EtzIGhya5-RmdX2Q&q=85&s=63e3f887669dba42398136bad30e5228 2500w" />

For example, you can use instructions to:

1. Request answers in a specific language by providing examples.
2. Patch stale data in your Knowledge Graph that's hard to retrieve by providing additional information.
3. Provide context about the users and how to address them.
4. Set limits on the topics that the agent can answer.

Your instructions tell the LLM what answers to generate and how to format them.

## Configure Knowledge Graph settings

When you enable Knowledge Graph mode for a chat agent, you can access advanced configuration options to fine-tune how the agent searches, ranks, and retrieves content from your Knowledge Graph. These settings control the balance between keyword and semantic search, how closely responses match source material, relevance thresholds, and response length.

<img src="https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/kg-no-code.png?fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=2a55829df4d038cbc422a4b520da5b0b" alt="Knowledge Graph configuration interface" data-og-width="1560" width="1560" data-og-height="764" height="764" data-path="images/no-code/kg-no-code.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/kg-no-code.png?w=280&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=bd1998c744b96df210fff60d264611f3 280w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/kg-no-code.png?w=560&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=91e5349eb7ab8ba1b7dbfbf3928ad4df 560w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/kg-no-code.png?w=840&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=bd44cf5267a6852066c4dbc51c3d8be5 840w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/kg-no-code.png?w=1100&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=04379684d3c2ac5697ce58009bb0ad34 1100w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/kg-no-code.png?w=1650&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=f127f72d42a4d1125558b474975b2a8b 1650w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/kg-no-code.png?w=2500&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=ead79cb4946260c95bb3ac4ff203dcf5 2500w" />

### Access configuration options

To configure Knowledge Graph settings for your chat agent:

1. **Enable Knowledge Graph mode**: In your chat agent configuration, turn on the **Knowledge Graph mode** toggle
2. **Open configuration**: Click the configuration slider in the top right corner of the Knowledge Graph mode box when Knowledge Graph mode is enabled
3. **Adjust settings**: Use the sliders and options in the configuration panel to customize behavior

<img src="https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/graph-config-options-no-code.png?fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=bac25c2c6e3d3b7194aaa270f620d16d" alt="Graph configuration options" data-og-width="976" width="976" data-og-height="1288" height="1288" data-path="images/no-code/graph-config-options-no-code.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/graph-config-options-no-code.png?w=280&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=8db568ea8e402fc2e6d0fb7b0c91179f 280w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/graph-config-options-no-code.png?w=560&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=9fe4f4791e669f820e174040002203f4 560w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/graph-config-options-no-code.png?w=840&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=db39cfe71c01bdc629dd969fd7c3dc23 840w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/graph-config-options-no-code.png?w=1100&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=35dae71cf76ca04c8972bc30ad171529 1100w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/graph-config-options-no-code.png?w=1650&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=f8df7a50d7f6e8df97efec0a9858e4c9 1650w, https://mintcdn.com/writer/waJFJl0MO6g0ca1B/images/no-code/graph-config-options-no-code.png?w=2500&fit=max&auto=format&n=waJFJl0MO6g0ca1B&q=85&s=712104ea1921630216c173d2786cebb3 2500w" />

### Configuration parameters

#### Grounding level

Controls how closely responses must match source material. This setting determines how much creative interpretation the AI can apply to Knowledge Graph content.

**How it works**:

* **Lower values (closer to 0)**: Grounded outputs - stick closely to source material with minimal creativity
* **Higher values (closer to 1)**: Higher creativity - allow more creative interpretation of source material

**Examples**:

* `0.0`: "According to the documentation, the API supports JSON responses" (direct quote/paraphrase)
* `0.5`: "The API documentation indicates that JSON responses are supported, which suggests additional capabilities" (interpretive)
* `1.0`: "Based on the available information, users can expect JSON responses, though other formats might be possible" (highly interpretive)

**When to adjust**:

* **Increase** for higher creativity when you want more interpretive responses
* **Decrease** for grounded outputs when factual reporting or accuracy is critical

#### Top-k

Controls the balance between keyword and semantic search in ranking results. This parameter determines how the system prioritizes different types of matching.

**How it works**:

* **Higher values (closer to 100)**: Prioritize keyword-based matching
* **Lower values (closer to 0)**: Prioritize semantic similarity matching

**When to adjust**:

* **Increase** for searches where exact keyword matches matter most
* **Decrease** for searches where conceptual similarity is more important

#### Max tokens

Maximum number of tokens the model can generate in the response. This controls the length of the AI's answer.

**How it works**:

* **Higher values**: Allow longer, more detailed responses
* **Lower values**: Generate shorter, more concise responses

**When to adjust**:

* **Increase** for detailed analysis or comprehensive answers
* **Decrease** for quick summaries or when you need faster responses

#### Sub-question count

Maximum number of sub-questions to generate when processing complex queries. Higher values allow the system to break down complex questions into more detailed sub-queries.

**How it works**:

* **Higher values**: Improve detail by generating more sub-questions for thorough analysis
* **Lower values**: Reduce response time by generating fewer sub-questions

**When to adjust**:

* **Increase** for complex, multi-part questions that need thorough analysis
* **Decrease** for simple, direct questions to reduce processing time

#### Weight distribution

Controls how many text snippets to retrieve from the Knowledge Graph for context. This works together with the Top-k setting to control best matches vs broader coverage.

**How it works**:

* **Lower values (5-15)**: Best matches - retrieve fewer, more relevant snippets
* **Higher values (15-25)**: Broader coverage - retrieve more snippets for comprehensive context
* **Values below 5**: May return no results due to RAG implementation limitations

**Important notes**:

* **Recommended range**: 5-25 (default is 30, which is higher than recommended)
* Due to RAG system behavior, you may see more snippets than requested

**When to adjust**:

* **Increase** for broader coverage when you need comprehensive research or more context
* **Decrease** for best matches when you want focused queries or concise results

### Common configuration patterns

The default configuration for Knowledge Graph mode handles most use cases. You can adjust the configuration to your specific needs. Below are some common configuration patterns for different use cases.

#### Research and analysis

Use this configuration for comprehensive research tasks where you need thorough analysis. Higher sub-questions and broader coverage provide more context.

**Settings**:

* **Grounding level**: 0.1 (very grounded)
* **Top-k**: 60 (balanced search)
* **Max tokens**: 7000 (detailed responses)
* **Sub-question count**: 8 (thorough analysis)
* **Weight distribution**: 25 (broad coverage)

#### Quick answers

Use this configuration for fast, focused responses where speed and precision matter more than comprehensive analysis.

**Settings**:

* **Grounding level**: 0.0 (completely grounded)
* **Top-k**: 80 (keyword-focused)
* **Max tokens**: 2000 (concise responses)
* **Sub-question count**: 3 (quick processing)
* **Weight distribution**: 15 (focused results)

#### Creative content generation

Use this configuration when you want the AI to interpret and build upon source material creatively.

**Settings**:

* **Grounding level**: 0.6 (interpretive)
* **Top-k**: 40 (semantic-focused)
* **Max tokens**: 5000 (moderate length)
* **Sub-question count**: 6 (balanced analysis)
* **Weight distribution**: 30 (comprehensive context)

### How parameters work together

Some parameters interact in ways that affect both results and performance:

* **Weight distribution and Top-k**: Work together to control best matches vs broader coverage
* **Weight distribution and Max tokens**: Weight distribution controls input context size, while Max tokens controls output response length
* **Grounding level and Sub-question count**: Both affect how thoroughly the system processes queries

### Performance considerations

* **Higher Max tokens**: Increases processing time and cost
* **Higher Sub-question count**: Increases processing time for complex queries
* **Lower Weight distribution**: May return fewer results but with higher relevance
* **Higher Grounding level**: May require more processing to balance creativity with accuracy

### Best practices

1. **Start with defaults**: Begin with the default configuration and adjust based on your specific needs
2. **Test incrementally**: Change one parameter at a time to understand its effect
3. **Consider your use case**: Different applications, like research, Q\&A, and content generation, benefit from different configurations
4. **Monitor performance**: Track how different configurations affect response quality and processing time
5. **Balance precision and recall**: Higher Top-k values give more precise results but may miss relevant content

### Apply default settings

If you've made changes and want to return to the recommended default configuration, click **Apply default settings** in the configuration panel. This resets all parameters to their optimal values for general Knowledge Graph queries.
